{"version":3,"sources":["../node_modules/gsap/gsap-core.js","../node_modules/gsap/CSSPlugin.js","../node_modules/gsap/index.js","../node_modules/gsap/utils/matrix.js","../node_modules/gsap/Draggable.js","../node_modules/gsap/utils/VelocityTracker.js","../node_modules/gsap/InertiaPlugin.js","../node_modules/three/build/three.module.js","../node_modules/three/examples/jsm/loaders/GLTFLoader.js","utils/MathUtils.ts","ui/MeshStandardMaterialParallax.ts","ui/ThreeView.ts","index.ts","../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","__proto__","_config","autoSleep","force3D","nullTargetWarn","units","lineHeight","_defaults","duration","overwrite","delay","_suppressOverwrites","_bigNum","_tinyNum","_2PI","Math","PI","_HALF_PI","_gsID","_sqrt","sqrt","_cos","cos","_sin","sin","_isString","value","_isFunction","_isNumber","_isUndefined","_isObject","_isNotFalse","_windowExists","window","_isFuncOrString","_isTypedArray","ArrayBuffer","isView","_isArray","Array","isArray","_strictNumExp","_numExp","_numWithUnitExp","_complexStringNumExp","_relExp","_delimitedValueExp","_unitExp","_globalTimeline","_win","_coreInitted","_doc","_globals","_installScope","_coreReady","_install","scope","_merge","gsap","_missingPlugin","property","console","warn","_warn","message","suppress","_addGlobal","name","obj","_emptyFunc","_reservedProps","_lazyTweens","_lazyLookup","_lastRenderedFrame","_plugins","_effects","_nextGCFrame","_harnessPlugins","_callbackNames","_harness","targets","target","harnessPlugin","i","_gsap","harness","length","targetTest","GSCache","splice","_getCache","toArray","_getProperty","v","getAttribute","_forEachName","names","func","split","forEach","_round","round","_arrayContainsAny","toSearch","toFind","l","indexOf","_lazyRender","a","slice","tween","_lazy","render","_lazySafeRender","animation","time","suppressEvents","force","_numericIfPossible","n","parseFloat","match","trim","_passThrough","p","_setDefaults","defaults","_setKeyframeDefaults","base","toMerge","_mergeDeep","_copyExcluding","excluding","copy","_inheritDefaults","vars","parent","keyframes","inherit","_dp","_arraysMatch","a1","a2","_addLinkedListItem","child","firstProp","lastProp","sortBy","prev","t","_prev","_next","_removeLinkedListItem","next","_removeFromParent","onlyIfParentHasAutoRemove","autoRemoveChildren","remove","_act","_uncache","_end","_dur","_start","_dirty","_recacheAncestors","totalDuration","_hasNoPausedAncestors","_ts","_elapsedCycleDuration","_repeat","_animationCycle","_tTime","_rDelay","tTime","cycleDuration","whole","floor","_parentToChildTotalTime","parentTime","_tDur","_setEnd","abs","_rts","_alignPlayhead","totalTime","smoothChildTiming","_time","_postAddChecks","timeline","_initted","rawTime","_clamp","_zTime","_addToTimeline","position","skipChecks","_parsePosition","_delay","timeScale","_sort","_isFromOrFromStart","_recent","_scrollTrigger","trigger","ScrollTrigger","_attemptInitTween","_initTween","_pt","lazy","_ticker","frame","push","_parentPlayheadIsBeforeStart","_ref","_lock","_ref2","data","_renderZeroDurationTween","prevRatio","ratio","repeatDelay","pt","iteration","prevIteration","_yoyo","repeatRefresh","invalidate","_from","r","d","_startAt","_onUpdate","_callback","_prom","_findNextPauseTween","prevTime","_first","_last","_setDuration","skipUncache","leavePlayhead","repeat","dur","totalProgress","_onUpdateTotalDuration","Timeline","_zeroPosition","endTime","percentAnimation","labels","recent","clippedDuration","offset","isPercent","isNaN","charAt","substr","replace","_createTweenType","type","params","isLegacy","varsIndex","irVars","immediateRender","runBackwards","startAt","Tween","_conditionalReturn","min","max","getUnit","exec","index","clamp","_slice","_isArrayLike","nonEmpty","nodeType","_flatten","ar","leaveStrings","accumulator","_accumulator","apply","_wake","call","querySelectorAll","selector","el","current","nativeElement","createElement","shuffle","sort","random","distribute","each","ease","_parseEase","from","cache","isDecimal","ratios","axis","ratioX","ratioY","center","edges","end","distances","originX","originY","x","y","j","wrapAt","grid","getBoundingClientRect","left","amount","b","u","_invertEase","_roundModifier","pow","raw","snap","snapTo","radius","is2D","values","increment","closest","dx","dy","roundingIncrement","returnFunction","pipe","_len","arguments","functions","_key","reduce","f","unitize","unit","normalize","mapRange","_wrapArray","wrapper","wrap","range","wrapYoyo","total","_replaceRandom","s","nums","inMin","inMax","outMin","outMax","inRange","outRange","interpolate","start","progress","mutate","isString","master","interpolators","il","_addPropTween","_renderPropTweens","_getLabelInDirection","fromTime","backward","distance","label","executeLazyFirst","callback","callbackScope","_interrupt","scrollTrigger","kill","_quickTween","_createPlugin","config","isFunc","Plugin","init","_props","instanceDefaults","add","_killPropTweensOf","modifier","_addPluginModifier","rawVars","statics","get","getSetter","_getSetter","aliases","register","prop","toUpperCase","PropTween","_255","_colorLookup","aqua","lime","silver","black","maroon","teal","blue","navy","white","olive","yellow","orange","gray","purple","green","red","pink","cyan","transparent","_hue","h","m1","m2","splitColor","toHSL","forceAlpha","g","wasHSL","parseInt","map","Number","_colorOrderData","c","_colorExp","_formatColors","orderMatchData","result","colors","shell","color","join","shift","RegExp","_hslExp","_colorStringFilter","combined","lastIndex","test","_tickerActive","_getTime","Date","now","_lagThreshold","_adjustedLag","_startTime","_lastUpdate","_gap","_nextTime","_listeners","_id","_req","_raf","_self","_delta","_i","_tick","elapsed","manual","overlap","dispatch","tick","deltaRatio","fps","wake","document","gsapVersions","version","GreenSockGlobals","requestAnimationFrame","sleep","setTimeout","cancelAnimationFrame","clearTimeout","lagSmoothing","threshold","adjustedLag","_fps","_easeMap","_customEaseExp","_quotesExp","_parseObjectInString","key","val","parsedVal","lastIndexOf","_valueInParentheses","open","close","nested","substring","_configEaseFromString","_CE","_propagateYoyoEase","isYoyo","yoyoEase","_ease","_yEase","defaultEase","_insertEase","easeIn","easeOut","easeInOut","lowercaseName","toLowerCase","_easeInOutFromOut","_configElastic","amplitude","period","p1","p2","p3","asin","_configBack","overshoot","power","Linear","easeNone","none","n1","n2","n3","SteppedEase","steps","immediateStart","id","set","Animation","Infinity","yoyo","_proto","startTime","_totalTime","_ptLookup","_pTime","_ps","paused","includeRepeats","wrapRepeats","globalTime","seek","restart","includeDelay","play","reversed","reverse","pause","atTime","resume","isActive","eventCallback","then","onFulfilled","Promise","resolve","_resolve","_then","_Animation","_this","sortChildren","_proto2","to","fromTo","fromVars","toVars","delayedCall","staggerTo","stagger","onCompleteAll","onCompleteAllParams","onComplete","onCompleteParams","staggerFrom","staggerFromTo","tDur","crossingStart","prevPaused","pauseTween","prevStart","rewinding","doesWrap","onRepeat","_hasPause","_forcing","onUpdate","adjustedTime","_this2","addLabel","getChildren","tweens","timelines","ignoreBeforeTime","getById","animations","removeLabel","killTweensOf","_totalTime2","addPause","removePause","props","onlyActive","getTweensOf","_overwritingTween","parsedTargets","isGlobalTime","children","_targets","tweenTo","tl","_vars","_onStart","onStart","onStartParams","initted","tweenFromTo","fromPosition","toPosition","nextLabel","afterTime","previousLabel","beforeTime","currentLabel","shiftChildren","adjustLabels","clear","includeLabels","updateRoot","_addComplexStringPropTween","setter","stringFilter","funcParam","_renderComplexString","matchIndex","startNums","endNum","chunk","startNum","hasRandom","e","m","fp","currentValue","parsedStart","_setterPlain","_setterFuncWithParam","_setterFunc","_renderBoolean","_renderPlain","_processVars","_parseFuncOrString","style","_checkPlugin","plugin","ptLookup","priority","onUpdateParams","autoRevert","prevStartAt","fullTargets","autoOverwrite","_overwrite","cleanVars","hasPriority","gsData","harnessVars","overwritten","_op","_sortPropTweensByPriority","_onInit","_addAliasesToVars","propertyAliases","_staggerTweenProps","_staggerPropsToSkip","_Animation2","skipInherit","_this3","_this3$vars","curTarget","staggerFunc","staggerVarsToMerge","_proto3","killingTargets","propTweenLookup","firstPT","overwrittenProps","curLookup","curOverwriteProps","onReverseComplete","onReverseCompleteParams","_setterAttribute","setAttribute","hasNonDependentRemaining","op","dep","_setterWithModifier","mSet","mt","pt2","first","last","pr","change","renderer","_proto4","TweenMax","TweenLite","TimelineLite","TimelineMax","registerPlugin","_len2","args","_key2","getProperty","uncache","getter","format","quickSetter","setters","isTweening","registerEffect","_ref3","effect","plugins","extendTimeline","pluginName","registerEase","parseEase","exportRoot","includeDelayedCalls","utils","install","effects","ticker","globalTimeline","core","globals","getCache","suppressOverwrites","_getPluginPropTween","_addModifiers","modifiers","_buildModifierPlugin","temp","Power0","Power1","Power2","Power3","Power4","Quad","Cubic","Quart","Quint","Strong","Elastic","Back","Bounce","Sine","Expo","Circ","_docElement","_pluginInitted","_tempDiv","_tempDivStyler","_recentSetterPlugin","_transformProps","_RAD2DEG","_DEG2RAD","_atan2","atan2","_capsExp","_horizontalExp","_complexExp","_propertyAliases","autoAlpha","scale","alpha","_renderCSSProp","_renderPropWithEnd","_renderCSSPropWithBeginning","_renderRoundedCSSProp","_renderNonTweeningValue","_renderNonTweeningValueOnlyAtEnd","_setterCSSStyle","_setterCSSProp","setProperty","_setterTransform","_setterScale","scaleX","scaleY","_setterScaleWithRender","renderTransform","_setterTransformWithRender","_transformProp","_transformOriginProp","_supports3D","_createElement","ns","createElementNS","_getComputedProperty","skipPrefixFallback","cs","getComputedStyle","getPropertyValue","_checkPropPrefix","_prefixes","element","preferPrefix","_initCore","documentElement","cssText","_getBBoxHack","swapIfPossible","svg","ownerSVGElement","oldParent","parentNode","oldSibling","nextSibling","oldCSS","bbox","appendChild","display","getBBox","_gsapBBox","insertBefore","removeChild","_getAttributeFallbacks","attributesArray","hasAttribute","_getBBox","bounds","error","width","height","_isSVG","getCTM","_removeProperty","removeProperty","removeAttribute","_addNonTweeningPT","beginning","onlySetAtEnd","_nonConvertibleUnits","deg","rad","turn","_convertToUnit","curValue","curUnit","horizontal","isRootSVG","tagName","measureProperty","toPixels","toPercent","px","isSVG","body","_get","_parseTransform","origin","_firstTwoOnly","zOrigin","_specialProps","_tweenComplexCSSString","startValues","startValue","endValue","endUnit","startUnit","relative","endValues","_keywordToPercent","top","bottom","right","_convertKeywordsToPercentages","_renderClearProps","clearTransforms","clearProps","_identity2DMatrix","_rotationalProperties","_isNullTransform","_getComputedTransformMatrixAsArray","matrixString","_getMatrix","force2D","matrix","addedToDOM","transform","baseVal","consolidate","offsetParent","_applySVGOrigin","originIsAbsolute","smooth","matrixArray","pluginToAddPropTweensTo","xOriginOld","xOrigin","yOriginOld","yOrigin","xOffsetOld","xOffset","yOffsetOld","yOffset","tx","ty","originSplit","determinant","invertedScaleX","z","rotation","rotationX","rotationY","skewX","skewY","perspective","angle","a12","a22","t1","t2","t3","a13","a23","a33","a42","a43","a32","forceCSS","xPercent","offsetWidth","yPercent","offsetHeight","transformPerspective","_renderSVGTransforms","_renderCSSTransforms","_renderNon3DTransforms","_addPxTranslate","_zeroDeg","_zeroPx","_endParenthesis","transforms","use3D","a11","a21","tan","_addRotationalPropTween","cap","finalValue","direction","_assign","source","_addRawTransformPTs","startCache","exclude","endCache","side","CSSPlugin","specialProp","isTransformRelated","transformPropTween","parseTransform","smoothOrigin","autoRound","checkPrefix","positionAndScale","others","all","gsapWithCSS","TweenMaxWithCSS","_body","_divContainer","_svgContainer","_identityMatrix","_hasOffsetBug","_setDoc","doc","ownerDocument","Matrix2D","d1","d2","_forceNonZeroScale","_svgTemps","_divTemps","_getDocScrollTop","pageYOffset","scrollTop","_getDocScrollLeft","pageXOffset","scrollLeft","_svgOwner","_isFixed","_createSibling","css","_consolidate","numberOfItems","multiply","getItem","_placeSiblings","adjustGOffset","siblings","container","offsetLeft","offsetTop","_setMatrix","inverse","b2","c2","e2","f2","clone","equals","point","decoratee","getGlobalMatrix","includeScrollInFixed","zeroScales","temps","b1","b3","isFixed","_placeholderDiv","_checkPrefix","_toArray","_supportsPassive","_isTouchDevice","_touchEventLookup","_dragCount","_isMultiTouching","_isAndroid","InertiaPlugin","_defaultCursor","_supportsPointer","_getGSAP","getTime","_renderQueue","_lookup","_lookupCount","_clickableTagExp","_lastDragTime","_temp1","_windowProxy","_copy","factor","_extend","_setTouchActionForAllDescendants","elements","touchAction","_renderQueueTick","_addToRenderQueue","_renderQueueTimeout","_removeFromRenderQueue","_addListener","capture","addEventListener","touchType","passive","_removeListener","removeEventListener","_preventDefault","event","preventDefault","preventManipulation","_hasTouchID","list","ID","identifier","_onMultiTouchDocumentEnd","touches","_onMultiTouchDocument","_addScrollListener","_isRoot","_removeScrollListener","_getMaxScroll","dim","scroll","client","_recordMaxScrolls","skipCurrent","_gsMaxScrollX","_gsMaxScrollY","_gsScrollX","_gsScrollY","_setStyle","_getComputedStyle","Element","host","_tempRect","_parseRect","clientWidth","innerWidth","innerHeight","clientHeight","pageX","pageY","_dispatchEvent","callbackName","listeners","pointerEvent","dispatchEvent","_getBounds","context","minX","minRotation","minY","maxX","maxRotation","maxY","_getElementBounds","_point1","p4","contextParent","viewBox","boxSizing","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","_parseInertia","draggable","forceZeroVelocity","velocity","_isClickable","onclick","nodeName","_setSelectable","selectable","ondragstart","onselectstart","userSelect","_addPaddingBR","ScrollProxy","content","node","firstChild","prevTop","prevLeft","scrollWidth","scrollHeight","extraPadRight","maxLeft","maxTop","elementWidth","elementHeight","contentHeight","nextNode","transformStart","transformEnd","dif","oldOffset","onKill","_skip","paddingRight","maxScrollTop","maxScrollLeft","disable","enable","calibrate","widthMatches","paddingLeft","overflow","verticalAlign","paddingBottom","required","nav","navigator","PointerEvent","cursor","userAgent","MaxTouchPoints","msMaxTouchPoints","div","childStyle","innerHTML","types","standard","converted","defineProperty","isPressed","endDrag","inertia","EventDispatcher","Draggable","_EventDispatcher","dragResistance","edgeResistance","lockAxis","autoScroll","lockedAxis","allowEventDefault","xyMode","rotationMode","xProp","yProp","allowX","allowY","minimumMovement","triggers","handle","killProps","dragEndTime","checkAutoScrollBounds","autoScrollMarginTop","autoScrollMarginRight","autoScrollMarginBottom","autoScrollMarginLeft","isClickable","clickableTest","clickTime","gsCache","getPropAsNum","ownerDoc","enabled","scrollProxy","startPointerX","startPointerY","startElementX","startElementY","hasBounds","hasDragCallback","hasMoveCallback","touch","touchID","rotationOrigin","dirty","old","snapX","snapY","snapXY","isClicking","touchEventTarget","interrupted","allowNativeTouchScrolling","touchDragAxis","isDispatching","clickDispatch","trustedClickDispatch","isPreventingDefault","onContextMenu","stopImmediatePropagation","isDragging","autoScrollFactor","isRoot","rect","pointerX","pointerY","changeX","changeY","gap","scrollTo","setPointerPosition","deltaX","deltaY","syncXY","skipOnUpdate","skipSnap","snappedValue","isThrowing","buildSnapFunc","edgeTolerance","absDif","buildPointSnapFunc","minDist","dist","calculateBounds","targetBounds","snapIsRaw","liveSnap","points","onThrowComplete","onThrowInterrupt","animate","overshootTolerance","resistance","throwResistance","linkedProps","minDuration","maxDuration","onInterrupt","fastMode","endX","endY","endRotation","applyBounds","updateMatrix","shiftStart","recordStartPositions","offsetX","offsetY","parsedOrigin","startX","startY","removePlaceholder","onPress","currentTarget","onRelease","onMove","dragClickables","allowContextMenu","ctrlKey","which","changedTouches","pointerId","zIndexBoost","zIndex","onDrag","drag","move","activeCursor","originalEvent","lockAxisOnTouchScroll","onLockAxis","cancelable","invokeOnMove","dragTolerance","prevPointerX","prevPointerY","prevStartElementY","prevX","prevY","prevEndX","prevEndY","prevEndRotation","prevDirty","xChange","yChange","wasDragging","isContextMenuRelease","placeholderDelayedCall","syntheticEvent","eventTarget","syntheticClick","throwProps","defaultPrevented","click","createEvent","initMouseEvent","screenX","screenY","updateScroll","onClick","recentlyClicked","recentlyDragged","alreadyDispatched","alreadyDispatchedTrusted","trusted","isTrusted","suppressClickOnDrag","detail","localizePoint","startDrag","align","r1","r2","hitTest","timeSinceDrag","timeSinceClick","getDirection","diagonalThreshold","mode","getVelocity","newBounds","sticky","update","ignoreExternalChanges","setVars","touchCallout","track","_gsDragID","dragging","untrack","overflowY","overflowX","obj1","obj2","isOutside","area","isRatio","_getUnit","_time1","_time2","_getID","_getByTarget","_onTick","v1","v2","_types","PropTracker","rCap","VelocityTracker","skipRecentTick","rotationCap","getAll","isTracking","shallow","properties","targs","tracker","getByTarget","_power3","_checkPointRatio","_processingVars","_getTracker","_bonusValidated","_checkPoint","_deepClone","_getClosest","_parseEnd","curProp","endVar","adjustedEnd","calculated","unitFactor","_getNumOrDefault","defaultValue","_calculateChange","_calculateDuration","checkpoint","preventOvershoot","_processLinkedProps","getVal","linkedPropNames","curVelocity","curDuration","_calculateTweenDuration","recordEnd","inertiaVars","curVal","curClippedDuration","unitFactors","durIsObj","change1","change2","c1","REVISION","MOUSE","LEFT","MIDDLE","RIGHT","ROTATE","DOLLY","PAN","TOUCH","DOLLY_PAN","DOLLY_ROTATE","CullFaceNone","CullFaceBack","CullFaceFront","CullFaceFrontBack","BasicShadowMap","PCFShadowMap","PCFSoftShadowMap","VSMShadowMap","FrontSide","BackSide","DoubleSide","FlatShading","SmoothShading","NoBlending","NormalBlending","AdditiveBlending","SubtractiveBlending","MultiplyBlending","CustomBlending","AddEquation","SubtractEquation","ReverseSubtractEquation","MinEquation","MaxEquation","ZeroFactor","OneFactor","SrcColorFactor","OneMinusSrcColorFactor","SrcAlphaFactor","OneMinusSrcAlphaFactor","DstAlphaFactor","OneMinusDstAlphaFactor","DstColorFactor","OneMinusDstColorFactor","SrcAlphaSaturateFactor","NeverDepth","AlwaysDepth","LessDepth","LessEqualDepth","EqualDepth","GreaterEqualDepth","GreaterDepth","NotEqualDepth","MultiplyOperation","MixOperation","AddOperation","NoToneMapping","LinearToneMapping","ReinhardToneMapping","CineonToneMapping","ACESFilmicToneMapping","CustomToneMapping","UVMapping","CubeReflectionMapping","CubeRefractionMapping","EquirectangularReflectionMapping","EquirectangularRefractionMapping","CubeUVReflectionMapping","CubeUVRefractionMapping","RepeatWrapping","ClampToEdgeWrapping","MirroredRepeatWrapping","NearestFilter","NearestMipmapNearestFilter","NearestMipMapNearestFilter","NearestMipmapLinearFilter","NearestMipMapLinearFilter","LinearFilter","LinearMipmapNearestFilter","LinearMipMapNearestFilter","LinearMipmapLinearFilter","LinearMipMapLinearFilter","UnsignedByteType","ByteType","ShortType","UnsignedShortType","IntType","UnsignedIntType","FloatType","HalfFloatType","UnsignedShort4444Type","UnsignedShort5551Type","UnsignedShort565Type","UnsignedInt248Type","AlphaFormat","RGBFormat","RGBAFormat","LuminanceFormat","LuminanceAlphaFormat","RGBEFormat","DepthFormat","DepthStencilFormat","RedFormat","RedIntegerFormat","RGFormat","RGIntegerFormat","RGBIntegerFormat","RGBAIntegerFormat","RGB_S3TC_DXT1_Format","RGBA_S3TC_DXT1_Format","RGBA_S3TC_DXT3_Format","RGBA_S3TC_DXT5_Format","RGB_PVRTC_4BPPV1_Format","RGB_PVRTC_2BPPV1_Format","RGBA_PVRTC_4BPPV1_Format","RGBA_PVRTC_2BPPV1_Format","RGB_ETC1_Format","RGB_ETC2_Format","RGBA_ETC2_EAC_Format","RGBA_ASTC_4x4_Format","RGBA_ASTC_5x4_Format","RGBA_ASTC_5x5_Format","RGBA_ASTC_6x5_Format","RGBA_ASTC_6x6_Format","RGBA_ASTC_8x5_Format","RGBA_ASTC_8x6_Format","RGBA_ASTC_8x8_Format","RGBA_ASTC_10x5_Format","RGBA_ASTC_10x6_Format","RGBA_ASTC_10x8_Format","RGBA_ASTC_10x10_Format","RGBA_ASTC_12x10_Format","RGBA_ASTC_12x12_Format","RGBA_BPTC_Format","SRGB8_ALPHA8_ASTC_4x4_Format","SRGB8_ALPHA8_ASTC_5x4_Format","SRGB8_ALPHA8_ASTC_5x5_Format","SRGB8_ALPHA8_ASTC_6x5_Format","SRGB8_ALPHA8_ASTC_6x6_Format","SRGB8_ALPHA8_ASTC_8x5_Format","SRGB8_ALPHA8_ASTC_8x6_Format","SRGB8_ALPHA8_ASTC_8x8_Format","SRGB8_ALPHA8_ASTC_10x5_Format","SRGB8_ALPHA8_ASTC_10x6_Format","SRGB8_ALPHA8_ASTC_10x8_Format","SRGB8_ALPHA8_ASTC_10x10_Format","SRGB8_ALPHA8_ASTC_12x10_Format","SRGB8_ALPHA8_ASTC_12x12_Format","LoopOnce","LoopRepeat","LoopPingPong","InterpolateDiscrete","InterpolateLinear","InterpolateSmooth","ZeroCurvatureEnding","ZeroSlopeEnding","WrapAroundEnding","NormalAnimationBlendMode","AdditiveAnimationBlendMode","TrianglesDrawMode","TriangleStripDrawMode","TriangleFanDrawMode","LinearEncoding","sRGBEncoding","GammaEncoding","RGBEEncoding","LogLuvEncoding","RGBM7Encoding","RGBM16Encoding","RGBDEncoding","BasicDepthPacking","RGBADepthPacking","TangentSpaceNormalMap","ObjectSpaceNormalMap","ZeroStencilOp","KeepStencilOp","ReplaceStencilOp","IncrementStencilOp","DecrementStencilOp","IncrementWrapStencilOp","DecrementWrapStencilOp","InvertStencilOp","NeverStencilFunc","LessStencilFunc","EqualStencilFunc","LessEqualStencilFunc","GreaterStencilFunc","NotEqualStencilFunc","GreaterEqualStencilFunc","AlwaysStencilFunc","StaticDrawUsage","DynamicDrawUsage","StreamDrawUsage","StaticReadUsage","DynamicReadUsage","StreamReadUsage","StaticCopyUsage","DynamicCopyUsage","StreamCopyUsage","GLSL1","GLSL3","assign","listener","undefined","hasEventListener","listenerArray","array","_lut","toString","_seed","MathUtils","DEG2RAD","RAD2DEG","generateUUID","d0","d3","uuid","euclideanModulo","mapLinear","lerp","smoothstep","smootherstep","randInt","low","high","randFloat","randFloatSpread","seededRandom","degToRad","degrees","radToDeg","radians","isPowerOfTwo","ceilPowerOfTwo","ceil","log","LN2","floorPowerOfTwo","setQuaternionFromProperEuler","q","order","s2","c13","s13","c1_3","s1_3","c3_1","s3_1","Vector2","setScalar","scalar","setX","setY","setComponent","Error","getComponent","w","addVectors","addScalar","addScaledVector","sub","subVectors","subScalar","multiplyScalar","divide","divideScalar","applyMatrix3","clampScalar","minVal","maxVal","clampLength","roundToZero","negate","dot","cross","lengthSq","manhattanLength","distanceTo","distanceToSquared","manhattanDistanceTo","setLength","lerpVectors","fromArray","fromBufferAttribute","attribute","getX","getY","rotateAround","Matrix3","n11","n12","n13","n21","n22","n23","n31","n32","n33","te","identity","me","extractBasis","xAxis","yAxis","zAxis","setFromMatrix3Column","setFromMatrix4","multiplyMatrices","premultiply","ae","be","a31","b11","b12","b13","b21","b22","b23","b31","b32","b33","getInverse","throwOnDegenerate","t11","t12","t13","det","detInv","transpose","tmp","getNormalMatrix","matrix4","transposeIntoArray","setUvTransform","sx","sy","cx","cy","rotate","theta","translate","_canvas","ImageUtils","getDataURL","image","src","HTMLCanvasElement","canvas","getContext","ImageData","putImageData","drawImage","toDataURL","textureId","Texture","mapping","wrapS","wrapT","magFilter","minFilter","anisotropy","encoding","DEFAULT_IMAGE","mipmaps","DEFAULT_MAPPING","internalFormat","matrixAutoUpdate","generateMipmaps","premultiplyAlpha","flipY","unpackAlignment","isTexture","toJSON","meta","isRootObject","textures","output","metadata","generator","images","url","dispose","transformUv","uv","Vector4","setZ","setW","applyMatrix4","setAxisAngleFromQuaternion","acos","setAxisAngleFromRotationMatrix","epsilon","epsilon2","m11","m12","m13","m21","m22","m23","m31","m32","m33","xx","yy","zz","xy","xz","yz","getZ","getW","WebGLRenderTarget","options","scissor","scissorTest","viewport","texture","depthBuffer","stencilBuffer","depthTexture","isWebGLRenderTarget","setSize","WebGLMultisampleRenderTarget","samples","isWebGLMultisampleRenderTarget","Quaternion","_x","_y","_z","_w","slerp","qa","qb","qm","slerpFlat","dst","dstOffset","src0","srcOffset0","src1","srcOffset1","x0","y0","z0","w0","x1","y1","z1","w1","dir","sqrSin","EPSILON","len","tDir","multiplyQuaternionsFlat","_onChangeCallback","quaternion","setFromEuler","euler","isEuler","_order","c3","s1","s3","setFromAxisAngle","halfAngle","setFromRotationMatrix","trace","setFromUnitVectors","vFrom","vTo","EPS","angleTo","rotateTowards","step","conjugate","multiplyQuaternions","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","cosHalfTheta","sqrSinHalfTheta","sinHalfTheta","halfTheta","ratioA","ratioB","_onChange","Vector3","multiplyVectors","applyEuler","applyQuaternion","_quaternion","applyAxisAngle","applyNormalMatrix","qx","qy","qz","qw","ix","iy","iz","iw","project","camera","matrixWorldInverse","projectionMatrix","unproject","projectionMatrixInverse","matrixWorld","transformDirection","crossVectors","ax","ay","az","bx","by","bz","projectOnVector","denominator","projectOnPlane","planeNormal","_vector","reflect","normal","dz","setFromSpherical","setFromSphericalCoords","phi","sinPhiRadius","setFromCylindrical","setFromCylindricalCoords","setFromMatrixPosition","setFromMatrixScale","setFromMatrixColumn","sz","Box3","setFromArray","minZ","maxZ","setFromBufferAttribute","count","setFromPoints","makeEmpty","expandByPoint","setFromCenterAndSize","size","halfSize","_vector$1","setFromObject","object","expandByObject","box","isEmpty","getCenter","getSize","expandByVector","vector","expandByScalar","updateWorldMatrix","geometry","boundingBox","computeBoundingBox","_box","union","containsPoint","containsBox","getParameter","intersectsBox","intersectsSphere","sphere","clampPoint","intersectsPlane","plane","constant","intersectsTriangle","triangle","_center","_extents","_v0","_v1","_v2","_f0","_f1","_f2","axes","satForAxes","_triangleNormal","distanceToPoint","clampedPoint","getBoundingSphere","intersect","_points","v0","extents","_testAxis","p0","_box$1","Sphere","optionalCenter","maxRadiusSq","radiusSum","deltaLengthSq","getBoundingBox","getMaxScaleOnAxis","_vector$2","_segCenter","_segDir","_diff","_edge1","_edge2","_normal","Ray","ray","at","lookAt","recast","closestPointToPoint","directionDistance","distanceSqToPoint","distanceSqToSegment","optionalPointOnRay","optionalPointOnSegment","segExtent","a01","b0","s0","sqrDist","extDet","invDet","intersectSphere","tca","radius2","thc","t0","distanceToPlane","intersectPlane","distToPoint","intersectBox","tmin","tmax","tymin","tymax","tzmin","tzmax","invdirx","invdiry","invdirz","intersectTriangle","backfaceCulling","DdN","sign","DdQxE2","DdE1xQ","QdN","Matrix4","n14","n24","n34","n41","n42","n43","n44","copyPosition","makeBasis","extractRotation","_v1$1","scaleZ","makeRotationFromEuler","af","bf","ce","cf","de","df","ac","ad","bc","bd","makeRotationFromQuaternion","compose","_zero","_one","eye","up","a14","a24","a34","a41","a44","b14","b24","b34","b41","b42","b43","b44","setPosition","isVector3","t14","scaleXSq","scaleYSq","scaleZSq","makeTranslation","makeRotationX","makeRotationY","makeRotationZ","makeRotationAxis","makeScale","makeShear","x2","y2","z2","wx","wy","wz","decompose","_m1","invSX","invSY","invSZ","makePerspective","near","far","makeOrthographic","Euler","DefaultOrder","setFromQuaternion","_matrix","setFromVector3","reorder","newOrder","_quaternion$1","toVector3","optionalResult","RotationOrders","Layers","mask","channel","enableAll","toggle","disableAll","layers","_object3DId","_v1$2","_q1","_m1$1","_target","_position","_scale","_quaternion$2","_xAxis","_yAxis","_zAxis","_addedEvent","_removedEvent","Object3D","DefaultUp","onRotationChange","onQuaternionChange","defineProperties","configurable","enumerable","modelViewMatrix","normalMatrix","DefaultMatrixAutoUpdate","matrixWorldNeedsUpdate","visible","castShadow","receiveShadow","frustumCulled","renderOrder","userData","isObject3D","onBeforeRender","onAfterRender","setRotationFromAxisAngle","setRotationFromEuler","setRotationFromMatrix","setRotationFromQuaternion","rotateOnAxis","rotateOnWorldAxis","rotateX","rotateY","rotateZ","translateOnAxis","translateX","translateY","translateZ","localToWorld","worldToLocal","isCamera","isLight","attach","getObjectById","getObjectByProperty","getObjectByName","getWorldPosition","getWorldQuaternion","getWorldScale","getWorldDirection","raycast","traverse","traverseVisible","traverseAncestors","updateMatrixWorld","updateParents","updateChildren","geometries","materials","shapes","JSON","stringify","isInstancedMesh","instanceMatrix","serialize","library","isMesh","isLine","isPoints","parameters","shape","material","uuids","extractFromCache","recursive","parse","_vector1","_vector2","_normalMatrix","Plane","setComponents","setFromNormalAndCoplanarPoint","setFromCoplanarPoints","inverseNormalLength","distanceToSphere","projectPoint","intersectLine","line","delta","intersectsLine","startSign","endSign","coplanarPoint","optionalNormalMatrix","referencePoint","_v0$1","_v1$3","_v2$1","_v3","_vab","_vac","_vbc","_vap","_vbp","_vcp","Triangle","getNormal","targetLengthSq","getBarycoord","dot00","dot01","dot02","dot11","dot12","denom","invDenom","getUV","uv1","uv2","uv3","isFrontFacing","setFromPointsAndIndices","i0","i1","i2","getArea","getMidpoint","getPlane","d4","vc","d5","d6","vb","va","_colorKeywords","_hslA","_hslB","hue2rgb","SRGBToLinear","LinearToSRGB","Color","setRGB","isColor","setHex","setStyle","hex","setHSL","handleAlpha","string","components","setColorName","copyGammaToLinear","gammaFactor","copyLinearToGamma","safeInverse","convertGammaToLinear","convertLinearToGamma","copySRGBToLinear","copyLinearToSRGB","convertSRGBToLinear","convertLinearToSRGB","getHex","getHexString","getHSL","hue","saturation","lightness","getStyle","offsetHSL","addColors","color1","color2","lerpHSL","normalized","NAMES","Face3","materialIndex","vertexNormals","vertexColors","materialId","Material","fog","blending","flatShading","opacity","blendSrc","blendDst","blendEquation","blendSrcAlpha","blendDstAlpha","blendEquationAlpha","depthFunc","depthTest","depthWrite","stencilWriteMask","stencilFunc","stencilRef","stencilFuncMask","stencilFail","stencilZFail","stencilZPass","stencilWrite","clippingPlanes","clipIntersection","clipShadows","shadowSide","colorWrite","precision","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","dithering","alphaTest","premultipliedAlpha","toneMapped","isMaterial","onBeforeCompile","customProgramCacheKey","setValues","newValue","roughness","metalness","sheen","emissive","emissiveIntensity","specular","shininess","clearcoat","clearcoatRoughness","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","clearcoatNormalScale","matcap","alphaMap","lightMap","aoMap","aoMapIntensity","bumpMap","bumpScale","normalMap","normalMapType","normalScale","displacementMap","displacementScale","displacementBias","roughnessMap","metalnessMap","emissiveMap","specularMap","envMap","reflectivity","refractionRatio","combine","envMapIntensity","gradientMap","sizeAttenuation","linewidth","dashSize","gapSize","wireframe","wireframeLinewidth","wireframeLinecap","wireframeLinejoin","morphTargets","morphNormals","skinning","srcPlanes","dstPlanes","MeshBasicMaterial","lightMapIntensity","isMeshBasicMaterial","_vector$3","_vector2$1","BufferAttribute","itemSize","TypeError","usage","updateRange","isBufferAttribute","onUploadCallback","setUsage","copyAt","index1","index2","copyArray","copyColorsArray","copyVector2sArray","vectors","copyVector3sArray","copyVector4sArray","setXY","setXYZ","setXYZW","onUpload","Int8BufferAttribute","Int8Array","Uint8BufferAttribute","Uint8Array","Uint8ClampedBufferAttribute","Uint8ClampedArray","Int16BufferAttribute","Int16Array","Uint16BufferAttribute","Uint16Array","Int32BufferAttribute","Int32Array","Uint32BufferAttribute","Uint32Array","Float32BufferAttribute","Float32Array","Float64BufferAttribute","Float64Array","DirectGeometry","vertices","normals","uvs","uvs2","groups","skinWeights","skinIndices","boundingSphere","verticesNeedUpdate","normalsNeedUpdate","colorsNeedUpdate","uvsNeedUpdate","groupsNeedUpdate","computeGroups","group","faces","face","fromGeometry","faceVertexUvs","hasFaceVertexUv","hasFaceVertexUv2","morphTargetsLength","morphTargetsPosition","morphNormalsLength","morphTargetsNormal","hasSkinIndices","hasSkinWeights","vertexUvs","morphTarget","morphNormal","arrayMax","_bufferGeometryId","_m1$2","_obj","_offset","_box$2","_boxMorphTargets","_vector$4","BufferGeometry","attributes","morphAttributes","morphTargetsRelative","drawRange","isBufferGeometry","getIndex","setIndex","deleteAttribute","addGroup","clearGroups","setDrawRange","needsUpdate","tangent","computeBoundingSphere","positions","lineDistances","isGeometry","updateFromObject","direct","__directGeometry","elementsNeedUpdate","lineDistancesNeedUpdate","lineDistance","fromDirectGeometry","morphAttributesPosition","isGLBufferAttribute","morphAttribute","jl","computeFaceNormals","computeVertexNormals","positionAttribute","normalAttribute","pA","pB","pC","nA","nB","nC","cb","ab","vA","vB","vC","normalizeNormals","merge","attribute1","attributeArray1","attribute2","attributeArray2","attributeOffset","toNonIndexed","convertBufferAttribute","indices","array2","geometry2","newAttribute","morphArray","keys","attributeData","hasMorphAttributes","attributeArray","_inverseMatrix","_ray","_sphere","_vA","_vB","_vC","_tempA","_tempB","_tempC","_morphA","_morphB","_morphC","_uvA","_uvB","_uvC","_intersectionPoint","_intersectionPointWorld","Mesh","updateMorphTargets","morphTargetInfluences","morphTargetDictionary","ml","String","raycaster","intersects","intersection","morphPosition","groupMaterial","checkBufferGeometryIntersection","faceIndex","isMultiMaterial","fl","faceMaterial","fvA","fvB","fvC","checkIntersection","uvs_f","morphInfluences","influence","isSkinnedMesh","boneTransform","BoxBufferGeometry","depth","widthSegments","heightSegments","depthSegments","numberOfVertices","groupStart","buildPlane","udir","vdir","gridX","gridY","segmentWidth","segmentHeight","widthHalf","heightHalf","depthHalf","gridX1","gridY1","vertexCounter","groupCount","cloneUniforms","isMatrix3","isMatrix4","isVector2","isVector4","mergeUniforms","uniforms","merged","UniformsUtils","default_vertex","default_fragment","ShaderMaterial","defines","vertexShader","fragmentShader","lights","clipping","extensions","derivatives","fragDepth","drawBuffers","shaderTextureLOD","defaultAttributeValues","index0AttributeName","uniformsNeedUpdate","glslVersion","isShaderMaterial","uniform","Camera","PerspectiveCamera","fov","aspect","zoom","focus","view","filmGauge","filmOffset","updateProjectionMatrix","isPerspectiveCamera","setFocalLength","focalLength","vExtentSlope","getFilmHeight","atan","getFocalLength","getEffectiveFOV","getFilmWidth","setViewOffset","fullWidth","fullHeight","clearViewOffset","skew","CubeCamera","renderTarget","isWebGLCubeRenderTarget","cameraPX","cameraNX","cameraPY","cameraNY","cameraPZ","cameraNZ","scene","currentXrEnabled","xr","currentRenderTarget","getRenderTarget","setRenderTarget","CubeTexture","_needsFlipEnvMap","isCubeTexture","WebGLCubeRenderTarget","dummy","isInteger","fromEquirectangularTexture","shader","tEquirect","mesh","currentMinFilter","stencil","DataTexture","isDataTexture","_sphere$1","_vector$5","Frustum","p5","planes","frustum","setFromProjectionMatrix","me0","me1","me2","me3","me4","me5","me6","me7","me8","me9","me10","me11","me12","me13","me14","me15","intersectsObject","intersectsSprite","sprite","negRadius","WebGLAnimation","isAnimating","animationLoop","requestId","onAnimationFrame","stop","setAnimationLoop","setContext","WebGLAttributes","gl","capabilities","isWebGL2","buffers","WeakMap","createBuffer","bufferType","buffer","bindBuffer","bufferData","bytesPerElement","BYTES_PER_ELEMENT","updateBuffer","bufferSubData","subarray","isInterleavedBufferAttribute","deleteBuffer","delete","cached","elementSize","PlaneBufferGeometry","width_half","height_half","segment_width","segment_height","alphamap_fragment","alphamap_pars_fragment","alphatest_fragment","aomap_fragment","aomap_pars_fragment","begin_vertex","beginnormal_vertex","bsdfs","bumpmap_pars_fragment","clipping_planes_fragment","clipping_planes_pars_fragment","clipping_planes_pars_vertex","clipping_planes_vertex","color_fragment","color_pars_fragment","color_pars_vertex","color_vertex","common","cube_uv_reflection_fragment","defaultnormal_vertex","displacementmap_pars_vertex","displacementmap_vertex","emissivemap_fragment","emissivemap_pars_fragment","encodings_fragment","encodings_pars_fragment","envmap_fragment","envmap_common_pars_fragment","envmap_pars_fragment","envmap_pars_vertex","envmap_vertex","fog_vertex","fog_pars_vertex","fog_fragment","fog_pars_fragment","gradientmap_pars_fragment","lightmap_fragment","lightmap_pars_fragment","lights_lambert_vertex","lights_pars_begin","envmap_physical_pars_fragment","lights_toon_fragment","lights_toon_pars_fragment","lights_phong_fragment","lights_phong_pars_fragment","lights_physical_fragment","lights_physical_pars_fragment","lights_fragment_begin","lights_fragment_maps","lights_fragment_end","logdepthbuf_fragment","logdepthbuf_pars_fragment","logdepthbuf_pars_vertex","logdepthbuf_vertex","map_fragment","map_pars_fragment","map_particle_fragment","map_particle_pars_fragment","metalnessmap_fragment","metalnessmap_pars_fragment","morphnormal_vertex","morphtarget_pars_vertex","morphtarget_vertex","normal_fragment_begin","normal_fragment_maps","normalmap_pars_fragment","clearcoat_normal_fragment_begin","clearcoat_normal_fragment_maps","clearcoat_pars_fragment","packing","premultiplied_alpha_fragment","project_vertex","dithering_fragment","dithering_pars_fragment","roughnessmap_fragment","roughnessmap_pars_fragment","shadowmap_pars_fragment","shadowmap_pars_vertex","shadowmap_vertex","shadowmask_pars_fragment","skinbase_vertex","skinning_pars_vertex","skinning_vertex","skinnormal_vertex","specularmap_fragment","specularmap_pars_fragment","tonemapping_fragment","tonemapping_pars_fragment","transmissionmap_fragment","transmissionmap_pars_fragment","uv_pars_fragment","uv_pars_vertex","uv_vertex","uv2_pars_fragment","uv2_pars_vertex","uv2_vertex","worldpos_vertex","background_frag","background_vert","cube_frag","cube_vert","depth_frag","depth_vert","distanceRGBA_frag","distanceRGBA_vert","equirect_frag","equirect_vert","linedashed_frag","linedashed_vert","meshbasic_frag","meshbasic_vert","meshlambert_frag","meshlambert_vert","meshmatcap_frag","meshmatcap_vert","meshtoon_frag","meshtoon_vert","meshphong_frag","meshphong_vert","meshphysical_frag","meshphysical_vert","normal_frag","normal_vert","points_frag","points_vert","shadow_frag","shadow_vert","sprite_frag","sprite_vert","ShaderChunk","UniformsLib","diffuse","uvTransform","uv2Transform","specularmap","envmap","flipEnvMap","maxMipLevel","aomap","lightmap","emissivemap","bumpmap","normalmap","displacementmap","roughnessmap","metalnessmap","gradientmap","fogDensity","fogNear","fogFar","fogColor","ambientLightColor","lightProbe","directionalLights","directionalLightShadows","shadowBias","shadowNormalBias","shadowRadius","shadowMapSize","directionalShadowMap","directionalShadowMatrix","spotLights","coneCos","penumbraCos","decay","spotLightShadows","spotShadowMap","spotShadowMatrix","pointLights","pointLightShadows","shadowCameraNear","shadowCameraFar","pointShadowMap","pointShadowMatrix","hemisphereLights","skyColor","groundColor","rectAreaLights","ltc_1","ltc_2","ShaderLib","basic","lambert","phong","toon","dashed","totalSize","background","t2D","cube","equirect","distanceRGBA","referencePosition","nearDistance","farDistance","shadow","physical","transmission","transmissionMap","WebGLBackground","cubemaps","state","objects","clearColor","clearAlpha","planeMesh","boxMesh","currentBackground","currentBackgroundVersion","currentTonemapping","renderList","forceClear","isScene","session","getSession","environmentBlendMode","setClear","autoClear","autoClearColor","autoClearDepth","autoClearStencil","toneMapping","unshift","getClearColor","setClearColor","getClearAlpha","setClearAlpha","WebGLBindingStates","maxVertexAttributes","extension","vaoAvailable","bindingStates","defaultState","createBindingState","currentState","setup","program","updateBuffers","getBindingState","bindVertexArrayObject","saveCache","setupVertexAttributes","createVertexArrayObject","createVertexArray","createVertexArrayOES","vao","bindVertexArray","bindVertexArrayOES","deleteVertexArrayObject","deleteVertexArray","deleteVertexArrayOES","programMap","stateMap","newAttributes","enabledAttributes","attributeDivisors","cachedAttributes","geometryAttributes","cachedAttribute","geometryAttribute","initAttributes","enableAttribute","enableAttributeAndDivisor","meshPerAttribute","enableVertexAttribArray","disableUnusedAttributes","disableVertexAttribArray","vertexAttribPointer","stride","vertexAttribIPointer","isInstancedBufferGeometry","programAttributes","getAttributes","materialDefaultAttributeValues","programAttribute","isInstancedInterleavedBuffer","_maxInstanceCount","isInstancedBufferAttribute","instanceColor","vertexAttrib2fv","vertexAttrib3fv","vertexAttrib4fv","vertexAttrib1fv","reset","geometryId","programId","releaseStatesOfGeometry","releaseStatesOfProgram","resetDefaultState","WebGLBufferRenderer","info","setMode","drawArrays","renderInstances","primcount","methodName","WebGLCapabilities","maxAnisotropy","getMaxAnisotropy","MAX_TEXTURE_MAX_ANISOTROPY_EXT","getMaxPrecision","getShaderPrecisionFormat","WebGL2RenderingContext","WebGL2ComputeRenderingContext","maxPrecision","logarithmicDepthBuffer","maxTextures","maxVertexTextures","maxTextureSize","maxCubemapSize","maxAttributes","maxVertexUniforms","maxVaryings","maxFragmentUniforms","vertexTextures","floatFragmentTextures","floatVertexTextures","maxSamples","WebGLClipping","globalState","numGlobalPlanes","localClippingEnabled","renderingShadows","viewNormalMatrix","numPlanes","numIntersection","enableLocalClipping","projectPlanes","beginShadows","endShadows","resetGlobalState","setState","useCache","materialProperties","nGlobal","lGlobal","dstArray","clippingState","skipTransform","nPlanes","flatSize","viewMatrix","i4","WebGLCubeMaps","mapTextureMapping","has","cubemap","currentRenderList","getRenderList","currentRenderState","getRenderState","setRenderList","setRenderState","onTextureDispose","WebGLExtensions","getExtension","WebGLGeometries","wireframeAttributes","onGeometryDispose","buffergeometry","memory","_bufferGeometry","updateWireframeAttribute","geometryIndex","geometryPosition","previousAttribute","getWireframeAttribute","currentAttribute","WebGLIndexedBufferRenderer","drawElements","WebGLInfo","calls","triangles","lines","instanceCount","programs","autoReset","numericalSort","absNumericalSort","WebGLMorphtargets","influencesList","workInfluences","objectInfluences","influences","MAX_SAFE_INTEGER","morphInfluencesSum","morphBaseInfluence","getUniforms","setValue","WebGLObjects","updateMap","DataTexture2DArray","wrapR","isDataTexture2DArray","DataTexture3D","isDataTexture3D","emptyTexture","emptyTexture2dArray","emptyTexture3d","emptyCubeTexture","arrayCacheF32","arrayCacheI32","mat4array","mat3array","mat2array","flatten","nBlocks","blockSize","firstElem","arraysEqual","allocTexUnits","allocateTextureUnit","setValueV1f","uniform1f","addr","setValueV2f","uniform2f","uniform2fv","setValueV3f","uniform3f","uniform3fv","setValueV4f","uniform4f","uniform4fv","setValueM2","uniformMatrix2fv","setValueM3","uniformMatrix3fv","setValueM4","uniformMatrix4fv","setValueT1","uniform1i","safeSetTexture2D","setValueT2DArray1","setTexture2DArray","setValueT3D1","setTexture3D","setValueT6","safeSetTextureCube","setValueV1i","setValueV2i","uniform2iv","setValueV3i","uniform3iv","setValueV4i","uniform4iv","setValueV1ui","uniform1ui","getSingularSetter","setValueV1fArray","uniform1fv","setValueV1iArray","uniform1iv","setValueV2iArray","setValueV3iArray","setValueV4iArray","setValueV2fArray","setValueV3fArray","setValueV4fArray","setValueM2Array","setValueM3Array","setValueM4Array","setValueT1Array","setValueT6Array","getPureArraySetter","SingleUniform","activeInfo","PureArrayUniform","updateCache","StructuredUniform","seq","RePathPart","addUniform","uniformObject","parseUniform","path","pathLength","matchEnd","idIsIndex","subscript","WebGLUniforms","getProgramParameter","getActiveUniform","getUniformLocation","setOptional","upload","seqWithValue","WebGLShader","createShader","shaderSource","compileShader","programIdCount","addLineNumbers","getEncodingComponents","getShaderErrors","status","getShaderParameter","getShaderInfoLog","getShaderSource","getTexelDecodingFunction","functionName","getTexelEncodingFunction","getToneMappingFunction","toneMappingName","generateExtensions","chunks","extensionDerivatives","envMapCubeUV","tangentSpaceNormalMap","shaderID","extensionFragDepth","rendererExtensionFragDepth","extensionDrawBuffers","rendererExtensionDrawBuffers","extensionShaderTextureLOD","rendererExtensionShaderTextureLod","filter","filterEmptyLine","generateDefines","fetchAttributeLocations","getActiveAttrib","getAttribLocation","replaceLightNums","numDirLights","numSpotLights","numRectAreaLights","numPointLights","numHemiLights","numDirLightShadows","numSpotLightShadows","numPointLightShadows","replaceClippingPlaneNums","numClippingPlanes","numClipIntersection","includePattern","resolveIncludes","includeReplacer","include","deprecatedUnrollLoopPattern","unrollLoopPattern","unrollLoops","loopReplacer","deprecatedLoopReplacer","snippet","generatePrecision","precisionstring","generateShadowMapTypeDefine","shadowMapTypeDefine","shadowMapType","generateEnvMapTypeDefine","envMapTypeDefine","envMapMode","generateEnvMapModeDefine","envMapModeDefine","generateEnvMapBlendingDefine","envMapBlendingDefine","WebGLProgram","cacheKey","gammaFactorDefine","customExtensions","customDefines","createProgram","prefixVertex","prefixFragment","versionString","isRawShaderMaterial","shaderName","instancing","instancingColor","supportsVertexTextures","maxBones","useFog","fogExp2","objectSpaceNormalMap","vertexTangents","uvsVertexOnly","useVertexTexture","doubleSided","flipSided","shadowMapEnabled","physicallyCorrectLights","mapEncoding","matcapEncoding","envMapEncoding","emissiveMapEncoding","lightMapEncoding","outputEncoding","depthPacking","vertexGlsl","fragmentGlsl","glVertexShader","glFragmentShader","attachShader","bindAttribLocation","linkProgram","debug","checkShaderErrors","programLog","getProgramInfoLog","vertexLog","fragmentLog","runnable","haveDiagnostics","vertexErrors","fragmentErrors","getError","diagnostics","prefix","deleteShader","cachedUniforms","destroy","deleteProgram","usedTimes","WebGLPrograms","shaderIDs","MeshDepthMaterial","MeshDistanceMaterial","MeshNormalMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshToonMaterial","MeshStandardMaterial","MeshPhysicalMaterial","MeshMatcapMaterial","LineBasicMaterial","LineDashedMaterial","PointsMaterial","ShadowMaterial","SpriteMaterial","parameterNames","getMaxBones","skeleton","bones","nVertexUniforms","nVertexMatrices","getTextureEncodingFromMap","getParameters","shadows","environment","isMeshStandardMaterial","isFogExp2","maxMorphTargets","maxMorphNormals","directional","spot","rectArea","hemi","shadowMap","getProgramCacheKey","acquireProgram","pl","preexistingProgram","releaseProgram","pop","WebGLProperties","painterSortStable","groupOrder","reversePainterSortStable","WebGLRenderList","renderItems","renderItemsIndex","opaque","defaultProgram","getNextRenderItem","renderItem","customOpaqueSort","customTransparentSort","finish","WebGLRenderLists","lists","cameras","UniformsCache","light","halfWidth","halfHeight","ShadowUniformsCache","nextVersion","shadowCastingLightsFirst","lightA","lightB","WebGLLights","shadowCache","hash","directionalLength","pointLength","spotLength","rectAreaLength","hemiLength","numDirectionalShadows","numPointShadows","numSpotShadows","ambient","probe","directionalShadow","spotShadow","rectAreaLTC1","rectAreaLTC2","pointShadow","vector3","matrix42","intensity","isAmbientLight","isLightProbe","sh","coefficients","isDirectionalLight","shadowUniforms","bias","normalBias","mapSize","isSpotLight","penumbra","isRectAreaLight","isPointLight","isHemisphereLight","LTC_FLOAT_1","LTC_FLOAT_2","LTC_HALF_1","LTC_HALF_2","WebGLRenderState","lightsArray","shadowsArray","pushLight","pushShadow","shadowLight","setupLights","WebGLRenderStates","renderStates","renderState","isMeshDepthMaterial","isMeshDistanceMaterial","vsm_frag","vsm_vert","WebGLShadowMap","_renderer","_objects","_frustum","_shadowMapSize","_viewportSize","_viewport","_depthMaterials","_distanceMaterials","_materialCache","shadowMaterialVertical","SAMPLE_RATE","HALF_SAMPLE_RATE","shadow_pass","resolution","shadowMaterialHorizonal","HORIZONAL_PASS","fullScreenTri","fullScreenMesh","autoUpdate","activeCubeFace","getActiveCubeFace","activeMipmapLevel","getActiveMipmapLevel","_state","setBlending","setTest","setScissorTest","shadowFrameExtents","getFrameExtents","isPointLightShadow","pars","mapPass","viewportCount","getViewportCount","vp","getViewport","updateMatrices","getFrustum","renderObject","VSMPass","renderBufferDirect","getDepthMaterialVariant","useMorphing","useSkinning","useInstancing","getDistanceMaterialVariant","getDepthMaterial","getMaterialVariant","customMaterial","customDepthMaterial","customDistanceMaterial","keyA","keyB","materialsForVariant","cachedMaterial","shadowCamera","k","kl","depthMaterial","WebGLState","ColorBuffer","locked","currentColorMask","currentColorClear","setMask","colorMask","setLocked","lock","DepthBuffer","currentDepthMask","currentDepthFunc","currentDepthClear","depthMask","setFunc","clearDepth","StencilBuffer","currentStencilMask","currentStencilFunc","currentStencilRef","currentStencilFuncMask","currentStencilFail","currentStencilZFail","currentStencilZPass","currentStencilClear","stencilTest","stencilMask","setOp","stencilOp","clearStencil","colorBuffer","enabledCapabilities","currentProgram","currentBlendingEnabled","currentBlending","currentBlendEquation","currentBlendSrc","currentBlendDst","currentBlendEquationAlpha","currentBlendSrcAlpha","currentBlendDstAlpha","currentPremultipledAlpha","currentFlipSided","currentCullFace","currentLineWidth","currentPolygonOffsetFactor","currentPolygonOffsetUnits","lineWidthAvailable","glVersion","currentTextureSlot","currentBoundTextures","currentScissor","currentViewport","createTexture","bindTexture","texParameteri","texImage2D","emptyTextures","setFlipSided","setCullFace","useProgram","equationToGL","MIN_EXT","MAX_EXT","factorToGL","blendFuncSeparate","blendFunc","blendEquationSeparate","setMaterial","frontFaceCW","setPolygonOffset","frontFace","cullFace","setLineWidth","lineWidth","activeTexture","webglSlot","webglType","webglTexture","boundTexture","unbindTexture","compressedTexImage2D","texImage3D","WebGLTextures","_gl","_videoTextures","useOffscreenCanvas","OffscreenCanvas","err","createCanvas","resizeImage","needsPowerOfTwo","needsNewCanvas","maxSize","HTMLImageElement","ImageBitmap","textureNeedsPowerOfTwo","textureNeedsGenerateMipmaps","supportsMips","generateMipmap","textureProperties","__maxMipLevel","LOG2E","getInternalFormat","internalFormatName","glFormat","glType","filterFallback","deallocateTexture","isVideoTexture","onRenderTargetDispose","deallocateRenderTarget","__webglInit","deleteTexture","__webglTexture","renderTargetProperties","deleteFramebuffer","__webglFramebuffer","__webglDepthbuffer","deleteRenderbuffer","__webglMultisampledFramebuffer","__webglColorRenderbuffer","__webglDepthRenderbuffer","textureUnits","resetTextureUnits","textureUnit","setTexture2D","slot","updateVideoTexture","__version","complete","uploadTexture","setTextureCube","uploadCubeTexture","wrappingToGL","filterToGL","setTextureParameters","textureType","__currentAnisotropy","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","initTexture","pixelStorei","convert","glInternalFormat","mipmap","isDepthTexture","isCompressedTexture","isCompressed","cubeImage","mipmapImage","setupFrameBufferTexture","framebuffer","attachment","textureTarget","bindFramebuffer","framebufferTexture2D","setupRenderBufferStorage","renderbuffer","isMultisample","bindRenderbuffer","getRenderTargetSamples","renderbufferStorageMultisample","renderbufferStorage","framebufferRenderbuffer","setupDepthTexture","isCube","webglDepthTexture","setupDepthRenderbuffer","createRenderbuffer","setupRenderTarget","createFramebuffer","updateRenderTargetMipmap","updateMultisampleRenderTarget","blitFramebuffer","warnedTexture2D","warnedTextureCube","WebGLUtils","HALF_FLOAT_OES","COMPRESSED_RGB_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","COMPRESSED_RGB_PVRTC_4BPPV1_IMG","COMPRESSED_RGB_PVRTC_2BPPV1_IMG","COMPRESSED_RGBA_PVRTC_4BPPV1_IMG","COMPRESSED_RGBA_PVRTC_2BPPV1_IMG","COMPRESSED_RGB_ETC1_WEBGL","COMPRESSED_RGB8_ETC2","COMPRESSED_RGBA8_ETC2_EAC","UNSIGNED_INT_24_8_WEBGL","ArrayCamera","isArrayCamera","Group","isGroup","WebXRController","_targetRay","_grip","_hand","getHandSpace","joints","inputState","pinching","XRHand","LITTLE_PHALANX_TIP","joint","getTargetRaySpace","getGripSpace","disconnect","inputSource","referenceSpace","inputPose","gripPose","handPose","targetRay","grip","hand","jointPose","getJointPose","jointRadius","indexTip","INDEX_PHALANX_TIP","thumbTip","THUMB_PHALANX_TIP","distanceToPinch","handedness","getPose","targetRaySpace","gripSpace","WebXRManager","framebufferScaleFactor","referenceSpaceType","pose","controllers","inputSourcesMap","Map","cameraL","cameraR","cameraVR","_currentDepthNear","_currentDepthFar","isPresenting","getController","controller","getControllerGrip","getHand","onSessionEvent","onSessionEnd","setFramebuffer","onRequestReferenceSpace","setFramebufferScaleFactor","setReferenceSpaceType","getReferenceSpace","setSession","getContextAttributes","xrCompatible","makeXRCompatible","layerInit","antialias","baseLayer","XRWebGLLayer","updateRenderState","requestReferenceSpace","updateInputSources","inputSources","removed","added","cameraLPos","cameraRPos","setProjectionFromUnion","ipd","projL","projR","topFov","bottomFov","leftFov","rightFov","zOffset","near2","far2","left2","right2","top2","bottom2","updateCamera","getCamera","depthNear","depthFar","onAnimationFrameCallback","getViewerPose","views","cameraVRNeedsUpdate","WebGLMaterials","refreshFogUniforms","isFog","density","refreshMaterialUniforms","pixelRatio","refreshUniformsCommon","isMeshLambertMaterial","refreshUniformsLambert","isMeshToonMaterial","refreshUniformsToon","isMeshPhongMaterial","refreshUniformsPhong","isMeshPhysicalMaterial","refreshUniformsPhysical","refreshUniformsStandard","isMeshMatcapMaterial","refreshUniformsMatcap","refreshUniformsDepth","refreshUniformsDistance","isMeshNormalMaterial","refreshUniformsNormal","isLineBasicMaterial","refreshUniformsLine","isLineDashedMaterial","refreshUniformsDash","isPointsMaterial","refreshUniformsPoints","isSpriteMaterial","refreshUniformsSprites","isShadowMaterial","uvScaleMap","uv2ScaleMap","WebGLRenderer","_context","_alpha","_depth","_stencil","_antialias","_premultipliedAlpha","_preserveDrawingBuffer","preserveDrawingBuffer","_powerPreference","powerPreference","_failIfMajorPerformanceCaveat","failIfMajorPerformanceCaveat","domElement","sortObjects","toneMappingExposure","_isContextLost","_framebuffer","_currentActiveCubeFace","_currentActiveMipmapLevel","_currentRenderTarget","_currentFramebuffer","_currentMaterialId","_currentCamera","_currentArrayCamera","_currentViewport","_currentScissor","_currentScissorTest","_width","_height","_pixelRatio","_opaqueSort","_transparentSort","_scissor","_scissorTest","_clippingEnabled","_localClippingEnabled","_projScreenMatrix","_vector3","_emptyScene","overrideMaterial","getTargetPixelRatio","contextNames","contextAttributes","contextName","onContextLost","onContextRestore","isWebGL1Renderer","programCache","renderLists","morphtargets","bufferRenderer","indexedBufferRenderer","initGLContext","forceContextLoss","loseContext","forceContextRestore","restoreContext","getPixelRatio","setPixelRatio","updateStyle","setViewport","getDrawingBufferSize","setDrawingBufferSize","getCurrentViewport","getScissor","setScissor","getScissorTest","boolean","setOpaqueSort","method","setTransparentSort","bits","onMaterialDispose","deallocateMaterial","releaseMaterialProgramReference","programInfo","renderObjectImmediate","renderBufferImmediate","hasPositions","hasNormals","hasUvs","hasColors","positionArray","normalArray","uvArray","colorArray","setProgram","rangeFactor","dataCount","rangeStart","rangeCount","drawStart","drawEnd","drawCount","isLineSegments","isLineLoop","isSprite","compile","compiled","material2","initMaterial","projectObject","opaqueObjects","transparentObjects","renderObjects","isLOD","isImmediateRenderObject","camera2","lightsStateVersion","programCacheKey","programChange","needsLights","materialNeedsLights","progUniforms","uniformsList","refreshProgram","refreshMaterial","refreshLights","p_uniforms","m_uniforms","uCamPos","cameraPosition","isOrthographicCamera","boneTexture","boneMatrices","boneTextureSize","markUniformsLightsNeedsUpdate","readRenderTargetPixels","activeCubeFaceIndex","restore","textureFormat","checkFramebufferStatus","readPixels","copyFramebufferToTexture","level","levelScale","copyTexImage2D","copyTextureToTexture","srcTexture","dstTexture","texSubImage2D","compressedTexSubImage2D","__THREE_DEVTOOLS__","CustomEvent","WebGL1Renderer","FogExp2","Fog","Scene","InterleavedBuffer","isInterleavedBuffer","arrayBuffers","_uuid","ib","_vector$6","InterleavedBufferAttribute","interleavedBuffer","interleavedBuffers","_geometry","_intersectPoint","_worldScale","_mvPosition","_alignedPosition","_rotatedPosition","_viewWorldMatrix","_vA$1","_vB$1","_vC$1","_uvA$1","_uvB$1","_uvC$1","Sprite","float32Array","transformVertex","vertexPosition","mvPosition","_v1$4","_v2$2","LOD","_currentLevel","levels","addLevel","getCurrentLevel","getObjectForDistance","SkinnedMesh","bindMode","bindMatrix","bindMatrixInverse","bind","calculateInverses","normalizeSkinWeights","skinWeight","basePosition","skinIndex","weight","boneIndex","boneInverses","_offsetMatrix","Skeleton","bone","isBone","getBoneByName","Bone","_instanceLocalMatrix","_instanceWorldMatrix","_instanceIntersects","_mesh","InstancedMesh","setColorAt","getMatrixAt","raycastTimes","instanceId","setMatrixAt","linecap","linejoin","_inverseMatrix$1","_ray$1","_sphere$2","Line","computeLineDistances","localThreshold","localThresholdSq","vStart","vEnd","interSegment","interRay","distSq","nbVertices","_start$1","_end$1","LineSegments","LineLoop","_inverseMatrix$2","_ray$2","_sphere$3","_position$1","Points","testPoint","rayPointDistanceSq","intersectPoint","distanceToRay","VideoTexture","video","updateVideo","requestVideoFrameCallback","hasVideoFrameCallback","readyState","HAVE_CURRENT_DATA","CompressedTexture","CanvasTexture","isCanvasTexture","DepthTexture","_geometryId","_m1$3","_obj$1","_offset$1","Geometry","vertex","fromBufferGeometry","addFace","areaWeighted","vl","computeFlatVertexNormals","computeMorphNormals","__originalFaceNormal","__originalVertexNormals","tmpGeo","faceNormals","dstNormalsFace","dstNormalsVertex","faceNormal","materialIndexOffset","vertexOffset","vertices1","vertices2","faces1","faces2","colors1","colors2","vertexCopy","faceVertexNormals","faceVertexColors","faceCopy","faceVertexUvs2","uvsCopy","mergeMesh","mergeVertices","verticesMap","unique","changes","precisionPoints","faceIndicesToRemove","idx","diff","sortFacesByMaterialIndex","materialIndexSort","uvs1","newUvs1","newUvs2","normalsHash","colorsHash","uvsHash","hasMaterial","hasFaceUv","hasFaceNormal","hasFaceVertexNormal","hasFaceColor","hasFaceVertexColor","faceType","setBit","getUvIndex","getNormalIndex","getColorIndex","srcVertexNormal","destVertexNormal","BoxGeometry","CircleBufferGeometry","segments","thetaStart","thetaLength","segment","CircleGeometry","CylinderBufferGeometry","radiusTop","radiusBottom","radialSegments","openEnded","indexArray","generateTorso","generateCap","slope","indexRow","sinTheta","cosTheta","centerIndexStart","centerIndexEnd","CylinderGeometry","ConeGeometry","ConeBufferGeometry","PolyhedronBufferGeometry","vertexBuffer","uvBuffer","subdivide","applyRadius","generateUVs","getVertexByIndex","subdivideFace","cols","aj","bj","rows","pushVertex","azimuth","inclination","correctUVs","correctSeam","centroid","uvA","uvB","uvC","azi","correctUV","DodecahedronBufferGeometry","DodecahedronGeometry","_v0$2","_v1$5","_normal$1","_triangle","EdgesGeometry","thresholdAngle","thresholdDot","indexAttr","positionAttr","indexCount","indexArr","vertKeys","hashes","edgeData","jNext","vecHash0","vecHash1","reverseHash","index0","Earcut","triangulate","holeIndices","hasHoles","outerLen","outerNode","linkedList","invSize","eliminateHoles","earcutLinked","clockwise","signedArea","insertNode","removeNode","filterPoints","again","steiner","ear","pass","indexCurve","isEarHashed","isEar","cureLocalIntersections","splitEarcut","pointInTriangle","minTX","minTY","maxTX","maxTY","zOrder","prevZ","nextZ","locallyInside","isValidDiagonal","splitPolygon","queue","getLeftmost","compareX","eliminateHole","hole","findHoleBridge","hx","hy","mx","my","tanMin","sectorContainsSector","sortLinked","tail","numMerges","pSize","qSize","inSize","leftmost","py","intersectsPolygon","middleInside","q1","q2","o1","o2","o3","o4","onSegment","num","inside","Node","an","bp","sum","ShapeUtils","contour","isClockWise","pts","triangulateShape","holes","removeDupEndPts","addContour","holeIndex","ExtrudeBufferGeometry","verticesArray","addShape","placeholder","curveSegments","bevelEnabled","bevelThickness","bevelSize","bevelOffset","bevelSegments","extrudePath","uvgen","UVGenerator","WorldUVGenerator","extrudePts","extrudeByPath","splineTube","binormal","position2","getSpacedPoints","computeFrenetFrames","shapePoints","extractPoints","hl","ahole","concat","scalePt2","vec","vlen","flen","getBevelVec","inPt","inPrev","inNext","v_trans_x","v_trans_y","shrink_by","v_prev_x","v_prev_y","v_next_x","v_next_y","v_prev_lensq","collinear0","v_prev_len","v_next_len","ptPrevShift_x","ptPrevShift_y","ptNextShift_x","ptNextShift_y","sf","v_trans_lensq","direction_eq","contourMovements","holesMovements","oneHoleMovements","verticesMovements","bs","vert","binormals","buildLidFaces","buildSideFaces","layer","f3","layeroffset","sidewalls","sl","slen1","slen2","f4","addVertex","nextIndex","generateTopUV","addUV","generateSideWallUV","vector2","indexA","indexB","indexC","a_x","a_y","b_x","b_y","c_x","c_y","indexD","a_z","b_z","c_z","d_x","d_y","d_z","ExtrudeGeometry","toJSON$1","IcosahedronBufferGeometry","IcosahedronGeometry","LatheBufferGeometry","phiStart","phiLength","inverseSegments","LatheGeometry","OctahedronBufferGeometry","OctahedronGeometry","ParametricBufferGeometry","slices","stacks","pu","pv","sliceCount","ParametricGeometry","PlaneGeometry","PolyhedronGeometry","RingBufferGeometry","innerRadius","outerRadius","thetaSegments","phiSegments","radiusStep","thetaSegmentLevel","RingGeometry","ShapeBufferGeometry","indexOffset","shapeVertices","shapeHoles","shapeHole","toJSON$2","ShapeGeometry","toJSON$3","SphereBufferGeometry","thetaEnd","verticesRow","uOffset","SphereGeometry","TetrahedronBufferGeometry","TetrahedronGeometry","TextBufferGeometry","text","font","isFont","generateShapes","TextGeometry","TorusBufferGeometry","tube","tubularSegments","arc","TorusGeometry","TorusKnotBufferGeometry","P1","P2","B","T","N","calculatePositionOnCurve","cu","su","quOverP","TorusKnotGeometry","heightScale","TubeBufferGeometry","closed","frames","tangents","P","generateBufferData","generateSegment","generateIndices","getPointAt","TubeGeometry","taper","bufferGeometry","WireframeGeometry","edge","edge1","edge2","o","ol","Geometries","freeze","RawShaderMaterial","ior","Materials","AnimationUtils","arraySlice","isTypedArray","convertArray","forceClone","DataView","getKeyframeOrder","times","compareTime","sortedArray","nValues","srcOffset","flattenJSON","jsonKeys","valuePropertyName","subclip","sourceClip","startFrame","endFrame","clip","tracks","valueSize","getValueSize","minStartTime","resetDuration","makeClipAdditive","targetClip","referenceFrame","referenceClip","numTracks","referenceTime","referenceTrack","referenceTrackType","ValueTypeName","targetTrack","find","referenceOffset","referenceValueSize","createInterpolant","isInterpolantFactoryMethodGLTFCubicSpline","targetOffset","targetValueSize","referenceValue","startIndex","endIndex","interpolant","evaluate","resultBuffer","referenceQuat","numTimes","valueStart","valueEnd","blendMode","Interpolant","parameterPositions","sampleValues","sampleSize","_cachedIndex","pp","validate_interval","linear_scan","forward_scan","giveUpAt","afterEnd_","t1global","beforeStart_","mid","intervalChanged_","interpolate_","settings","DefaultSettings_","getSettings_","copySampleValue_","CubicInterpolant","_weightPrev","_offsetPrev","_weightNext","_offsetNext","endingStart","endingEnd","iPrev","iNext","tPrev","tNext","halfDt","o0","oP","oN","wP","wN","ppp","sP","sN","LinearInterpolant","offset1","offset0","weight1","weight0","DiscreteInterpolant","KeyframeTrack","interpolation","TimeBufferType","ValueBufferType","setInterpolation","DefaultInterpolation","trackType","json","getInterpolation","InterpolantFactoryMethodDiscrete","InterpolantFactoryMethodLinear","InterpolantFactoryMethodSmooth","factoryMethod","timeOffset","nKeys","validate","valid","currTime","optimize","smoothInterpolation","writeIndex","keep","timeNext","offsetP","offsetN","readOffset","writeOffset","TypedKeyframeTrack","BooleanKeyframeTrack","ColorKeyframeTrack","NumberKeyframeTrack","QuaternionLinearInterpolant","QuaternionKeyframeTrack","StringKeyframeTrack","VectorKeyframeTrack","AnimationClip","getTrackTypeForValueTypeName","typeName","parseKeyframeTrack","jsonTracks","frameTime","clipTracks","CreateFromMorphTargetSequence","morphTargetSequence","noLoop","numMorphTargets","findByName","objectOrClipArray","clipArray","CreateClipsFromMorphTargetSequences","animationToMorphTargets","pattern","parts","animationMorphTargets","clips","parseAnimation","addNonemptyTrack","trackName","animationKeys","propertyName","destTracks","clipName","hierarchyTracks","hierarchy","morphTargetNames","morphTargetName","animationKey","boneName","Cache","files","file","LoadingManager","onLoad","onProgress","onError","isLoading","itemsLoaded","itemsTotal","urlModifier","handlers","itemStart","itemEnd","itemError","resolveURL","setURLModifier","addHandler","regex","loader","removeHandler","getHandler","global","DefaultLoadingManager","Loader","manager","crossOrigin","withCredentials","resourcePath","requestHeader","load","loadAsync","reject","setCrossOrigin","setWithCredentials","setPath","setResourcePath","setRequestHeader","loading","FileLoader","dataUriRegex","dataUriRegexResult","request","mimeType","isBase64","decodeURIComponent","atob","response","responseType","charCodeAt","Blob","parser","DOMParser","parseFromString","XMLHttpRequest","callbacks","overrideMimeType","header","send","setResponseType","setMimeType","AnimationLoader","CompressedTextureLoader","loaded","loadTexture","texDatas","mipmapCount","isCubemap","ImageLoader","onImageLoad","onImageError","CubeTextureLoader","urls","DataTextureLoader","texData","TextureLoader","isJPEG","search","Curve","arcLengthDivisions","getPoint","optionalTarget","getUtoTmapping","getPoints","divisions","getLength","lengths","getLengths","cacheArcLengths","updateArcLengths","arcLengths","targetArcLength","comparison","lengthBefore","lengthAfter","segmentLength","segmentFraction","getTangent","pt1","getTangentAt","mat","MAX_VALUE","tz","fromJSON","EllipseCurve","aX","aY","xRadius","yRadius","aStartAngle","aEndAngle","aClockwise","aRotation","isEllipseCurve","twoPi","deltaAngle","samePoints","ArcCurve","aRadius","isArcCurve","CubicPoly","c0","initCatmullRom","x3","tension","initNonuniformCatmullRom","dt0","dt1","dt2","calc","pz","CatmullRomCurve3","curveType","isCatmullRomCurve3","intPoint","CatmullRom","QuadraticBezierP0","QuadraticBezierP1","QuadraticBezierP2","QuadraticBezier","CubicBezierP0","CubicBezierP1","CubicBezierP2","CubicBezierP3","CubicBezier","CubicBezierCurve","v3","isCubicBezierCurve","CubicBezierCurve3","isCubicBezierCurve3","LineCurve","isLineCurve","LineCurve3","isLineCurve3","QuadraticBezierCurve","isQuadraticBezierCurve","QuadraticBezierCurve3","isQuadraticBezierCurve3","SplineCurve","isSplineCurve","Curves","CurvePath","curves","autoClose","curve","closePath","startPoint","endPoint","curveLengths","getCurveLengths","lens","cacheLengths","sums","Path","currentPoint","moveTo","lineTo","quadraticCurveTo","aCPx","aCPy","bezierCurveTo","aCP1x","aCP1y","aCP2x","aCP2y","splineThru","npts","absarc","absellipse","ellipse","firstPoint","lastPoint","Shape","getPointsHoles","holesPts","Light","HemisphereLight","LightShadow","_frameExtents","_viewportCount","_viewports","_lightPositionWorld","_lookTarget","shadowMatrix","projScreenMatrix","lookTarget","lightPositionWorld","viewportIndex","SpotLightShadow","isSpotLightShadow","SpotLight","PointLightShadow","_cubeDirections","_cubeUps","PointLight","OrthographicCamera","scaleW","scaleH","DirectionalLightShadow","isDirectionalLightShadow","DirectionalLight","AmbientLight","RectAreaLight","SphericalHarmonics3","zero","getAt","coeff","getIrradianceAt","addScaledSH","getBasisAt","shBasis","LightProbe","MaterialLoader","getTexture","shading","setTextures","LoaderUtils","decodeText","TextDecoder","decode","fromCharCode","escape","extractUrlBase","InstancedBufferGeometry","InstancedBufferAttribute","BufferGeometryLoader","interleavedBufferMap","arrayBufferMap","getInterleavedBuffer","getArrayBuffer","TYPED_ARRAYS","arrayBuffer","typedArray","bufferAttribute","bufferAttributeConstr","drawcalls","offsets","ObjectLoader","parseShape","parseGeometries","parseImages","parseTextures","parseMaterials","parseObject","parseAnimations","geometryShapes","bufferGeometryLoader","details","loadImage","currentUrl","parseConstant","TEXTURE_MAPPING","TEXTURE_WRAPPING","TEXTURE_FILTER","getGeometry","getMaterial","setTexturePath","ImageBitmapLoader","createImageBitmap","fetch","isImageBitmapLoader","setOptions","fetchOptions","credentials","res","blob","imageBitmap","catch","ShapePath","subPaths","currentPath","toShapes","isCCW","noHoles","toShapesNoHoles","inSubpaths","tmpPath","tmpShape","isPointInsidePolygon","inPolygon","polyLen","edgeLowPt","edgeHighPt","edgeDx","edgeDy","perpEdge","solid","holesFirst","betterShapeHoles","newShapes","newShapeHoles","mainIdx","tmpPoints","ambiguous","toChange","sIdx","sLen","sho","hIdx","ho","hole_unassigned","s2Idx","froms","tos","tmpHoles","Font","paths","createPaths","chars","line_height","yMax","yMin","underlineThickness","char","ret","createPath","glyph","glyphs","familyName","cpx","cpy","cpx1","cpy1","cpx2","cpy2","outline","_cachedOutline","action","ha","FontLoader","AudioContext","webkitAudioContext","AudioLoader","bufferCopy","decodeAudioData","audioBuffer","HemisphereLightProbe","sky","ground","isHemisphereLightProbe","AmbientLightProbe","isAmbientLightProbe","_eyeRight","_eyeLeft","StereoCamera","eyeSep","_cache","eyeSepHalf","eyeSepOnProjection","ymax","xmin","xmax","Clock","autoStart","oldTime","elapsedTime","running","performance","getElapsedTime","getDelta","newTime","_position$2","_quaternion$3","_scale$1","_orientation","AudioListener","gain","createGain","connect","destination","timeDelta","_clock","getInput","removeFilter","getFilter","setFilter","getMasterVolume","setMasterVolume","setTargetAtTime","currentTime","positionX","linearRampToValueAtTime","positionY","positionZ","forwardX","forwardY","forwardZ","upX","upY","upZ","setOrientation","Audio","autoplay","detune","loop","loopStart","loopEnd","playbackRate","isPlaying","hasPlaybackControl","sourceType","_startedAt","_progress","_connected","filters","getOutput","setNodeSource","audioNode","setMediaElementSource","mediaElement","createMediaElementSource","setMediaStreamSource","mediaStream","createMediaStreamSource","setBuffer","createBufferSource","onended","onEnded","setDetune","setPlaybackRate","getFilters","setFilters","getDetune","getPlaybackRate","getLoop","setLoop","setLoopStart","setLoopEnd","getVolume","setVolume","_position$3","_quaternion$4","_scale$2","_orientation$1","PositionalAudio","panner","createPanner","panningModel","getRefDistance","refDistance","setRefDistance","getRolloffFactor","rolloffFactor","setRolloffFactor","getDistanceModel","distanceModel","setDistanceModel","getMaxDistance","maxDistance","setMaxDistance","setDirectionalCone","coneInnerAngle","coneOuterAngle","coneOuterGain","orientationX","orientationY","orientationZ","AudioAnalyser","audio","fftSize","analyser","createAnalyser","frequencyBinCount","getFrequencyData","getByteFrequencyData","getAverageFrequency","PropertyMixer","binding","mixFunction","mixFunctionAdditive","setIdentity","_slerp","_slerpAdditive","_setAdditiveIdentityQuaternion","_workIndex","_select","_setAdditiveIdentityOther","_lerp","_lerpAdditive","_setAdditiveIdentityNumeric","_mixBufferRegion","_mixBufferRegionAdditive","_setIdentity","_origIndex","_addIndex","cumulativeWeight","cumulativeWeightAdditive","useCount","referenceCount","accumulate","accuIndex","currentWeight","mix","accumulateAdditive","weightAdditive","originalValueOffset","saveOriginalState","getValue","restoreOriginalState","targetIndex","workOffset","_RESERVED_CHARS_RE","_reservedRe","_wordChar","_wordCharOrDot","_directoryRe","_nodeRe","_objectRe","_propertyRe","_trackRe","_supportedObjectNames","Composite","targetGroup","optionalParsedPath","parsedPath","PropertyBinding","parseTrackName","_targetGroup","_bindings","subscribe_","firstValidIndex","nCachedObjects_","bindings","unbind","rootNode","findNode","root","isAnimationObjectGroup","sanitizeNodeName","matches","results","objectName","objectIndex","propertyIndex","lastDot","searchNodeSubtree","childNode","subTreeNode","_getValue_unavailable","_setValue_unavailable","BindingType","Direct","EntireArray","ArrayElement","HasFromToArray","Versioning","None","NeedsUpdate","MatrixWorldNeedsUpdate","GetterByBindingType","getValue_direct","getValue_array","resolvedProperty","getValue_arrayElement","getValue_toArray","SetterByBindingTypeAndVersioning","setValue_direct","targetObject","setValue_direct_setNeedsUpdate","setValue_direct_setMatrixWorldNeedsUpdate","setValue_array","dest","setValue_array_setNeedsUpdate","setValue_array_setMatrixWorldNeedsUpdate","setValue_arrayElement","setValue_arrayElement_setNeedsUpdate","setValue_arrayElement_setMatrixWorldNeedsUpdate","setValue_fromArray","setValue_fromArray_setNeedsUpdate","setValue_fromArray_setMatrixWorldNeedsUpdate","getValue_unbound","targetArray","sourceArray","nodeProperty","versioning","bindingType","_getValue_unbound","_setValue_unbound","AnimationObjectGroup","_indicesByUUID","_paths","_parsedPaths","_bindingsIndicesByPath","stats","inUse","bindingsPerObject","indicesByUUID","parsedPaths","nBindings","knownObject","nObjects","nCachedObjects","firstActiveIndex","lastCachedObject","bindingsForPath","lastCached","lastCachedIndex","firstActiveObject","firstActive","lastObject","indicesByPath","unsubscribe_","lastBindingsIndex","lastBindings","lastBindingsPath","AnimationAction","mixer","localRoot","_mixer","_clip","_localRoot","nTracks","interpolants","interpolantSettings","_interpolantSettings","_interpolants","_propertyBindings","_cacheIndex","_byClipCacheIndex","_timeScaleInterpolant","_weightInterpolant","_loopCount","_effectiveTimeScale","_effectiveWeight","repetitions","clampWhenFinished","zeroSlopeAtStart","zeroSlopeAtEnd","_activateAction","_deactivateAction","stopFading","stopWarping","isRunning","_isActiveAction","isScheduled","setEffectiveWeight","getEffectiveWeight","fadeIn","_scheduleFading","fadeOut","crossFadeFrom","fadeOutAction","warp","fadeInDuration","fadeOutDuration","startEndRatio","endStartRatio","crossFadeTo","fadeInAction","weightInterpolant","_takeBackControlInterpolant","setEffectiveTimeScale","getEffectiveTimeScale","setDuration","syncWith","halt","startTimeScale","endTimeScale","_lendControlInterpolant","timeScaleInterpolant","getMixer","getClip","getRoot","_root","_update","deltaTime","timeDirection","_updateWeight","timeRunning","_updateTimeScale","clipTime","_updateTime","propertyMixers","interpolantValue","loopCount","pingPong","_setEndings","handle_stop","loopDelta","pending","atStart","atEnd","weightNow","weightThen","AnimationMixer","_initMemoryManager","_accuIndex","_bindAction","prototypeAction","rootUuid","bindingsByRoot","_bindingsByRootAndName","bindingsByName","_addInactiveBinding","clipUuid","actionsForClip","_actionsByClip","knownActions","_addInactiveAction","_lendBinding","_lendAction","_takeBackBinding","_takeBackAction","_actions","_nActiveActions","_nActiveBindings","_controlInterpolants","_nActiveControlInterpolants","actions","controlInterpolants","actionsByClip","actionByRoot","_removeInactiveAction","lastInactiveAction","cacheIndex","knownActionsForClip","lastKnownAction","byClipCacheIndex","_removeInactiveBindingsForAction","_removeInactiveBinding","prevIndex","lastActiveIndex","firstInactiveAction","firstInactiveIndex","lastActiveAction","bindingByName","propBinding","lastInactiveBinding","firstInactiveBinding","lastActiveBinding","_controlInterpolantsResultBuffer","__cacheIndex","lastActiveInterpolant","clipAction","optionalRoot","clipObject","existingAction","newAction","stopAllAction","nActions","setTime","timeInSeconds","uncacheClip","actionsToRemove","uncacheRoot","uncacheAction","Uniform","InstancedInterleavedBuffer","GLBufferAttribute","setType","setItemSize","setCount","Raycaster","PointCloud","ascSort","intersectObject","setFromCamera","coords","intersectObjects","Spherical","other","makeSafe","setFromCartesianCoords","Cylindrical","_vector$7","Box2","_startP","_startEnd","Line3","distanceSq","closestPointToPointParameter","clampToLine","startEnd2","startEnd_startP","ImmediateRenderObject","_vector$8","SpotLightHelper","cone","coneLength","coneWidth","_vector$9","_boneMatrix","_matrixWorldInv","SkeletonHelper","getBoneList","isSkeletonHelper","boneList","PointLightHelper","sphereSize","_vector$a","_color1","_color2","HemisphereLightHelper","GridHelper","PolarGridHelper","radials","circles","_v1$6","_v2$3","_v3$1","DirectionalLightHelper","lightPlane","targetLine","_vector$b","_camera","CameraHelper","pointMap","colorFrustum","colorCone","colorUp","colorTarget","colorCross","addLine","addPoint","setPoint","_box$3","BoxHelper","Box3Helper","PlaneHelper","positions2","_axis","_lineGeometry","_coneGeometry","ArrowHelper","headLength","headWidth","setDirection","setColor","AxesHelper","LOD_MIN","LOD_MAX","SIZE_MAX","EXTRA_LOD_SIGMA","TOTAL_LODS","MAX_SAMPLES","ENCODINGS","_flatCamera","_lodPlanes","_sizeLods","_sigmas","_createPlanes","_oldTarget","PHI","INV_PHI","_axisDirections","PMREMGenerator","_pingPongRenderTarget","_blurMaterial","_getBlurShader","_equirectShader","_cubemapShader","_compileMaterial","fromScene","sigma","cubeUVRenderTarget","_allocateTargets","_sceneToCubeUV","_blur","_applyPMREM","_cleanup","fromEquirectangular","equirectangular","_fromTexture","fromCubemap","compileCubemapShader","_getCubemapShader","compileEquirectangularShader","_getEquirectShader","outputTarget","_setViewport","_textureToCubeUV","_isLDR","_createRenderTarget","tmpMesh","cubeCamera","upSign","forwardSign","maxComponent","fExp","log2","col","poleAxis","lodIn","lodOut","pingPongRenderTarget","_halfBlur","targetIn","targetOut","sigmaRadians","blurMaterial","STANDARD_DEVIATIONS","blurMesh","blurUniforms","pixels","radiansPerPixel","isFinite","sigmaPixels","weights","exp","outputSize","lod","sizeLod","texelSize","cubeFaces","positionSize","uvSize","faceIndexSize","coordinates","fill","shaderMaterial","_getCommonVertexShader","_getEncodings","Face4","LineStrip","LinePieces","NoColors","FaceColors","VertexColors","MeshFaceMaterial","MultiMaterial","Particle","ParticleSystem","PointCloudMaterial","ParticleBasicMaterial","ParticleSystemMaterial","Vertex","DynamicBufferAttribute","Int8Attribute","Uint8Attribute","Uint8ClampedAttribute","Int16Attribute","Uint16Attribute","Int32Attribute","Uint32Attribute","Float32Attribute","Float64Attribute","construct","createPointsGeometry","createGeometry","createSpacedPointsGeometry","fromPoints","ClosedSplineCurve3","SplineCurve3","Spline","initFromArray","getControlPointsArray","reparametrizeByArcLength","AxisHelper","BoundingBoxHelper","EdgesHelper","setColors","WireframeHelper","Handlers","XHRLoader","BinaryTextureLoader","empty","isIntersectionBox","isIntersectionSphere","setFromMatrix","random16","nearestPowerOfTwo","nextPowerOfTwo","flattenToArrayOffset","multiplyVector3","multiplyVector3Array","applyToBufferAttribute","applyToVector3Array","extractPosition","getPosition","multiplyToArray","multiplyVector4","rotateAxis","crossVector","rotateByAxis","makeFrustum","isIntersectionLine","isIntersectionPlane","barycoordFromPoint","midpoint","extractAllPoints","extrude","makeGeometry","fromAttribute","distanceToManhattan","lengthManhattan","setEulerFromRotationMatrix","setEulerFromQuaternion","getPositionFromMatrix","getScaleFromMatrix","getColumnFromMatrix","applyProjection","computeTangents","applyMatrix","getChildByName","renderDepth","getWorldRotation","eulerOrder","useQuaternion","setDrawMode","drawMode","initBones","setLens","onlyShadow","shadowCameraFov","shadowCameraLeft","shadowCameraRight","shadowCameraTop","shadowCameraBottom","shadowCameraVisible","shadowDarkness","shadowMapWidth","shadowMapHeight","dynamic","setDynamic","copyIndicesArray","setArray","addIndex","addAttribute","addDrawCall","clearDrawCalls","computeOffsets","maxInstancedCount","linePrecision","getArrays","addShapeList","wrapAround","overdraw","wrapRGB","metal","transparency","clearTarget","getCurrentRenderTarget","getPrecision","resetGLState","supportsFloatTextures","supportsHalfFloatTextures","supportsStandardDerivatives","supportsCompressedTextureS3TC","supportsCompressedTexturePVRTC","supportsBlendMinMax","supportsInstancedArrays","enableScissorTest","addPrePlugin","addPostPlugin","updateShadowMap","setFaceCulling","allocTextureUnit","setTexture","getActiveMipMapLevel","shadowMapCullFace","vr","gammaInput","gammaOutput","toneMappingWhitePoint","renderReverseSided","renderSingleSided","WebGLRenderTargetCube","audioLoader","getData","updateCubeMap","GeometryUtils","geometry1","loadTextureCube","loadCompressedTexture","loadCompressedTextureCube","CanvasRenderer","JSONLoader","SceneUtils","createMultiMaterialObject","detach","LensFlare","revision","GLTFLoader","dracoLoader","ktx2Loader","meshoptDecoder","pluginCallbacks","GLTFMaterialsClearcoatExtension","GLTFTextureBasisUExtension","GLTFTextureWebPExtension","GLTFMaterialsTransmissionExtension","GLTFLightsExtension","GLTFMeshoptCompression","_onError","gltf","setDRACOLoader","setDDSLoader","setKTX2Loader","setMeshoptDecoder","unregister","magic","BINARY_EXTENSION_HEADER_MAGIC","EXTENSIONS","KHR_BINARY_GLTF","GLTFBinaryExtension","asset","GLTFParser","fileLoader","extensionsUsed","extensionName","extensionsRequired","KHR_MATERIALS_UNLIT","GLTFMaterialsUnlitExtension","KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS","GLTFMaterialsPbrSpecularGlossinessExtension","KHR_DRACO_MESH_COMPRESSION","GLTFDracoMeshCompressionExtension","KHR_TEXTURE_TRANSFORM","GLTFTextureTransformExtension","KHR_MESH_QUANTIZATION","GLTFMeshQuantizationExtension","setExtensions","setPlugins","GLTFRegistry","removeAll","KHR_LIGHTS_PUNCTUAL","KHR_MATERIALS_CLEARCOAT","KHR_MATERIALS_TRANSMISSION","KHR_TEXTURE_BASISU","EXT_TEXTURE_WEBP","EXT_MESHOPT_COMPRESSION","refs","uses","_markDefs","nodeDefs","nodes","nodeIndex","nodeLength","nodeDef","_addNodeRef","_loadLight","lightIndex","dependency","lightDefs","lightDef","lightNode","innerConeAngle","outerConeAngle","createUniqueName","createNodeAttachment","_getNodeRef","getMaterialType","extendParams","materialParams","materialDef","metallicRoughness","pbrMetallicRoughness","baseColorFactor","baseColorTexture","assignTexture","extendMaterialParams","clearcoatFactor","clearcoatTexture","clearcoatRoughnessFactor","clearcoatRoughnessTexture","clearcoatNormalTexture","transmissionFactor","transmissionTexture","textureIndex","textureDef","loadTextureImage","isSupported","textureLoader","uri","handler","detectSupport","Image","onload","onerror","loadBufferView","bufferView","bufferViews","extensionDef","getDependency","decoder","supported","ready","byteOffset","byteLength","byteStride","decodeGltfBuffer","BINARY_EXTENSION_HEADER_LENGTH","BINARY_EXTENSION_CHUNK_TYPES","BIN","headerView","getUint32","chunkContentsLength","chunkView","chunkIndex","chunkLength","chunkType","contentArray","preload","decodePrimitive","primitive","bufferViewIndex","gltfAttributeMap","threeAttributeMap","attributeNormalizedMap","attributeTypeMap","attributeName","threeAttributeName","ATTRIBUTES","accessorDef","accessors","componentType","WEBGL_COMPONENT_TYPES","decodeDracoFile","extendTexture","texCoord","GLTFMeshStandardSGMaterial","isGLTFSpecularGlossinessMaterial","specularMapParsFragmentChunk","glossinessMapParsFragmentChunk","specularMapFragmentChunk","glossinessMapFragmentChunk","lightPhysicalFragmentChunk","glossiness","glossinessMap","_extraUniforms","uniformName","USE_SPECULARMAP","USE_GLOSSINESSMAP","USE_UV","specularGlossinessParams","pbrSpecularGlossiness","diffuseFactor","diffuseTexture","glossinessFactor","specularFactor","specularGlossinessTexture","specGlossMapDef","createMaterial","GLTFCubicSplineInterpolant","stride2","stride3","td","m0","WEBGL_CONSTANTS","FLOAT","FLOAT_MAT3","FLOAT_MAT4","FLOAT_VEC2","FLOAT_VEC3","FLOAT_VEC4","LINEAR","REPEAT","SAMPLER_2D","POINTS","LINES","LINE_LOOP","LINE_STRIP","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN","UNSIGNED_BYTE","UNSIGNED_SHORT","WEBGL_FILTERS","WEBGL_WRAPPINGS","WEBGL_TYPE_SIZES","POSITION","NORMAL","TANGENT","TEXCOORD_0","TEXCOORD_1","COLOR_0","WEIGHTS_0","JOINTS_0","PATH_PROPERTIES","translation","INTERPOLATION","CUBICSPLINE","STEP","ALPHA_MODES","OPAQUE","MASK","BLEND","createDefaultMaterial","addUnknownExtensionsToUserData","knownExtensions","objectDef","gltfExtensions","assignExtrasToUserData","gltfDef","extras","addMorphTargets","hasMorphPosition","hasMorphNormal","pendingPositionAccessors","pendingNormalAccessors","pendingAccessor","morphPositions","meshDef","targetNames","createPrimitiveKey","primitiveDef","dracoExtension","geometryKey","createAttributesKey","attributesKey","getNormalizedComponentScale","associations","primitiveCache","meshCache","cameraCache","lightCache","textureCache","nodeNamesUsed","_invokeAll","ext","beforeRoot","getDependencies","dependencies","scenes","afterRoot","skinDefs","skins","meshDefs","meshes","skinLength","skin","ref","_invokeOne","loadScene","loadNode","loadMesh","loadAccessor","loadBuffer","loadMaterial","loadSkin","loadAnimation","loadCamera","defs","def","bufferIndex","bufferDef","bufferViewDef","accessorIndex","sparse","pendingBufferViews","TypedArray","elementBytes","itemBytes","ibSlice","ibCacheKey","itemSizeIndices","SCALAR","TypedArrayIndices","byteOffsetIndices","byteOffsetValues","sparseIndices","sparseValues","sampler","URL","webkitURL","sourceURI","isObjectURL","hasAlpha","colorType","getUint8","createObjectURL","promise","revokeObjectURL","samplers","mapName","mapDef","gltfReference","assignFinalMaterial","useVertexTangents","useVertexColors","useFlatShading","useMorphTargets","useMorphNormals","pointsMaterial","lineMaterial","materialType","materialExtensions","sgExtension","kmuExtension","metallicFactor","roughnessFactor","metallicRoughnessTexture","alphaMode","alphaCutoff","normalTexture","occlusionTexture","strength","emissiveFactor","emissiveTexture","originalName","sanitizedName","loadGeometries","primitives","createDracoPrimitive","addPrimitiveAttributes","geometryPromise","meshIndex","toTrianglesDrawMode","cameraIndex","cameraDef","yfov","aspectRatio","znear","zfar","xmag","ymag","skinDef","skinEntry","inverseBindMatrices","accessor","animationIndex","animationDef","pendingNodes","pendingInputAccessors","pendingOutputAccessors","pendingSamplers","pendingTargets","channels","input","inputAccessors","outputAccessors","inputAccessor","outputAccessor","targetName","outputArray","scaled","InterpolantFactoryMethodGLTFCubicSpline","createNodeMesh","meshPromise","sceneIndex","sceneDef","nodeIds","buildNodeHierachy","nodeId","parentObject","pendingJoints","jointNodes","jointNode","computeBounds","boxScale","maxDisplacement","assignAttributeAccessor","gltfAttributeName","numberOfTriangles","newIndices","newGeometry","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","handled","assets","isNew","didAccept","hmrAcceptCheck","parcelRequire","every","generated","js","hmrApply","hmrAcceptRun","reload","onclose","removeErrorOverlay","stack","overlay","createErrorOverlay","getElementById","stackTrace","innerText","getParents","modules","parents","Function","deps","some"],"mappings":"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AACA;AACA;AACA;AACA;AACA,GApCiD;AAsCzC/tG,IAAAA,QAAQ,EAAEj5B,UAtC+B;AAuCzC25B,IAAAA,SAAS,EAAE,KAvC8B;AAwCzCC,IAAAA,UAAU,EAAE;AAxC6B,GAAtB,CAAvB;AA4CA,SAAOktG,cAAP;AAEH;;AAED,SAASC,sBAAT,GAAkC;AAE9B;AAAO;AAAY;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzDI;AA2DH;;AAED,SAASC,aAAT,GAAyB;AAErB;AAAO;AAAY;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhFI;AAkFH;;AAED,SAASC,KAAT,CAAe38K,CAAf,EAAkBqN,CAAlB,EAAqBwH,CAArB,EAAwBpN,CAAxB,EAA2BytD,MAA3B,EAAmC9/C,KAAnC,EAA0Ci5D,aAA1C,EAAyD;AAErDpxE,EAAAA,OAAO,CAACC,IAAR,CAAa,sEAAb;AACA,SAAO,IAAIkxE,KAAJ,CAAUpuE,CAAV,EAAaqN,CAAb,EAAgBwH,CAAhB,EAAmBqgD,MAAnB,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","file":"src.77de5100.js","sourceRoot":"../src","sourcesContent":["function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\n/*!\n * GSAP 3.7.0\n * https://greensock.com\n *\n * @license Copyright 2008-2021, GreenSock. All rights reserved.\n * Subject to the terms at https://greensock.com/standard-license or for\n * Club GreenSock members, the agreement issued with that membership.\n * @author: Jack Doyle, jack@greensock.com\n*/\n\n/* eslint-disable */\nvar _config = {\n  autoSleep: 120,\n  force3D: \"auto\",\n  nullTargetWarn: 1,\n  units: {\n    lineHeight: \"\"\n  }\n},\n    _defaults = {\n  duration: .5,\n  overwrite: false,\n  delay: 0\n},\n    _suppressOverwrites,\n    _bigNum = 1e8,\n    _tinyNum = 1 / _bigNum,\n    _2PI = Math.PI * 2,\n    _HALF_PI = _2PI / 4,\n    _gsID = 0,\n    _sqrt = Math.sqrt,\n    _cos = Math.cos,\n    _sin = Math.sin,\n    _isString = function _isString(value) {\n  return typeof value === \"string\";\n},\n    _isFunction = function _isFunction(value) {\n  return typeof value === \"function\";\n},\n    _isNumber = function _isNumber(value) {\n  return typeof value === \"number\";\n},\n    _isUndefined = function _isUndefined(value) {\n  return typeof value === \"undefined\";\n},\n    _isObject = function _isObject(value) {\n  return typeof value === \"object\";\n},\n    _isNotFalse = function _isNotFalse(value) {\n  return value !== false;\n},\n    _windowExists = function _windowExists() {\n  return typeof window !== \"undefined\";\n},\n    _isFuncOrString = function _isFuncOrString(value) {\n  return _isFunction(value) || _isString(value);\n},\n    _isTypedArray = typeof ArrayBuffer === \"function\" && ArrayBuffer.isView || function () {},\n    // note: IE10 has ArrayBuffer, but NOT ArrayBuffer.isView().\n_isArray = Array.isArray,\n    _strictNumExp = /(?:-?\\.?\\d|\\.)+/gi,\n    //only numbers (including negatives and decimals) but NOT relative values.\n_numExp = /[-+=.]*\\d+[.e\\-+]*\\d*[e\\-+]*\\d*/g,\n    //finds any numbers, including ones that start with += or -=, negative numbers, and ones in scientific notation like 1e-8.\n_numWithUnitExp = /[-+=.]*\\d+[.e-]*\\d*[a-z%]*/g,\n    _complexStringNumExp = /[-+=.]*\\d+\\.?\\d*(?:e-|e\\+)?\\d*/gi,\n    //duplicate so that while we're looping through matches from exec(), it doesn't contaminate the lastIndex of _numExp which we use to search for colors too.\n_relExp = /[+-]=-?[.\\d]+/,\n    _delimitedValueExp = /[^,'\"\\[\\]\\s]+/gi,\n    // previously /[#\\-+.]*\\b[a-z\\d\\-=+%.]+/gi but didn't catch special characters.\n_unitExp = /[\\d.+\\-=]+(?:e[-+]\\d*)*/i,\n    _globalTimeline,\n    _win,\n    _coreInitted,\n    _doc,\n    _globals = {},\n    _installScope = {},\n    _coreReady,\n    _install = function _install(scope) {\n  return (_installScope = _merge(scope, _globals)) && gsap;\n},\n    _missingPlugin = function _missingPlugin(property, value) {\n  return console.warn(\"Invalid property\", property, \"set to\", value, \"Missing plugin? gsap.registerPlugin()\");\n},\n    _warn = function _warn(message, suppress) {\n  return !suppress && console.warn(message);\n},\n    _addGlobal = function _addGlobal(name, obj) {\n  return name && (_globals[name] = obj) && _installScope && (_installScope[name] = obj) || _globals;\n},\n    _emptyFunc = function _emptyFunc() {\n  return 0;\n},\n    _reservedProps = {},\n    _lazyTweens = [],\n    _lazyLookup = {},\n    _lastRenderedFrame,\n    _plugins = {},\n    _effects = {},\n    _nextGCFrame = 30,\n    _harnessPlugins = [],\n    _callbackNames = \"\",\n    _harness = function _harness(targets) {\n  var target = targets[0],\n      harnessPlugin,\n      i;\n  _isObject(target) || _isFunction(target) || (targets = [targets]);\n\n  if (!(harnessPlugin = (target._gsap || {}).harness)) {\n    // find the first target with a harness. We assume targets passed into an animation will be of similar type, meaning the same kind of harness can be used for them all (performance optimization)\n    i = _harnessPlugins.length;\n\n    while (i-- && !_harnessPlugins[i].targetTest(target)) {}\n\n    harnessPlugin = _harnessPlugins[i];\n  }\n\n  i = targets.length;\n\n  while (i--) {\n    targets[i] && (targets[i]._gsap || (targets[i]._gsap = new GSCache(targets[i], harnessPlugin))) || targets.splice(i, 1);\n  }\n\n  return targets;\n},\n    _getCache = function _getCache(target) {\n  return target._gsap || _harness(toArray(target))[0]._gsap;\n},\n    _getProperty = function _getProperty(target, property, v) {\n  return (v = target[property]) && _isFunction(v) ? target[property]() : _isUndefined(v) && target.getAttribute && target.getAttribute(property) || v;\n},\n    _forEachName = function _forEachName(names, func) {\n  return (names = names.split(\",\")).forEach(func) || names;\n},\n    //split a comma-delimited list of names into an array, then run a forEach() function and return the split array (this is just a way to consolidate/shorten some code).\n_round = function _round(value) {\n  return Math.round(value * 100000) / 100000 || 0;\n},\n    _arrayContainsAny = function _arrayContainsAny(toSearch, toFind) {\n  //searches one array to find matches for any of the items in the toFind array. As soon as one is found, it returns true. It does NOT return all the matches; it's simply a boolean search.\n  var l = toFind.length,\n      i = 0;\n\n  for (; toSearch.indexOf(toFind[i]) < 0 && ++i < l;) {}\n\n  return i < l;\n},\n    _lazyRender = function _lazyRender() {\n  var l = _lazyTweens.length,\n      a = _lazyTweens.slice(0),\n      i,\n      tween;\n\n  _lazyLookup = {};\n  _lazyTweens.length = 0;\n\n  for (i = 0; i < l; i++) {\n    tween = a[i];\n    tween && tween._lazy && (tween.render(tween._lazy[0], tween._lazy[1], true)._lazy = 0);\n  }\n},\n    _lazySafeRender = function _lazySafeRender(animation, time, suppressEvents, force) {\n  _lazyTweens.length && _lazyRender();\n  animation.render(time, suppressEvents, force);\n  _lazyTweens.length && _lazyRender(); //in case rendering caused any tweens to lazy-init, we should render them because typically when someone calls seek() or time() or progress(), they expect an immediate render.\n},\n    _numericIfPossible = function _numericIfPossible(value) {\n  var n = parseFloat(value);\n  return (n || n === 0) && (value + \"\").match(_delimitedValueExp).length < 2 ? n : _isString(value) ? value.trim() : value;\n},\n    _passThrough = function _passThrough(p) {\n  return p;\n},\n    _setDefaults = function _setDefaults(obj, defaults) {\n  for (var p in defaults) {\n    p in obj || (obj[p] = defaults[p]);\n  }\n\n  return obj;\n},\n    _setKeyframeDefaults = function _setKeyframeDefaults(obj, defaults) {\n  for (var p in defaults) {\n    p in obj || p === \"duration\" || p === \"ease\" || (obj[p] = defaults[p]);\n  }\n},\n    _merge = function _merge(base, toMerge) {\n  for (var p in toMerge) {\n    base[p] = toMerge[p];\n  }\n\n  return base;\n},\n    _mergeDeep = function _mergeDeep(base, toMerge) {\n  for (var p in toMerge) {\n    p !== \"__proto__\" && p !== \"constructor\" && p !== \"prototype\" && (base[p] = _isObject(toMerge[p]) ? _mergeDeep(base[p] || (base[p] = {}), toMerge[p]) : toMerge[p]);\n  }\n\n  return base;\n},\n    _copyExcluding = function _copyExcluding(obj, excluding) {\n  var copy = {},\n      p;\n\n  for (p in obj) {\n    p in excluding || (copy[p] = obj[p]);\n  }\n\n  return copy;\n},\n    _inheritDefaults = function _inheritDefaults(vars) {\n  var parent = vars.parent || _globalTimeline,\n      func = vars.keyframes ? _setKeyframeDefaults : _setDefaults;\n\n  if (_isNotFalse(vars.inherit)) {\n    while (parent) {\n      func(vars, parent.vars.defaults);\n      parent = parent.parent || parent._dp;\n    }\n  }\n\n  return vars;\n},\n    _arraysMatch = function _arraysMatch(a1, a2) {\n  var i = a1.length,\n      match = i === a2.length;\n\n  while (match && i-- && a1[i] === a2[i]) {}\n\n  return i < 0;\n},\n    _addLinkedListItem = function _addLinkedListItem(parent, child, firstProp, lastProp, sortBy) {\n  if (firstProp === void 0) {\n    firstProp = \"_first\";\n  }\n\n  if (lastProp === void 0) {\n    lastProp = \"_last\";\n  }\n\n  var prev = parent[lastProp],\n      t;\n\n  if (sortBy) {\n    t = child[sortBy];\n\n    while (prev && prev[sortBy] > t) {\n      prev = prev._prev;\n    }\n  }\n\n  if (prev) {\n    child._next = prev._next;\n    prev._next = child;\n  } else {\n    child._next = parent[firstProp];\n    parent[firstProp] = child;\n  }\n\n  if (child._next) {\n    child._next._prev = child;\n  } else {\n    parent[lastProp] = child;\n  }\n\n  child._prev = prev;\n  child.parent = child._dp = parent;\n  return child;\n},\n    _removeLinkedListItem = function _removeLinkedListItem(parent, child, firstProp, lastProp) {\n  if (firstProp === void 0) {\n    firstProp = \"_first\";\n  }\n\n  if (lastProp === void 0) {\n    lastProp = \"_last\";\n  }\n\n  var prev = child._prev,\n      next = child._next;\n\n  if (prev) {\n    prev._next = next;\n  } else if (parent[firstProp] === child) {\n    parent[firstProp] = next;\n  }\n\n  if (next) {\n    next._prev = prev;\n  } else if (parent[lastProp] === child) {\n    parent[lastProp] = prev;\n  }\n\n  child._next = child._prev = child.parent = null; // don't delete the _dp just so we can revert if necessary. But parent should be null to indicate the item isn't in a linked list.\n},\n    _removeFromParent = function _removeFromParent(child, onlyIfParentHasAutoRemove) {\n  child.parent && (!onlyIfParentHasAutoRemove || child.parent.autoRemoveChildren) && child.parent.remove(child);\n  child._act = 0;\n},\n    _uncache = function _uncache(animation, child) {\n  if (animation && (!child || child._end > animation._dur || child._start < 0)) {\n    // performance optimization: if a child animation is passed in we should only uncache if that child EXTENDS the animation (its end time is beyond the end)\n    var a = animation;\n\n    while (a) {\n      a._dirty = 1;\n      a = a.parent;\n    }\n  }\n\n  return animation;\n},\n    _recacheAncestors = function _recacheAncestors(animation) {\n  var parent = animation.parent;\n\n  while (parent && parent.parent) {\n    //sometimes we must force a re-sort of all children and update the duration/totalDuration of all ancestor timelines immediately in case, for example, in the middle of a render loop, one tween alters another tween's timeScale which shoves its startTime before 0, forcing the parent timeline to shift around and shiftChildren() which could affect that next tween's render (startTime). Doesn't matter for the root timeline though.\n    parent._dirty = 1;\n    parent.totalDuration();\n    parent = parent.parent;\n  }\n\n  return animation;\n},\n    _hasNoPausedAncestors = function _hasNoPausedAncestors(animation) {\n  return !animation || animation._ts && _hasNoPausedAncestors(animation.parent);\n},\n    _elapsedCycleDuration = function _elapsedCycleDuration(animation) {\n  return animation._repeat ? _animationCycle(animation._tTime, animation = animation.duration() + animation._rDelay) * animation : 0;\n},\n    // feed in the totalTime and cycleDuration and it'll return the cycle (iteration minus 1) and if the playhead is exactly at the very END, it will NOT bump up to the next cycle.\n_animationCycle = function _animationCycle(tTime, cycleDuration) {\n  var whole = Math.floor(tTime /= cycleDuration);\n  return tTime && whole === tTime ? whole - 1 : whole;\n},\n    _parentToChildTotalTime = function _parentToChildTotalTime(parentTime, child) {\n  return (parentTime - child._start) * child._ts + (child._ts >= 0 ? 0 : child._dirty ? child.totalDuration() : child._tDur);\n},\n    _setEnd = function _setEnd(animation) {\n  return animation._end = _round(animation._start + (animation._tDur / Math.abs(animation._ts || animation._rts || _tinyNum) || 0));\n},\n    _alignPlayhead = function _alignPlayhead(animation, totalTime) {\n  // adjusts the animation's _start and _end according to the provided totalTime (only if the parent's smoothChildTiming is true and the animation isn't paused). It doesn't do any rendering or forcing things back into parent timelines, etc. - that's what totalTime() is for.\n  var parent = animation._dp;\n\n  if (parent && parent.smoothChildTiming && animation._ts) {\n    animation._start = _round(parent._time - (animation._ts > 0 ? totalTime / animation._ts : ((animation._dirty ? animation.totalDuration() : animation._tDur) - totalTime) / -animation._ts));\n\n    _setEnd(animation);\n\n    parent._dirty || _uncache(parent, animation); //for performance improvement. If the parent's cache is already dirty, it already took care of marking the ancestors as dirty too, so skip the function call here.\n  }\n\n  return animation;\n},\n\n/*\n_totalTimeToTime = (clampedTotalTime, duration, repeat, repeatDelay, yoyo) => {\n\tlet cycleDuration = duration + repeatDelay,\n\t\ttime = _round(clampedTotalTime % cycleDuration);\n\tif (time > duration) {\n\t\ttime = duration;\n\t}\n\treturn (yoyo && (~~(clampedTotalTime / cycleDuration) & 1)) ? duration - time : time;\n},\n*/\n_postAddChecks = function _postAddChecks(timeline, child) {\n  var t;\n\n  if (child._time || child._initted && !child._dur) {\n    //in case, for example, the _start is moved on a tween that has already rendered. Imagine it's at its end state, then the startTime is moved WAY later (after the end of this timeline), it should render at its beginning.\n    t = _parentToChildTotalTime(timeline.rawTime(), child);\n\n    if (!child._dur || _clamp(0, child.totalDuration(), t) - child._tTime > _tinyNum) {\n      child.render(t, true);\n    }\n  } //if the timeline has already ended but the inserted tween/timeline extends the duration, we should enable this timeline again so that it renders properly. We should also align the playhead with the parent timeline's when appropriate.\n\n\n  if (_uncache(timeline, child)._dp && timeline._initted && timeline._time >= timeline._dur && timeline._ts) {\n    //in case any of the ancestors had completed but should now be enabled...\n    if (timeline._dur < timeline.duration()) {\n      t = timeline;\n\n      while (t._dp) {\n        t.rawTime() >= 0 && t.totalTime(t._tTime); //moves the timeline (shifts its startTime) if necessary, and also enables it. If it's currently zero, though, it may not be scheduled to render until later so there's no need to force it to align with the current playhead position. Only move to catch up with the playhead.\n\n        t = t._dp;\n      }\n    }\n\n    timeline._zTime = -_tinyNum; // helps ensure that the next render() will be forced (crossingStart = true in render()), even if the duration hasn't changed (we're adding a child which would need to get rendered). Definitely an edge case. Note: we MUST do this AFTER the loop above where the totalTime() might trigger a render() because this _addToTimeline() method gets called from the Animation constructor, BEFORE tweens even record their targets, etc. so we wouldn't want things to get triggered in the wrong order.\n  }\n},\n    _addToTimeline = function _addToTimeline(timeline, child, position, skipChecks) {\n  child.parent && _removeFromParent(child);\n  child._start = _round((_isNumber(position) ? position : position || timeline !== _globalTimeline ? _parsePosition(timeline, position, child) : timeline._time) + child._delay);\n  child._end = _round(child._start + (child.totalDuration() / Math.abs(child.timeScale()) || 0));\n\n  _addLinkedListItem(timeline, child, \"_first\", \"_last\", timeline._sort ? \"_start\" : 0);\n\n  _isFromOrFromStart(child) || (timeline._recent = child);\n  skipChecks || _postAddChecks(timeline, child);\n  return timeline;\n},\n    _scrollTrigger = function _scrollTrigger(animation, trigger) {\n  return (_globals.ScrollTrigger || _missingPlugin(\"scrollTrigger\", trigger)) && _globals.ScrollTrigger.create(trigger, animation);\n},\n    _attemptInitTween = function _attemptInitTween(tween, totalTime, force, suppressEvents) {\n  _initTween(tween, totalTime);\n\n  if (!tween._initted) {\n    return 1;\n  }\n\n  if (!force && tween._pt && (tween._dur && tween.vars.lazy !== false || !tween._dur && tween.vars.lazy) && _lastRenderedFrame !== _ticker.frame) {\n    _lazyTweens.push(tween);\n\n    tween._lazy = [totalTime, suppressEvents];\n    return 1;\n  }\n},\n    _parentPlayheadIsBeforeStart = function _parentPlayheadIsBeforeStart(_ref) {\n  var parent = _ref.parent;\n  return parent && parent._ts && parent._initted && !parent._lock && (parent.rawTime() < 0 || _parentPlayheadIsBeforeStart(parent));\n},\n    // check parent's _lock because when a timeline repeats/yoyos and does its artificial wrapping, we shouldn't force the ratio back to 0\n_isFromOrFromStart = function _isFromOrFromStart(_ref2) {\n  var data = _ref2.data;\n  return data === \"isFromStart\" || data === \"isStart\";\n},\n    _renderZeroDurationTween = function _renderZeroDurationTween(tween, totalTime, suppressEvents, force) {\n  var prevRatio = tween.ratio,\n      ratio = totalTime < 0 || !totalTime && (!tween._start && _parentPlayheadIsBeforeStart(tween) && !(!tween._initted && _isFromOrFromStart(tween)) || (tween._ts < 0 || tween._dp._ts < 0) && !_isFromOrFromStart(tween)) ? 0 : 1,\n      // if the tween or its parent is reversed and the totalTime is 0, we should go to a ratio of 0. Edge case: if a from() or fromTo() stagger tween is placed later in a timeline, the \"startAt\" zero-duration tween could initially render at a time when the parent timeline's playhead is technically BEFORE where this tween is, so make sure that any \"from\" and \"fromTo\" startAt tweens are rendered the first time at a ratio of 1.\n  repeatDelay = tween._rDelay,\n      tTime = 0,\n      pt,\n      iteration,\n      prevIteration;\n\n  if (repeatDelay && tween._repeat) {\n    // in case there's a zero-duration tween that has a repeat with a repeatDelay\n    tTime = _clamp(0, tween._tDur, totalTime);\n    iteration = _animationCycle(tTime, repeatDelay);\n    prevIteration = _animationCycle(tween._tTime, repeatDelay);\n    tween._yoyo && iteration & 1 && (ratio = 1 - ratio);\n\n    if (iteration !== prevIteration) {\n      prevRatio = 1 - ratio;\n      tween.vars.repeatRefresh && tween._initted && tween.invalidate();\n    }\n  }\n\n  if (ratio !== prevRatio || force || tween._zTime === _tinyNum || !totalTime && tween._zTime) {\n    if (!tween._initted && _attemptInitTween(tween, totalTime, force, suppressEvents)) {\n      // if we render the very beginning (time == 0) of a fromTo(), we must force the render (normal tweens wouldn't need to render at a time of 0 when the prevTime was also 0). This is also mandatory to make sure overwriting kicks in immediately.\n      return;\n    }\n\n    prevIteration = tween._zTime;\n    tween._zTime = totalTime || (suppressEvents ? _tinyNum : 0); // when the playhead arrives at EXACTLY time 0 (right on top) of a zero-duration tween, we need to discern if events are suppressed so that when the playhead moves again (next time), it'll trigger the callback. If events are NOT suppressed, obviously the callback would be triggered in this render. Basically, the callback should fire either when the playhead ARRIVES or LEAVES this exact spot, not both. Imagine doing a timeline.seek(0) and there's a callback that sits at 0. Since events are suppressed on that seek() by default, nothing will fire, but when the playhead moves off of that position, the callback should fire. This behavior is what people intuitively expect.\n\n    suppressEvents || (suppressEvents = totalTime && !prevIteration); // if it was rendered previously at exactly 0 (_zTime) and now the playhead is moving away, DON'T fire callbacks otherwise they'll seem like duplicates.\n\n    tween.ratio = ratio;\n    tween._from && (ratio = 1 - ratio);\n    tween._time = 0;\n    tween._tTime = tTime;\n    pt = tween._pt;\n\n    while (pt) {\n      pt.r(ratio, pt.d);\n      pt = pt._next;\n    }\n\n    tween._startAt && totalTime < 0 && tween._startAt.render(totalTime, true, true);\n    tween._onUpdate && !suppressEvents && _callback(tween, \"onUpdate\");\n    tTime && tween._repeat && !suppressEvents && tween.parent && _callback(tween, \"onRepeat\");\n\n    if ((totalTime >= tween._tDur || totalTime < 0) && tween.ratio === ratio) {\n      ratio && _removeFromParent(tween, 1);\n\n      if (!suppressEvents) {\n        _callback(tween, ratio ? \"onComplete\" : \"onReverseComplete\", true);\n\n        tween._prom && tween._prom();\n      }\n    }\n  } else if (!tween._zTime) {\n    tween._zTime = totalTime;\n  }\n},\n    _findNextPauseTween = function _findNextPauseTween(animation, prevTime, time) {\n  var child;\n\n  if (time > prevTime) {\n    child = animation._first;\n\n    while (child && child._start <= time) {\n      if (!child._dur && child.data === \"isPause\" && child._start > prevTime) {\n        return child;\n      }\n\n      child = child._next;\n    }\n  } else {\n    child = animation._last;\n\n    while (child && child._start >= time) {\n      if (!child._dur && child.data === \"isPause\" && child._start < prevTime) {\n        return child;\n      }\n\n      child = child._prev;\n    }\n  }\n},\n    _setDuration = function _setDuration(animation, duration, skipUncache, leavePlayhead) {\n  var repeat = animation._repeat,\n      dur = _round(duration) || 0,\n      totalProgress = animation._tTime / animation._tDur;\n  totalProgress && !leavePlayhead && (animation._time *= dur / animation._dur);\n  animation._dur = dur;\n  animation._tDur = !repeat ? dur : repeat < 0 ? 1e10 : _round(dur * (repeat + 1) + animation._rDelay * repeat);\n  totalProgress && !leavePlayhead ? _alignPlayhead(animation, animation._tTime = animation._tDur * totalProgress) : animation.parent && _setEnd(animation);\n  skipUncache || _uncache(animation.parent, animation);\n  return animation;\n},\n    _onUpdateTotalDuration = function _onUpdateTotalDuration(animation) {\n  return animation instanceof Timeline ? _uncache(animation) : _setDuration(animation, animation._dur);\n},\n    _zeroPosition = {\n  _start: 0,\n  endTime: _emptyFunc,\n  totalDuration: _emptyFunc\n},\n    _parsePosition = function _parsePosition(animation, position, percentAnimation) {\n  var labels = animation.labels,\n      recent = animation._recent || _zeroPosition,\n      clippedDuration = animation.duration() >= _bigNum ? recent.endTime(false) : animation._dur,\n      //in case there's a child that infinitely repeats, users almost never intend for the insertion point of a new child to be based on a SUPER long value like that so we clip it and assume the most recently-added child's endTime should be used instead.\n  i,\n      offset,\n      isPercent;\n\n  if (_isString(position) && (isNaN(position) || position in labels)) {\n    //if the string is a number like \"1\", check to see if there's a label with that name, otherwise interpret it as a number (absolute value).\n    offset = position.charAt(0);\n    isPercent = position.substr(-1) === \"%\";\n    i = position.indexOf(\"=\");\n\n    if (offset === \"<\" || offset === \">\") {\n      i >= 0 && (position = position.replace(/=/, \"\"));\n      return (offset === \"<\" ? recent._start : recent.endTime(recent._repeat >= 0)) + (parseFloat(position.substr(1)) || 0) * (isPercent ? (i < 0 ? recent : percentAnimation).totalDuration() / 100 : 1);\n    }\n\n    if (i < 0) {\n      position in labels || (labels[position] = clippedDuration);\n      return labels[position];\n    }\n\n    offset = parseFloat(position.charAt(i - 1) + position.substr(i + 1));\n\n    if (isPercent && percentAnimation) {\n      offset = offset / 100 * (_isArray(percentAnimation) ? percentAnimation[0] : percentAnimation).totalDuration();\n    }\n\n    return i > 1 ? _parsePosition(animation, position.substr(0, i - 1), percentAnimation) + offset : clippedDuration + offset;\n  }\n\n  return position == null ? clippedDuration : +position;\n},\n    _createTweenType = function _createTweenType(type, params, timeline) {\n  var isLegacy = _isNumber(params[1]),\n      varsIndex = (isLegacy ? 2 : 1) + (type < 2 ? 0 : 1),\n      vars = params[varsIndex],\n      irVars,\n      parent;\n\n  isLegacy && (vars.duration = params[1]);\n  vars.parent = timeline;\n\n  if (type) {\n    irVars = vars;\n    parent = timeline;\n\n    while (parent && !(\"immediateRender\" in irVars)) {\n      // inheritance hasn't happened yet, but someone may have set a default in an ancestor timeline. We could do vars.immediateRender = _isNotFalse(_inheritDefaults(vars).immediateRender) but that'd exact a slight performance penalty because _inheritDefaults() also runs in the Tween constructor. We're paying a small kb price here to gain speed.\n      irVars = parent.vars.defaults || {};\n      parent = _isNotFalse(parent.vars.inherit) && parent.parent;\n    }\n\n    vars.immediateRender = _isNotFalse(irVars.immediateRender);\n    type < 2 ? vars.runBackwards = 1 : vars.startAt = params[varsIndex - 1]; // \"from\" vars\n  }\n\n  return new Tween(params[0], vars, params[varsIndex + 1]);\n},\n    _conditionalReturn = function _conditionalReturn(value, func) {\n  return value || value === 0 ? func(value) : func;\n},\n    _clamp = function _clamp(min, max, value) {\n  return value < min ? min : value > max ? max : value;\n},\n    getUnit = function getUnit(value) {\n  if (typeof value !== \"string\") {\n    return \"\";\n  }\n\n  var v = _unitExp.exec(value);\n\n  return v ? value.substr(v.index + v[0].length) : \"\";\n},\n    // note: protect against padded numbers as strings, like \"100.100\". That shouldn't return \"00\" as the unit. If it's numeric, return no unit.\nclamp = function clamp(min, max, value) {\n  return _conditionalReturn(value, function (v) {\n    return _clamp(min, max, v);\n  });\n},\n    _slice = [].slice,\n    _isArrayLike = function _isArrayLike(value, nonEmpty) {\n  return value && _isObject(value) && \"length\" in value && (!nonEmpty && !value.length || value.length - 1 in value && _isObject(value[0])) && !value.nodeType && value !== _win;\n},\n    _flatten = function _flatten(ar, leaveStrings, accumulator) {\n  if (accumulator === void 0) {\n    accumulator = [];\n  }\n\n  return ar.forEach(function (value) {\n    var _accumulator;\n\n    return _isString(value) && !leaveStrings || _isArrayLike(value, 1) ? (_accumulator = accumulator).push.apply(_accumulator, toArray(value)) : accumulator.push(value);\n  }) || accumulator;\n},\n    //takes any value and returns an array. If it's a string (and leaveStrings isn't true), it'll use document.querySelectorAll() and convert that to an array. It'll also accept iterables like jQuery objects.\ntoArray = function toArray(value, scope, leaveStrings) {\n  return _isString(value) && !leaveStrings && (_coreInitted || !_wake()) ? _slice.call((scope || _doc).querySelectorAll(value), 0) : _isArray(value) ? _flatten(value, leaveStrings) : _isArrayLike(value) ? _slice.call(value, 0) : value ? [value] : [];\n},\n    selector = function selector(value) {\n  value = toArray(value)[0] || _warn(\"Invalid scope\") || {};\n  return function (v) {\n    var el = value.current || value.nativeElement || value;\n    return toArray(v, el.querySelectorAll ? el : el === value ? _warn(\"Invalid scope\") || _doc.createElement(\"div\") : value);\n  };\n},\n    shuffle = function shuffle(a) {\n  return a.sort(function () {\n    return .5 - Math.random();\n  });\n},\n    // alternative that's a bit faster and more reliably diverse but bigger:   for (let j, v, i = a.length; i; j = Math.floor(Math.random() * i), v = a[--i], a[i] = a[j], a[j] = v); return a;\n//for distributing values across an array. Can accept a number, a function or (most commonly) a function which can contain the following properties: {base, amount, from, ease, grid, axis, length, each}. Returns a function that expects the following parameters: index, target, array. Recognizes the following\ndistribute = function distribute(v) {\n  if (_isFunction(v)) {\n    return v;\n  }\n\n  var vars = _isObject(v) ? v : {\n    each: v\n  },\n      //n:1 is just to indicate v was a number; we leverage that later to set v according to the length we get. If a number is passed in, we treat it like the old stagger value where 0.1, for example, would mean that things would be distributed with 0.1 between each element in the array rather than a total \"amount\" that's chunked out among them all.\n  ease = _parseEase(vars.ease),\n      from = vars.from || 0,\n      base = parseFloat(vars.base) || 0,\n      cache = {},\n      isDecimal = from > 0 && from < 1,\n      ratios = isNaN(from) || isDecimal,\n      axis = vars.axis,\n      ratioX = from,\n      ratioY = from;\n\n  if (_isString(from)) {\n    ratioX = ratioY = {\n      center: .5,\n      edges: .5,\n      end: 1\n    }[from] || 0;\n  } else if (!isDecimal && ratios) {\n    ratioX = from[0];\n    ratioY = from[1];\n  }\n\n  return function (i, target, a) {\n    var l = (a || vars).length,\n        distances = cache[l],\n        originX,\n        originY,\n        x,\n        y,\n        d,\n        j,\n        max,\n        min,\n        wrapAt;\n\n    if (!distances) {\n      wrapAt = vars.grid === \"auto\" ? 0 : (vars.grid || [1, _bigNum])[1];\n\n      if (!wrapAt) {\n        max = -_bigNum;\n\n        while (max < (max = a[wrapAt++].getBoundingClientRect().left) && wrapAt < l) {}\n\n        wrapAt--;\n      }\n\n      distances = cache[l] = [];\n      originX = ratios ? Math.min(wrapAt, l) * ratioX - .5 : from % wrapAt;\n      originY = ratios ? l * ratioY / wrapAt - .5 : from / wrapAt | 0;\n      max = 0;\n      min = _bigNum;\n\n      for (j = 0; j < l; j++) {\n        x = j % wrapAt - originX;\n        y = originY - (j / wrapAt | 0);\n        distances[j] = d = !axis ? _sqrt(x * x + y * y) : Math.abs(axis === \"y\" ? y : x);\n        d > max && (max = d);\n        d < min && (min = d);\n      }\n\n      from === \"random\" && shuffle(distances);\n      distances.max = max - min;\n      distances.min = min;\n      distances.v = l = (parseFloat(vars.amount) || parseFloat(vars.each) * (wrapAt > l ? l - 1 : !axis ? Math.max(wrapAt, l / wrapAt) : axis === \"y\" ? l / wrapAt : wrapAt) || 0) * (from === \"edges\" ? -1 : 1);\n      distances.b = l < 0 ? base - l : base;\n      distances.u = getUnit(vars.amount || vars.each) || 0; //unit\n\n      ease = ease && l < 0 ? _invertEase(ease) : ease;\n    }\n\n    l = (distances[i] - distances.min) / distances.max || 0;\n    return _round(distances.b + (ease ? ease(l) : l) * distances.v) + distances.u; //round in order to work around floating point errors\n  };\n},\n    _roundModifier = function _roundModifier(v) {\n  //pass in 0.1 get a function that'll round to the nearest tenth, or 5 to round to the closest 5, or 0.001 to the closest 1000th, etc.\n  var p = v < 1 ? Math.pow(10, (v + \"\").length - 2) : 1; //to avoid floating point math errors (like 24 * 0.1 == 2.4000000000000004), we chop off at a specific number of decimal places (much faster than toFixed()\n\n  return function (raw) {\n    var n = Math.round(parseFloat(raw) / v) * v * p;\n    return (n - n % 1) / p + (_isNumber(raw) ? 0 : getUnit(raw)); // n - n % 1 replaces Math.floor() in order to handle negative values properly. For example, Math.floor(-150.00000000000003) is 151!\n  };\n},\n    snap = function snap(snapTo, value) {\n  var isArray = _isArray(snapTo),\n      radius,\n      is2D;\n\n  if (!isArray && _isObject(snapTo)) {\n    radius = isArray = snapTo.radius || _bigNum;\n\n    if (snapTo.values) {\n      snapTo = toArray(snapTo.values);\n\n      if (is2D = !_isNumber(snapTo[0])) {\n        radius *= radius; //performance optimization so we don't have to Math.sqrt() in the loop.\n      }\n    } else {\n      snapTo = _roundModifier(snapTo.increment);\n    }\n  }\n\n  return _conditionalReturn(value, !isArray ? _roundModifier(snapTo) : _isFunction(snapTo) ? function (raw) {\n    is2D = snapTo(raw);\n    return Math.abs(is2D - raw) <= radius ? is2D : raw;\n  } : function (raw) {\n    var x = parseFloat(is2D ? raw.x : raw),\n        y = parseFloat(is2D ? raw.y : 0),\n        min = _bigNum,\n        closest = 0,\n        i = snapTo.length,\n        dx,\n        dy;\n\n    while (i--) {\n      if (is2D) {\n        dx = snapTo[i].x - x;\n        dy = snapTo[i].y - y;\n        dx = dx * dx + dy * dy;\n      } else {\n        dx = Math.abs(snapTo[i] - x);\n      }\n\n      if (dx < min) {\n        min = dx;\n        closest = i;\n      }\n    }\n\n    closest = !radius || min <= radius ? snapTo[closest] : raw;\n    return is2D || closest === raw || _isNumber(raw) ? closest : closest + getUnit(raw);\n  });\n},\n    random = function random(min, max, roundingIncrement, returnFunction) {\n  return _conditionalReturn(_isArray(min) ? !max : roundingIncrement === true ? !!(roundingIncrement = 0) : !returnFunction, function () {\n    return _isArray(min) ? min[~~(Math.random() * min.length)] : (roundingIncrement = roundingIncrement || 1e-5) && (returnFunction = roundingIncrement < 1 ? Math.pow(10, (roundingIncrement + \"\").length - 2) : 1) && Math.floor(Math.round((min - roundingIncrement / 2 + Math.random() * (max - min + roundingIncrement * .99)) / roundingIncrement) * roundingIncrement * returnFunction) / returnFunction;\n  });\n},\n    pipe = function pipe() {\n  for (var _len = arguments.length, functions = new Array(_len), _key = 0; _key < _len; _key++) {\n    functions[_key] = arguments[_key];\n  }\n\n  return function (value) {\n    return functions.reduce(function (v, f) {\n      return f(v);\n    }, value);\n  };\n},\n    unitize = function unitize(func, unit) {\n  return function (value) {\n    return func(parseFloat(value)) + (unit || getUnit(value));\n  };\n},\n    normalize = function normalize(min, max, value) {\n  return mapRange(min, max, 0, 1, value);\n},\n    _wrapArray = function _wrapArray(a, wrapper, value) {\n  return _conditionalReturn(value, function (index) {\n    return a[~~wrapper(index)];\n  });\n},\n    wrap = function wrap(min, max, value) {\n  // NOTE: wrap() CANNOT be an arrow function! A very odd compiling bug causes problems (unrelated to GSAP).\n  var range = max - min;\n  return _isArray(min) ? _wrapArray(min, wrap(0, min.length), max) : _conditionalReturn(value, function (value) {\n    return (range + (value - min) % range) % range + min;\n  });\n},\n    wrapYoyo = function wrapYoyo(min, max, value) {\n  var range = max - min,\n      total = range * 2;\n  return _isArray(min) ? _wrapArray(min, wrapYoyo(0, min.length - 1), max) : _conditionalReturn(value, function (value) {\n    value = (total + (value - min) % total) % total || 0;\n    return min + (value > range ? total - value : value);\n  });\n},\n    _replaceRandom = function _replaceRandom(value) {\n  //replaces all occurrences of random(...) in a string with the calculated random value. can be a range like random(-100, 100, 5) or an array like random([0, 100, 500])\n  var prev = 0,\n      s = \"\",\n      i,\n      nums,\n      end,\n      isArray;\n\n  while (~(i = value.indexOf(\"random(\", prev))) {\n    end = value.indexOf(\")\", i);\n    isArray = value.charAt(i + 7) === \"[\";\n    nums = value.substr(i + 7, end - i - 7).match(isArray ? _delimitedValueExp : _strictNumExp);\n    s += value.substr(prev, i - prev) + random(isArray ? nums : +nums[0], isArray ? 0 : +nums[1], +nums[2] || 1e-5);\n    prev = end + 1;\n  }\n\n  return s + value.substr(prev, value.length - prev);\n},\n    mapRange = function mapRange(inMin, inMax, outMin, outMax, value) {\n  var inRange = inMax - inMin,\n      outRange = outMax - outMin;\n  return _conditionalReturn(value, function (value) {\n    return outMin + ((value - inMin) / inRange * outRange || 0);\n  });\n},\n    interpolate = function interpolate(start, end, progress, mutate) {\n  var func = isNaN(start + end) ? 0 : function (p) {\n    return (1 - p) * start + p * end;\n  };\n\n  if (!func) {\n    var isString = _isString(start),\n        master = {},\n        p,\n        i,\n        interpolators,\n        l,\n        il;\n\n    progress === true && (mutate = 1) && (progress = null);\n\n    if (isString) {\n      start = {\n        p: start\n      };\n      end = {\n        p: end\n      };\n    } else if (_isArray(start) && !_isArray(end)) {\n      interpolators = [];\n      l = start.length;\n      il = l - 2;\n\n      for (i = 1; i < l; i++) {\n        interpolators.push(interpolate(start[i - 1], start[i])); //build the interpolators up front as a performance optimization so that when the function is called many times, it can just reuse them.\n      }\n\n      l--;\n\n      func = function func(p) {\n        p *= l;\n        var i = Math.min(il, ~~p);\n        return interpolators[i](p - i);\n      };\n\n      progress = end;\n    } else if (!mutate) {\n      start = _merge(_isArray(start) ? [] : {}, start);\n    }\n\n    if (!interpolators) {\n      for (p in end) {\n        _addPropTween.call(master, start, p, \"get\", end[p]);\n      }\n\n      func = function func(p) {\n        return _renderPropTweens(p, master) || (isString ? start.p : start);\n      };\n    }\n  }\n\n  return _conditionalReturn(progress, func);\n},\n    _getLabelInDirection = function _getLabelInDirection(timeline, fromTime, backward) {\n  //used for nextLabel() and previousLabel()\n  var labels = timeline.labels,\n      min = _bigNum,\n      p,\n      distance,\n      label;\n\n  for (p in labels) {\n    distance = labels[p] - fromTime;\n\n    if (distance < 0 === !!backward && distance && min > (distance = Math.abs(distance))) {\n      label = p;\n      min = distance;\n    }\n  }\n\n  return label;\n},\n    _callback = function _callback(animation, type, executeLazyFirst) {\n  var v = animation.vars,\n      callback = v[type],\n      params,\n      scope;\n\n  if (!callback) {\n    return;\n  }\n\n  params = v[type + \"Params\"];\n  scope = v.callbackScope || animation;\n  executeLazyFirst && _lazyTweens.length && _lazyRender(); //in case rendering caused any tweens to lazy-init, we should render them because typically when a timeline finishes, users expect things to have rendered fully. Imagine an onUpdate on a timeline that reports/checks tweened values.\n\n  return params ? callback.apply(scope, params) : callback.call(scope);\n},\n    _interrupt = function _interrupt(animation) {\n  _removeFromParent(animation);\n\n  animation.scrollTrigger && animation.scrollTrigger.kill(false);\n  animation.progress() < 1 && _callback(animation, \"onInterrupt\");\n  return animation;\n},\n    _quickTween,\n    _createPlugin = function _createPlugin(config) {\n  config = !config.name && config[\"default\"] || config; //UMD packaging wraps things oddly, so for example MotionPathHelper becomes {MotionPathHelper:MotionPathHelper, default:MotionPathHelper}.\n\n  var name = config.name,\n      isFunc = _isFunction(config),\n      Plugin = name && !isFunc && config.init ? function () {\n    this._props = [];\n  } : config,\n      //in case someone passes in an object that's not a plugin, like CustomEase\n  instanceDefaults = {\n    init: _emptyFunc,\n    render: _renderPropTweens,\n    add: _addPropTween,\n    kill: _killPropTweensOf,\n    modifier: _addPluginModifier,\n    rawVars: 0\n  },\n      statics = {\n    targetTest: 0,\n    get: 0,\n    getSetter: _getSetter,\n    aliases: {},\n    register: 0\n  };\n\n  _wake();\n\n  if (config !== Plugin) {\n    if (_plugins[name]) {\n      return;\n    }\n\n    _setDefaults(Plugin, _setDefaults(_copyExcluding(config, instanceDefaults), statics)); //static methods\n\n\n    _merge(Plugin.prototype, _merge(instanceDefaults, _copyExcluding(config, statics))); //instance methods\n\n\n    _plugins[Plugin.prop = name] = Plugin;\n\n    if (config.targetTest) {\n      _harnessPlugins.push(Plugin);\n\n      _reservedProps[name] = 1;\n    }\n\n    name = (name === \"css\" ? \"CSS\" : name.charAt(0).toUpperCase() + name.substr(1)) + \"Plugin\"; //for the global name. \"motionPath\" should become MotionPathPlugin\n  }\n\n  _addGlobal(name, Plugin);\n\n  config.register && config.register(gsap, Plugin, PropTween);\n},\n\n/*\n * --------------------------------------------------------------------------------------\n * COLORS\n * --------------------------------------------------------------------------------------\n */\n_255 = 255,\n    _colorLookup = {\n  aqua: [0, _255, _255],\n  lime: [0, _255, 0],\n  silver: [192, 192, 192],\n  black: [0, 0, 0],\n  maroon: [128, 0, 0],\n  teal: [0, 128, 128],\n  blue: [0, 0, _255],\n  navy: [0, 0, 128],\n  white: [_255, _255, _255],\n  olive: [128, 128, 0],\n  yellow: [_255, _255, 0],\n  orange: [_255, 165, 0],\n  gray: [128, 128, 128],\n  purple: [128, 0, 128],\n  green: [0, 128, 0],\n  red: [_255, 0, 0],\n  pink: [_255, 192, 203],\n  cyan: [0, _255, _255],\n  transparent: [_255, _255, _255, 0]\n},\n    _hue = function _hue(h, m1, m2) {\n  h = h < 0 ? h + 1 : h > 1 ? h - 1 : h;\n  return (h * 6 < 1 ? m1 + (m2 - m1) * h * 6 : h < .5 ? m2 : h * 3 < 2 ? m1 + (m2 - m1) * (2 / 3 - h) * 6 : m1) * _255 + .5 | 0;\n},\n    splitColor = function splitColor(v, toHSL, forceAlpha) {\n  var a = !v ? _colorLookup.black : _isNumber(v) ? [v >> 16, v >> 8 & _255, v & _255] : 0,\n      r,\n      g,\n      b,\n      h,\n      s,\n      l,\n      max,\n      min,\n      d,\n      wasHSL;\n\n  if (!a) {\n    if (v.substr(-1) === \",\") {\n      //sometimes a trailing comma is included and we should chop it off (typically from a comma-delimited list of values like a textShadow:\"2px 2px 2px blue, 5px 5px 5px rgb(255,0,0)\" - in this example \"blue,\" has a trailing comma. We could strip it out inside parseComplex() but we'd need to do it to the beginning and ending values plus it wouldn't provide protection from other potential scenarios like if the user passes in a similar value.\n      v = v.substr(0, v.length - 1);\n    }\n\n    if (_colorLookup[v]) {\n      a = _colorLookup[v];\n    } else if (v.charAt(0) === \"#\") {\n      if (v.length < 6) {\n        //for shorthand like #9F0 or #9F0F (could have alpha)\n        r = v.charAt(1);\n        g = v.charAt(2);\n        b = v.charAt(3);\n        v = \"#\" + r + r + g + g + b + b + (v.length === 5 ? v.charAt(4) + v.charAt(4) : \"\");\n      }\n\n      if (v.length === 9) {\n        // hex with alpha, like #fd5e53ff\n        a = parseInt(v.substr(1, 6), 16);\n        return [a >> 16, a >> 8 & _255, a & _255, parseInt(v.substr(7), 16) / 255];\n      }\n\n      v = parseInt(v.substr(1), 16);\n      a = [v >> 16, v >> 8 & _255, v & _255];\n    } else if (v.substr(0, 3) === \"hsl\") {\n      a = wasHSL = v.match(_strictNumExp);\n\n      if (!toHSL) {\n        h = +a[0] % 360 / 360;\n        s = +a[1] / 100;\n        l = +a[2] / 100;\n        g = l <= .5 ? l * (s + 1) : l + s - l * s;\n        r = l * 2 - g;\n        a.length > 3 && (a[3] *= 1); //cast as number\n\n        a[0] = _hue(h + 1 / 3, r, g);\n        a[1] = _hue(h, r, g);\n        a[2] = _hue(h - 1 / 3, r, g);\n      } else if (~v.indexOf(\"=\")) {\n        //if relative values are found, just return the raw strings with the relative prefixes in place.\n        a = v.match(_numExp);\n        forceAlpha && a.length < 4 && (a[3] = 1);\n        return a;\n      }\n    } else {\n      a = v.match(_strictNumExp) || _colorLookup.transparent;\n    }\n\n    a = a.map(Number);\n  }\n\n  if (toHSL && !wasHSL) {\n    r = a[0] / _255;\n    g = a[1] / _255;\n    b = a[2] / _255;\n    max = Math.max(r, g, b);\n    min = Math.min(r, g, b);\n    l = (max + min) / 2;\n\n    if (max === min) {\n      h = s = 0;\n    } else {\n      d = max - min;\n      s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n      h = max === r ? (g - b) / d + (g < b ? 6 : 0) : max === g ? (b - r) / d + 2 : (r - g) / d + 4;\n      h *= 60;\n    }\n\n    a[0] = ~~(h + .5);\n    a[1] = ~~(s * 100 + .5);\n    a[2] = ~~(l * 100 + .5);\n  }\n\n  forceAlpha && a.length < 4 && (a[3] = 1);\n  return a;\n},\n    _colorOrderData = function _colorOrderData(v) {\n  // strips out the colors from the string, finds all the numeric slots (with units) and returns an array of those. The Array also has a \"c\" property which is an Array of the index values where the colors belong. This is to help work around issues where there's a mis-matched order of color/numeric data like drop-shadow(#f00 0px 1px 2px) and drop-shadow(0x 1px 2px #f00). This is basically a helper function used in _formatColors()\n  var values = [],\n      c = [],\n      i = -1;\n  v.split(_colorExp).forEach(function (v) {\n    var a = v.match(_numWithUnitExp) || [];\n    values.push.apply(values, a);\n    c.push(i += a.length + 1);\n  });\n  values.c = c;\n  return values;\n},\n    _formatColors = function _formatColors(s, toHSL, orderMatchData) {\n  var result = \"\",\n      colors = (s + result).match(_colorExp),\n      type = toHSL ? \"hsla(\" : \"rgba(\",\n      i = 0,\n      c,\n      shell,\n      d,\n      l;\n\n  if (!colors) {\n    return s;\n  }\n\n  colors = colors.map(function (color) {\n    return (color = splitColor(color, toHSL, 1)) && type + (toHSL ? color[0] + \",\" + color[1] + \"%,\" + color[2] + \"%,\" + color[3] : color.join(\",\")) + \")\";\n  });\n\n  if (orderMatchData) {\n    d = _colorOrderData(s);\n    c = orderMatchData.c;\n\n    if (c.join(result) !== d.c.join(result)) {\n      shell = s.replace(_colorExp, \"1\").split(_numWithUnitExp);\n      l = shell.length - 1;\n\n      for (; i < l; i++) {\n        result += shell[i] + (~c.indexOf(i) ? colors.shift() || type + \"0,0,0,0)\" : (d.length ? d : colors.length ? colors : orderMatchData).shift());\n      }\n    }\n  }\n\n  if (!shell) {\n    shell = s.split(_colorExp);\n    l = shell.length - 1;\n\n    for (; i < l; i++) {\n      result += shell[i] + colors[i];\n    }\n  }\n\n  return result + shell[l];\n},\n    _colorExp = function () {\n  var s = \"(?:\\\\b(?:(?:rgb|rgba|hsl|hsla)\\\\(.+?\\\\))|\\\\B#(?:[0-9a-f]{3,4}){1,2}\\\\b\",\n      //we'll dynamically build this Regular Expression to conserve file size. After building it, it will be able to find rgb(), rgba(), # (hexadecimal), and named color values like red, blue, purple, etc.,\n  p;\n\n  for (p in _colorLookup) {\n    s += \"|\" + p + \"\\\\b\";\n  }\n\n  return new RegExp(s + \")\", \"gi\");\n}(),\n    _hslExp = /hsl[a]?\\(/,\n    _colorStringFilter = function _colorStringFilter(a) {\n  var combined = a.join(\" \"),\n      toHSL;\n  _colorExp.lastIndex = 0;\n\n  if (_colorExp.test(combined)) {\n    toHSL = _hslExp.test(combined);\n    a[1] = _formatColors(a[1], toHSL);\n    a[0] = _formatColors(a[0], toHSL, _colorOrderData(a[1])); // make sure the order of numbers/colors match with the END value.\n\n    return true;\n  }\n},\n\n/*\n * --------------------------------------------------------------------------------------\n * TICKER\n * --------------------------------------------------------------------------------------\n */\n_tickerActive,\n    _ticker = function () {\n  var _getTime = Date.now,\n      _lagThreshold = 500,\n      _adjustedLag = 33,\n      _startTime = _getTime(),\n      _lastUpdate = _startTime,\n      _gap = 1000 / 240,\n      _nextTime = _gap,\n      _listeners = [],\n      _id,\n      _req,\n      _raf,\n      _self,\n      _delta,\n      _i,\n      _tick = function _tick(v) {\n    var elapsed = _getTime() - _lastUpdate,\n        manual = v === true,\n        overlap,\n        dispatch,\n        time,\n        frame;\n\n    elapsed > _lagThreshold && (_startTime += elapsed - _adjustedLag);\n    _lastUpdate += elapsed;\n    time = _lastUpdate - _startTime;\n    overlap = time - _nextTime;\n\n    if (overlap > 0 || manual) {\n      frame = ++_self.frame;\n      _delta = time - _self.time * 1000;\n      _self.time = time = time / 1000;\n      _nextTime += overlap + (overlap >= _gap ? 4 : _gap - overlap);\n      dispatch = 1;\n    }\n\n    manual || (_id = _req(_tick)); //make sure the request is made before we dispatch the \"tick\" event so that timing is maintained. Otherwise, if processing the \"tick\" requires a bunch of time (like 15ms) and we're using a setTimeout() that's based on 16.7ms, it'd technically take 31.7ms between frames otherwise.\n\n    if (dispatch) {\n      for (_i = 0; _i < _listeners.length; _i++) {\n        // use _i and check _listeners.length instead of a variable because a listener could get removed during the loop, and if that happens to an element less than the current index, it'd throw things off in the loop.\n        _listeners[_i](time, _delta, frame, v);\n      }\n    }\n  };\n\n  _self = {\n    time: 0,\n    frame: 0,\n    tick: function tick() {\n      _tick(true);\n    },\n    deltaRatio: function deltaRatio(fps) {\n      return _delta / (1000 / (fps || 60));\n    },\n    wake: function wake() {\n      if (_coreReady) {\n        if (!_coreInitted && _windowExists()) {\n          _win = _coreInitted = window;\n          _doc = _win.document || {};\n          _globals.gsap = gsap;\n          (_win.gsapVersions || (_win.gsapVersions = [])).push(gsap.version);\n\n          _install(_installScope || _win.GreenSockGlobals || !_win.gsap && _win || {});\n\n          _raf = _win.requestAnimationFrame;\n        }\n\n        _id && _self.sleep();\n\n        _req = _raf || function (f) {\n          return setTimeout(f, _nextTime - _self.time * 1000 + 1 | 0);\n        };\n\n        _tickerActive = 1;\n\n        _tick(2);\n      }\n    },\n    sleep: function sleep() {\n      (_raf ? _win.cancelAnimationFrame : clearTimeout)(_id);\n      _tickerActive = 0;\n      _req = _emptyFunc;\n    },\n    lagSmoothing: function lagSmoothing(threshold, adjustedLag) {\n      _lagThreshold = threshold || 1 / _tinyNum; //zero should be interpreted as basically unlimited\n\n      _adjustedLag = Math.min(adjustedLag, _lagThreshold, 0);\n    },\n    fps: function fps(_fps) {\n      _gap = 1000 / (_fps || 240);\n      _nextTime = _self.time * 1000 + _gap;\n    },\n    add: function add(callback) {\n      _listeners.indexOf(callback) < 0 && _listeners.push(callback);\n\n      _wake();\n    },\n    remove: function remove(callback) {\n      var i;\n      ~(i = _listeners.indexOf(callback)) && _listeners.splice(i, 1) && _i >= i && _i--;\n    },\n    _listeners: _listeners\n  };\n  return _self;\n}(),\n    _wake = function _wake() {\n  return !_tickerActive && _ticker.wake();\n},\n    //also ensures the core classes are initialized.\n\n/*\n* -------------------------------------------------\n* EASING\n* -------------------------------------------------\n*/\n_easeMap = {},\n    _customEaseExp = /^[\\d.\\-M][\\d.\\-,\\s]/,\n    _quotesExp = /[\"']/g,\n    _parseObjectInString = function _parseObjectInString(value) {\n  //takes a string like \"{wiggles:10, type:anticipate})\" and turns it into a real object. Notice it ends in \")\" and includes the {} wrappers. This is because we only use this function for parsing ease configs and prioritized optimization rather than reusability.\n  var obj = {},\n      split = value.substr(1, value.length - 3).split(\":\"),\n      key = split[0],\n      i = 1,\n      l = split.length,\n      index,\n      val,\n      parsedVal;\n\n  for (; i < l; i++) {\n    val = split[i];\n    index = i !== l - 1 ? val.lastIndexOf(\",\") : val.length;\n    parsedVal = val.substr(0, index);\n    obj[key] = isNaN(parsedVal) ? parsedVal.replace(_quotesExp, \"\").trim() : +parsedVal;\n    key = val.substr(index + 1).trim();\n  }\n\n  return obj;\n},\n    _valueInParentheses = function _valueInParentheses(value) {\n  var open = value.indexOf(\"(\") + 1,\n      close = value.indexOf(\")\"),\n      nested = value.indexOf(\"(\", open);\n  return value.substring(open, ~nested && nested < close ? value.indexOf(\")\", close + 1) : close);\n},\n    _configEaseFromString = function _configEaseFromString(name) {\n  //name can be a string like \"elastic.out(1,0.5)\", and pass in _easeMap as obj and it'll parse it out and call the actual function like _easeMap.Elastic.easeOut.config(1,0.5). It will also parse custom ease strings as long as CustomEase is loaded and registered (internally as _easeMap._CE).\n  var split = (name + \"\").split(\"(\"),\n      ease = _easeMap[split[0]];\n  return ease && split.length > 1 && ease.config ? ease.config.apply(null, ~name.indexOf(\"{\") ? [_parseObjectInString(split[1])] : _valueInParentheses(name).split(\",\").map(_numericIfPossible)) : _easeMap._CE && _customEaseExp.test(name) ? _easeMap._CE(\"\", name) : ease;\n},\n    _invertEase = function _invertEase(ease) {\n  return function (p) {\n    return 1 - ease(1 - p);\n  };\n},\n    // allow yoyoEase to be set in children and have those affected when the parent/ancestor timeline yoyos.\n_propagateYoyoEase = function _propagateYoyoEase(timeline, isYoyo) {\n  var child = timeline._first,\n      ease;\n\n  while (child) {\n    if (child instanceof Timeline) {\n      _propagateYoyoEase(child, isYoyo);\n    } else if (child.vars.yoyoEase && (!child._yoyo || !child._repeat) && child._yoyo !== isYoyo) {\n      if (child.timeline) {\n        _propagateYoyoEase(child.timeline, isYoyo);\n      } else {\n        ease = child._ease;\n        child._ease = child._yEase;\n        child._yEase = ease;\n        child._yoyo = isYoyo;\n      }\n    }\n\n    child = child._next;\n  }\n},\n    _parseEase = function _parseEase(ease, defaultEase) {\n  return !ease ? defaultEase : (_isFunction(ease) ? ease : _easeMap[ease] || _configEaseFromString(ease)) || defaultEase;\n},\n    _insertEase = function _insertEase(names, easeIn, easeOut, easeInOut) {\n  if (easeOut === void 0) {\n    easeOut = function easeOut(p) {\n      return 1 - easeIn(1 - p);\n    };\n  }\n\n  if (easeInOut === void 0) {\n    easeInOut = function easeInOut(p) {\n      return p < .5 ? easeIn(p * 2) / 2 : 1 - easeIn((1 - p) * 2) / 2;\n    };\n  }\n\n  var ease = {\n    easeIn: easeIn,\n    easeOut: easeOut,\n    easeInOut: easeInOut\n  },\n      lowercaseName;\n\n  _forEachName(names, function (name) {\n    _easeMap[name] = _globals[name] = ease;\n    _easeMap[lowercaseName = name.toLowerCase()] = easeOut;\n\n    for (var p in ease) {\n      _easeMap[lowercaseName + (p === \"easeIn\" ? \".in\" : p === \"easeOut\" ? \".out\" : \".inOut\")] = _easeMap[name + \".\" + p] = ease[p];\n    }\n  });\n\n  return ease;\n},\n    _easeInOutFromOut = function _easeInOutFromOut(easeOut) {\n  return function (p) {\n    return p < .5 ? (1 - easeOut(1 - p * 2)) / 2 : .5 + easeOut((p - .5) * 2) / 2;\n  };\n},\n    _configElastic = function _configElastic(type, amplitude, period) {\n  var p1 = amplitude >= 1 ? amplitude : 1,\n      //note: if amplitude is < 1, we simply adjust the period for a more natural feel. Otherwise the math doesn't work right and the curve starts at 1.\n  p2 = (period || (type ? .3 : .45)) / (amplitude < 1 ? amplitude : 1),\n      p3 = p2 / _2PI * (Math.asin(1 / p1) || 0),\n      easeOut = function easeOut(p) {\n    return p === 1 ? 1 : p1 * Math.pow(2, -10 * p) * _sin((p - p3) * p2) + 1;\n  },\n      ease = type === \"out\" ? easeOut : type === \"in\" ? function (p) {\n    return 1 - easeOut(1 - p);\n  } : _easeInOutFromOut(easeOut);\n\n  p2 = _2PI / p2; //precalculate to optimize\n\n  ease.config = function (amplitude, period) {\n    return _configElastic(type, amplitude, period);\n  };\n\n  return ease;\n},\n    _configBack = function _configBack(type, overshoot) {\n  if (overshoot === void 0) {\n    overshoot = 1.70158;\n  }\n\n  var easeOut = function easeOut(p) {\n    return p ? --p * p * ((overshoot + 1) * p + overshoot) + 1 : 0;\n  },\n      ease = type === \"out\" ? easeOut : type === \"in\" ? function (p) {\n    return 1 - easeOut(1 - p);\n  } : _easeInOutFromOut(easeOut);\n\n  ease.config = function (overshoot) {\n    return _configBack(type, overshoot);\n  };\n\n  return ease;\n}; // a cheaper (kb and cpu) but more mild way to get a parameterized weighted ease by feeding in a value between -1 (easeIn) and 1 (easeOut) where 0 is linear.\n// _weightedEase = ratio => {\n// \tlet y = 0.5 + ratio / 2;\n// \treturn p => (2 * (1 - p) * p * y + p * p);\n// },\n// a stronger (but more expensive kb/cpu) parameterized weighted ease that lets you feed in a value between -1 (easeIn) and 1 (easeOut) where 0 is linear.\n// _weightedEaseStrong = ratio => {\n// \tratio = .5 + ratio / 2;\n// \tlet o = 1 / 3 * (ratio < .5 ? ratio : 1 - ratio),\n// \t\tb = ratio - o,\n// \t\tc = ratio + o;\n// \treturn p => p === 1 ? p : 3 * b * (1 - p) * (1 - p) * p + 3 * c * (1 - p) * p * p + p * p * p;\n// };\n\n\n_forEachName(\"Linear,Quad,Cubic,Quart,Quint,Strong\", function (name, i) {\n  var power = i < 5 ? i + 1 : i;\n\n  _insertEase(name + \",Power\" + (power - 1), i ? function (p) {\n    return Math.pow(p, power);\n  } : function (p) {\n    return p;\n  }, function (p) {\n    return 1 - Math.pow(1 - p, power);\n  }, function (p) {\n    return p < .5 ? Math.pow(p * 2, power) / 2 : 1 - Math.pow((1 - p) * 2, power) / 2;\n  });\n});\n\n_easeMap.Linear.easeNone = _easeMap.none = _easeMap.Linear.easeIn;\n\n_insertEase(\"Elastic\", _configElastic(\"in\"), _configElastic(\"out\"), _configElastic());\n\n(function (n, c) {\n  var n1 = 1 / c,\n      n2 = 2 * n1,\n      n3 = 2.5 * n1,\n      easeOut = function easeOut(p) {\n    return p < n1 ? n * p * p : p < n2 ? n * Math.pow(p - 1.5 / c, 2) + .75 : p < n3 ? n * (p -= 2.25 / c) * p + .9375 : n * Math.pow(p - 2.625 / c, 2) + .984375;\n  };\n\n  _insertEase(\"Bounce\", function (p) {\n    return 1 - easeOut(1 - p);\n  }, easeOut);\n})(7.5625, 2.75);\n\n_insertEase(\"Expo\", function (p) {\n  return p ? Math.pow(2, 10 * (p - 1)) : 0;\n});\n\n_insertEase(\"Circ\", function (p) {\n  return -(_sqrt(1 - p * p) - 1);\n});\n\n_insertEase(\"Sine\", function (p) {\n  return p === 1 ? 1 : -_cos(p * _HALF_PI) + 1;\n});\n\n_insertEase(\"Back\", _configBack(\"in\"), _configBack(\"out\"), _configBack());\n\n_easeMap.SteppedEase = _easeMap.steps = _globals.SteppedEase = {\n  config: function config(steps, immediateStart) {\n    if (steps === void 0) {\n      steps = 1;\n    }\n\n    var p1 = 1 / steps,\n        p2 = steps + (immediateStart ? 0 : 1),\n        p3 = immediateStart ? 1 : 0,\n        max = 1 - _tinyNum;\n    return function (p) {\n      return ((p2 * _clamp(0, max, p) | 0) + p3) * p1;\n    };\n  }\n};\n_defaults.ease = _easeMap[\"quad.out\"];\n\n_forEachName(\"onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt\", function (name) {\n  return _callbackNames += name + \",\" + name + \"Params,\";\n});\n/*\n * --------------------------------------------------------------------------------------\n * CACHE\n * --------------------------------------------------------------------------------------\n */\n\n\nexport var GSCache = function GSCache(target, harness) {\n  this.id = _gsID++;\n  target._gsap = this;\n  this.target = target;\n  this.harness = harness;\n  this.get = harness ? harness.get : _getProperty;\n  this.set = harness ? harness.getSetter : _getSetter;\n};\n/*\n * --------------------------------------------------------------------------------------\n * ANIMATION\n * --------------------------------------------------------------------------------------\n */\n\nexport var Animation = /*#__PURE__*/function () {\n  function Animation(vars) {\n    this.vars = vars;\n    this._delay = +vars.delay || 0;\n\n    if (this._repeat = vars.repeat === Infinity ? -2 : vars.repeat || 0) {\n      // TODO: repeat: Infinity on a timeline's children must flag that timeline internally and affect its totalDuration, otherwise it'll stop in the negative direction when reaching the start.\n      this._rDelay = vars.repeatDelay || 0;\n      this._yoyo = !!vars.yoyo || !!vars.yoyoEase;\n    }\n\n    this._ts = 1;\n\n    _setDuration(this, +vars.duration, 1, 1);\n\n    this.data = vars.data;\n    _tickerActive || _ticker.wake();\n  }\n\n  var _proto = Animation.prototype;\n\n  _proto.delay = function delay(value) {\n    if (value || value === 0) {\n      this.parent && this.parent.smoothChildTiming && this.startTime(this._start + value - this._delay);\n      this._delay = value;\n      return this;\n    }\n\n    return this._delay;\n  };\n\n  _proto.duration = function duration(value) {\n    return arguments.length ? this.totalDuration(this._repeat > 0 ? value + (value + this._rDelay) * this._repeat : value) : this.totalDuration() && this._dur;\n  };\n\n  _proto.totalDuration = function totalDuration(value) {\n    if (!arguments.length) {\n      return this._tDur;\n    }\n\n    this._dirty = 0;\n    return _setDuration(this, this._repeat < 0 ? value : (value - this._repeat * this._rDelay) / (this._repeat + 1));\n  };\n\n  _proto.totalTime = function totalTime(_totalTime, suppressEvents) {\n    _wake();\n\n    if (!arguments.length) {\n      return this._tTime;\n    }\n\n    var parent = this._dp;\n\n    if (parent && parent.smoothChildTiming && this._ts) {\n      _alignPlayhead(this, _totalTime);\n\n      !parent._dp || parent.parent || _postAddChecks(parent, this); // edge case: if this is a child of a timeline that already completed, for example, we must re-activate the parent.\n      //in case any of the ancestor timelines had completed but should now be enabled, we should reset their totalTime() which will also ensure that they're lined up properly and enabled. Skip for animations that are on the root (wasteful). Example: a TimelineLite.exportRoot() is performed when there's a paused tween on the root, the export will not complete until that tween is unpaused, but imagine a child gets restarted later, after all [unpaused] tweens have completed. The start of that child would get pushed out, but one of the ancestors may have completed.\n\n      while (parent.parent) {\n        if (parent.parent._time !== parent._start + (parent._ts >= 0 ? parent._tTime / parent._ts : (parent.totalDuration() - parent._tTime) / -parent._ts)) {\n          parent.totalTime(parent._tTime, true);\n        }\n\n        parent = parent.parent;\n      }\n\n      if (!this.parent && this._dp.autoRemoveChildren && (this._ts > 0 && _totalTime < this._tDur || this._ts < 0 && _totalTime > 0 || !this._tDur && !_totalTime)) {\n        //if the animation doesn't have a parent, put it back into its last parent (recorded as _dp for exactly cases like this). Limit to parents with autoRemoveChildren (like globalTimeline) so that if the user manually removes an animation from a timeline and then alters its playhead, it doesn't get added back in.\n        _addToTimeline(this._dp, this, this._start - this._delay);\n      }\n    }\n\n    if (this._tTime !== _totalTime || !this._dur && !suppressEvents || this._initted && Math.abs(this._zTime) === _tinyNum || !_totalTime && !this._initted && (this.add || this._ptLookup)) {\n      // check for _ptLookup on a Tween instance to ensure it has actually finished being instantiated, otherwise if this.reverse() gets called in the Animation constructor, it could trigger a render() here even though the _targets weren't populated, thus when _init() is called there won't be any PropTweens (it'll act like the tween is non-functional)\n      this._ts || (this._pTime = _totalTime); // otherwise, if an animation is paused, then the playhead is moved back to zero, then resumed, it'd revert back to the original time at the pause\n      //if (!this._lock) { // avoid endless recursion (not sure we need this yet or if it's worth the performance hit)\n      //   this._lock = 1;\n\n      _lazySafeRender(this, _totalTime, suppressEvents); //   this._lock = 0;\n      //}\n\n    }\n\n    return this;\n  };\n\n  _proto.time = function time(value, suppressEvents) {\n    return arguments.length ? this.totalTime(Math.min(this.totalDuration(), value + _elapsedCycleDuration(this)) % this._dur || (value ? this._dur : 0), suppressEvents) : this._time; // note: if the modulus results in 0, the playhead could be exactly at the end or the beginning, and we always defer to the END with a non-zero value, otherwise if you set the time() to the very end (duration()), it would render at the START!\n  };\n\n  _proto.totalProgress = function totalProgress(value, suppressEvents) {\n    return arguments.length ? this.totalTime(this.totalDuration() * value, suppressEvents) : this.totalDuration() ? Math.min(1, this._tTime / this._tDur) : this.ratio;\n  };\n\n  _proto.progress = function progress(value, suppressEvents) {\n    return arguments.length ? this.totalTime(this.duration() * (this._yoyo && !(this.iteration() & 1) ? 1 - value : value) + _elapsedCycleDuration(this), suppressEvents) : this.duration() ? Math.min(1, this._time / this._dur) : this.ratio;\n  };\n\n  _proto.iteration = function iteration(value, suppressEvents) {\n    var cycleDuration = this.duration() + this._rDelay;\n\n    return arguments.length ? this.totalTime(this._time + (value - 1) * cycleDuration, suppressEvents) : this._repeat ? _animationCycle(this._tTime, cycleDuration) + 1 : 1;\n  } // potential future addition:\n  // isPlayingBackwards() {\n  // \tlet animation = this,\n  // \t\torientation = 1; // 1 = forward, -1 = backward\n  // \twhile (animation) {\n  // \t\torientation *= animation.reversed() || (animation.repeat() && !(animation.iteration() & 1)) ? -1 : 1;\n  // \t\tanimation = animation.parent;\n  // \t}\n  // \treturn orientation < 0;\n  // }\n  ;\n\n  _proto.timeScale = function timeScale(value) {\n    if (!arguments.length) {\n      return this._rts === -_tinyNum ? 0 : this._rts; // recorded timeScale. Special case: if someone calls reverse() on an animation with timeScale of 0, we assign it -_tinyNum to remember it's reversed.\n    }\n\n    if (this._rts === value) {\n      return this;\n    }\n\n    var tTime = this.parent && this._ts ? _parentToChildTotalTime(this.parent._time, this) : this._tTime; // make sure to do the parentToChildTotalTime() BEFORE setting the new _ts because the old one must be used in that calculation.\n    // future addition? Up side: fast and minimal file size. Down side: only works on this animation; if a timeline is reversed, for example, its childrens' onReverse wouldn't get called.\n    //(+value < 0 && this._rts >= 0) && _callback(this, \"onReverse\", true);\n    // prioritize rendering where the parent's playhead lines up instead of this._tTime because there could be a tween that's animating another tween's timeScale in the same rendering loop (same parent), thus if the timeScale tween renders first, it would alter _start BEFORE _tTime was set on that tick (in the rendering loop), effectively freezing it until the timeScale tween finishes.\n\n    this._rts = +value || 0;\n    this._ts = this._ps || value === -_tinyNum ? 0 : this._rts; // _ts is the functional timeScale which would be 0 if the animation is paused.\n\n    return _recacheAncestors(this.totalTime(_clamp(-this._delay, this._tDur, tTime), true));\n  };\n\n  _proto.paused = function paused(value) {\n    if (!arguments.length) {\n      return this._ps;\n    }\n\n    if (this._ps !== value) {\n      this._ps = value;\n\n      if (value) {\n        this._pTime = this._tTime || Math.max(-this._delay, this.rawTime()); // if the pause occurs during the delay phase, make sure that's factored in when resuming.\n\n        this._ts = this._act = 0; // _ts is the functional timeScale, so a paused tween would effectively have a timeScale of 0. We record the \"real\" timeScale as _rts (recorded time scale)\n      } else {\n        _wake();\n\n        this._ts = this._rts; //only defer to _pTime (pauseTime) if tTime is zero. Remember, someone could pause() an animation, then scrub the playhead and resume(). If the parent doesn't have smoothChildTiming, we render at the rawTime() because the startTime won't get updated.\n\n        this.totalTime(this.parent && !this.parent.smoothChildTiming ? this.rawTime() : this._tTime || this._pTime, this.progress() === 1 && (this._tTime -= _tinyNum) && Math.abs(this._zTime) !== _tinyNum); // edge case: animation.progress(1).pause().play() wouldn't render again because the playhead is already at the end, but the call to totalTime() below will add it back to its parent...and not remove it again (since removing only happens upon rendering at a new time). Offsetting the _tTime slightly is done simply to cause the final render in totalTime() that'll pop it off its timeline (if autoRemoveChildren is true, of course). Check to make sure _zTime isn't -_tinyNum to avoid an edge case where the playhead is pushed to the end but INSIDE a tween/callback, the timeline itself is paused thus halting rendering and leaving a few unrendered. When resuming, it wouldn't render those otherwise.\n      }\n    }\n\n    return this;\n  };\n\n  _proto.startTime = function startTime(value) {\n    if (arguments.length) {\n      this._start = value;\n      var parent = this.parent || this._dp;\n      parent && (parent._sort || !this.parent) && _addToTimeline(parent, this, value - this._delay);\n      return this;\n    }\n\n    return this._start;\n  };\n\n  _proto.endTime = function endTime(includeRepeats) {\n    return this._start + (_isNotFalse(includeRepeats) ? this.totalDuration() : this.duration()) / Math.abs(this._ts);\n  };\n\n  _proto.rawTime = function rawTime(wrapRepeats) {\n    var parent = this.parent || this._dp; // _dp = detached parent\n\n    return !parent ? this._tTime : wrapRepeats && (!this._ts || this._repeat && this._time && this.totalProgress() < 1) ? this._tTime % (this._dur + this._rDelay) : !this._ts ? this._tTime : _parentToChildTotalTime(parent.rawTime(wrapRepeats), this);\n  };\n\n  _proto.globalTime = function globalTime(rawTime) {\n    var animation = this,\n        time = arguments.length ? rawTime : animation.rawTime();\n\n    while (animation) {\n      time = animation._start + time / (animation._ts || 1);\n      animation = animation._dp;\n    }\n\n    return time;\n  };\n\n  _proto.repeat = function repeat(value) {\n    if (arguments.length) {\n      this._repeat = value === Infinity ? -2 : value;\n      return _onUpdateTotalDuration(this);\n    }\n\n    return this._repeat === -2 ? Infinity : this._repeat;\n  };\n\n  _proto.repeatDelay = function repeatDelay(value) {\n    if (arguments.length) {\n      this._rDelay = value;\n      return _onUpdateTotalDuration(this);\n    }\n\n    return this._rDelay;\n  };\n\n  _proto.yoyo = function yoyo(value) {\n    if (arguments.length) {\n      this._yoyo = value;\n      return this;\n    }\n\n    return this._yoyo;\n  };\n\n  _proto.seek = function seek(position, suppressEvents) {\n    return this.totalTime(_parsePosition(this, position), _isNotFalse(suppressEvents));\n  };\n\n  _proto.restart = function restart(includeDelay, suppressEvents) {\n    return this.play().totalTime(includeDelay ? -this._delay : 0, _isNotFalse(suppressEvents));\n  };\n\n  _proto.play = function play(from, suppressEvents) {\n    from != null && this.seek(from, suppressEvents);\n    return this.reversed(false).paused(false);\n  };\n\n  _proto.reverse = function reverse(from, suppressEvents) {\n    from != null && this.seek(from || this.totalDuration(), suppressEvents);\n    return this.reversed(true).paused(false);\n  };\n\n  _proto.pause = function pause(atTime, suppressEvents) {\n    atTime != null && this.seek(atTime, suppressEvents);\n    return this.paused(true);\n  };\n\n  _proto.resume = function resume() {\n    return this.paused(false);\n  };\n\n  _proto.reversed = function reversed(value) {\n    if (arguments.length) {\n      !!value !== this.reversed() && this.timeScale(-this._rts || (value ? -_tinyNum : 0)); // in case timeScale is zero, reversing would have no effect so we use _tinyNum.\n\n      return this;\n    }\n\n    return this._rts < 0;\n  };\n\n  _proto.invalidate = function invalidate() {\n    this._initted = this._act = 0;\n    this._zTime = -_tinyNum;\n    return this;\n  };\n\n  _proto.isActive = function isActive() {\n    var parent = this.parent || this._dp,\n        start = this._start,\n        rawTime;\n    return !!(!parent || this._ts && this._initted && parent.isActive() && (rawTime = parent.rawTime(true)) >= start && rawTime < this.endTime(true) - _tinyNum);\n  };\n\n  _proto.eventCallback = function eventCallback(type, callback, params) {\n    var vars = this.vars;\n\n    if (arguments.length > 1) {\n      if (!callback) {\n        delete vars[type];\n      } else {\n        vars[type] = callback;\n        params && (vars[type + \"Params\"] = params);\n        type === \"onUpdate\" && (this._onUpdate = callback);\n      }\n\n      return this;\n    }\n\n    return vars[type];\n  };\n\n  _proto.then = function then(onFulfilled) {\n    var self = this;\n    return new Promise(function (resolve) {\n      var f = _isFunction(onFulfilled) ? onFulfilled : _passThrough,\n          _resolve = function _resolve() {\n        var _then = self.then;\n        self.then = null; // temporarily null the then() method to avoid an infinite loop (see https://github.com/greensock/GSAP/issues/322)\n\n        _isFunction(f) && (f = f(self)) && (f.then || f === self) && (self.then = _then);\n        resolve(f);\n        self.then = _then;\n      };\n\n      if (self._initted && self.totalProgress() === 1 && self._ts >= 0 || !self._tTime && self._ts < 0) {\n        _resolve();\n      } else {\n        self._prom = _resolve;\n      }\n    });\n  };\n\n  _proto.kill = function kill() {\n    _interrupt(this);\n  };\n\n  return Animation;\n}();\n\n_setDefaults(Animation.prototype, {\n  _time: 0,\n  _start: 0,\n  _end: 0,\n  _tTime: 0,\n  _tDur: 0,\n  _dirty: 0,\n  _repeat: 0,\n  _yoyo: false,\n  parent: null,\n  _initted: false,\n  _rDelay: 0,\n  _ts: 1,\n  _dp: 0,\n  ratio: 0,\n  _zTime: -_tinyNum,\n  _prom: 0,\n  _ps: false,\n  _rts: 1\n});\n/*\n * -------------------------------------------------\n * TIMELINE\n * -------------------------------------------------\n */\n\n\nexport var Timeline = /*#__PURE__*/function (_Animation) {\n  _inheritsLoose(Timeline, _Animation);\n\n  function Timeline(vars, position) {\n    var _this;\n\n    if (vars === void 0) {\n      vars = {};\n    }\n\n    _this = _Animation.call(this, vars) || this;\n    _this.labels = {};\n    _this.smoothChildTiming = !!vars.smoothChildTiming;\n    _this.autoRemoveChildren = !!vars.autoRemoveChildren;\n    _this._sort = _isNotFalse(vars.sortChildren);\n    _globalTimeline && _addToTimeline(vars.parent || _globalTimeline, _assertThisInitialized(_this), position);\n    vars.reversed && _this.reverse();\n    vars.paused && _this.paused(true);\n    vars.scrollTrigger && _scrollTrigger(_assertThisInitialized(_this), vars.scrollTrigger);\n    return _this;\n  }\n\n  var _proto2 = Timeline.prototype;\n\n  _proto2.to = function to(targets, vars, position) {\n    _createTweenType(0, arguments, this);\n\n    return this;\n  };\n\n  _proto2.from = function from(targets, vars, position) {\n    _createTweenType(1, arguments, this);\n\n    return this;\n  };\n\n  _proto2.fromTo = function fromTo(targets, fromVars, toVars, position) {\n    _createTweenType(2, arguments, this);\n\n    return this;\n  };\n\n  _proto2.set = function set(targets, vars, position) {\n    vars.duration = 0;\n    vars.parent = this;\n    _inheritDefaults(vars).repeatDelay || (vars.repeat = 0);\n    vars.immediateRender = !!vars.immediateRender;\n    new Tween(targets, vars, _parsePosition(this, position), 1);\n    return this;\n  };\n\n  _proto2.call = function call(callback, params, position) {\n    return _addToTimeline(this, Tween.delayedCall(0, callback, params), position);\n  } //ONLY for backward compatibility! Maybe delete?\n  ;\n\n  _proto2.staggerTo = function staggerTo(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams) {\n    vars.duration = duration;\n    vars.stagger = vars.stagger || stagger;\n    vars.onComplete = onCompleteAll;\n    vars.onCompleteParams = onCompleteAllParams;\n    vars.parent = this;\n    new Tween(targets, vars, _parsePosition(this, position));\n    return this;\n  };\n\n  _proto2.staggerFrom = function staggerFrom(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams) {\n    vars.runBackwards = 1;\n    _inheritDefaults(vars).immediateRender = _isNotFalse(vars.immediateRender);\n    return this.staggerTo(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams);\n  };\n\n  _proto2.staggerFromTo = function staggerFromTo(targets, duration, fromVars, toVars, stagger, position, onCompleteAll, onCompleteAllParams) {\n    toVars.startAt = fromVars;\n    _inheritDefaults(toVars).immediateRender = _isNotFalse(toVars.immediateRender);\n    return this.staggerTo(targets, duration, toVars, stagger, position, onCompleteAll, onCompleteAllParams);\n  };\n\n  _proto2.render = function render(totalTime, suppressEvents, force) {\n    var prevTime = this._time,\n        tDur = this._dirty ? this.totalDuration() : this._tDur,\n        dur = this._dur,\n        tTime = this !== _globalTimeline && totalTime > tDur - _tinyNum && totalTime >= 0 ? tDur : totalTime < _tinyNum ? 0 : totalTime,\n        crossingStart = this._zTime < 0 !== totalTime < 0 && (this._initted || !dur),\n        time,\n        child,\n        next,\n        iteration,\n        cycleDuration,\n        prevPaused,\n        pauseTween,\n        timeScale,\n        prevStart,\n        prevIteration,\n        yoyo,\n        isYoyo;\n\n    if (tTime !== this._tTime || force || crossingStart) {\n      if (prevTime !== this._time && dur) {\n        //if totalDuration() finds a child with a negative startTime and smoothChildTiming is true, things get shifted around internally so we need to adjust the time accordingly. For example, if a tween starts at -30 we must shift EVERYTHING forward 30 seconds and move this timeline's startTime backward by 30 seconds so that things align with the playhead (no jump).\n        tTime += this._time - prevTime;\n        totalTime += this._time - prevTime;\n      }\n\n      time = tTime;\n      prevStart = this._start;\n      timeScale = this._ts;\n      prevPaused = !timeScale;\n\n      if (crossingStart) {\n        dur || (prevTime = this._zTime); //when the playhead arrives at EXACTLY time 0 (right on top) of a zero-duration timeline, we need to discern if events are suppressed so that when the playhead moves again (next time), it'll trigger the callback. If events are NOT suppressed, obviously the callback would be triggered in this render. Basically, the callback should fire either when the playhead ARRIVES or LEAVES this exact spot, not both. Imagine doing a timeline.seek(0) and there's a callback that sits at 0. Since events are suppressed on that seek() by default, nothing will fire, but when the playhead moves off of that position, the callback should fire. This behavior is what people intuitively expect.\n\n        (totalTime || !suppressEvents) && (this._zTime = totalTime);\n      }\n\n      if (this._repeat) {\n        //adjust the time for repeats and yoyos\n        yoyo = this._yoyo;\n        cycleDuration = dur + this._rDelay;\n\n        if (this._repeat < -1 && totalTime < 0) {\n          return this.totalTime(cycleDuration * 100 + totalTime, suppressEvents, force);\n        }\n\n        time = _round(tTime % cycleDuration); //round to avoid floating point errors. (4 % 0.8 should be 0 but some browsers report it as 0.79999999!)\n\n        if (tTime === tDur) {\n          // the tDur === tTime is for edge cases where there's a lengthy decimal on the duration and it may reach the very end but the time is rendered as not-quite-there (remember, tDur is rounded to 4 decimals whereas dur isn't)\n          iteration = this._repeat;\n          time = dur;\n        } else {\n          iteration = ~~(tTime / cycleDuration);\n\n          if (iteration && iteration === tTime / cycleDuration) {\n            time = dur;\n            iteration--;\n          }\n\n          time > dur && (time = dur);\n        }\n\n        prevIteration = _animationCycle(this._tTime, cycleDuration);\n        !prevTime && this._tTime && prevIteration !== iteration && (prevIteration = iteration); // edge case - if someone does addPause() at the very beginning of a repeating timeline, that pause is technically at the same spot as the end which causes this._time to get set to 0 when the totalTime would normally place the playhead at the end. See https://greensock.com/forums/topic/23823-closing-nav-animation-not-working-on-ie-and-iphone-6-maybe-other-older-browser/?tab=comments#comment-113005\n\n        if (yoyo && iteration & 1) {\n          time = dur - time;\n          isYoyo = 1;\n        }\n        /*\n        make sure children at the end/beginning of the timeline are rendered properly. If, for example,\n        a 3-second long timeline rendered at 2.9 seconds previously, and now renders at 3.2 seconds (which\n        would get translated to 2.8 seconds if the timeline yoyos or 0.2 seconds if it just repeats), there\n        could be a callback or a short tween that's at 2.95 or 3 seconds in which wouldn't render. So\n        we need to push the timeline to the end (and/or beginning depending on its yoyo value). Also we must\n        ensure that zero-duration tweens at the very beginning or end of the Timeline work.\n        */\n\n\n        if (iteration !== prevIteration && !this._lock) {\n          var rewinding = yoyo && prevIteration & 1,\n              doesWrap = rewinding === (yoyo && iteration & 1);\n          iteration < prevIteration && (rewinding = !rewinding);\n          prevTime = rewinding ? 0 : dur;\n          this._lock = 1;\n          this.render(prevTime || (isYoyo ? 0 : _round(iteration * cycleDuration)), suppressEvents, !dur)._lock = 0;\n          this._tTime = tTime; // if a user gets the iteration() inside the onRepeat, for example, it should be accurate.\n\n          !suppressEvents && this.parent && _callback(this, \"onRepeat\");\n          this.vars.repeatRefresh && !isYoyo && (this.invalidate()._lock = 1);\n\n          if (prevTime && prevTime !== this._time || prevPaused !== !this._ts || this.vars.onRepeat && !this.parent && !this._act) {\n            // if prevTime is 0 and we render at the very end, _time will be the end, thus won't match. So in this edge case, prevTime won't match _time but that's okay. If it gets killed in the onRepeat, eject as well.\n            return this;\n          }\n\n          dur = this._dur; // in case the duration changed in the onRepeat\n\n          tDur = this._tDur;\n\n          if (doesWrap) {\n            this._lock = 2;\n            prevTime = rewinding ? dur : -0.0001;\n            this.render(prevTime, true);\n            this.vars.repeatRefresh && !isYoyo && this.invalidate();\n          }\n\n          this._lock = 0;\n\n          if (!this._ts && !prevPaused) {\n            return this;\n          } //in order for yoyoEase to work properly when there's a stagger, we must swap out the ease in each sub-tween.\n\n\n          _propagateYoyoEase(this, isYoyo);\n        }\n      }\n\n      if (this._hasPause && !this._forcing && this._lock < 2) {\n        pauseTween = _findNextPauseTween(this, _round(prevTime), _round(time));\n\n        if (pauseTween) {\n          tTime -= time - (time = pauseTween._start);\n        }\n      }\n\n      this._tTime = tTime;\n      this._time = time;\n      this._act = !timeScale; //as long as it's not paused, force it to be active so that if the user renders independent of the parent timeline, it'll be forced to re-render on the next tick.\n\n      if (!this._initted) {\n        this._onUpdate = this.vars.onUpdate;\n        this._initted = 1;\n        this._zTime = totalTime;\n        prevTime = 0; // upon init, the playhead should always go forward; someone could invalidate() a completed timeline and then if they restart(), that would make child tweens render in reverse order which could lock in the wrong starting values if they build on each other, like tl.to(obj, {x: 100}).to(obj, {x: 0}).\n      }\n\n      if (!prevTime && time && !suppressEvents) {\n        _callback(this, \"onStart\");\n\n        if (this._tTime !== tTime) {\n          // in case the onStart triggered a render at a different spot, eject. Like if someone did animation.pause(0.5) or something inside the onStart.\n          return this;\n        }\n      }\n\n      if (time >= prevTime && totalTime >= 0) {\n        child = this._first;\n\n        while (child) {\n          next = child._next;\n\n          if ((child._act || time >= child._start) && child._ts && pauseTween !== child) {\n            if (child.parent !== this) {\n              // an extreme edge case - the child's render could do something like kill() the \"next\" one in the linked list, or reparent it. In that case we must re-initiate the whole render to be safe.\n              return this.render(totalTime, suppressEvents, force);\n            }\n\n            child.render(child._ts > 0 ? (time - child._start) * child._ts : (child._dirty ? child.totalDuration() : child._tDur) + (time - child._start) * child._ts, suppressEvents, force);\n\n            if (time !== this._time || !this._ts && !prevPaused) {\n              //in case a tween pauses or seeks the timeline when rendering, like inside of an onUpdate/onComplete\n              pauseTween = 0;\n              next && (tTime += this._zTime = -_tinyNum); // it didn't finish rendering, so flag zTime as negative so that so that the next time render() is called it'll be forced (to render any remaining children)\n\n              break;\n            }\n          }\n\n          child = next;\n        }\n      } else {\n        child = this._last;\n        var adjustedTime = totalTime < 0 ? totalTime : time; //when the playhead goes backward beyond the start of this timeline, we must pass that information down to the child animations so that zero-duration tweens know whether to render their starting or ending values.\n\n        while (child) {\n          next = child._prev;\n\n          if ((child._act || adjustedTime <= child._end) && child._ts && pauseTween !== child) {\n            if (child.parent !== this) {\n              // an extreme edge case - the child's render could do something like kill() the \"next\" one in the linked list, or reparent it. In that case we must re-initiate the whole render to be safe.\n              return this.render(totalTime, suppressEvents, force);\n            }\n\n            child.render(child._ts > 0 ? (adjustedTime - child._start) * child._ts : (child._dirty ? child.totalDuration() : child._tDur) + (adjustedTime - child._start) * child._ts, suppressEvents, force);\n\n            if (time !== this._time || !this._ts && !prevPaused) {\n              //in case a tween pauses or seeks the timeline when rendering, like inside of an onUpdate/onComplete\n              pauseTween = 0;\n              next && (tTime += this._zTime = adjustedTime ? -_tinyNum : _tinyNum); // it didn't finish rendering, so adjust zTime so that so that the next time render() is called it'll be forced (to render any remaining children)\n\n              break;\n            }\n          }\n\n          child = next;\n        }\n      }\n\n      if (pauseTween && !suppressEvents) {\n        this.pause();\n        pauseTween.render(time >= prevTime ? 0 : -_tinyNum)._zTime = time >= prevTime ? 1 : -1;\n\n        if (this._ts) {\n          //the callback resumed playback! So since we may have held back the playhead due to where the pause is positioned, go ahead and jump to where it's SUPPOSED to be (if no pause happened).\n          this._start = prevStart; //if the pause was at an earlier time and the user resumed in the callback, it could reposition the timeline (changing its startTime), throwing things off slightly, so we make sure the _start doesn't shift.\n\n          _setEnd(this);\n\n          return this.render(totalTime, suppressEvents, force);\n        }\n      }\n\n      this._onUpdate && !suppressEvents && _callback(this, \"onUpdate\", true);\n      if (tTime === tDur && tDur >= this.totalDuration() || !tTime && prevTime) if (prevStart === this._start || Math.abs(timeScale) !== Math.abs(this._ts)) if (!this._lock) {\n        (totalTime || !dur) && (tTime === tDur && this._ts > 0 || !tTime && this._ts < 0) && _removeFromParent(this, 1); // don't remove if the timeline is reversed and the playhead isn't at 0, otherwise tl.progress(1).reverse() won't work. Only remove if the playhead is at the end and timeScale is positive, or if the playhead is at 0 and the timeScale is negative.\n\n        if (!suppressEvents && !(totalTime < 0 && !prevTime) && (tTime || prevTime || !tDur)) {\n          _callback(this, tTime === tDur && totalTime >= 0 ? \"onComplete\" : \"onReverseComplete\", true);\n\n          this._prom && !(tTime < tDur && this.timeScale() > 0) && this._prom();\n        }\n      }\n    }\n\n    return this;\n  };\n\n  _proto2.add = function add(child, position) {\n    var _this2 = this;\n\n    _isNumber(position) || (position = _parsePosition(this, position, child));\n\n    if (!(child instanceof Animation)) {\n      if (_isArray(child)) {\n        child.forEach(function (obj) {\n          return _this2.add(obj, position);\n        });\n        return this;\n      }\n\n      if (_isString(child)) {\n        return this.addLabel(child, position);\n      }\n\n      if (_isFunction(child)) {\n        child = Tween.delayedCall(0, child);\n      } else {\n        return this;\n      }\n    }\n\n    return this !== child ? _addToTimeline(this, child, position) : this; //don't allow a timeline to be added to itself as a child!\n  };\n\n  _proto2.getChildren = function getChildren(nested, tweens, timelines, ignoreBeforeTime) {\n    if (nested === void 0) {\n      nested = true;\n    }\n\n    if (tweens === void 0) {\n      tweens = true;\n    }\n\n    if (timelines === void 0) {\n      timelines = true;\n    }\n\n    if (ignoreBeforeTime === void 0) {\n      ignoreBeforeTime = -_bigNum;\n    }\n\n    var a = [],\n        child = this._first;\n\n    while (child) {\n      if (child._start >= ignoreBeforeTime) {\n        if (child instanceof Tween) {\n          tweens && a.push(child);\n        } else {\n          timelines && a.push(child);\n          nested && a.push.apply(a, child.getChildren(true, tweens, timelines));\n        }\n      }\n\n      child = child._next;\n    }\n\n    return a;\n  };\n\n  _proto2.getById = function getById(id) {\n    var animations = this.getChildren(1, 1, 1),\n        i = animations.length;\n\n    while (i--) {\n      if (animations[i].vars.id === id) {\n        return animations[i];\n      }\n    }\n  };\n\n  _proto2.remove = function remove(child) {\n    if (_isString(child)) {\n      return this.removeLabel(child);\n    }\n\n    if (_isFunction(child)) {\n      return this.killTweensOf(child);\n    }\n\n    _removeLinkedListItem(this, child);\n\n    if (child === this._recent) {\n      this._recent = this._last;\n    }\n\n    return _uncache(this);\n  };\n\n  _proto2.totalTime = function totalTime(_totalTime2, suppressEvents) {\n    if (!arguments.length) {\n      return this._tTime;\n    }\n\n    this._forcing = 1;\n\n    if (!this._dp && this._ts) {\n      //special case for the global timeline (or any other that has no parent or detached parent).\n      this._start = _round(_ticker.time - (this._ts > 0 ? _totalTime2 / this._ts : (this.totalDuration() - _totalTime2) / -this._ts));\n    }\n\n    _Animation.prototype.totalTime.call(this, _totalTime2, suppressEvents);\n\n    this._forcing = 0;\n    return this;\n  };\n\n  _proto2.addLabel = function addLabel(label, position) {\n    this.labels[label] = _parsePosition(this, position);\n    return this;\n  };\n\n  _proto2.removeLabel = function removeLabel(label) {\n    delete this.labels[label];\n    return this;\n  };\n\n  _proto2.addPause = function addPause(position, callback, params) {\n    var t = Tween.delayedCall(0, callback || _emptyFunc, params);\n    t.data = \"isPause\";\n    this._hasPause = 1;\n    return _addToTimeline(this, t, _parsePosition(this, position));\n  };\n\n  _proto2.removePause = function removePause(position) {\n    var child = this._first;\n    position = _parsePosition(this, position);\n\n    while (child) {\n      if (child._start === position && child.data === \"isPause\") {\n        _removeFromParent(child);\n      }\n\n      child = child._next;\n    }\n  };\n\n  _proto2.killTweensOf = function killTweensOf(targets, props, onlyActive) {\n    var tweens = this.getTweensOf(targets, onlyActive),\n        i = tweens.length;\n\n    while (i--) {\n      _overwritingTween !== tweens[i] && tweens[i].kill(targets, props);\n    }\n\n    return this;\n  };\n\n  _proto2.getTweensOf = function getTweensOf(targets, onlyActive) {\n    var a = [],\n        parsedTargets = toArray(targets),\n        child = this._first,\n        isGlobalTime = _isNumber(onlyActive),\n        // a number is interpreted as a global time. If the animation spans\n    children;\n\n    while (child) {\n      if (child instanceof Tween) {\n        if (_arrayContainsAny(child._targets, parsedTargets) && (isGlobalTime ? (!_overwritingTween || child._initted && child._ts) && child.globalTime(0) <= onlyActive && child.globalTime(child.totalDuration()) > onlyActive : !onlyActive || child.isActive())) {\n          // note: if this is for overwriting, it should only be for tweens that aren't paused and are initted.\n          a.push(child);\n        }\n      } else if ((children = child.getTweensOf(parsedTargets, onlyActive)).length) {\n        a.push.apply(a, children);\n      }\n\n      child = child._next;\n    }\n\n    return a;\n  } // potential future feature - targets() on timelines\n  // targets() {\n  // \tlet result = [];\n  // \tthis.getChildren(true, true, false).forEach(t => result.push(...t.targets()));\n  // \treturn result.filter((v, i) => result.indexOf(v) === i);\n  // }\n  ;\n\n  _proto2.tweenTo = function tweenTo(position, vars) {\n    vars = vars || {};\n\n    var tl = this,\n        endTime = _parsePosition(tl, position),\n        _vars = vars,\n        startAt = _vars.startAt,\n        _onStart = _vars.onStart,\n        onStartParams = _vars.onStartParams,\n        immediateRender = _vars.immediateRender,\n        initted,\n        tween = Tween.to(tl, _setDefaults({\n      ease: vars.ease || \"none\",\n      lazy: false,\n      immediateRender: false,\n      time: endTime,\n      overwrite: \"auto\",\n      duration: vars.duration || Math.abs((endTime - (startAt && \"time\" in startAt ? startAt.time : tl._time)) / tl.timeScale()) || _tinyNum,\n      onStart: function onStart() {\n        tl.pause();\n\n        if (!initted) {\n          var duration = vars.duration || Math.abs((endTime - (startAt && \"time\" in startAt ? startAt.time : tl._time)) / tl.timeScale());\n          tween._dur !== duration && _setDuration(tween, duration, 0, 1).render(tween._time, true, true);\n          initted = 1;\n        }\n\n        _onStart && _onStart.apply(tween, onStartParams || []); //in case the user had an onStart in the vars - we don't want to overwrite it.\n      }\n    }, vars));\n\n    return immediateRender ? tween.render(0) : tween;\n  };\n\n  _proto2.tweenFromTo = function tweenFromTo(fromPosition, toPosition, vars) {\n    return this.tweenTo(toPosition, _setDefaults({\n      startAt: {\n        time: _parsePosition(this, fromPosition)\n      }\n    }, vars));\n  };\n\n  _proto2.recent = function recent() {\n    return this._recent;\n  };\n\n  _proto2.nextLabel = function nextLabel(afterTime) {\n    if (afterTime === void 0) {\n      afterTime = this._time;\n    }\n\n    return _getLabelInDirection(this, _parsePosition(this, afterTime));\n  };\n\n  _proto2.previousLabel = function previousLabel(beforeTime) {\n    if (beforeTime === void 0) {\n      beforeTime = this._time;\n    }\n\n    return _getLabelInDirection(this, _parsePosition(this, beforeTime), 1);\n  };\n\n  _proto2.currentLabel = function currentLabel(value) {\n    return arguments.length ? this.seek(value, true) : this.previousLabel(this._time + _tinyNum);\n  };\n\n  _proto2.shiftChildren = function shiftChildren(amount, adjustLabels, ignoreBeforeTime) {\n    if (ignoreBeforeTime === void 0) {\n      ignoreBeforeTime = 0;\n    }\n\n    var child = this._first,\n        labels = this.labels,\n        p;\n\n    while (child) {\n      if (child._start >= ignoreBeforeTime) {\n        child._start += amount;\n        child._end += amount;\n      }\n\n      child = child._next;\n    }\n\n    if (adjustLabels) {\n      for (p in labels) {\n        if (labels[p] >= ignoreBeforeTime) {\n          labels[p] += amount;\n        }\n      }\n    }\n\n    return _uncache(this);\n  };\n\n  _proto2.invalidate = function invalidate() {\n    var child = this._first;\n    this._lock = 0;\n\n    while (child) {\n      child.invalidate();\n      child = child._next;\n    }\n\n    return _Animation.prototype.invalidate.call(this);\n  };\n\n  _proto2.clear = function clear(includeLabels) {\n    if (includeLabels === void 0) {\n      includeLabels = true;\n    }\n\n    var child = this._first,\n        next;\n\n    while (child) {\n      next = child._next;\n      this.remove(child);\n      child = next;\n    }\n\n    this._dp && (this._time = this._tTime = this._pTime = 0);\n    includeLabels && (this.labels = {});\n    return _uncache(this);\n  };\n\n  _proto2.totalDuration = function totalDuration(value) {\n    var max = 0,\n        self = this,\n        child = self._last,\n        prevStart = _bigNum,\n        prev,\n        start,\n        parent;\n\n    if (arguments.length) {\n      return self.timeScale((self._repeat < 0 ? self.duration() : self.totalDuration()) / (self.reversed() ? -value : value));\n    }\n\n    if (self._dirty) {\n      parent = self.parent;\n\n      while (child) {\n        prev = child._prev; //record it here in case the tween changes position in the sequence...\n\n        child._dirty && child.totalDuration(); //could change the tween._startTime, so make sure the animation's cache is clean before analyzing it.\n\n        start = child._start;\n\n        if (start > prevStart && self._sort && child._ts && !self._lock) {\n          //in case one of the tweens shifted out of order, it needs to be re-inserted into the correct position in the sequence\n          self._lock = 1; //prevent endless recursive calls - there are methods that get triggered that check duration/totalDuration when we add().\n\n          _addToTimeline(self, child, start - child._delay, 1)._lock = 0;\n        } else {\n          prevStart = start;\n        }\n\n        if (start < 0 && child._ts) {\n          //children aren't allowed to have negative startTimes unless smoothChildTiming is true, so adjust here if one is found.\n          max -= start;\n\n          if (!parent && !self._dp || parent && parent.smoothChildTiming) {\n            self._start += start / self._ts;\n            self._time -= start;\n            self._tTime -= start;\n          }\n\n          self.shiftChildren(-start, false, -1e999);\n          prevStart = 0;\n        }\n\n        child._end > max && child._ts && (max = child._end);\n        child = prev;\n      }\n\n      _setDuration(self, self === _globalTimeline && self._time > max ? self._time : max, 1, 1);\n\n      self._dirty = 0;\n    }\n\n    return self._tDur;\n  };\n\n  Timeline.updateRoot = function updateRoot(time) {\n    if (_globalTimeline._ts) {\n      _lazySafeRender(_globalTimeline, _parentToChildTotalTime(time, _globalTimeline));\n\n      _lastRenderedFrame = _ticker.frame;\n    }\n\n    if (_ticker.frame >= _nextGCFrame) {\n      _nextGCFrame += _config.autoSleep || 120;\n      var child = _globalTimeline._first;\n      if (!child || !child._ts) if (_config.autoSleep && _ticker._listeners.length < 2) {\n        while (child && !child._ts) {\n          child = child._next;\n        }\n\n        child || _ticker.sleep();\n      }\n    }\n  };\n\n  return Timeline;\n}(Animation);\n\n_setDefaults(Timeline.prototype, {\n  _lock: 0,\n  _hasPause: 0,\n  _forcing: 0\n});\n\nvar _addComplexStringPropTween = function _addComplexStringPropTween(target, prop, start, end, setter, stringFilter, funcParam) {\n  //note: we call _addComplexStringPropTween.call(tweenInstance...) to ensure that it's scoped properly. We may call it from within a plugin too, thus \"this\" would refer to the plugin.\n  var pt = new PropTween(this._pt, target, prop, 0, 1, _renderComplexString, null, setter),\n      index = 0,\n      matchIndex = 0,\n      result,\n      startNums,\n      color,\n      endNum,\n      chunk,\n      startNum,\n      hasRandom,\n      a;\n  pt.b = start;\n  pt.e = end;\n  start += \"\"; //ensure values are strings\n\n  end += \"\";\n\n  if (hasRandom = ~end.indexOf(\"random(\")) {\n    end = _replaceRandom(end);\n  }\n\n  if (stringFilter) {\n    a = [start, end];\n    stringFilter(a, target, prop); //pass an array with the starting and ending values and let the filter do whatever it needs to the values.\n\n    start = a[0];\n    end = a[1];\n  }\n\n  startNums = start.match(_complexStringNumExp) || [];\n\n  while (result = _complexStringNumExp.exec(end)) {\n    endNum = result[0];\n    chunk = end.substring(index, result.index);\n\n    if (color) {\n      color = (color + 1) % 5;\n    } else if (chunk.substr(-5) === \"rgba(\") {\n      color = 1;\n    }\n\n    if (endNum !== startNums[matchIndex++]) {\n      startNum = parseFloat(startNums[matchIndex - 1]) || 0; //these nested PropTweens are handled in a special way - we'll never actually call a render or setter method on them. We'll just loop through them in the parent complex string PropTween's render method.\n\n      pt._pt = {\n        _next: pt._pt,\n        p: chunk || matchIndex === 1 ? chunk : \",\",\n        //note: SVG spec allows omission of comma/space when a negative sign is wedged between two numbers, like 2.5-5.3 instead of 2.5,-5.3 but when tweening, the negative value may switch to positive, so we insert the comma just in case.\n        s: startNum,\n        c: endNum.charAt(1) === \"=\" ? parseFloat(endNum.substr(2)) * (endNum.charAt(0) === \"-\" ? -1 : 1) : parseFloat(endNum) - startNum,\n        m: color && color < 4 ? Math.round : 0\n      };\n      index = _complexStringNumExp.lastIndex;\n    }\n  }\n\n  pt.c = index < end.length ? end.substring(index, end.length) : \"\"; //we use the \"c\" of the PropTween to store the final part of the string (after the last number)\n\n  pt.fp = funcParam;\n\n  if (_relExp.test(end) || hasRandom) {\n    pt.e = 0; //if the end string contains relative values or dynamic random(...) values, delete the end it so that on the final render we don't actually set it to the string with += or -= characters (forces it to use the calculated value).\n  }\n\n  this._pt = pt; //start the linked list with this new PropTween. Remember, we call _addComplexStringPropTween.call(tweenInstance...) to ensure that it's scoped properly. We may call it from within a plugin too, thus \"this\" would refer to the plugin.\n\n  return pt;\n},\n    _addPropTween = function _addPropTween(target, prop, start, end, index, targets, modifier, stringFilter, funcParam) {\n  _isFunction(end) && (end = end(index || 0, target, targets));\n  var currentValue = target[prop],\n      parsedStart = start !== \"get\" ? start : !_isFunction(currentValue) ? currentValue : funcParam ? target[prop.indexOf(\"set\") || !_isFunction(target[\"get\" + prop.substr(3)]) ? prop : \"get\" + prop.substr(3)](funcParam) : target[prop](),\n      setter = !_isFunction(currentValue) ? _setterPlain : funcParam ? _setterFuncWithParam : _setterFunc,\n      pt;\n\n  if (_isString(end)) {\n    if (~end.indexOf(\"random(\")) {\n      end = _replaceRandom(end);\n    }\n\n    if (end.charAt(1) === \"=\") {\n      pt = parseFloat(parsedStart) + parseFloat(end.substr(2)) * (end.charAt(0) === \"-\" ? -1 : 1) + (getUnit(parsedStart) || 0);\n\n      if (pt || pt === 0) {\n        // to avoid isNaN, like if someone passes in a value like \"!= whatever\"\n        end = pt;\n      }\n    }\n  }\n\n  if (parsedStart !== end) {\n    if (!isNaN(parsedStart * end) && end !== \"\") {\n      // fun fact: any number multiplied by \"\" is evaluated as the number 0!\n      pt = new PropTween(this._pt, target, prop, +parsedStart || 0, end - (parsedStart || 0), typeof currentValue === \"boolean\" ? _renderBoolean : _renderPlain, 0, setter);\n      funcParam && (pt.fp = funcParam);\n      modifier && pt.modifier(modifier, this, target);\n      return this._pt = pt;\n    }\n\n    !currentValue && !(prop in target) && _missingPlugin(prop, end);\n    return _addComplexStringPropTween.call(this, target, prop, parsedStart, end, setter, stringFilter || _config.stringFilter, funcParam);\n  }\n},\n    //creates a copy of the vars object and processes any function-based values (putting the resulting values directly into the copy) as well as strings with \"random()\" in them. It does NOT process relative values.\n_processVars = function _processVars(vars, index, target, targets, tween) {\n  _isFunction(vars) && (vars = _parseFuncOrString(vars, tween, index, target, targets));\n\n  if (!_isObject(vars) || vars.style && vars.nodeType || _isArray(vars) || _isTypedArray(vars)) {\n    return _isString(vars) ? _parseFuncOrString(vars, tween, index, target, targets) : vars;\n  }\n\n  var copy = {},\n      p;\n\n  for (p in vars) {\n    copy[p] = _parseFuncOrString(vars[p], tween, index, target, targets);\n  }\n\n  return copy;\n},\n    _checkPlugin = function _checkPlugin(property, vars, tween, index, target, targets) {\n  var plugin, pt, ptLookup, i;\n\n  if (_plugins[property] && (plugin = new _plugins[property]()).init(target, plugin.rawVars ? vars[property] : _processVars(vars[property], index, target, targets, tween), tween, index, targets) !== false) {\n    tween._pt = pt = new PropTween(tween._pt, target, property, 0, 1, plugin.render, plugin, 0, plugin.priority);\n\n    if (tween !== _quickTween) {\n      ptLookup = tween._ptLookup[tween._targets.indexOf(target)]; //note: we can't use tween._ptLookup[index] because for staggered tweens, the index from the fullTargets array won't match what it is in each individual tween that spawns from the stagger.\n\n      i = plugin._props.length;\n\n      while (i--) {\n        ptLookup[plugin._props[i]] = pt;\n      }\n    }\n  }\n\n  return plugin;\n},\n    _overwritingTween,\n    //store a reference temporarily so we can avoid overwriting itself.\n_initTween = function _initTween(tween, time) {\n  var vars = tween.vars,\n      ease = vars.ease,\n      startAt = vars.startAt,\n      immediateRender = vars.immediateRender,\n      lazy = vars.lazy,\n      onUpdate = vars.onUpdate,\n      onUpdateParams = vars.onUpdateParams,\n      callbackScope = vars.callbackScope,\n      runBackwards = vars.runBackwards,\n      yoyoEase = vars.yoyoEase,\n      keyframes = vars.keyframes,\n      autoRevert = vars.autoRevert,\n      dur = tween._dur,\n      prevStartAt = tween._startAt,\n      targets = tween._targets,\n      parent = tween.parent,\n      fullTargets = parent && parent.data === \"nested\" ? parent.parent._targets : targets,\n      autoOverwrite = tween._overwrite === \"auto\" && !_suppressOverwrites,\n      tl = tween.timeline,\n      cleanVars,\n      i,\n      p,\n      pt,\n      target,\n      hasPriority,\n      gsData,\n      harness,\n      plugin,\n      ptLookup,\n      index,\n      harnessVars,\n      overwritten;\n  tl && (!keyframes || !ease) && (ease = \"none\");\n  tween._ease = _parseEase(ease, _defaults.ease);\n  tween._yEase = yoyoEase ? _invertEase(_parseEase(yoyoEase === true ? ease : yoyoEase, _defaults.ease)) : 0;\n\n  if (yoyoEase && tween._yoyo && !tween._repeat) {\n    //there must have been a parent timeline with yoyo:true that is currently in its yoyo phase, so flip the eases.\n    yoyoEase = tween._yEase;\n    tween._yEase = tween._ease;\n    tween._ease = yoyoEase;\n  }\n\n  tween._from = !tl && !!vars.runBackwards; //nested timelines should never run backwards - the backwards-ness is in the child tweens.\n\n  if (!tl) {\n    //if there's an internal timeline, skip all the parsing because we passed that task down the chain.\n    harness = targets[0] ? _getCache(targets[0]).harness : 0;\n    harnessVars = harness && vars[harness.prop]; //someone may need to specify CSS-specific values AND non-CSS values, like if the element has an \"x\" property plus it's a standard DOM element. We allow people to distinguish by wrapping plugin-specific stuff in a css:{} object for example.\n\n    cleanVars = _copyExcluding(vars, _reservedProps);\n    prevStartAt && prevStartAt.render(-1, true).kill();\n\n    if (startAt) {\n      _removeFromParent(tween._startAt = Tween.set(targets, _setDefaults({\n        data: \"isStart\",\n        overwrite: false,\n        parent: parent,\n        immediateRender: true,\n        lazy: _isNotFalse(lazy),\n        startAt: null,\n        delay: 0,\n        onUpdate: onUpdate,\n        onUpdateParams: onUpdateParams,\n        callbackScope: callbackScope,\n        stagger: 0\n      }, startAt))); //copy the properties/values into a new object to avoid collisions, like var to = {x:0}, from = {x:500}; timeline.fromTo(e, from, to).fromTo(e, to, from);\n\n\n      time < 0 && !immediateRender && !autoRevert && tween._startAt.render(-1, true); // rare edge case, like if a render is forced in the negative direction of a non-initted tween.\n\n      if (immediateRender) {\n        time > 0 && !autoRevert && (tween._startAt = 0); //tweens that render immediately (like most from() and fromTo() tweens) shouldn't revert when their parent timeline's playhead goes backward past the startTime because the initial render could have happened anytime and it shouldn't be directly correlated to this tween's startTime. Imagine setting up a complex animation where the beginning states of various objects are rendered immediately but the tween doesn't happen for quite some time - if we revert to the starting values as soon as the playhead goes backward past the tween's startTime, it will throw things off visually. Reversion should only happen in Timeline instances where immediateRender was false or when autoRevert is explicitly set to true.\n\n        if (dur && time <= 0) {\n          time && (tween._zTime = time);\n          return; //we skip initialization here so that overwriting doesn't occur until the tween actually begins. Otherwise, if you create several immediateRender:true tweens of the same target/properties to drop into a Timeline, the last one created would overwrite the first ones because they didn't get placed into the timeline yet before the first render occurs and kicks in overwriting.\n        } // if (time > 0) {\n        // \tautoRevert || (tween._startAt = 0); //tweens that render immediately (like most from() and fromTo() tweens) shouldn't revert when their parent timeline's playhead goes backward past the startTime because the initial render could have happened anytime and it shouldn't be directly correlated to this tween's startTime. Imagine setting up a complex animation where the beginning states of various objects are rendered immediately but the tween doesn't happen for quite some time - if we revert to the starting values as soon as the playhead goes backward past the tween's startTime, it will throw things off visually. Reversion should only happen in Timeline instances where immediateRender was false or when autoRevert is explicitly set to true.\n        // } else if (dur && !(time < 0 && prevStartAt)) {\n        // \ttime && (tween._zTime = time);\n        // \treturn; //we skip initialization here so that overwriting doesn't occur until the tween actually begins. Otherwise, if you create several immediateRender:true tweens of the same target/properties to drop into a Timeline, the last one created would overwrite the first ones because they didn't get placed into the timeline yet before the first render occurs and kicks in overwriting.\n        // }\n\n      } else if (autoRevert === false) {\n        tween._startAt = 0;\n      }\n    } else if (runBackwards && dur) {\n      //from() tweens must be handled uniquely: their beginning values must be rendered but we don't want overwriting to occur yet (when time is still 0). Wait until the tween actually begins before doing all the routines like overwriting. At that time, we should render at the END of the tween to ensure that things initialize correctly (remember, from() tweens go backwards)\n      if (prevStartAt) {\n        !autoRevert && (tween._startAt = 0);\n      } else {\n        time && (immediateRender = false); //in rare cases (like if a from() tween runs and then is invalidate()-ed), immediateRender could be true but the initial forced-render gets skipped, so there's no need to force the render in this context when the _time is greater than 0\n\n        p = _setDefaults({\n          overwrite: false,\n          data: \"isFromStart\",\n          //we tag the tween with as \"isFromStart\" so that if [inside a plugin] we need to only do something at the very END of a tween, we have a way of identifying this tween as merely the one that's setting the beginning values for a \"from()\" tween. For example, clearProps in CSSPlugin should only get applied at the very END of a tween and without this tag, from(...{height:100, clearProps:\"height\", delay:1}) would wipe the height at the beginning of the tween and after 1 second, it'd kick back in.\n          lazy: immediateRender && _isNotFalse(lazy),\n          immediateRender: immediateRender,\n          //zero-duration tweens render immediately by default, but if we're not specifically instructed to render this tween immediately, we should skip this and merely _init() to record the starting values (rendering them immediately would push them to completion which is wasteful in that case - we'd have to render(-1) immediately after)\n          stagger: 0,\n          parent: parent //ensures that nested tweens that had a stagger are handled properly, like gsap.from(\".class\", {y:gsap.utils.wrap([-100,100])})\n\n        }, cleanVars);\n        harnessVars && (p[harness.prop] = harnessVars); // in case someone does something like .from(..., {css:{}})\n\n        _removeFromParent(tween._startAt = Tween.set(targets, p));\n\n        time < 0 && tween._startAt.render(-1, true); // rare edge case, like if a render is forced in the negative direction of a non-initted from() tween.\n\n        if (!immediateRender) {\n          _initTween(tween._startAt, _tinyNum); //ensures that the initial values are recorded\n\n        } else if (!time) {\n          return;\n        }\n      }\n    }\n\n    tween._pt = 0;\n    lazy = dur && _isNotFalse(lazy) || lazy && !dur;\n\n    for (i = 0; i < targets.length; i++) {\n      target = targets[i];\n      gsData = target._gsap || _harness(targets)[i]._gsap;\n      tween._ptLookup[i] = ptLookup = {};\n      _lazyLookup[gsData.id] && _lazyTweens.length && _lazyRender(); //if other tweens of the same target have recently initted but haven't rendered yet, we've got to force the render so that the starting values are correct (imagine populating a timeline with a bunch of sequential tweens and then jumping to the end)\n\n      index = fullTargets === targets ? i : fullTargets.indexOf(target);\n\n      if (harness && (plugin = new harness()).init(target, harnessVars || cleanVars, tween, index, fullTargets) !== false) {\n        tween._pt = pt = new PropTween(tween._pt, target, plugin.name, 0, 1, plugin.render, plugin, 0, plugin.priority);\n\n        plugin._props.forEach(function (name) {\n          ptLookup[name] = pt;\n        });\n\n        plugin.priority && (hasPriority = 1);\n      }\n\n      if (!harness || harnessVars) {\n        for (p in cleanVars) {\n          if (_plugins[p] && (plugin = _checkPlugin(p, cleanVars, tween, index, target, fullTargets))) {\n            plugin.priority && (hasPriority = 1);\n          } else {\n            ptLookup[p] = pt = _addPropTween.call(tween, target, p, \"get\", cleanVars[p], index, fullTargets, 0, vars.stringFilter);\n          }\n        }\n      }\n\n      tween._op && tween._op[i] && tween.kill(target, tween._op[i]);\n\n      if (autoOverwrite && tween._pt) {\n        _overwritingTween = tween;\n\n        _globalTimeline.killTweensOf(target, ptLookup, tween.globalTime(0)); //Also make sure the overwriting doesn't overwrite THIS tween!!!\n\n\n        overwritten = !tween.parent;\n        _overwritingTween = 0;\n      }\n\n      tween._pt && lazy && (_lazyLookup[gsData.id] = 1);\n    }\n\n    hasPriority && _sortPropTweensByPriority(tween);\n    tween._onInit && tween._onInit(tween); //plugins like RoundProps must wait until ALL of the PropTweens are instantiated. In the plugin's init() function, it sets the _onInit on the tween instance. May not be pretty/intuitive, but it's fast and keeps file size down.\n  }\n\n  tween._onUpdate = onUpdate;\n  tween._initted = (!tween._op || tween._pt) && !overwritten; // if overwrittenProps resulted in the entire tween being killed, do NOT flag it as initted or else it may render for one tick.\n},\n    _addAliasesToVars = function _addAliasesToVars(targets, vars) {\n  var harness = targets[0] ? _getCache(targets[0]).harness : 0,\n      propertyAliases = harness && harness.aliases,\n      copy,\n      p,\n      i,\n      aliases;\n\n  if (!propertyAliases) {\n    return vars;\n  }\n\n  copy = _merge({}, vars);\n\n  for (p in propertyAliases) {\n    if (p in copy) {\n      aliases = propertyAliases[p].split(\",\");\n      i = aliases.length;\n\n      while (i--) {\n        copy[aliases[i]] = copy[p];\n      }\n    }\n  }\n\n  return copy;\n},\n    _parseFuncOrString = function _parseFuncOrString(value, tween, i, target, targets) {\n  return _isFunction(value) ? value.call(tween, i, target, targets) : _isString(value) && ~value.indexOf(\"random(\") ? _replaceRandom(value) : value;\n},\n    _staggerTweenProps = _callbackNames + \"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase\",\n    _staggerPropsToSkip = (_staggerTweenProps + \",id,stagger,delay,duration,paused,scrollTrigger\").split(\",\");\n/*\n * --------------------------------------------------------------------------------------\n * TWEEN\n * --------------------------------------------------------------------------------------\n */\n\n\nexport var Tween = /*#__PURE__*/function (_Animation2) {\n  _inheritsLoose(Tween, _Animation2);\n\n  function Tween(targets, vars, position, skipInherit) {\n    var _this3;\n\n    if (typeof vars === \"number\") {\n      position.duration = vars;\n      vars = position;\n      position = null;\n    }\n\n    _this3 = _Animation2.call(this, skipInherit ? vars : _inheritDefaults(vars)) || this;\n    var _this3$vars = _this3.vars,\n        duration = _this3$vars.duration,\n        delay = _this3$vars.delay,\n        immediateRender = _this3$vars.immediateRender,\n        stagger = _this3$vars.stagger,\n        overwrite = _this3$vars.overwrite,\n        keyframes = _this3$vars.keyframes,\n        defaults = _this3$vars.defaults,\n        scrollTrigger = _this3$vars.scrollTrigger,\n        yoyoEase = _this3$vars.yoyoEase,\n        parent = vars.parent || _globalTimeline,\n        parsedTargets = (_isArray(targets) || _isTypedArray(targets) ? _isNumber(targets[0]) : \"length\" in vars) ? [targets] : toArray(targets),\n        tl,\n        i,\n        copy,\n        l,\n        p,\n        curTarget,\n        staggerFunc,\n        staggerVarsToMerge;\n    _this3._targets = parsedTargets.length ? _harness(parsedTargets) : _warn(\"GSAP target \" + targets + \" not found. https://greensock.com\", !_config.nullTargetWarn) || [];\n    _this3._ptLookup = []; //PropTween lookup. An array containing an object for each target, having keys for each tweening property\n\n    _this3._overwrite = overwrite;\n\n    if (keyframes || stagger || _isFuncOrString(duration) || _isFuncOrString(delay)) {\n      vars = _this3.vars;\n      tl = _this3.timeline = new Timeline({\n        data: \"nested\",\n        defaults: defaults || {}\n      });\n      tl.kill();\n      tl.parent = tl._dp = _assertThisInitialized(_this3);\n      tl._start = 0;\n\n      if (keyframes) {\n        _setDefaults(tl.vars.defaults, {\n          ease: \"none\"\n        });\n\n        stagger ? parsedTargets.forEach(function (t, i) {\n          return keyframes.forEach(function (frame, j) {\n            return tl.to(t, frame, j ? \">\" : i * stagger);\n          });\n        }) : keyframes.forEach(function (frame) {\n          return tl.to(parsedTargets, frame, \">\");\n        });\n      } else {\n        l = parsedTargets.length;\n        staggerFunc = stagger ? distribute(stagger) : _emptyFunc;\n\n        if (_isObject(stagger)) {\n          //users can pass in callbacks like onStart/onComplete in the stagger object. These should fire with each individual tween.\n          for (p in stagger) {\n            if (~_staggerTweenProps.indexOf(p)) {\n              staggerVarsToMerge || (staggerVarsToMerge = {});\n              staggerVarsToMerge[p] = stagger[p];\n            }\n          }\n        }\n\n        for (i = 0; i < l; i++) {\n          copy = {};\n\n          for (p in vars) {\n            if (_staggerPropsToSkip.indexOf(p) < 0) {\n              copy[p] = vars[p];\n            }\n          }\n\n          copy.stagger = 0;\n          yoyoEase && (copy.yoyoEase = yoyoEase);\n          staggerVarsToMerge && _merge(copy, staggerVarsToMerge);\n          curTarget = parsedTargets[i]; //don't just copy duration or delay because if they're a string or function, we'd end up in an infinite loop because _isFuncOrString() would evaluate as true in the child tweens, entering this loop, etc. So we parse the value straight from vars and default to 0.\n\n          copy.duration = +_parseFuncOrString(duration, _assertThisInitialized(_this3), i, curTarget, parsedTargets);\n          copy.delay = (+_parseFuncOrString(delay, _assertThisInitialized(_this3), i, curTarget, parsedTargets) || 0) - _this3._delay;\n\n          if (!stagger && l === 1 && copy.delay) {\n            // if someone does delay:\"random(1, 5)\", repeat:-1, for example, the delay shouldn't be inside the repeat.\n            _this3._delay = delay = copy.delay;\n            _this3._start += delay;\n            copy.delay = 0;\n          }\n\n          tl.to(curTarget, copy, staggerFunc(i, curTarget, parsedTargets));\n        }\n\n        tl.duration() ? duration = delay = 0 : _this3.timeline = 0; // if the timeline's duration is 0, we don't need a timeline internally!\n      }\n\n      duration || _this3.duration(duration = tl.duration());\n    } else {\n      _this3.timeline = 0; //speed optimization, faster lookups (no going up the prototype chain)\n    }\n\n    if (overwrite === true && !_suppressOverwrites) {\n      _overwritingTween = _assertThisInitialized(_this3);\n\n      _globalTimeline.killTweensOf(parsedTargets);\n\n      _overwritingTween = 0;\n    }\n\n    _addToTimeline(parent, _assertThisInitialized(_this3), position);\n\n    vars.reversed && _this3.reverse();\n    vars.paused && _this3.paused(true);\n\n    if (immediateRender || !duration && !keyframes && _this3._start === _round(parent._time) && _isNotFalse(immediateRender) && _hasNoPausedAncestors(_assertThisInitialized(_this3)) && parent.data !== \"nested\") {\n      _this3._tTime = -_tinyNum; //forces a render without having to set the render() \"force\" parameter to true because we want to allow lazying by default (using the \"force\" parameter always forces an immediate full render)\n\n      _this3.render(Math.max(0, -delay)); //in case delay is negative\n\n    }\n\n    scrollTrigger && _scrollTrigger(_assertThisInitialized(_this3), scrollTrigger);\n    return _this3;\n  }\n\n  var _proto3 = Tween.prototype;\n\n  _proto3.render = function render(totalTime, suppressEvents, force) {\n    var prevTime = this._time,\n        tDur = this._tDur,\n        dur = this._dur,\n        tTime = totalTime > tDur - _tinyNum && totalTime >= 0 ? tDur : totalTime < _tinyNum ? 0 : totalTime,\n        time,\n        pt,\n        iteration,\n        cycleDuration,\n        prevIteration,\n        isYoyo,\n        ratio,\n        timeline,\n        yoyoEase;\n\n    if (!dur) {\n      _renderZeroDurationTween(this, totalTime, suppressEvents, force);\n    } else if (tTime !== this._tTime || !totalTime || force || !this._initted && this._tTime || this._startAt && this._zTime < 0 !== totalTime < 0) {\n      //this senses if we're crossing over the start time, in which case we must record _zTime and force the render, but we do it in this lengthy conditional way for performance reasons (usually we can skip the calculations): this._initted && (this._zTime < 0) !== (totalTime < 0)\n      time = tTime;\n      timeline = this.timeline;\n\n      if (this._repeat) {\n        //adjust the time for repeats and yoyos\n        cycleDuration = dur + this._rDelay;\n\n        if (this._repeat < -1 && totalTime < 0) {\n          return this.totalTime(cycleDuration * 100 + totalTime, suppressEvents, force);\n        }\n\n        time = _round(tTime % cycleDuration); //round to avoid floating point errors. (4 % 0.8 should be 0 but some browsers report it as 0.79999999!)\n\n        if (tTime === tDur) {\n          // the tDur === tTime is for edge cases where there's a lengthy decimal on the duration and it may reach the very end but the time is rendered as not-quite-there (remember, tDur is rounded to 4 decimals whereas dur isn't)\n          iteration = this._repeat;\n          time = dur;\n        } else {\n          iteration = ~~(tTime / cycleDuration);\n\n          if (iteration && iteration === tTime / cycleDuration) {\n            time = dur;\n            iteration--;\n          }\n\n          time > dur && (time = dur);\n        }\n\n        isYoyo = this._yoyo && iteration & 1;\n\n        if (isYoyo) {\n          yoyoEase = this._yEase;\n          time = dur - time;\n        }\n\n        prevIteration = _animationCycle(this._tTime, cycleDuration);\n\n        if (time === prevTime && !force && this._initted) {\n          //could be during the repeatDelay part. No need to render and fire callbacks.\n          return this;\n        }\n\n        if (iteration !== prevIteration) {\n          timeline && this._yEase && _propagateYoyoEase(timeline, isYoyo); //repeatRefresh functionality\n\n          if (this.vars.repeatRefresh && !isYoyo && !this._lock) {\n            this._lock = force = 1; //force, otherwise if lazy is true, the _attemptInitTween() will return and we'll jump out and get caught bouncing on each tick.\n\n            this.render(_round(cycleDuration * iteration), true).invalidate()._lock = 0;\n          }\n        }\n      }\n\n      if (!this._initted) {\n        if (_attemptInitTween(this, totalTime < 0 ? totalTime : time, force, suppressEvents)) {\n          this._tTime = 0; // in constructor if immediateRender is true, we set _tTime to -_tinyNum to have the playhead cross the starting point but we can't leave _tTime as a negative number.\n\n          return this;\n        }\n\n        if (dur !== this._dur) {\n          // while initting, a plugin like InertiaPlugin might alter the duration, so rerun from the start to ensure everything renders as it should.\n          return this.render(totalTime, suppressEvents, force);\n        }\n      }\n\n      this._tTime = tTime;\n      this._time = time;\n\n      if (!this._act && this._ts) {\n        this._act = 1; //as long as it's not paused, force it to be active so that if the user renders independent of the parent timeline, it'll be forced to re-render on the next tick.\n\n        this._lazy = 0;\n      }\n\n      this.ratio = ratio = (yoyoEase || this._ease)(time / dur);\n\n      if (this._from) {\n        this.ratio = ratio = 1 - ratio;\n      }\n\n      time && !prevTime && !suppressEvents && _callback(this, \"onStart\");\n\n      if (time && !prevTime && !suppressEvents) {\n        _callback(this, \"onStart\");\n\n        if (this._tTime !== tTime) {\n          // in case the onStart triggered a render at a different spot, eject. Like if someone did animation.pause(0.5) or something inside the onStart.\n          return this;\n        }\n      }\n\n      pt = this._pt;\n\n      while (pt) {\n        pt.r(ratio, pt.d);\n        pt = pt._next;\n      }\n\n      timeline && timeline.render(totalTime < 0 ? totalTime : !time && isYoyo ? -_tinyNum : timeline._dur * ratio, suppressEvents, force) || this._startAt && (this._zTime = totalTime);\n\n      if (this._onUpdate && !suppressEvents) {\n        totalTime < 0 && this._startAt && this._startAt.render(totalTime, true, force); //note: for performance reasons, we tuck this conditional logic inside less traveled areas (most tweens don't have an onUpdate). We'd just have it at the end before the onComplete, but the values should be updated before any onUpdate is called, so we ALSO put it here and then if it's not called, we do so later near the onComplete.\n\n        _callback(this, \"onUpdate\");\n      }\n\n      this._repeat && iteration !== prevIteration && this.vars.onRepeat && !suppressEvents && this.parent && _callback(this, \"onRepeat\");\n\n      if ((tTime === this._tDur || !tTime) && this._tTime === tTime) {\n        totalTime < 0 && this._startAt && !this._onUpdate && this._startAt.render(totalTime, true, true);\n        (totalTime || !dur) && (tTime === this._tDur && this._ts > 0 || !tTime && this._ts < 0) && _removeFromParent(this, 1); // don't remove if we're rendering at exactly a time of 0, as there could be autoRevert values that should get set on the next tick (if the playhead goes backward beyond the startTime, negative totalTime). Don't remove if the timeline is reversed and the playhead isn't at 0, otherwise tl.progress(1).reverse() won't work. Only remove if the playhead is at the end and timeScale is positive, or if the playhead is at 0 and the timeScale is negative.\n\n        if (!suppressEvents && !(totalTime < 0 && !prevTime) && (tTime || prevTime)) {\n          // if prevTime and tTime are zero, we shouldn't fire the onReverseComplete. This could happen if you gsap.to(... {paused:true}).play();\n          _callback(this, tTime === tDur ? \"onComplete\" : \"onReverseComplete\", true);\n\n          this._prom && !(tTime < tDur && this.timeScale() > 0) && this._prom();\n        }\n      }\n    }\n\n    return this;\n  };\n\n  _proto3.targets = function targets() {\n    return this._targets;\n  };\n\n  _proto3.invalidate = function invalidate() {\n    this._pt = this._op = this._startAt = this._onUpdate = this._lazy = this.ratio = 0;\n    this._ptLookup = [];\n    this.timeline && this.timeline.invalidate();\n    return _Animation2.prototype.invalidate.call(this);\n  };\n\n  _proto3.kill = function kill(targets, vars) {\n    if (vars === void 0) {\n      vars = \"all\";\n    }\n\n    if (!targets && (!vars || vars === \"all\")) {\n      this._lazy = this._pt = 0;\n      return this.parent ? _interrupt(this) : this;\n    }\n\n    if (this.timeline) {\n      var tDur = this.timeline.totalDuration();\n      this.timeline.killTweensOf(targets, vars, _overwritingTween && _overwritingTween.vars.overwrite !== true)._first || _interrupt(this); // if nothing is left tweening, interrupt.\n\n      this.parent && tDur !== this.timeline.totalDuration() && _setDuration(this, this._dur * this.timeline._tDur / tDur, 0, 1); // if a nested tween is killed that changes the duration, it should affect this tween's duration. We must use the ratio, though, because sometimes the internal timeline is stretched like for keyframes where they don't all add up to whatever the parent tween's duration was set to.\n\n      return this;\n    }\n\n    var parsedTargets = this._targets,\n        killingTargets = targets ? toArray(targets) : parsedTargets,\n        propTweenLookup = this._ptLookup,\n        firstPT = this._pt,\n        overwrittenProps,\n        curLookup,\n        curOverwriteProps,\n        props,\n        p,\n        pt,\n        i;\n\n    if ((!vars || vars === \"all\") && _arraysMatch(parsedTargets, killingTargets)) {\n      vars === \"all\" && (this._pt = 0);\n      return _interrupt(this);\n    }\n\n    overwrittenProps = this._op = this._op || [];\n\n    if (vars !== \"all\") {\n      //so people can pass in a comma-delimited list of property names\n      if (_isString(vars)) {\n        p = {};\n\n        _forEachName(vars, function (name) {\n          return p[name] = 1;\n        });\n\n        vars = p;\n      }\n\n      vars = _addAliasesToVars(parsedTargets, vars);\n    }\n\n    i = parsedTargets.length;\n\n    while (i--) {\n      if (~killingTargets.indexOf(parsedTargets[i])) {\n        curLookup = propTweenLookup[i];\n\n        if (vars === \"all\") {\n          overwrittenProps[i] = vars;\n          props = curLookup;\n          curOverwriteProps = {};\n        } else {\n          curOverwriteProps = overwrittenProps[i] = overwrittenProps[i] || {};\n          props = vars;\n        }\n\n        for (p in props) {\n          pt = curLookup && curLookup[p];\n\n          if (pt) {\n            if (!(\"kill\" in pt.d) || pt.d.kill(p) === true) {\n              _removeLinkedListItem(this, pt, \"_pt\");\n            }\n\n            delete curLookup[p];\n          }\n\n          if (curOverwriteProps !== \"all\") {\n            curOverwriteProps[p] = 1;\n          }\n        }\n      }\n    }\n\n    this._initted && !this._pt && firstPT && _interrupt(this); //if all tweening properties are killed, kill the tween. Without this line, if there's a tween with multiple targets and then you killTweensOf() each target individually, the tween would technically still remain active and fire its onComplete even though there aren't any more properties tweening.\n\n    return this;\n  };\n\n  Tween.to = function to(targets, vars) {\n    return new Tween(targets, vars, arguments[2]);\n  };\n\n  Tween.from = function from(targets, vars) {\n    return _createTweenType(1, arguments);\n  };\n\n  Tween.delayedCall = function delayedCall(delay, callback, params, scope) {\n    return new Tween(callback, 0, {\n      immediateRender: false,\n      lazy: false,\n      overwrite: false,\n      delay: delay,\n      onComplete: callback,\n      onReverseComplete: callback,\n      onCompleteParams: params,\n      onReverseCompleteParams: params,\n      callbackScope: scope\n    });\n  };\n\n  Tween.fromTo = function fromTo(targets, fromVars, toVars) {\n    return _createTweenType(2, arguments);\n  };\n\n  Tween.set = function set(targets, vars) {\n    vars.duration = 0;\n    vars.repeatDelay || (vars.repeat = 0);\n    return new Tween(targets, vars);\n  };\n\n  Tween.killTweensOf = function killTweensOf(targets, props, onlyActive) {\n    return _globalTimeline.killTweensOf(targets, props, onlyActive);\n  };\n\n  return Tween;\n}(Animation);\n\n_setDefaults(Tween.prototype, {\n  _targets: [],\n  _lazy: 0,\n  _startAt: 0,\n  _op: 0,\n  _onInit: 0\n}); //add the pertinent timeline methods to Tween instances so that users can chain conveniently and create a timeline automatically. (removed due to concerns that it'd ultimately add to more confusion especially for beginners)\n// _forEachName(\"to,from,fromTo,set,call,add,addLabel,addPause\", name => {\n// \tTween.prototype[name] = function() {\n// \t\tlet tl = new Timeline();\n// \t\treturn _addToTimeline(tl, this)[name].apply(tl, toArray(arguments));\n// \t}\n// });\n//for backward compatibility. Leverage the timeline calls.\n\n\n_forEachName(\"staggerTo,staggerFrom,staggerFromTo\", function (name) {\n  Tween[name] = function () {\n    var tl = new Timeline(),\n        params = _slice.call(arguments, 0);\n\n    params.splice(name === \"staggerFromTo\" ? 5 : 4, 0, 0);\n    return tl[name].apply(tl, params);\n  };\n});\n/*\n * --------------------------------------------------------------------------------------\n * PROPTWEEN\n * --------------------------------------------------------------------------------------\n */\n\n\nvar _setterPlain = function _setterPlain(target, property, value) {\n  return target[property] = value;\n},\n    _setterFunc = function _setterFunc(target, property, value) {\n  return target[property](value);\n},\n    _setterFuncWithParam = function _setterFuncWithParam(target, property, value, data) {\n  return target[property](data.fp, value);\n},\n    _setterAttribute = function _setterAttribute(target, property, value) {\n  return target.setAttribute(property, value);\n},\n    _getSetter = function _getSetter(target, property) {\n  return _isFunction(target[property]) ? _setterFunc : _isUndefined(target[property]) && target.setAttribute ? _setterAttribute : _setterPlain;\n},\n    _renderPlain = function _renderPlain(ratio, data) {\n  return data.set(data.t, data.p, Math.round((data.s + data.c * ratio) * 1000000) / 1000000, data);\n},\n    _renderBoolean = function _renderBoolean(ratio, data) {\n  return data.set(data.t, data.p, !!(data.s + data.c * ratio), data);\n},\n    _renderComplexString = function _renderComplexString(ratio, data) {\n  var pt = data._pt,\n      s = \"\";\n\n  if (!ratio && data.b) {\n    //b = beginning string\n    s = data.b;\n  } else if (ratio === 1 && data.e) {\n    //e = ending string\n    s = data.e;\n  } else {\n    while (pt) {\n      s = pt.p + (pt.m ? pt.m(pt.s + pt.c * ratio) : Math.round((pt.s + pt.c * ratio) * 10000) / 10000) + s; //we use the \"p\" property for the text inbetween (like a suffix). And in the context of a complex string, the modifier (m) is typically just Math.round(), like for RGB colors.\n\n      pt = pt._next;\n    }\n\n    s += data.c; //we use the \"c\" of the PropTween to store the final chunk of non-numeric text.\n  }\n\n  data.set(data.t, data.p, s, data);\n},\n    _renderPropTweens = function _renderPropTweens(ratio, data) {\n  var pt = data._pt;\n\n  while (pt) {\n    pt.r(ratio, pt.d);\n    pt = pt._next;\n  }\n},\n    _addPluginModifier = function _addPluginModifier(modifier, tween, target, property) {\n  var pt = this._pt,\n      next;\n\n  while (pt) {\n    next = pt._next;\n    pt.p === property && pt.modifier(modifier, tween, target);\n    pt = next;\n  }\n},\n    _killPropTweensOf = function _killPropTweensOf(property) {\n  var pt = this._pt,\n      hasNonDependentRemaining,\n      next;\n\n  while (pt) {\n    next = pt._next;\n\n    if (pt.p === property && !pt.op || pt.op === property) {\n      _removeLinkedListItem(this, pt, \"_pt\");\n    } else if (!pt.dep) {\n      hasNonDependentRemaining = 1;\n    }\n\n    pt = next;\n  }\n\n  return !hasNonDependentRemaining;\n},\n    _setterWithModifier = function _setterWithModifier(target, property, value, data) {\n  data.mSet(target, property, data.m.call(data.tween, value, data.mt), data);\n},\n    _sortPropTweensByPriority = function _sortPropTweensByPriority(parent) {\n  var pt = parent._pt,\n      next,\n      pt2,\n      first,\n      last; //sorts the PropTween linked list in order of priority because some plugins need to do their work after ALL of the PropTweens were created (like RoundPropsPlugin and ModifiersPlugin)\n\n  while (pt) {\n    next = pt._next;\n    pt2 = first;\n\n    while (pt2 && pt2.pr > pt.pr) {\n      pt2 = pt2._next;\n    }\n\n    if (pt._prev = pt2 ? pt2._prev : last) {\n      pt._prev._next = pt;\n    } else {\n      first = pt;\n    }\n\n    if (pt._next = pt2) {\n      pt2._prev = pt;\n    } else {\n      last = pt;\n    }\n\n    pt = next;\n  }\n\n  parent._pt = first;\n}; //PropTween key: t = target, p = prop, r = renderer, d = data, s = start, c = change, op = overwriteProperty (ONLY populated when it's different than p), pr = priority, _next/_prev for the linked list siblings, set = setter, m = modifier, mSet = modifierSetter (the original setter, before a modifier was added)\n\n\nexport var PropTween = /*#__PURE__*/function () {\n  function PropTween(next, target, prop, start, change, renderer, data, setter, priority) {\n    this.t = target;\n    this.s = start;\n    this.c = change;\n    this.p = prop;\n    this.r = renderer || _renderPlain;\n    this.d = data || this;\n    this.set = setter || _setterPlain;\n    this.pr = priority || 0;\n    this._next = next;\n\n    if (next) {\n      next._prev = this;\n    }\n  }\n\n  var _proto4 = PropTween.prototype;\n\n  _proto4.modifier = function modifier(func, tween, target) {\n    this.mSet = this.mSet || this.set; //in case it was already set (a PropTween can only have one modifier)\n\n    this.set = _setterWithModifier;\n    this.m = func;\n    this.mt = target; //modifier target\n\n    this.tween = tween;\n  };\n\n  return PropTween;\n}(); //Initialization tasks\n\n_forEachName(_callbackNames + \"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger\", function (name) {\n  return _reservedProps[name] = 1;\n});\n\n_globals.TweenMax = _globals.TweenLite = Tween;\n_globals.TimelineLite = _globals.TimelineMax = Timeline;\n_globalTimeline = new Timeline({\n  sortChildren: false,\n  defaults: _defaults,\n  autoRemoveChildren: true,\n  id: \"root\",\n  smoothChildTiming: true\n});\n_config.stringFilter = _colorStringFilter;\n/*\n * --------------------------------------------------------------------------------------\n * GSAP\n * --------------------------------------------------------------------------------------\n */\n\nvar _gsap = {\n  registerPlugin: function registerPlugin() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    args.forEach(function (config) {\n      return _createPlugin(config);\n    });\n  },\n  timeline: function timeline(vars) {\n    return new Timeline(vars);\n  },\n  getTweensOf: function getTweensOf(targets, onlyActive) {\n    return _globalTimeline.getTweensOf(targets, onlyActive);\n  },\n  getProperty: function getProperty(target, property, unit, uncache) {\n    _isString(target) && (target = toArray(target)[0]); //in case selector text or an array is passed in\n\n    var getter = _getCache(target || {}).get,\n        format = unit ? _passThrough : _numericIfPossible;\n\n    unit === \"native\" && (unit = \"\");\n    return !target ? target : !property ? function (property, unit, uncache) {\n      return format((_plugins[property] && _plugins[property].get || getter)(target, property, unit, uncache));\n    } : format((_plugins[property] && _plugins[property].get || getter)(target, property, unit, uncache));\n  },\n  quickSetter: function quickSetter(target, property, unit) {\n    target = toArray(target);\n\n    if (target.length > 1) {\n      var setters = target.map(function (t) {\n        return gsap.quickSetter(t, property, unit);\n      }),\n          l = setters.length;\n      return function (value) {\n        var i = l;\n\n        while (i--) {\n          setters[i](value);\n        }\n      };\n    }\n\n    target = target[0] || {};\n\n    var Plugin = _plugins[property],\n        cache = _getCache(target),\n        p = cache.harness && (cache.harness.aliases || {})[property] || property,\n        // in case it's an alias, like \"rotate\" for \"rotation\".\n    setter = Plugin ? function (value) {\n      var p = new Plugin();\n      _quickTween._pt = 0;\n      p.init(target, unit ? value + unit : value, _quickTween, 0, [target]);\n      p.render(1, p);\n      _quickTween._pt && _renderPropTweens(1, _quickTween);\n    } : cache.set(target, p);\n\n    return Plugin ? setter : function (value) {\n      return setter(target, p, unit ? value + unit : value, cache, 1);\n    };\n  },\n  isTweening: function isTweening(targets) {\n    return _globalTimeline.getTweensOf(targets, true).length > 0;\n  },\n  defaults: function defaults(value) {\n    value && value.ease && (value.ease = _parseEase(value.ease, _defaults.ease));\n    return _mergeDeep(_defaults, value || {});\n  },\n  config: function config(value) {\n    return _mergeDeep(_config, value || {});\n  },\n  registerEffect: function registerEffect(_ref3) {\n    var name = _ref3.name,\n        effect = _ref3.effect,\n        plugins = _ref3.plugins,\n        defaults = _ref3.defaults,\n        extendTimeline = _ref3.extendTimeline;\n    (plugins || \"\").split(\",\").forEach(function (pluginName) {\n      return pluginName && !_plugins[pluginName] && !_globals[pluginName] && _warn(name + \" effect requires \" + pluginName + \" plugin.\");\n    });\n\n    _effects[name] = function (targets, vars, tl) {\n      return effect(toArray(targets), _setDefaults(vars || {}, defaults), tl);\n    };\n\n    if (extendTimeline) {\n      Timeline.prototype[name] = function (targets, vars, position) {\n        return this.add(_effects[name](targets, _isObject(vars) ? vars : (position = vars) && {}, this), position);\n      };\n    }\n  },\n  registerEase: function registerEase(name, ease) {\n    _easeMap[name] = _parseEase(ease);\n  },\n  parseEase: function parseEase(ease, defaultEase) {\n    return arguments.length ? _parseEase(ease, defaultEase) : _easeMap;\n  },\n  getById: function getById(id) {\n    return _globalTimeline.getById(id);\n  },\n  exportRoot: function exportRoot(vars, includeDelayedCalls) {\n    if (vars === void 0) {\n      vars = {};\n    }\n\n    var tl = new Timeline(vars),\n        child,\n        next;\n    tl.smoothChildTiming = _isNotFalse(vars.smoothChildTiming);\n\n    _globalTimeline.remove(tl);\n\n    tl._dp = 0; //otherwise it'll get re-activated when adding children and be re-introduced into _globalTimeline's linked list (then added to itself).\n\n    tl._time = tl._tTime = _globalTimeline._time;\n    child = _globalTimeline._first;\n\n    while (child) {\n      next = child._next;\n\n      if (includeDelayedCalls || !(!child._dur && child instanceof Tween && child.vars.onComplete === child._targets[0])) {\n        _addToTimeline(tl, child, child._start - child._delay);\n      }\n\n      child = next;\n    }\n\n    _addToTimeline(_globalTimeline, tl, 0);\n\n    return tl;\n  },\n  utils: {\n    wrap: wrap,\n    wrapYoyo: wrapYoyo,\n    distribute: distribute,\n    random: random,\n    snap: snap,\n    normalize: normalize,\n    getUnit: getUnit,\n    clamp: clamp,\n    splitColor: splitColor,\n    toArray: toArray,\n    selector: selector,\n    mapRange: mapRange,\n    pipe: pipe,\n    unitize: unitize,\n    interpolate: interpolate,\n    shuffle: shuffle\n  },\n  install: _install,\n  effects: _effects,\n  ticker: _ticker,\n  updateRoot: Timeline.updateRoot,\n  plugins: _plugins,\n  globalTimeline: _globalTimeline,\n  core: {\n    PropTween: PropTween,\n    globals: _addGlobal,\n    Tween: Tween,\n    Timeline: Timeline,\n    Animation: Animation,\n    getCache: _getCache,\n    _removeLinkedListItem: _removeLinkedListItem,\n    suppressOverwrites: function suppressOverwrites(value) {\n      return _suppressOverwrites = value;\n    }\n  }\n};\n\n_forEachName(\"to,from,fromTo,delayedCall,set,killTweensOf\", function (name) {\n  return _gsap[name] = Tween[name];\n});\n\n_ticker.add(Timeline.updateRoot);\n\n_quickTween = _gsap.to({}, {\n  duration: 0\n}); // ---- EXTRA PLUGINS --------------------------------------------------------\n\nvar _getPluginPropTween = function _getPluginPropTween(plugin, prop) {\n  var pt = plugin._pt;\n\n  while (pt && pt.p !== prop && pt.op !== prop && pt.fp !== prop) {\n    pt = pt._next;\n  }\n\n  return pt;\n},\n    _addModifiers = function _addModifiers(tween, modifiers) {\n  var targets = tween._targets,\n      p,\n      i,\n      pt;\n\n  for (p in modifiers) {\n    i = targets.length;\n\n    while (i--) {\n      pt = tween._ptLookup[i][p];\n\n      if (pt && (pt = pt.d)) {\n        if (pt._pt) {\n          // is a plugin\n          pt = _getPluginPropTween(pt, p);\n        }\n\n        pt && pt.modifier && pt.modifier(modifiers[p], tween, targets[i], p);\n      }\n    }\n  }\n},\n    _buildModifierPlugin = function _buildModifierPlugin(name, modifier) {\n  return {\n    name: name,\n    rawVars: 1,\n    //don't pre-process function-based values or \"random()\" strings.\n    init: function init(target, vars, tween) {\n      tween._onInit = function (tween) {\n        var temp, p;\n\n        if (_isString(vars)) {\n          temp = {};\n\n          _forEachName(vars, function (name) {\n            return temp[name] = 1;\n          }); //if the user passes in a comma-delimited list of property names to roundProps, like \"x,y\", we round to whole numbers.\n\n\n          vars = temp;\n        }\n\n        if (modifier) {\n          temp = {};\n\n          for (p in vars) {\n            temp[p] = modifier(vars[p]);\n          }\n\n          vars = temp;\n        }\n\n        _addModifiers(tween, vars);\n      };\n    }\n  };\n}; //register core plugins\n\n\nexport var gsap = _gsap.registerPlugin({\n  name: \"attr\",\n  init: function init(target, vars, tween, index, targets) {\n    var p, pt;\n\n    for (p in vars) {\n      pt = this.add(target, \"setAttribute\", (target.getAttribute(p) || 0) + \"\", vars[p], index, targets, 0, 0, p);\n      pt && (pt.op = p);\n\n      this._props.push(p);\n    }\n  }\n}, {\n  name: \"endArray\",\n  init: function init(target, value) {\n    var i = value.length;\n\n    while (i--) {\n      this.add(target, i, target[i] || 0, value[i]);\n    }\n  }\n}, _buildModifierPlugin(\"roundProps\", _roundModifier), _buildModifierPlugin(\"modifiers\"), _buildModifierPlugin(\"snap\", snap)) || _gsap; //to prevent the core plugins from being dropped via aggressive tree shaking, we must include them in the variable declaration in this way.\n\nTween.version = Timeline.version = gsap.version = \"3.7.0\";\n_coreReady = 1;\n_windowExists() && _wake();\nvar Power0 = _easeMap.Power0,\n    Power1 = _easeMap.Power1,\n    Power2 = _easeMap.Power2,\n    Power3 = _easeMap.Power3,\n    Power4 = _easeMap.Power4,\n    Linear = _easeMap.Linear,\n    Quad = _easeMap.Quad,\n    Cubic = _easeMap.Cubic,\n    Quart = _easeMap.Quart,\n    Quint = _easeMap.Quint,\n    Strong = _easeMap.Strong,\n    Elastic = _easeMap.Elastic,\n    Back = _easeMap.Back,\n    SteppedEase = _easeMap.SteppedEase,\n    Bounce = _easeMap.Bounce,\n    Sine = _easeMap.Sine,\n    Expo = _easeMap.Expo,\n    Circ = _easeMap.Circ;\nexport { Power0, Power1, Power2, Power3, Power4, Linear, Quad, Cubic, Quart, Quint, Strong, Elastic, Back, SteppedEase, Bounce, Sine, Expo, Circ };\nexport { Tween as TweenMax, Tween as TweenLite, Timeline as TimelineMax, Timeline as TimelineLite, gsap as default, wrap, wrapYoyo, distribute, random, snap, normalize, getUnit, clamp, splitColor, toArray, selector, mapRange, pipe, unitize, interpolate, shuffle }; //export some internal methods/orojects for use in CSSPlugin so that we can externalize that file and allow custom builds that exclude it.\n\nexport { _getProperty, _numExp, _numWithUnitExp, _isString, _isUndefined, _renderComplexString, _relExp, _setDefaults, _removeLinkedListItem, _forEachName, _sortPropTweensByPriority, _colorStringFilter, _replaceRandom, _checkPlugin, _plugins, _ticker, _config, _roundModifier, _round, _missingPlugin, _getSetter, _getCache, _colorExp };","/*!\n * CSSPlugin 3.7.0\n * https://greensock.com\n *\n * Copyright 2008-2021, GreenSock. All rights reserved.\n * Subject to the terms at https://greensock.com/standard-license or for\n * Club GreenSock members, the agreement issued with that membership.\n * @author: Jack Doyle, jack@greensock.com\n*/\n\n/* eslint-disable */\nimport { gsap, _getProperty, _numExp, _numWithUnitExp, getUnit, _isString, _isUndefined, _renderComplexString, _relExp, _forEachName, _sortPropTweensByPriority, _colorStringFilter, _checkPlugin, _replaceRandom, _plugins, GSCache, PropTween, _config, _ticker, _round, _missingPlugin, _getSetter, _getCache, _colorExp, _setDefaults, _removeLinkedListItem //for the commented-out className feature.\n} from \"./gsap-core.js\";\n\nvar _win,\n    _doc,\n    _docElement,\n    _pluginInitted,\n    _tempDiv,\n    _tempDivStyler,\n    _recentSetterPlugin,\n    _windowExists = function _windowExists() {\n  return typeof window !== \"undefined\";\n},\n    _transformProps = {},\n    _RAD2DEG = 180 / Math.PI,\n    _DEG2RAD = Math.PI / 180,\n    _atan2 = Math.atan2,\n    _bigNum = 1e8,\n    _capsExp = /([A-Z])/g,\n    _horizontalExp = /(?:left|right|width|margin|padding|x)/i,\n    _complexExp = /[\\s,\\(]\\S/,\n    _propertyAliases = {\n  autoAlpha: \"opacity,visibility\",\n  scale: \"scaleX,scaleY\",\n  alpha: \"opacity\"\n},\n    _renderCSSProp = function _renderCSSProp(ratio, data) {\n  return data.set(data.t, data.p, Math.round((data.s + data.c * ratio) * 10000) / 10000 + data.u, data);\n},\n    _renderPropWithEnd = function _renderPropWithEnd(ratio, data) {\n  return data.set(data.t, data.p, ratio === 1 ? data.e : Math.round((data.s + data.c * ratio) * 10000) / 10000 + data.u, data);\n},\n    _renderCSSPropWithBeginning = function _renderCSSPropWithBeginning(ratio, data) {\n  return data.set(data.t, data.p, ratio ? Math.round((data.s + data.c * ratio) * 10000) / 10000 + data.u : data.b, data);\n},\n    //if units change, we need a way to render the original unit/value when the tween goes all the way back to the beginning (ratio:0)\n_renderRoundedCSSProp = function _renderRoundedCSSProp(ratio, data) {\n  var value = data.s + data.c * ratio;\n  data.set(data.t, data.p, ~~(value + (value < 0 ? -.5 : .5)) + data.u, data);\n},\n    _renderNonTweeningValue = function _renderNonTweeningValue(ratio, data) {\n  return data.set(data.t, data.p, ratio ? data.e : data.b, data);\n},\n    _renderNonTweeningValueOnlyAtEnd = function _renderNonTweeningValueOnlyAtEnd(ratio, data) {\n  return data.set(data.t, data.p, ratio !== 1 ? data.b : data.e, data);\n},\n    _setterCSSStyle = function _setterCSSStyle(target, property, value) {\n  return target.style[property] = value;\n},\n    _setterCSSProp = function _setterCSSProp(target, property, value) {\n  return target.style.setProperty(property, value);\n},\n    _setterTransform = function _setterTransform(target, property, value) {\n  return target._gsap[property] = value;\n},\n    _setterScale = function _setterScale(target, property, value) {\n  return target._gsap.scaleX = target._gsap.scaleY = value;\n},\n    _setterScaleWithRender = function _setterScaleWithRender(target, property, value, data, ratio) {\n  var cache = target._gsap;\n  cache.scaleX = cache.scaleY = value;\n  cache.renderTransform(ratio, cache);\n},\n    _setterTransformWithRender = function _setterTransformWithRender(target, property, value, data, ratio) {\n  var cache = target._gsap;\n  cache[property] = value;\n  cache.renderTransform(ratio, cache);\n},\n    _transformProp = \"transform\",\n    _transformOriginProp = _transformProp + \"Origin\",\n    _supports3D,\n    _createElement = function _createElement(type, ns) {\n  var e = _doc.createElementNS ? _doc.createElementNS((ns || \"http://www.w3.org/1999/xhtml\").replace(/^https/, \"http\"), type) : _doc.createElement(type); //some servers swap in https for http in the namespace which can break things, making \"style\" inaccessible.\n\n  return e.style ? e : _doc.createElement(type); //some environments won't allow access to the element's style when created with a namespace in which case we default to the standard createElement() to work around the issue. Also note that when GSAP is embedded directly inside an SVG file, createElement() won't allow access to the style object in Firefox (see https://greensock.com/forums/topic/20215-problem-using-tweenmax-in-standalone-self-containing-svg-file-err-cannot-set-property-csstext-of-undefined/).\n},\n    _getComputedProperty = function _getComputedProperty(target, property, skipPrefixFallback) {\n  var cs = getComputedStyle(target);\n  return cs[property] || cs.getPropertyValue(property.replace(_capsExp, \"-$1\").toLowerCase()) || cs.getPropertyValue(property) || !skipPrefixFallback && _getComputedProperty(target, _checkPropPrefix(property) || property, 1) || \"\"; //css variables may not need caps swapped out for dashes and lowercase.\n},\n    _prefixes = \"O,Moz,ms,Ms,Webkit\".split(\",\"),\n    _checkPropPrefix = function _checkPropPrefix(property, element, preferPrefix) {\n  var e = element || _tempDiv,\n      s = e.style,\n      i = 5;\n\n  if (property in s && !preferPrefix) {\n    return property;\n  }\n\n  property = property.charAt(0).toUpperCase() + property.substr(1);\n\n  while (i-- && !(_prefixes[i] + property in s)) {}\n\n  return i < 0 ? null : (i === 3 ? \"ms\" : i >= 0 ? _prefixes[i] : \"\") + property;\n},\n    _initCore = function _initCore() {\n  if (_windowExists() && window.document) {\n    _win = window;\n    _doc = _win.document;\n    _docElement = _doc.documentElement;\n    _tempDiv = _createElement(\"div\") || {\n      style: {}\n    };\n    _tempDivStyler = _createElement(\"div\");\n    _transformProp = _checkPropPrefix(_transformProp);\n    _transformOriginProp = _transformProp + \"Origin\";\n    _tempDiv.style.cssText = \"border-width:0;line-height:0;position:absolute;padding:0\"; //make sure to override certain properties that may contaminate measurements, in case the user has overreaching style sheets.\n\n    _supports3D = !!_checkPropPrefix(\"perspective\");\n    _pluginInitted = 1;\n  }\n},\n    _getBBoxHack = function _getBBoxHack(swapIfPossible) {\n  //works around issues in some browsers (like Firefox) that don't correctly report getBBox() on SVG elements inside a <defs> element and/or <mask>. We try creating an SVG, adding it to the documentElement and toss the element in there so that it's definitely part of the rendering tree, then grab the bbox and if it works, we actually swap out the original getBBox() method for our own that does these extra steps whenever getBBox is needed. This helps ensure that performance is optimal (only do all these extra steps when absolutely necessary...most elements don't need it).\n  var svg = _createElement(\"svg\", this.ownerSVGElement && this.ownerSVGElement.getAttribute(\"xmlns\") || \"http://www.w3.org/2000/svg\"),\n      oldParent = this.parentNode,\n      oldSibling = this.nextSibling,\n      oldCSS = this.style.cssText,\n      bbox;\n\n  _docElement.appendChild(svg);\n\n  svg.appendChild(this);\n  this.style.display = \"block\";\n\n  if (swapIfPossible) {\n    try {\n      bbox = this.getBBox();\n      this._gsapBBox = this.getBBox; //store the original\n\n      this.getBBox = _getBBoxHack;\n    } catch (e) {}\n  } else if (this._gsapBBox) {\n    bbox = this._gsapBBox();\n  }\n\n  if (oldParent) {\n    if (oldSibling) {\n      oldParent.insertBefore(this, oldSibling);\n    } else {\n      oldParent.appendChild(this);\n    }\n  }\n\n  _docElement.removeChild(svg);\n\n  this.style.cssText = oldCSS;\n  return bbox;\n},\n    _getAttributeFallbacks = function _getAttributeFallbacks(target, attributesArray) {\n  var i = attributesArray.length;\n\n  while (i--) {\n    if (target.hasAttribute(attributesArray[i])) {\n      return target.getAttribute(attributesArray[i]);\n    }\n  }\n},\n    _getBBox = function _getBBox(target) {\n  var bounds;\n\n  try {\n    bounds = target.getBBox(); //Firefox throws errors if you try calling getBBox() on an SVG element that's not rendered (like in a <symbol> or <defs>). https://bugzilla.mozilla.org/show_bug.cgi?id=612118\n  } catch (error) {\n    bounds = _getBBoxHack.call(target, true);\n  }\n\n  bounds && (bounds.width || bounds.height) || target.getBBox === _getBBoxHack || (bounds = _getBBoxHack.call(target, true)); //some browsers (like Firefox) misreport the bounds if the element has zero width and height (it just assumes it's at x:0, y:0), thus we need to manually grab the position in that case.\n\n  return bounds && !bounds.width && !bounds.x && !bounds.y ? {\n    x: +_getAttributeFallbacks(target, [\"x\", \"cx\", \"x1\"]) || 0,\n    y: +_getAttributeFallbacks(target, [\"y\", \"cy\", \"y1\"]) || 0,\n    width: 0,\n    height: 0\n  } : bounds;\n},\n    _isSVG = function _isSVG(e) {\n  return !!(e.getCTM && (!e.parentNode || e.ownerSVGElement) && _getBBox(e));\n},\n    //reports if the element is an SVG on which getBBox() actually works\n_removeProperty = function _removeProperty(target, property) {\n  if (property) {\n    var style = target.style;\n\n    if (property in _transformProps && property !== _transformOriginProp) {\n      property = _transformProp;\n    }\n\n    if (style.removeProperty) {\n      if (property.substr(0, 2) === \"ms\" || property.substr(0, 6) === \"webkit\") {\n        //Microsoft and some Webkit browsers don't conform to the standard of capitalizing the first prefix character, so we adjust so that when we prefix the caps with a dash, it's correct (otherwise it'd be \"ms-transform\" instead of \"-ms-transform\" for IE9, for example)\n        property = \"-\" + property;\n      }\n\n      style.removeProperty(property.replace(_capsExp, \"-$1\").toLowerCase());\n    } else {\n      //note: old versions of IE use \"removeAttribute()\" instead of \"removeProperty()\"\n      style.removeAttribute(property);\n    }\n  }\n},\n    _addNonTweeningPT = function _addNonTweeningPT(plugin, target, property, beginning, end, onlySetAtEnd) {\n  var pt = new PropTween(plugin._pt, target, property, 0, 1, onlySetAtEnd ? _renderNonTweeningValueOnlyAtEnd : _renderNonTweeningValue);\n  plugin._pt = pt;\n  pt.b = beginning;\n  pt.e = end;\n\n  plugin._props.push(property);\n\n  return pt;\n},\n    _nonConvertibleUnits = {\n  deg: 1,\n  rad: 1,\n  turn: 1\n},\n    //takes a single value like 20px and converts it to the unit specified, like \"%\", returning only the numeric amount.\n_convertToUnit = function _convertToUnit(target, property, value, unit) {\n  var curValue = parseFloat(value) || 0,\n      curUnit = (value + \"\").trim().substr((curValue + \"\").length) || \"px\",\n      // some browsers leave extra whitespace at the beginning of CSS variables, hence the need to trim()\n  style = _tempDiv.style,\n      horizontal = _horizontalExp.test(property),\n      isRootSVG = target.tagName.toLowerCase() === \"svg\",\n      measureProperty = (isRootSVG ? \"client\" : \"offset\") + (horizontal ? \"Width\" : \"Height\"),\n      amount = 100,\n      toPixels = unit === \"px\",\n      toPercent = unit === \"%\",\n      px,\n      parent,\n      cache,\n      isSVG;\n\n  if (unit === curUnit || !curValue || _nonConvertibleUnits[unit] || _nonConvertibleUnits[curUnit]) {\n    return curValue;\n  }\n\n  curUnit !== \"px\" && !toPixels && (curValue = _convertToUnit(target, property, value, \"px\"));\n  isSVG = target.getCTM && _isSVG(target);\n\n  if ((toPercent || curUnit === \"%\") && (_transformProps[property] || ~property.indexOf(\"adius\"))) {\n    px = isSVG ? target.getBBox()[horizontal ? \"width\" : \"height\"] : target[measureProperty];\n    return _round(toPercent ? curValue / px * amount : curValue / 100 * px);\n  }\n\n  style[horizontal ? \"width\" : \"height\"] = amount + (toPixels ? curUnit : unit);\n  parent = ~property.indexOf(\"adius\") || unit === \"em\" && target.appendChild && !isRootSVG ? target : target.parentNode;\n\n  if (isSVG) {\n    parent = (target.ownerSVGElement || {}).parentNode;\n  }\n\n  if (!parent || parent === _doc || !parent.appendChild) {\n    parent = _doc.body;\n  }\n\n  cache = parent._gsap;\n\n  if (cache && toPercent && cache.width && horizontal && cache.time === _ticker.time) {\n    return _round(curValue / cache.width * amount);\n  } else {\n    (toPercent || curUnit === \"%\") && (style.position = _getComputedProperty(target, \"position\"));\n    parent === target && (style.position = \"static\"); // like for borderRadius, if it's a % we must have it relative to the target itself but that may not have position: relative or position: absolute in which case it'd go up the chain until it finds its offsetParent (bad). position: static protects against that.\n\n    parent.appendChild(_tempDiv);\n    px = _tempDiv[measureProperty];\n    parent.removeChild(_tempDiv);\n    style.position = \"absolute\";\n\n    if (horizontal && toPercent) {\n      cache = _getCache(parent);\n      cache.time = _ticker.time;\n      cache.width = parent[measureProperty];\n    }\n  }\n\n  return _round(toPixels ? px * curValue / amount : px && curValue ? amount / px * curValue : 0);\n},\n    _get = function _get(target, property, unit, uncache) {\n  var value;\n  _pluginInitted || _initCore();\n\n  if (property in _propertyAliases && property !== \"transform\") {\n    property = _propertyAliases[property];\n\n    if (~property.indexOf(\",\")) {\n      property = property.split(\",\")[0];\n    }\n  }\n\n  if (_transformProps[property] && property !== \"transform\") {\n    value = _parseTransform(target, uncache);\n    value = property !== \"transformOrigin\" ? value[property] : value.svg ? value.origin : _firstTwoOnly(_getComputedProperty(target, _transformOriginProp)) + \" \" + value.zOrigin + \"px\";\n  } else {\n    value = target.style[property];\n\n    if (!value || value === \"auto\" || uncache || ~(value + \"\").indexOf(\"calc(\")) {\n      value = _specialProps[property] && _specialProps[property](target, property, unit) || _getComputedProperty(target, property) || _getProperty(target, property) || (property === \"opacity\" ? 1 : 0); // note: some browsers, like Firefox, don't report borderRadius correctly! Instead, it only reports every corner like  borderTopLeftRadius\n    }\n  }\n\n  return unit && !~(value + \"\").trim().indexOf(\" \") ? _convertToUnit(target, property, value, unit) + unit : value;\n},\n    _tweenComplexCSSString = function _tweenComplexCSSString(target, prop, start, end) {\n  //note: we call _tweenComplexCSSString.call(pluginInstance...) to ensure that it's scoped properly. We may call it from within a plugin too, thus \"this\" would refer to the plugin.\n  if (!start || start === \"none\") {\n    // some browsers like Safari actually PREFER the prefixed property and mis-report the unprefixed value like clipPath (BUG). In other words, even though clipPath exists in the style (\"clipPath\" in target.style) and it's set in the CSS properly (along with -webkit-clip-path), Safari reports clipPath as \"none\" whereas WebkitClipPath reports accurately like \"ellipse(100% 0% at 50% 0%)\", so in this case we must SWITCH to using the prefixed property instead. See https://greensock.com/forums/topic/18310-clippath-doesnt-work-on-ios/\n    var p = _checkPropPrefix(prop, target, 1),\n        s = p && _getComputedProperty(target, p, 1);\n\n    if (s && s !== start) {\n      prop = p;\n      start = s;\n    } else if (prop === \"borderColor\") {\n      start = _getComputedProperty(target, \"borderTopColor\"); // Firefox bug: always reports \"borderColor\" as \"\", so we must fall back to borderTopColor. See https://greensock.com/forums/topic/24583-how-to-return-colors-that-i-had-after-reverse/\n    }\n  }\n\n  var pt = new PropTween(this._pt, target.style, prop, 0, 1, _renderComplexString),\n      index = 0,\n      matchIndex = 0,\n      a,\n      result,\n      startValues,\n      startNum,\n      color,\n      startValue,\n      endValue,\n      endNum,\n      chunk,\n      endUnit,\n      startUnit,\n      relative,\n      endValues;\n  pt.b = start;\n  pt.e = end;\n  start += \"\"; //ensure values are strings\n\n  end += \"\";\n\n  if (end === \"auto\") {\n    target.style[prop] = end;\n    end = _getComputedProperty(target, prop) || end;\n    target.style[prop] = start;\n  }\n\n  a = [start, end];\n\n  _colorStringFilter(a); //pass an array with the starting and ending values and let the filter do whatever it needs to the values. If colors are found, it returns true and then we must match where the color shows up order-wise because for things like boxShadow, sometimes the browser provides the computed values with the color FIRST, but the user provides it with the color LAST, so flip them if necessary. Same for drop-shadow().\n\n\n  start = a[0];\n  end = a[1];\n  startValues = start.match(_numWithUnitExp) || [];\n  endValues = end.match(_numWithUnitExp) || [];\n\n  if (endValues.length) {\n    while (result = _numWithUnitExp.exec(end)) {\n      endValue = result[0];\n      chunk = end.substring(index, result.index);\n\n      if (color) {\n        color = (color + 1) % 5;\n      } else if (chunk.substr(-5) === \"rgba(\" || chunk.substr(-5) === \"hsla(\") {\n        color = 1;\n      }\n\n      if (endValue !== (startValue = startValues[matchIndex++] || \"\")) {\n        startNum = parseFloat(startValue) || 0;\n        startUnit = startValue.substr((startNum + \"\").length);\n        relative = endValue.charAt(1) === \"=\" ? +(endValue.charAt(0) + \"1\") : 0;\n\n        if (relative) {\n          endValue = endValue.substr(2);\n        }\n\n        endNum = parseFloat(endValue);\n        endUnit = endValue.substr((endNum + \"\").length);\n        index = _numWithUnitExp.lastIndex - endUnit.length;\n\n        if (!endUnit) {\n          //if something like \"perspective:300\" is passed in and we must add a unit to the end\n          endUnit = endUnit || _config.units[prop] || startUnit;\n\n          if (index === end.length) {\n            end += endUnit;\n            pt.e += endUnit;\n          }\n        }\n\n        if (startUnit !== endUnit) {\n          startNum = _convertToUnit(target, prop, startValue, endUnit) || 0;\n        } //these nested PropTweens are handled in a special way - we'll never actually call a render or setter method on them. We'll just loop through them in the parent complex string PropTween's render method.\n\n\n        pt._pt = {\n          _next: pt._pt,\n          p: chunk || matchIndex === 1 ? chunk : \",\",\n          //note: SVG spec allows omission of comma/space when a negative sign is wedged between two numbers, like 2.5-5.3 instead of 2.5,-5.3 but when tweening, the negative value may switch to positive, so we insert the comma just in case.\n          s: startNum,\n          c: relative ? relative * endNum : endNum - startNum,\n          m: color && color < 4 || prop === \"zIndex\" ? Math.round : 0\n        };\n      }\n    }\n\n    pt.c = index < end.length ? end.substring(index, end.length) : \"\"; //we use the \"c\" of the PropTween to store the final part of the string (after the last number)\n  } else {\n    pt.r = prop === \"display\" && end === \"none\" ? _renderNonTweeningValueOnlyAtEnd : _renderNonTweeningValue;\n  }\n\n  _relExp.test(end) && (pt.e = 0); //if the end string contains relative values or dynamic random(...) values, delete the end it so that on the final render we don't actually set it to the string with += or -= characters (forces it to use the calculated value).\n\n  this._pt = pt; //start the linked list with this new PropTween. Remember, we call _tweenComplexCSSString.call(pluginInstance...) to ensure that it's scoped properly. We may call it from within another plugin too, thus \"this\" would refer to the plugin.\n\n  return pt;\n},\n    _keywordToPercent = {\n  top: \"0%\",\n  bottom: \"100%\",\n  left: \"0%\",\n  right: \"100%\",\n  center: \"50%\"\n},\n    _convertKeywordsToPercentages = function _convertKeywordsToPercentages(value) {\n  var split = value.split(\" \"),\n      x = split[0],\n      y = split[1] || \"50%\";\n\n  if (x === \"top\" || x === \"bottom\" || y === \"left\" || y === \"right\") {\n    //the user provided them in the wrong order, so flip them\n    value = x;\n    x = y;\n    y = value;\n  }\n\n  split[0] = _keywordToPercent[x] || x;\n  split[1] = _keywordToPercent[y] || y;\n  return split.join(\" \");\n},\n    _renderClearProps = function _renderClearProps(ratio, data) {\n  if (data.tween && data.tween._time === data.tween._dur) {\n    var target = data.t,\n        style = target.style,\n        props = data.u,\n        cache = target._gsap,\n        prop,\n        clearTransforms,\n        i;\n\n    if (props === \"all\" || props === true) {\n      style.cssText = \"\";\n      clearTransforms = 1;\n    } else {\n      props = props.split(\",\");\n      i = props.length;\n\n      while (--i > -1) {\n        prop = props[i];\n\n        if (_transformProps[prop]) {\n          clearTransforms = 1;\n          prop = prop === \"transformOrigin\" ? _transformOriginProp : _transformProp;\n        }\n\n        _removeProperty(target, prop);\n      }\n    }\n\n    if (clearTransforms) {\n      _removeProperty(target, _transformProp);\n\n      if (cache) {\n        cache.svg && target.removeAttribute(\"transform\");\n\n        _parseTransform(target, 1); // force all the cached values back to \"normal\"/identity, otherwise if there's another tween that's already set to render transforms on this element, it could display the wrong values.\n\n\n        cache.uncache = 1;\n      }\n    }\n  }\n},\n    // note: specialProps should return 1 if (and only if) they have a non-zero priority. It indicates we need to sort the linked list.\n_specialProps = {\n  clearProps: function clearProps(plugin, target, property, endValue, tween) {\n    if (tween.data !== \"isFromStart\") {\n      var pt = plugin._pt = new PropTween(plugin._pt, target, property, 0, 0, _renderClearProps);\n      pt.u = endValue;\n      pt.pr = -10;\n      pt.tween = tween;\n\n      plugin._props.push(property);\n\n      return 1;\n    }\n  }\n  /* className feature (about 0.4kb gzipped).\n  , className(plugin, target, property, endValue, tween) {\n  \tlet _renderClassName = (ratio, data) => {\n  \t\t\tdata.css.render(ratio, data.css);\n  \t\t\tif (!ratio || ratio === 1) {\n  \t\t\t\tlet inline = data.rmv,\n  \t\t\t\t\ttarget = data.t,\n  \t\t\t\t\tp;\n  \t\t\t\ttarget.setAttribute(\"class\", ratio ? data.e : data.b);\n  \t\t\t\tfor (p in inline) {\n  \t\t\t\t\t_removeProperty(target, p);\n  \t\t\t\t}\n  \t\t\t}\n  \t\t},\n  \t\t_getAllStyles = (target) => {\n  \t\t\tlet styles = {},\n  \t\t\t\tcomputed = getComputedStyle(target),\n  \t\t\t\tp;\n  \t\t\tfor (p in computed) {\n  \t\t\t\tif (isNaN(p) && p !== \"cssText\" && p !== \"length\") {\n  \t\t\t\t\tstyles[p] = computed[p];\n  \t\t\t\t}\n  \t\t\t}\n  \t\t\t_setDefaults(styles, _parseTransform(target, 1));\n  \t\t\treturn styles;\n  \t\t},\n  \t\tstartClassList = target.getAttribute(\"class\"),\n  \t\tstyle = target.style,\n  \t\tcssText = style.cssText,\n  \t\tcache = target._gsap,\n  \t\tclassPT = cache.classPT,\n  \t\tinlineToRemoveAtEnd = {},\n  \t\tdata = {t:target, plugin:plugin, rmv:inlineToRemoveAtEnd, b:startClassList, e:(endValue.charAt(1) !== \"=\") ? endValue : startClassList.replace(new RegExp(\"(?:\\\\s|^)\" + endValue.substr(2) + \"(?![\\\\w-])\"), \"\") + ((endValue.charAt(0) === \"+\") ? \" \" + endValue.substr(2) : \"\")},\n  \t\tchangingVars = {},\n  \t\tstartVars = _getAllStyles(target),\n  \t\ttransformRelated = /(transform|perspective)/i,\n  \t\tendVars, p;\n  \tif (classPT) {\n  \t\tclassPT.r(1, classPT.d);\n  \t\t_removeLinkedListItem(classPT.d.plugin, classPT, \"_pt\");\n  \t}\n  \ttarget.setAttribute(\"class\", data.e);\n  \tendVars = _getAllStyles(target, true);\n  \ttarget.setAttribute(\"class\", startClassList);\n  \tfor (p in endVars) {\n  \t\tif (endVars[p] !== startVars[p] && !transformRelated.test(p)) {\n  \t\t\tchangingVars[p] = endVars[p];\n  \t\t\tif (!style[p] && style[p] !== \"0\") {\n  \t\t\t\tinlineToRemoveAtEnd[p] = 1;\n  \t\t\t}\n  \t\t}\n  \t}\n  \tcache.classPT = plugin._pt = new PropTween(plugin._pt, target, \"className\", 0, 0, _renderClassName, data, 0, -11);\n  \tif (style.cssText !== cssText) { //only apply if things change. Otherwise, in cases like a background-image that's pulled dynamically, it could cause a refresh. See https://greensock.com/forums/topic/20368-possible-gsap-bug-switching-classnames-in-chrome/.\n  \t\tstyle.cssText = cssText; //we recorded cssText before we swapped classes and ran _getAllStyles() because in cases when a className tween is overwritten, we remove all the related tweening properties from that class change (otherwise class-specific stuff can't override properties we've directly set on the target's style object due to specificity).\n  \t}\n  \t_parseTransform(target, true); //to clear the caching of transforms\n  \tdata.css = new gsap.plugins.css();\n  \tdata.css.init(target, changingVars, tween);\n  \tplugin._props.push(...data.css._props);\n  \treturn 1;\n  }\n  */\n\n},\n\n/*\n * --------------------------------------------------------------------------------------\n * TRANSFORMS\n * --------------------------------------------------------------------------------------\n */\n_identity2DMatrix = [1, 0, 0, 1, 0, 0],\n    _rotationalProperties = {},\n    _isNullTransform = function _isNullTransform(value) {\n  return value === \"matrix(1, 0, 0, 1, 0, 0)\" || value === \"none\" || !value;\n},\n    _getComputedTransformMatrixAsArray = function _getComputedTransformMatrixAsArray(target) {\n  var matrixString = _getComputedProperty(target, _transformProp);\n\n  return _isNullTransform(matrixString) ? _identity2DMatrix : matrixString.substr(7).match(_numExp).map(_round);\n},\n    _getMatrix = function _getMatrix(target, force2D) {\n  var cache = target._gsap || _getCache(target),\n      style = target.style,\n      matrix = _getComputedTransformMatrixAsArray(target),\n      parent,\n      nextSibling,\n      temp,\n      addedToDOM;\n\n  if (cache.svg && target.getAttribute(\"transform\")) {\n    temp = target.transform.baseVal.consolidate().matrix; //ensures that even complex values like \"translate(50,60) rotate(135,0,0)\" are parsed because it mashes it into a matrix.\n\n    matrix = [temp.a, temp.b, temp.c, temp.d, temp.e, temp.f];\n    return matrix.join(\",\") === \"1,0,0,1,0,0\" ? _identity2DMatrix : matrix;\n  } else if (matrix === _identity2DMatrix && !target.offsetParent && target !== _docElement && !cache.svg) {\n    //note: if offsetParent is null, that means the element isn't in the normal document flow, like if it has display:none or one of its ancestors has display:none). Firefox returns null for getComputedStyle() if the element is in an iframe that has display:none. https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n    //browsers don't report transforms accurately unless the element is in the DOM and has a display value that's not \"none\". Firefox and Microsoft browsers have a partial bug where they'll report transforms even if display:none BUT not any percentage-based values like translate(-50%, 8px) will be reported as if it's translate(0, 8px).\n    temp = style.display;\n    style.display = \"block\";\n    parent = target.parentNode;\n\n    if (!parent || !target.offsetParent) {\n      // note: in 3.3.0 we switched target.offsetParent to _doc.body.contains(target) to avoid [sometimes unnecessary] MutationObserver calls but that wasn't adequate because there are edge cases where nested position: fixed elements need to get reparented to accurately sense transforms. See https://github.com/greensock/GSAP/issues/388 and https://github.com/greensock/GSAP/issues/375\n      addedToDOM = 1; //flag\n\n      nextSibling = target.nextSibling;\n\n      _docElement.appendChild(target); //we must add it to the DOM in order to get values properly\n\n    }\n\n    matrix = _getComputedTransformMatrixAsArray(target);\n    temp ? style.display = temp : _removeProperty(target, \"display\");\n\n    if (addedToDOM) {\n      nextSibling ? parent.insertBefore(target, nextSibling) : parent ? parent.appendChild(target) : _docElement.removeChild(target);\n    }\n  }\n\n  return force2D && matrix.length > 6 ? [matrix[0], matrix[1], matrix[4], matrix[5], matrix[12], matrix[13]] : matrix;\n},\n    _applySVGOrigin = function _applySVGOrigin(target, origin, originIsAbsolute, smooth, matrixArray, pluginToAddPropTweensTo) {\n  var cache = target._gsap,\n      matrix = matrixArray || _getMatrix(target, true),\n      xOriginOld = cache.xOrigin || 0,\n      yOriginOld = cache.yOrigin || 0,\n      xOffsetOld = cache.xOffset || 0,\n      yOffsetOld = cache.yOffset || 0,\n      a = matrix[0],\n      b = matrix[1],\n      c = matrix[2],\n      d = matrix[3],\n      tx = matrix[4],\n      ty = matrix[5],\n      originSplit = origin.split(\" \"),\n      xOrigin = parseFloat(originSplit[0]) || 0,\n      yOrigin = parseFloat(originSplit[1]) || 0,\n      bounds,\n      determinant,\n      x,\n      y;\n\n  if (!originIsAbsolute) {\n    bounds = _getBBox(target);\n    xOrigin = bounds.x + (~originSplit[0].indexOf(\"%\") ? xOrigin / 100 * bounds.width : xOrigin);\n    yOrigin = bounds.y + (~(originSplit[1] || originSplit[0]).indexOf(\"%\") ? yOrigin / 100 * bounds.height : yOrigin);\n  } else if (matrix !== _identity2DMatrix && (determinant = a * d - b * c)) {\n    //if it's zero (like if scaleX and scaleY are zero), skip it to avoid errors with dividing by zero.\n    x = xOrigin * (d / determinant) + yOrigin * (-c / determinant) + (c * ty - d * tx) / determinant;\n    y = xOrigin * (-b / determinant) + yOrigin * (a / determinant) - (a * ty - b * tx) / determinant;\n    xOrigin = x;\n    yOrigin = y;\n  }\n\n  if (smooth || smooth !== false && cache.smooth) {\n    tx = xOrigin - xOriginOld;\n    ty = yOrigin - yOriginOld;\n    cache.xOffset = xOffsetOld + (tx * a + ty * c) - tx;\n    cache.yOffset = yOffsetOld + (tx * b + ty * d) - ty;\n  } else {\n    cache.xOffset = cache.yOffset = 0;\n  }\n\n  cache.xOrigin = xOrigin;\n  cache.yOrigin = yOrigin;\n  cache.smooth = !!smooth;\n  cache.origin = origin;\n  cache.originIsAbsolute = !!originIsAbsolute;\n  target.style[_transformOriginProp] = \"0px 0px\"; //otherwise, if someone sets  an origin via CSS, it will likely interfere with the SVG transform attribute ones (because remember, we're baking the origin into the matrix() value).\n\n  if (pluginToAddPropTweensTo) {\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"xOrigin\", xOriginOld, xOrigin);\n\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"yOrigin\", yOriginOld, yOrigin);\n\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"xOffset\", xOffsetOld, cache.xOffset);\n\n    _addNonTweeningPT(pluginToAddPropTweensTo, cache, \"yOffset\", yOffsetOld, cache.yOffset);\n  }\n\n  target.setAttribute(\"data-svg-origin\", xOrigin + \" \" + yOrigin);\n},\n    _parseTransform = function _parseTransform(target, uncache) {\n  var cache = target._gsap || new GSCache(target);\n\n  if (\"x\" in cache && !uncache && !cache.uncache) {\n    return cache;\n  }\n\n  var style = target.style,\n      invertedScaleX = cache.scaleX < 0,\n      px = \"px\",\n      deg = \"deg\",\n      origin = _getComputedProperty(target, _transformOriginProp) || \"0\",\n      x,\n      y,\n      z,\n      scaleX,\n      scaleY,\n      rotation,\n      rotationX,\n      rotationY,\n      skewX,\n      skewY,\n      perspective,\n      xOrigin,\n      yOrigin,\n      matrix,\n      angle,\n      cos,\n      sin,\n      a,\n      b,\n      c,\n      d,\n      a12,\n      a22,\n      t1,\n      t2,\n      t3,\n      a13,\n      a23,\n      a33,\n      a42,\n      a43,\n      a32;\n  x = y = z = rotation = rotationX = rotationY = skewX = skewY = perspective = 0;\n  scaleX = scaleY = 1;\n  cache.svg = !!(target.getCTM && _isSVG(target));\n  matrix = _getMatrix(target, cache.svg);\n\n  if (cache.svg) {\n    t1 = (!cache.uncache || origin === \"0px 0px\") && !uncache && target.getAttribute(\"data-svg-origin\"); // if origin is 0,0 and cache.uncache is true, let the recorded data-svg-origin stay. Otherwise, whenever we set cache.uncache to true, we'd need to set element.style.transformOrigin = (cache.xOrigin - bbox.x) + \"px \" + (cache.yOrigin - bbox.y) + \"px\". Remember, to work around browser inconsistencies we always force SVG elements' transformOrigin to 0,0 and offset the translation accordingly.\n\n    _applySVGOrigin(target, t1 || origin, !!t1 || cache.originIsAbsolute, cache.smooth !== false, matrix);\n  }\n\n  xOrigin = cache.xOrigin || 0;\n  yOrigin = cache.yOrigin || 0;\n\n  if (matrix !== _identity2DMatrix) {\n    a = matrix[0]; //a11\n\n    b = matrix[1]; //a21\n\n    c = matrix[2]; //a31\n\n    d = matrix[3]; //a41\n\n    x = a12 = matrix[4];\n    y = a22 = matrix[5]; //2D matrix\n\n    if (matrix.length === 6) {\n      scaleX = Math.sqrt(a * a + b * b);\n      scaleY = Math.sqrt(d * d + c * c);\n      rotation = a || b ? _atan2(b, a) * _RAD2DEG : 0; //note: if scaleX is 0, we cannot accurately measure rotation. Same for skewX with a scaleY of 0. Therefore, we default to the previously recorded value (or zero if that doesn't exist).\n\n      skewX = c || d ? _atan2(c, d) * _RAD2DEG + rotation : 0;\n      skewX && (scaleY *= Math.abs(Math.cos(skewX * _DEG2RAD)));\n\n      if (cache.svg) {\n        x -= xOrigin - (xOrigin * a + yOrigin * c);\n        y -= yOrigin - (xOrigin * b + yOrigin * d);\n      } //3D matrix\n\n    } else {\n      a32 = matrix[6];\n      a42 = matrix[7];\n      a13 = matrix[8];\n      a23 = matrix[9];\n      a33 = matrix[10];\n      a43 = matrix[11];\n      x = matrix[12];\n      y = matrix[13];\n      z = matrix[14];\n      angle = _atan2(a32, a33);\n      rotationX = angle * _RAD2DEG; //rotationX\n\n      if (angle) {\n        cos = Math.cos(-angle);\n        sin = Math.sin(-angle);\n        t1 = a12 * cos + a13 * sin;\n        t2 = a22 * cos + a23 * sin;\n        t3 = a32 * cos + a33 * sin;\n        a13 = a12 * -sin + a13 * cos;\n        a23 = a22 * -sin + a23 * cos;\n        a33 = a32 * -sin + a33 * cos;\n        a43 = a42 * -sin + a43 * cos;\n        a12 = t1;\n        a22 = t2;\n        a32 = t3;\n      } //rotationY\n\n\n      angle = _atan2(-c, a33);\n      rotationY = angle * _RAD2DEG;\n\n      if (angle) {\n        cos = Math.cos(-angle);\n        sin = Math.sin(-angle);\n        t1 = a * cos - a13 * sin;\n        t2 = b * cos - a23 * sin;\n        t3 = c * cos - a33 * sin;\n        a43 = d * sin + a43 * cos;\n        a = t1;\n        b = t2;\n        c = t3;\n      } //rotationZ\n\n\n      angle = _atan2(b, a);\n      rotation = angle * _RAD2DEG;\n\n      if (angle) {\n        cos = Math.cos(angle);\n        sin = Math.sin(angle);\n        t1 = a * cos + b * sin;\n        t2 = a12 * cos + a22 * sin;\n        b = b * cos - a * sin;\n        a22 = a22 * cos - a12 * sin;\n        a = t1;\n        a12 = t2;\n      }\n\n      if (rotationX && Math.abs(rotationX) + Math.abs(rotation) > 359.9) {\n        //when rotationY is set, it will often be parsed as 180 degrees different than it should be, and rotationX and rotation both being 180 (it looks the same), so we adjust for that here.\n        rotationX = rotation = 0;\n        rotationY = 180 - rotationY;\n      }\n\n      scaleX = _round(Math.sqrt(a * a + b * b + c * c));\n      scaleY = _round(Math.sqrt(a22 * a22 + a32 * a32));\n      angle = _atan2(a12, a22);\n      skewX = Math.abs(angle) > 0.0002 ? angle * _RAD2DEG : 0;\n      perspective = a43 ? 1 / (a43 < 0 ? -a43 : a43) : 0;\n    }\n\n    if (cache.svg) {\n      //sense if there are CSS transforms applied on an SVG element in which case we must overwrite them when rendering. The transform attribute is more reliable cross-browser, but we can't just remove the CSS ones because they may be applied in a CSS rule somewhere (not just inline).\n      t1 = target.getAttribute(\"transform\");\n      cache.forceCSS = target.setAttribute(\"transform\", \"\") || !_isNullTransform(_getComputedProperty(target, _transformProp));\n      t1 && target.setAttribute(\"transform\", t1);\n    }\n  }\n\n  if (Math.abs(skewX) > 90 && Math.abs(skewX) < 270) {\n    if (invertedScaleX) {\n      scaleX *= -1;\n      skewX += rotation <= 0 ? 180 : -180;\n      rotation += rotation <= 0 ? 180 : -180;\n    } else {\n      scaleY *= -1;\n      skewX += skewX <= 0 ? 180 : -180;\n    }\n  }\n\n  cache.x = x - ((cache.xPercent = x && (cache.xPercent || (Math.round(target.offsetWidth / 2) === Math.round(-x) ? -50 : 0))) ? target.offsetWidth * cache.xPercent / 100 : 0) + px;\n  cache.y = y - ((cache.yPercent = y && (cache.yPercent || (Math.round(target.offsetHeight / 2) === Math.round(-y) ? -50 : 0))) ? target.offsetHeight * cache.yPercent / 100 : 0) + px;\n  cache.z = z + px;\n  cache.scaleX = _round(scaleX);\n  cache.scaleY = _round(scaleY);\n  cache.rotation = _round(rotation) + deg;\n  cache.rotationX = _round(rotationX) + deg;\n  cache.rotationY = _round(rotationY) + deg;\n  cache.skewX = skewX + deg;\n  cache.skewY = skewY + deg;\n  cache.transformPerspective = perspective + px;\n\n  if (cache.zOrigin = parseFloat(origin.split(\" \")[2]) || 0) {\n    style[_transformOriginProp] = _firstTwoOnly(origin);\n  }\n\n  cache.xOffset = cache.yOffset = 0;\n  cache.force3D = _config.force3D;\n  cache.renderTransform = cache.svg ? _renderSVGTransforms : _supports3D ? _renderCSSTransforms : _renderNon3DTransforms;\n  cache.uncache = 0;\n  return cache;\n},\n    _firstTwoOnly = function _firstTwoOnly(value) {\n  return (value = value.split(\" \"))[0] + \" \" + value[1];\n},\n    //for handling transformOrigin values, stripping out the 3rd dimension\n_addPxTranslate = function _addPxTranslate(target, start, value) {\n  var unit = getUnit(start);\n  return _round(parseFloat(start) + parseFloat(_convertToUnit(target, \"x\", value + \"px\", unit))) + unit;\n},\n    _renderNon3DTransforms = function _renderNon3DTransforms(ratio, cache) {\n  cache.z = \"0px\";\n  cache.rotationY = cache.rotationX = \"0deg\";\n  cache.force3D = 0;\n\n  _renderCSSTransforms(ratio, cache);\n},\n    _zeroDeg = \"0deg\",\n    _zeroPx = \"0px\",\n    _endParenthesis = \") \",\n    _renderCSSTransforms = function _renderCSSTransforms(ratio, cache) {\n  var _ref = cache || this,\n      xPercent = _ref.xPercent,\n      yPercent = _ref.yPercent,\n      x = _ref.x,\n      y = _ref.y,\n      z = _ref.z,\n      rotation = _ref.rotation,\n      rotationY = _ref.rotationY,\n      rotationX = _ref.rotationX,\n      skewX = _ref.skewX,\n      skewY = _ref.skewY,\n      scaleX = _ref.scaleX,\n      scaleY = _ref.scaleY,\n      transformPerspective = _ref.transformPerspective,\n      force3D = _ref.force3D,\n      target = _ref.target,\n      zOrigin = _ref.zOrigin,\n      transforms = \"\",\n      use3D = force3D === \"auto\" && ratio && ratio !== 1 || force3D === true; // Safari has a bug that causes it not to render 3D transform-origin values properly, so we force the z origin to 0, record it in the cache, and then do the math here to offset the translate values accordingly (basically do the 3D transform-origin part manually)\n\n\n  if (zOrigin && (rotationX !== _zeroDeg || rotationY !== _zeroDeg)) {\n    var angle = parseFloat(rotationY) * _DEG2RAD,\n        a13 = Math.sin(angle),\n        a33 = Math.cos(angle),\n        cos;\n\n    angle = parseFloat(rotationX) * _DEG2RAD;\n    cos = Math.cos(angle);\n    x = _addPxTranslate(target, x, a13 * cos * -zOrigin);\n    y = _addPxTranslate(target, y, -Math.sin(angle) * -zOrigin);\n    z = _addPxTranslate(target, z, a33 * cos * -zOrigin + zOrigin);\n  }\n\n  if (transformPerspective !== _zeroPx) {\n    transforms += \"perspective(\" + transformPerspective + _endParenthesis;\n  }\n\n  if (xPercent || yPercent) {\n    transforms += \"translate(\" + xPercent + \"%, \" + yPercent + \"%) \";\n  }\n\n  if (use3D || x !== _zeroPx || y !== _zeroPx || z !== _zeroPx) {\n    transforms += z !== _zeroPx || use3D ? \"translate3d(\" + x + \", \" + y + \", \" + z + \") \" : \"translate(\" + x + \", \" + y + _endParenthesis;\n  }\n\n  if (rotation !== _zeroDeg) {\n    transforms += \"rotate(\" + rotation + _endParenthesis;\n  }\n\n  if (rotationY !== _zeroDeg) {\n    transforms += \"rotateY(\" + rotationY + _endParenthesis;\n  }\n\n  if (rotationX !== _zeroDeg) {\n    transforms += \"rotateX(\" + rotationX + _endParenthesis;\n  }\n\n  if (skewX !== _zeroDeg || skewY !== _zeroDeg) {\n    transforms += \"skew(\" + skewX + \", \" + skewY + _endParenthesis;\n  }\n\n  if (scaleX !== 1 || scaleY !== 1) {\n    transforms += \"scale(\" + scaleX + \", \" + scaleY + _endParenthesis;\n  }\n\n  target.style[_transformProp] = transforms || \"translate(0, 0)\";\n},\n    _renderSVGTransforms = function _renderSVGTransforms(ratio, cache) {\n  var _ref2 = cache || this,\n      xPercent = _ref2.xPercent,\n      yPercent = _ref2.yPercent,\n      x = _ref2.x,\n      y = _ref2.y,\n      rotation = _ref2.rotation,\n      skewX = _ref2.skewX,\n      skewY = _ref2.skewY,\n      scaleX = _ref2.scaleX,\n      scaleY = _ref2.scaleY,\n      target = _ref2.target,\n      xOrigin = _ref2.xOrigin,\n      yOrigin = _ref2.yOrigin,\n      xOffset = _ref2.xOffset,\n      yOffset = _ref2.yOffset,\n      forceCSS = _ref2.forceCSS,\n      tx = parseFloat(x),\n      ty = parseFloat(y),\n      a11,\n      a21,\n      a12,\n      a22,\n      temp;\n\n  rotation = parseFloat(rotation);\n  skewX = parseFloat(skewX);\n  skewY = parseFloat(skewY);\n\n  if (skewY) {\n    //for performance reasons, we combine all skewing into the skewX and rotation values. Remember, a skewY of 10 degrees looks the same as a rotation of 10 degrees plus a skewX of 10 degrees.\n    skewY = parseFloat(skewY);\n    skewX += skewY;\n    rotation += skewY;\n  }\n\n  if (rotation || skewX) {\n    rotation *= _DEG2RAD;\n    skewX *= _DEG2RAD;\n    a11 = Math.cos(rotation) * scaleX;\n    a21 = Math.sin(rotation) * scaleX;\n    a12 = Math.sin(rotation - skewX) * -scaleY;\n    a22 = Math.cos(rotation - skewX) * scaleY;\n\n    if (skewX) {\n      skewY *= _DEG2RAD;\n      temp = Math.tan(skewX - skewY);\n      temp = Math.sqrt(1 + temp * temp);\n      a12 *= temp;\n      a22 *= temp;\n\n      if (skewY) {\n        temp = Math.tan(skewY);\n        temp = Math.sqrt(1 + temp * temp);\n        a11 *= temp;\n        a21 *= temp;\n      }\n    }\n\n    a11 = _round(a11);\n    a21 = _round(a21);\n    a12 = _round(a12);\n    a22 = _round(a22);\n  } else {\n    a11 = scaleX;\n    a22 = scaleY;\n    a21 = a12 = 0;\n  }\n\n  if (tx && !~(x + \"\").indexOf(\"px\") || ty && !~(y + \"\").indexOf(\"px\")) {\n    tx = _convertToUnit(target, \"x\", x, \"px\");\n    ty = _convertToUnit(target, \"y\", y, \"px\");\n  }\n\n  if (xOrigin || yOrigin || xOffset || yOffset) {\n    tx = _round(tx + xOrigin - (xOrigin * a11 + yOrigin * a12) + xOffset);\n    ty = _round(ty + yOrigin - (xOrigin * a21 + yOrigin * a22) + yOffset);\n  }\n\n  if (xPercent || yPercent) {\n    //The SVG spec doesn't support percentage-based translation in the \"transform\" attribute, so we merge it into the translation to simulate it.\n    temp = target.getBBox();\n    tx = _round(tx + xPercent / 100 * temp.width);\n    ty = _round(ty + yPercent / 100 * temp.height);\n  }\n\n  temp = \"matrix(\" + a11 + \",\" + a21 + \",\" + a12 + \",\" + a22 + \",\" + tx + \",\" + ty + \")\";\n  target.setAttribute(\"transform\", temp);\n  forceCSS && (target.style[_transformProp] = temp); //some browsers prioritize CSS transforms over the transform attribute. When we sense that the user has CSS transforms applied, we must overwrite them this way (otherwise some browser simply won't render the  transform attribute changes!)\n},\n    _addRotationalPropTween = function _addRotationalPropTween(plugin, target, property, startNum, endValue, relative) {\n  var cap = 360,\n      isString = _isString(endValue),\n      endNum = parseFloat(endValue) * (isString && ~endValue.indexOf(\"rad\") ? _RAD2DEG : 1),\n      change = relative ? endNum * relative : endNum - startNum,\n      finalValue = startNum + change + \"deg\",\n      direction,\n      pt;\n\n  if (isString) {\n    direction = endValue.split(\"_\")[1];\n\n    if (direction === \"short\") {\n      change %= cap;\n\n      if (change !== change % (cap / 2)) {\n        change += change < 0 ? cap : -cap;\n      }\n    }\n\n    if (direction === \"cw\" && change < 0) {\n      change = (change + cap * _bigNum) % cap - ~~(change / cap) * cap;\n    } else if (direction === \"ccw\" && change > 0) {\n      change = (change - cap * _bigNum) % cap - ~~(change / cap) * cap;\n    }\n  }\n\n  plugin._pt = pt = new PropTween(plugin._pt, target, property, startNum, change, _renderPropWithEnd);\n  pt.e = finalValue;\n  pt.u = \"deg\";\n\n  plugin._props.push(property);\n\n  return pt;\n},\n    _assign = function _assign(target, source) {\n  // Internet Explorer doesn't have Object.assign(), so we recreate it here.\n  for (var p in source) {\n    target[p] = source[p];\n  }\n\n  return target;\n},\n    _addRawTransformPTs = function _addRawTransformPTs(plugin, transforms, target) {\n  //for handling cases where someone passes in a whole transform string, like transform: \"scale(2, 3) rotate(20deg) translateY(30em)\"\n  var startCache = _assign({}, target._gsap),\n      exclude = \"perspective,force3D,transformOrigin,svgOrigin\",\n      style = target.style,\n      endCache,\n      p,\n      startValue,\n      endValue,\n      startNum,\n      endNum,\n      startUnit,\n      endUnit;\n\n  if (startCache.svg) {\n    startValue = target.getAttribute(\"transform\");\n    target.setAttribute(\"transform\", \"\");\n    style[_transformProp] = transforms;\n    endCache = _parseTransform(target, 1);\n\n    _removeProperty(target, _transformProp);\n\n    target.setAttribute(\"transform\", startValue);\n  } else {\n    startValue = getComputedStyle(target)[_transformProp];\n    style[_transformProp] = transforms;\n    endCache = _parseTransform(target, 1);\n    style[_transformProp] = startValue;\n  }\n\n  for (p in _transformProps) {\n    startValue = startCache[p];\n    endValue = endCache[p];\n\n    if (startValue !== endValue && exclude.indexOf(p) < 0) {\n      //tweening to no perspective gives very unintuitive results - just keep the same perspective in that case.\n      startUnit = getUnit(startValue);\n      endUnit = getUnit(endValue);\n      startNum = startUnit !== endUnit ? _convertToUnit(target, p, startValue, endUnit) : parseFloat(startValue);\n      endNum = parseFloat(endValue);\n      plugin._pt = new PropTween(plugin._pt, endCache, p, startNum, endNum - startNum, _renderCSSProp);\n      plugin._pt.u = endUnit || 0;\n\n      plugin._props.push(p);\n    }\n  }\n\n  _assign(endCache, startCache);\n}; // handle splitting apart padding, margin, borderWidth, and borderRadius into their 4 components. Firefox, for example, won't report borderRadius correctly - it will only do borderTopLeftRadius and the other corners. We also want to handle paddingTop, marginLeft, borderRightWidth, etc.\n\n\n_forEachName(\"padding,margin,Width,Radius\", function (name, index) {\n  var t = \"Top\",\n      r = \"Right\",\n      b = \"Bottom\",\n      l = \"Left\",\n      props = (index < 3 ? [t, r, b, l] : [t + l, t + r, b + r, b + l]).map(function (side) {\n    return index < 2 ? name + side : \"border\" + side + name;\n  });\n\n  _specialProps[index > 1 ? \"border\" + name : name] = function (plugin, target, property, endValue, tween) {\n    var a, vars;\n\n    if (arguments.length < 4) {\n      // getter, passed target, property, and unit (from _get())\n      a = props.map(function (prop) {\n        return _get(plugin, prop, property);\n      });\n      vars = a.join(\" \");\n      return vars.split(a[0]).length === 5 ? a[0] : vars;\n    }\n\n    a = (endValue + \"\").split(\" \");\n    vars = {};\n    props.forEach(function (prop, i) {\n      return vars[prop] = a[i] = a[i] || a[(i - 1) / 2 | 0];\n    });\n    plugin.init(target, vars, tween);\n  };\n});\n\nexport var CSSPlugin = {\n  name: \"css\",\n  register: _initCore,\n  targetTest: function targetTest(target) {\n    return target.style && target.nodeType;\n  },\n  init: function init(target, vars, tween, index, targets) {\n    var props = this._props,\n        style = target.style,\n        startAt = tween.vars.startAt,\n        startValue,\n        endValue,\n        endNum,\n        startNum,\n        type,\n        specialProp,\n        p,\n        startUnit,\n        endUnit,\n        relative,\n        isTransformRelated,\n        transformPropTween,\n        cache,\n        smooth,\n        hasPriority;\n    _pluginInitted || _initCore();\n\n    for (p in vars) {\n      if (p === \"autoRound\") {\n        continue;\n      }\n\n      endValue = vars[p];\n\n      if (_plugins[p] && _checkPlugin(p, vars, tween, index, target, targets)) {\n        // plugins\n        continue;\n      }\n\n      type = typeof endValue;\n      specialProp = _specialProps[p];\n\n      if (type === \"function\") {\n        endValue = endValue.call(tween, index, target, targets);\n        type = typeof endValue;\n      }\n\n      if (type === \"string\" && ~endValue.indexOf(\"random(\")) {\n        endValue = _replaceRandom(endValue);\n      }\n\n      if (specialProp) {\n        specialProp(this, target, p, endValue, tween) && (hasPriority = 1);\n      } else if (p.substr(0, 2) === \"--\") {\n        //CSS variable\n        startValue = (getComputedStyle(target).getPropertyValue(p) + \"\").trim();\n        endValue += \"\";\n        _colorExp.lastIndex = 0;\n\n        if (!_colorExp.test(startValue)) {\n          // colors don't have units\n          startUnit = getUnit(startValue);\n          endUnit = getUnit(endValue);\n        }\n\n        endUnit ? startUnit !== endUnit && (startValue = _convertToUnit(target, p, startValue, endUnit) + endUnit) : startUnit && (endValue += startUnit);\n        this.add(style, \"setProperty\", startValue, endValue, index, targets, 0, 0, p);\n        props.push(p);\n      } else if (type !== \"undefined\") {\n        if (startAt && p in startAt) {\n          // in case someone hard-codes a complex value as the start, like top: \"calc(2vh / 2)\". Without this, it'd use the computed value (always in px)\n          startValue = typeof startAt[p] === \"function\" ? startAt[p].call(tween, index, target, targets) : startAt[p];\n          p in _config.units && !getUnit(startValue) && (startValue += _config.units[p]); // for cases when someone passes in a unitless value like {x: 100}; if we try setting translate(100, 0px) it won't work.\n\n          (startValue + \"\").charAt(1) === \"=\" && (startValue = _get(target, p)); // can't work with relative values\n        } else {\n          startValue = _get(target, p);\n        }\n\n        startNum = parseFloat(startValue);\n        relative = type === \"string\" && endValue.charAt(1) === \"=\" ? +(endValue.charAt(0) + \"1\") : 0;\n        relative && (endValue = endValue.substr(2));\n        endNum = parseFloat(endValue);\n\n        if (p in _propertyAliases) {\n          if (p === \"autoAlpha\") {\n            //special case where we control the visibility along with opacity. We still allow the opacity value to pass through and get tweened.\n            if (startNum === 1 && _get(target, \"visibility\") === \"hidden\" && endNum) {\n              //if visibility is initially set to \"hidden\", we should interpret that as intent to make opacity 0 (a convenience)\n              startNum = 0;\n            }\n\n            _addNonTweeningPT(this, style, \"visibility\", startNum ? \"inherit\" : \"hidden\", endNum ? \"inherit\" : \"hidden\", !endNum);\n          }\n\n          if (p !== \"scale\" && p !== \"transform\") {\n            p = _propertyAliases[p];\n            ~p.indexOf(\",\") && (p = p.split(\",\")[0]);\n          }\n        }\n\n        isTransformRelated = p in _transformProps; //--- TRANSFORM-RELATED ---\n\n        if (isTransformRelated) {\n          if (!transformPropTween) {\n            cache = target._gsap;\n            cache.renderTransform && !vars.parseTransform || _parseTransform(target, vars.parseTransform); // if, for example, gsap.set(... {transform:\"translateX(50vw)\"}), the _get() call doesn't parse the transform, thus cache.renderTransform won't be set yet so force the parsing of the transform here.\n\n            smooth = vars.smoothOrigin !== false && cache.smooth;\n            transformPropTween = this._pt = new PropTween(this._pt, style, _transformProp, 0, 1, cache.renderTransform, cache, 0, -1); //the first time through, create the rendering PropTween so that it runs LAST (in the linked list, we keep adding to the beginning)\n\n            transformPropTween.dep = 1; //flag it as dependent so that if things get killed/overwritten and this is the only PropTween left, we can safely kill the whole tween.\n          }\n\n          if (p === \"scale\") {\n            this._pt = new PropTween(this._pt, cache, \"scaleY\", cache.scaleY, (relative ? relative * endNum : endNum - cache.scaleY) || 0);\n            props.push(\"scaleY\", p);\n            p += \"X\";\n          } else if (p === \"transformOrigin\") {\n            endValue = _convertKeywordsToPercentages(endValue); //in case something like \"left top\" or \"bottom right\" is passed in. Convert to percentages.\n\n            if (cache.svg) {\n              _applySVGOrigin(target, endValue, 0, smooth, 0, this);\n            } else {\n              endUnit = parseFloat(endValue.split(\" \")[2]) || 0; //handle the zOrigin separately!\n\n              endUnit !== cache.zOrigin && _addNonTweeningPT(this, cache, \"zOrigin\", cache.zOrigin, endUnit);\n\n              _addNonTweeningPT(this, style, p, _firstTwoOnly(startValue), _firstTwoOnly(endValue));\n            }\n\n            continue;\n          } else if (p === \"svgOrigin\") {\n            _applySVGOrigin(target, endValue, 1, smooth, 0, this);\n\n            continue;\n          } else if (p in _rotationalProperties) {\n            _addRotationalPropTween(this, cache, p, startNum, endValue, relative);\n\n            continue;\n          } else if (p === \"smoothOrigin\") {\n            _addNonTweeningPT(this, cache, \"smooth\", cache.smooth, endValue);\n\n            continue;\n          } else if (p === \"force3D\") {\n            cache[p] = endValue;\n            continue;\n          } else if (p === \"transform\") {\n            _addRawTransformPTs(this, endValue, target);\n\n            continue;\n          }\n        } else if (!(p in style)) {\n          p = _checkPropPrefix(p) || p;\n        }\n\n        if (isTransformRelated || (endNum || endNum === 0) && (startNum || startNum === 0) && !_complexExp.test(endValue) && p in style) {\n          startUnit = (startValue + \"\").substr((startNum + \"\").length);\n          endNum || (endNum = 0); // protect against NaN\n\n          endUnit = getUnit(endValue) || (p in _config.units ? _config.units[p] : startUnit);\n          startUnit !== endUnit && (startNum = _convertToUnit(target, p, startValue, endUnit));\n          this._pt = new PropTween(this._pt, isTransformRelated ? cache : style, p, startNum, relative ? relative * endNum : endNum - startNum, !isTransformRelated && (endUnit === \"px\" || p === \"zIndex\") && vars.autoRound !== false ? _renderRoundedCSSProp : _renderCSSProp);\n          this._pt.u = endUnit || 0;\n\n          if (startUnit !== endUnit) {\n            //when the tween goes all the way back to the beginning, we need to revert it to the OLD/ORIGINAL value (with those units). We record that as a \"b\" (beginning) property and point to a render method that handles that. (performance optimization)\n            this._pt.b = startValue;\n            this._pt.r = _renderCSSPropWithBeginning;\n          }\n        } else if (!(p in style)) {\n          if (p in target) {\n            //maybe it's not a style - it could be a property added directly to an element in which case we'll try to animate that.\n            this.add(target, p, startValue || target[p], endValue, index, targets);\n          } else {\n            _missingPlugin(p, endValue);\n\n            continue;\n          }\n        } else {\n          _tweenComplexCSSString.call(this, target, p, startValue, endValue);\n        }\n\n        props.push(p);\n      }\n    }\n\n    hasPriority && _sortPropTweensByPriority(this);\n  },\n  get: _get,\n  aliases: _propertyAliases,\n  getSetter: function getSetter(target, property, plugin) {\n    //returns a setter function that accepts target, property, value and applies it accordingly. Remember, properties like \"x\" aren't as simple as target.style.property = value because they've got to be applied to a proxy object and then merged into a transform string in a renderer.\n    var p = _propertyAliases[property];\n    p && p.indexOf(\",\") < 0 && (property = p);\n    return property in _transformProps && property !== _transformOriginProp && (target._gsap.x || _get(target, \"x\")) ? plugin && _recentSetterPlugin === plugin ? property === \"scale\" ? _setterScale : _setterTransform : (_recentSetterPlugin = plugin || {}) && (property === \"scale\" ? _setterScaleWithRender : _setterTransformWithRender) : target.style && !_isUndefined(target.style[property]) ? _setterCSSStyle : ~property.indexOf(\"-\") ? _setterCSSProp : _getSetter(target, property);\n  },\n  core: {\n    _removeProperty: _removeProperty,\n    _getMatrix: _getMatrix\n  }\n};\ngsap.utils.checkPrefix = _checkPropPrefix;\n\n(function (positionAndScale, rotation, others, aliases) {\n  var all = _forEachName(positionAndScale + \",\" + rotation + \",\" + others, function (name) {\n    _transformProps[name] = 1;\n  });\n\n  _forEachName(rotation, function (name) {\n    _config.units[name] = \"deg\";\n    _rotationalProperties[name] = 1;\n  });\n\n  _propertyAliases[all[13]] = positionAndScale + \",\" + rotation;\n\n  _forEachName(aliases, function (name) {\n    var split = name.split(\":\");\n    _propertyAliases[split[1]] = all[split[0]];\n  });\n})(\"x,y,z,scale,scaleX,scaleY,xPercent,yPercent\", \"rotation,rotationX,rotationY,skewX,skewY\", \"transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective\", \"0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY\");\n\n_forEachName(\"x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective\", function (name) {\n  _config.units[name] = \"px\";\n});\n\ngsap.registerPlugin(CSSPlugin);\nexport { CSSPlugin as default, _getBBox, _createElement, _checkPropPrefix as checkPrefix };","import { gsap, Power0, Power1, Power2, Power3, Power4, Linear, Quad, Cubic, Quart, Quint, Strong, Elastic, Back, SteppedEase, Bounce, Sine, Expo, Circ, TweenLite, TimelineLite, TimelineMax } from \"./gsap-core.js\";\nimport { CSSPlugin } from \"./CSSPlugin.js\";\nvar gsapWithCSS = gsap.registerPlugin(CSSPlugin) || gsap,\n    // to protect from tree shaking\nTweenMaxWithCSS = gsapWithCSS.core.Tween;\nexport { gsapWithCSS as gsap, gsapWithCSS as default, CSSPlugin, TweenMaxWithCSS as TweenMax, TweenLite, TimelineMax, TimelineLite, Power0, Power1, Power2, Power3, Power4, Linear, Quad, Cubic, Quart, Quint, Strong, Elastic, Back, SteppedEase, Bounce, Sine, Expo, Circ };","/*!\n * matrix 3.7.0\n * https://greensock.com\n *\n * Copyright 2008-2021, GreenSock. All rights reserved.\n * Subject to the terms at https://greensock.com/standard-license or for\n * Club GreenSock members, the agreement issued with that membership.\n * @author: Jack Doyle, jack@greensock.com\n*/\n\n/* eslint-disable */\nvar _doc,\n    _win,\n    _docElement,\n    _body,\n    _divContainer,\n    _svgContainer,\n    _identityMatrix,\n    _transformProp = \"transform\",\n    _transformOriginProp = _transformProp + \"Origin\",\n    _hasOffsetBug,\n    _setDoc = function _setDoc(element) {\n  var doc = element.ownerDocument || element;\n\n  if (!(_transformProp in element.style) && \"msTransform\" in element.style) {\n    //to improve compatibility with old Microsoft browsers\n    _transformProp = \"msTransform\";\n    _transformOriginProp = _transformProp + \"Origin\";\n  }\n\n  while (doc.parentNode && (doc = doc.parentNode)) {}\n\n  _win = window;\n  _identityMatrix = new Matrix2D();\n\n  if (doc) {\n    _doc = doc;\n    _docElement = doc.documentElement;\n    _body = doc.body; // now test for the offset reporting bug. Use feature detection instead of browser sniffing to make things more bulletproof and future-proof. Hopefully Safari will fix their bug soon but it's 2020 and it's still not fixed.\n\n    var d1 = doc.createElement(\"div\"),\n        d2 = doc.createElement(\"div\");\n\n    _body.appendChild(d1);\n\n    d1.appendChild(d2);\n    d1.style.position = \"static\";\n    d1.style[_transformProp] = \"translate3d(0,0,1px)\";\n    _hasOffsetBug = d2.offsetParent !== d1;\n\n    _body.removeChild(d1);\n  }\n\n  return doc;\n},\n    _forceNonZeroScale = function _forceNonZeroScale(e) {\n  // walks up the element's ancestors and finds any that had their scale set to 0 via GSAP, and changes them to 0.0001 to ensure that measurements work. Firefox has a bug that causes it to incorrectly report getBoundingClientRect() when scale is 0.\n  var a, cache;\n\n  while (e && e !== _body) {\n    cache = e._gsap;\n    cache && cache.uncache && cache.get(e, \"x\"); // force re-parsing of transforms if necessary\n\n    if (cache && !cache.scaleX && !cache.scaleY && cache.renderTransform) {\n      cache.scaleX = cache.scaleY = 1e-4;\n      cache.renderTransform(1, cache);\n      a ? a.push(cache) : a = [cache];\n    }\n\n    e = e.parentNode;\n  }\n\n  return a;\n},\n    // possible future addition: pass an element to _forceDisplay() and it'll walk up all its ancestors and make sure anything with display: none is set to display: block, and if there's no parentNode, it'll add it to the body. It returns an Array that you can then feed to _revertDisplay() to have it revert all the changes it made.\n// _forceDisplay = e => {\n// \tlet a = [],\n// \t\tparent;\n// \twhile (e && e !== _body) {\n// \t\tparent = e.parentNode;\n// \t\t(_win.getComputedStyle(e).display === \"none\" || !parent) && a.push(e, e.style.display, parent) && (e.style.display = \"block\");\n// \t\tparent || _body.appendChild(e);\n// \t\te = parent;\n// \t}\n// \treturn a;\n// },\n// _revertDisplay = a => {\n// \tfor (let i = 0; i < a.length; i+=3) {\n// \t\ta[i+1] ? (a[i].style.display = a[i+1]) : a[i].style.removeProperty(\"display\");\n// \t\ta[i+2] || a[i].parentNode.removeChild(a[i]);\n// \t}\n// },\n_svgTemps = [],\n    //we create 3 elements for SVG, and 3 for other DOM elements and cache them for performance reasons. They get nested in _divContainer and _svgContainer so that just one element is added to the DOM on each successive attempt. Again, performance is key.\n_divTemps = [],\n    _getDocScrollTop = function _getDocScrollTop() {\n  return _win.pageYOffset || _doc.scrollTop || _docElement.scrollTop || _body.scrollTop || 0;\n},\n    _getDocScrollLeft = function _getDocScrollLeft() {\n  return _win.pageXOffset || _doc.scrollLeft || _docElement.scrollLeft || _body.scrollLeft || 0;\n},\n    _svgOwner = function _svgOwner(element) {\n  return element.ownerSVGElement || ((element.tagName + \"\").toLowerCase() === \"svg\" ? element : null);\n},\n    _isFixed = function _isFixed(element) {\n  if (_win.getComputedStyle(element).position === \"fixed\") {\n    return true;\n  }\n\n  element = element.parentNode;\n\n  if (element && element.nodeType === 1) {\n    // avoid document fragments which will throw an error.\n    return _isFixed(element);\n  }\n},\n    _createSibling = function _createSibling(element, i) {\n  if (element.parentNode && (_doc || _setDoc(element))) {\n    var svg = _svgOwner(element),\n        ns = svg ? svg.getAttribute(\"xmlns\") || \"http://www.w3.org/2000/svg\" : \"http://www.w3.org/1999/xhtml\",\n        type = svg ? i ? \"rect\" : \"g\" : \"div\",\n        x = i !== 2 ? 0 : 100,\n        y = i === 3 ? 100 : 0,\n        css = \"position:absolute;display:block;pointer-events:none;margin:0;padding:0;\",\n        e = _doc.createElementNS ? _doc.createElementNS(ns.replace(/^https/, \"http\"), type) : _doc.createElement(type);\n\n    if (i) {\n      if (!svg) {\n        if (!_divContainer) {\n          _divContainer = _createSibling(element);\n          _divContainer.style.cssText = css;\n        }\n\n        e.style.cssText = css + \"width:0.1px;height:0.1px;top:\" + y + \"px;left:\" + x + \"px\";\n\n        _divContainer.appendChild(e);\n      } else {\n        _svgContainer || (_svgContainer = _createSibling(element));\n        e.setAttribute(\"width\", 0.01);\n        e.setAttribute(\"height\", 0.01);\n        e.setAttribute(\"transform\", \"translate(\" + x + \",\" + y + \")\");\n\n        _svgContainer.appendChild(e);\n      }\n    }\n\n    return e;\n  }\n\n  throw \"Need document and parent.\";\n},\n    _consolidate = function _consolidate(m) {\n  // replaces SVGTransformList.consolidate() because a bug in Firefox causes it to break pointer events. See https://greensock.com/forums/topic/23248-touch-is-not-working-on-draggable-in-firefox-windows-v324/?tab=comments#comment-109800\n  var c = new Matrix2D(),\n      i = 0;\n\n  for (; i < m.numberOfItems; i++) {\n    c.multiply(m.getItem(i).matrix);\n  }\n\n  return c;\n},\n    _placeSiblings = function _placeSiblings(element, adjustGOffset) {\n  var svg = _svgOwner(element),\n      isRootSVG = element === svg,\n      siblings = svg ? _svgTemps : _divTemps,\n      parent = element.parentNode,\n      container,\n      m,\n      b,\n      x,\n      y,\n      cs;\n\n  if (element === _win) {\n    return element;\n  }\n\n  siblings.length || siblings.push(_createSibling(element, 1), _createSibling(element, 2), _createSibling(element, 3));\n  container = svg ? _svgContainer : _divContainer;\n\n  if (svg) {\n    b = isRootSVG ? {\n      x: 0,\n      y: 0\n    } : element.getBBox();\n    m = element.transform ? element.transform.baseVal : {}; // IE11 doesn't follow the spec.\n\n    if (m.numberOfItems) {\n      m = m.numberOfItems > 1 ? _consolidate(m) : m.getItem(0).matrix; // don't call m.consolidate().matrix because a bug in Firefox makes pointer events not work when consolidate() is called on the same tick as getBoundingClientRect()! See https://greensock.com/forums/topic/23248-touch-is-not-working-on-draggable-in-firefox-windows-v324/?tab=comments#comment-109800\n\n      x = m.a * b.x + m.c * b.y;\n      y = m.b * b.x + m.d * b.y;\n    } else {\n      m = _identityMatrix;\n      x = b.x;\n      y = b.y;\n    }\n\n    if (adjustGOffset && element.tagName.toLowerCase() === \"g\") {\n      x = y = 0;\n    }\n\n    (isRootSVG ? svg : parent).appendChild(container);\n    container.setAttribute(\"transform\", \"matrix(\" + m.a + \",\" + m.b + \",\" + m.c + \",\" + m.d + \",\" + (m.e + x) + \",\" + (m.f + y) + \")\");\n  } else {\n    x = y = 0;\n\n    if (_hasOffsetBug) {\n      // some browsers (like Safari) have a bug that causes them to misreport offset values. When an ancestor element has a transform applied, it's supposed to treat it as if it's position: relative (new context). Safari botches this, so we need to find the closest ancestor (between the element and its offsetParent) that has a transform applied and if one is found, grab its offsetTop/Left and subtract them to compensate.\n      m = element.offsetParent;\n      b = element;\n\n      while (b && (b = b.parentNode) && b !== m && b.parentNode) {\n        if ((_win.getComputedStyle(b)[_transformProp] + \"\").length > 4) {\n          x = b.offsetLeft;\n          y = b.offsetTop;\n          b = 0;\n        }\n      }\n    }\n\n    cs = _win.getComputedStyle(element);\n\n    if (cs.position !== \"absolute\") {\n      m = element.offsetParent;\n\n      while (parent && parent !== m) {\n        // if there's an ancestor element between the element and its offsetParent that's scrolled, we must factor that in.\n        x += parent.scrollLeft || 0;\n        y += parent.scrollTop || 0;\n        parent = parent.parentNode;\n      }\n    }\n\n    b = container.style;\n    b.top = element.offsetTop - y + \"px\";\n    b.left = element.offsetLeft - x + \"px\";\n    b[_transformProp] = cs[_transformProp];\n    b[_transformOriginProp] = cs[_transformOriginProp]; // b.border = m.border;\n    // b.borderLeftStyle = m.borderLeftStyle;\n    // b.borderTopStyle = m.borderTopStyle;\n    // b.borderLeftWidth = m.borderLeftWidth;\n    // b.borderTopWidth = m.borderTopWidth;\n\n    b.position = cs.position === \"fixed\" ? \"fixed\" : \"absolute\";\n    element.parentNode.appendChild(container);\n  }\n\n  return container;\n},\n    _setMatrix = function _setMatrix(m, a, b, c, d, e, f) {\n  m.a = a;\n  m.b = b;\n  m.c = c;\n  m.d = d;\n  m.e = e;\n  m.f = f;\n  return m;\n};\n\nexport var Matrix2D = /*#__PURE__*/function () {\n  function Matrix2D(a, b, c, d, e, f) {\n    if (a === void 0) {\n      a = 1;\n    }\n\n    if (b === void 0) {\n      b = 0;\n    }\n\n    if (c === void 0) {\n      c = 0;\n    }\n\n    if (d === void 0) {\n      d = 1;\n    }\n\n    if (e === void 0) {\n      e = 0;\n    }\n\n    if (f === void 0) {\n      f = 0;\n    }\n\n    _setMatrix(this, a, b, c, d, e, f);\n  }\n\n  var _proto = Matrix2D.prototype;\n\n  _proto.inverse = function inverse() {\n    var a = this.a,\n        b = this.b,\n        c = this.c,\n        d = this.d,\n        e = this.e,\n        f = this.f,\n        determinant = a * d - b * c || 1e-10;\n    return _setMatrix(this, d / determinant, -b / determinant, -c / determinant, a / determinant, (c * f - d * e) / determinant, -(a * f - b * e) / determinant);\n  };\n\n  _proto.multiply = function multiply(matrix) {\n    var a = this.a,\n        b = this.b,\n        c = this.c,\n        d = this.d,\n        e = this.e,\n        f = this.f,\n        a2 = matrix.a,\n        b2 = matrix.c,\n        c2 = matrix.b,\n        d2 = matrix.d,\n        e2 = matrix.e,\n        f2 = matrix.f;\n    return _setMatrix(this, a2 * a + c2 * c, a2 * b + c2 * d, b2 * a + d2 * c, b2 * b + d2 * d, e + e2 * a + f2 * c, f + e2 * b + f2 * d);\n  };\n\n  _proto.clone = function clone() {\n    return new Matrix2D(this.a, this.b, this.c, this.d, this.e, this.f);\n  };\n\n  _proto.equals = function equals(matrix) {\n    var a = this.a,\n        b = this.b,\n        c = this.c,\n        d = this.d,\n        e = this.e,\n        f = this.f;\n    return a === matrix.a && b === matrix.b && c === matrix.c && d === matrix.d && e === matrix.e && f === matrix.f;\n  };\n\n  _proto.apply = function apply(point, decoratee) {\n    if (decoratee === void 0) {\n      decoratee = {};\n    }\n\n    var x = point.x,\n        y = point.y,\n        a = this.a,\n        b = this.b,\n        c = this.c,\n        d = this.d,\n        e = this.e,\n        f = this.f;\n    decoratee.x = x * a + y * c + e || 0;\n    decoratee.y = x * b + y * d + f || 0;\n    return decoratee;\n  };\n\n  return Matrix2D;\n}(); // Feed in an element and it'll return a 2D matrix (optionally inverted) so that you can translate between coordinate spaces.\n// Inverting lets you translate a global point into a local coordinate space. No inverting lets you go the other way.\n// We needed this to work around various browser bugs, like Firefox doesn't accurately report getScreenCTM() when there\n// are transforms applied to ancestor elements.\n// The matrix math to convert any x/y coordinate is as follows, which is wrapped in a convenient apply() method of Matrix2D above:\n//     tx = m.a * x + m.c * y + m.e\n//     ty = m.b * x + m.d * y + m.f\n\nexport function getGlobalMatrix(element, inverse, adjustGOffset, includeScrollInFixed) {\n  // adjustGOffset is typically used only when grabbing an element's PARENT's global matrix, and it ignores the x/y offset of any SVG <g> elements because they behave in a special way.\n  if (!element || !element.parentNode || (_doc || _setDoc(element)).documentElement === element) {\n    return new Matrix2D();\n  }\n\n  var zeroScales = _forceNonZeroScale(element),\n      svg = _svgOwner(element),\n      temps = svg ? _svgTemps : _divTemps,\n      container = _placeSiblings(element, adjustGOffset),\n      b1 = temps[0].getBoundingClientRect(),\n      b2 = temps[1].getBoundingClientRect(),\n      b3 = temps[2].getBoundingClientRect(),\n      parent = container.parentNode,\n      isFixed = !includeScrollInFixed && _isFixed(element),\n      m = new Matrix2D((b2.left - b1.left) / 100, (b2.top - b1.top) / 100, (b3.left - b1.left) / 100, (b3.top - b1.top) / 100, b1.left + (isFixed ? 0 : _getDocScrollLeft()), b1.top + (isFixed ? 0 : _getDocScrollTop()));\n\n  parent.removeChild(container);\n\n  if (zeroScales) {\n    b1 = zeroScales.length;\n\n    while (b1--) {\n      b2 = zeroScales[b1];\n      b2.scaleX = b2.scaleY = 0;\n      b2.renderTransform(1, b2);\n    }\n  }\n\n  return inverse ? m.inverse() : m;\n}\nexport { _getDocScrollTop, _getDocScrollLeft, _setDoc }; // export function getMatrix(element) {\n// \t_doc || _setDoc(element);\n// \tlet m = (_win.getComputedStyle(element)[_transformProp] + \"\").substr(7).match(/[-.]*\\d+[.e\\-+]*\\d*[e\\-\\+]*\\d*/g),\n// \t\tis2D = m && m.length === 6;\n// \treturn !m || m.length < 6 ? new Matrix2D() : new Matrix2D(+m[0], +m[1], +m[is2D ? 2 : 4], +m[is2D ? 3 : 5], +m[is2D ? 4 : 12], +m[is2D ? 5 : 13]);\n// }","function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\n/*!\n * Draggable 3.7.0\n * https://greensock.com\n *\n * @license Copyright 2008-2021, GreenSock. All rights reserved.\n * Subject to the terms at https://greensock.com/standard-license or for\n * Club GreenSock members, the agreement issued with that membership.\n * @author: Jack Doyle, jack@greensock.com\n */\n\n/* eslint-disable */\nimport { getGlobalMatrix, Matrix2D } from \"./utils/matrix.js\";\n\nvar gsap,\n    _win,\n    _doc,\n    _docElement,\n    _body,\n    _tempDiv,\n    _placeholderDiv,\n    _coreInitted,\n    _checkPrefix,\n    _toArray,\n    _supportsPassive,\n    _isTouchDevice,\n    _touchEventLookup,\n    _dragCount,\n    _isMultiTouching,\n    _isAndroid,\n    InertiaPlugin,\n    _defaultCursor,\n    _supportsPointer,\n    _windowExists = function _windowExists() {\n  return typeof window !== \"undefined\";\n},\n    _getGSAP = function _getGSAP() {\n  return gsap || _windowExists() && (gsap = window.gsap) && gsap.registerPlugin && gsap;\n},\n    _isFunction = function _isFunction(value) {\n  return typeof value === \"function\";\n},\n    _isObject = function _isObject(value) {\n  return typeof value === \"object\";\n},\n    _isUndefined = function _isUndefined(value) {\n  return typeof value === \"undefined\";\n},\n    _emptyFunc = function _emptyFunc() {\n  return false;\n},\n    _transformProp = \"transform\",\n    _transformOriginProp = \"transformOrigin\",\n    _round = function _round(value) {\n  return Math.round(value * 10000) / 10000;\n},\n    _isArray = Array.isArray,\n    _createElement = function _createElement(type, ns) {\n  var e = _doc.createElementNS ? _doc.createElementNS((ns || \"http://www.w3.org/1999/xhtml\").replace(/^https/, \"http\"), type) : _doc.createElement(type); //some servers swap in https for http in the namespace which can break things, making \"style\" inaccessible.\n\n  return e.style ? e : _doc.createElement(type); //some environments won't allow access to the element's style when created with a namespace in which case we default to the standard createElement() to work around the issue. Also note that when GSAP is embedded directly inside an SVG file, createElement() won't allow access to the style object in Firefox (see https://greensock.com/forums/topic/20215-problem-using-tweenmax-in-standalone-self-containing-svg-file-err-cannot-set-property-csstext-of-undefined/).\n},\n    _RAD2DEG = 180 / Math.PI,\n    _bigNum = 1e20,\n    _identityMatrix = new Matrix2D(),\n    _getTime = Date.now || function () {\n  return new Date().getTime();\n},\n    _renderQueue = [],\n    _lookup = {},\n    //when a Draggable is created, the target gets a unique _gsDragID property that allows gets associated with the Draggable instance for quick lookups in Draggable.get(). This avoids circular references that could cause gc problems.\n_lookupCount = 0,\n    _clickableTagExp = /^(?:a|input|textarea|button|select)$/i,\n    _lastDragTime = 0,\n    _temp1 = {},\n    // a simple object we reuse and populate (usually x/y properties) to conserve memory and improve performance.\n_windowProxy = {},\n    //memory/performance optimization - we reuse this object during autoScroll to store window-related bounds/offsets.\n_copy = function _copy(obj, factor) {\n  var copy = {},\n      p;\n\n  for (p in obj) {\n    copy[p] = factor ? obj[p] * factor : obj[p];\n  }\n\n  return copy;\n},\n    _extend = function _extend(obj, defaults) {\n  for (var p in defaults) {\n    if (!(p in obj)) {\n      obj[p] = defaults[p];\n    }\n  }\n\n  return obj;\n},\n    _setTouchActionForAllDescendants = function _setTouchActionForAllDescendants(elements, value) {\n  var i = elements.length,\n      children;\n\n  while (i--) {\n    value ? elements[i].style.touchAction = value : elements[i].style.removeProperty(\"touch-action\");\n    children = elements[i].children;\n    children && children.length && _setTouchActionForAllDescendants(children, value);\n  }\n},\n    _renderQueueTick = function _renderQueueTick() {\n  return _renderQueue.forEach(function (func) {\n    return func();\n  });\n},\n    _addToRenderQueue = function _addToRenderQueue(func) {\n  _renderQueue.push(func);\n\n  if (_renderQueue.length === 1) {\n    gsap.ticker.add(_renderQueueTick);\n  }\n},\n    _renderQueueTimeout = function _renderQueueTimeout() {\n  return !_renderQueue.length && gsap.ticker.remove(_renderQueueTick);\n},\n    _removeFromRenderQueue = function _removeFromRenderQueue(func) {\n  var i = _renderQueue.length;\n\n  while (i--) {\n    if (_renderQueue[i] === func) {\n      _renderQueue.splice(i, 1);\n    }\n  }\n\n  gsap.to(_renderQueueTimeout, {\n    overwrite: true,\n    delay: 15,\n    duration: 0,\n    onComplete: _renderQueueTimeout,\n    data: \"_draggable\"\n  }); //remove the \"tick\" listener only after the render queue is empty for 15 seconds (to improve performance). Adding/removing it constantly for every click/touch wouldn't deliver optimal speed, and we also don't want the ticker to keep calling the render method when things are idle for long periods of time (we want to improve battery life on mobile devices).\n},\n    _setDefaults = function _setDefaults(obj, defaults) {\n  for (var p in defaults) {\n    if (!(p in obj)) {\n      obj[p] = defaults[p];\n    }\n  }\n\n  return obj;\n},\n    _addListener = function _addListener(element, type, func, capture) {\n  if (element.addEventListener) {\n    var touchType = _touchEventLookup[type];\n    capture = capture || (_supportsPassive ? {\n      passive: false\n    } : null);\n    element.addEventListener(touchType || type, func, capture);\n    touchType && type !== touchType && element.addEventListener(type, func, capture); //some browsers actually support both, so must we. But pointer events cover all.\n  }\n},\n    _removeListener = function _removeListener(element, type, func) {\n  if (element.removeEventListener) {\n    var touchType = _touchEventLookup[type];\n    element.removeEventListener(touchType || type, func);\n    touchType && type !== touchType && element.removeEventListener(type, func);\n  }\n},\n    _preventDefault = function _preventDefault(event) {\n  event.preventDefault && event.preventDefault();\n  event.preventManipulation && event.preventManipulation(); //for some Microsoft browsers\n},\n    _hasTouchID = function _hasTouchID(list, ID) {\n  var i = list.length;\n\n  while (i--) {\n    if (list[i].identifier === ID) {\n      return true;\n    }\n  }\n},\n    _onMultiTouchDocumentEnd = function _onMultiTouchDocumentEnd(event) {\n  _isMultiTouching = event.touches && _dragCount < event.touches.length;\n\n  _removeListener(event.target, \"touchend\", _onMultiTouchDocumentEnd);\n},\n    _onMultiTouchDocument = function _onMultiTouchDocument(event) {\n  _isMultiTouching = event.touches && _dragCount < event.touches.length;\n\n  _addListener(event.target, \"touchend\", _onMultiTouchDocumentEnd);\n},\n    _getDocScrollTop = function _getDocScrollTop(doc) {\n  return _win.pageYOffset || doc.scrollTop || doc.documentElement.scrollTop || doc.body.scrollTop || 0;\n},\n    _getDocScrollLeft = function _getDocScrollLeft(doc) {\n  return _win.pageXOffset || doc.scrollLeft || doc.documentElement.scrollLeft || doc.body.scrollLeft || 0;\n},\n    _addScrollListener = function _addScrollListener(e, callback) {\n  _addListener(e, \"scroll\", callback);\n\n  if (!_isRoot(e.parentNode)) {\n    _addScrollListener(e.parentNode, callback);\n  }\n},\n    _removeScrollListener = function _removeScrollListener(e, callback) {\n  _removeListener(e, \"scroll\", callback);\n\n  if (!_isRoot(e.parentNode)) {\n    _removeScrollListener(e.parentNode, callback);\n  }\n},\n    _isRoot = function _isRoot(e) {\n  return !!(!e || e === _docElement || e.nodeType === 9 || e === _doc.body || e === _win || !e.nodeType || !e.parentNode);\n},\n    _getMaxScroll = function _getMaxScroll(element, axis) {\n  var dim = axis === \"x\" ? \"Width\" : \"Height\",\n      scroll = \"scroll\" + dim,\n      client = \"client\" + dim;\n  return Math.max(0, _isRoot(element) ? Math.max(_docElement[scroll], _body[scroll]) - (_win[\"inner\" + dim] || _docElement[client] || _body[client]) : element[scroll] - element[client]);\n},\n    _recordMaxScrolls = function _recordMaxScrolls(e, skipCurrent) {\n  //records _gsMaxScrollX and _gsMaxScrollY properties for the element and all ancestors up the chain so that we can cap it, otherwise dragging beyond the edges with autoScroll on can endlessly scroll.\n  var x = _getMaxScroll(e, \"x\"),\n      y = _getMaxScroll(e, \"y\");\n\n  if (_isRoot(e)) {\n    e = _windowProxy;\n  } else {\n    _recordMaxScrolls(e.parentNode, skipCurrent);\n  }\n\n  e._gsMaxScrollX = x;\n  e._gsMaxScrollY = y;\n\n  if (!skipCurrent) {\n    e._gsScrollX = e.scrollLeft || 0;\n    e._gsScrollY = e.scrollTop || 0;\n  }\n},\n    _setStyle = function _setStyle(element, property, value) {\n  var style = element.style;\n\n  if (!style) {\n    return;\n  }\n\n  if (_isUndefined(style[property])) {\n    property = _checkPrefix(property, element) || property;\n  }\n\n  if (value == null) {\n    style.removeProperty && style.removeProperty(property.replace(/([A-Z])/g, \"-$1\").toLowerCase());\n  } else {\n    style[property] = value;\n  }\n},\n    _getComputedStyle = function _getComputedStyle(element) {\n  return _win.getComputedStyle(element instanceof Element ? element : element.host || (element.parentNode || {}).host || element);\n},\n    //the \"host\" stuff helps to accommodate ShadowDom objects.\n_tempRect = {},\n    //reuse to reduce garbage collection tasks\n_parseRect = function _parseRect(e) {\n  //accepts a DOM element, a mouse event, or a rectangle object and returns the corresponding rectangle with left, right, width, height, top, and bottom properties\n  if (e === _win) {\n    _tempRect.left = _tempRect.top = 0;\n    _tempRect.width = _tempRect.right = _docElement.clientWidth || e.innerWidth || _body.clientWidth || 0;\n    _tempRect.height = _tempRect.bottom = (e.innerHeight || 0) - 20 < _docElement.clientHeight ? _docElement.clientHeight : e.innerHeight || _body.clientHeight || 0;\n    return _tempRect;\n  }\n\n  var doc = e.ownerDocument || _doc,\n      r = !_isUndefined(e.pageX) ? {\n    left: e.pageX - _getDocScrollLeft(doc),\n    top: e.pageY - _getDocScrollTop(doc),\n    right: e.pageX - _getDocScrollLeft(doc) + 1,\n    bottom: e.pageY - _getDocScrollTop(doc) + 1\n  } : !e.nodeType && !_isUndefined(e.left) && !_isUndefined(e.top) ? e : _toArray(e)[0].getBoundingClientRect();\n\n  if (_isUndefined(r.right) && !_isUndefined(r.width)) {\n    r.right = r.left + r.width;\n    r.bottom = r.top + r.height;\n  } else if (_isUndefined(r.width)) {\n    //some browsers don't include width and height properties. We can't just set them directly on r because some browsers throw errors, so create a new generic object.\n    r = {\n      width: r.right - r.left,\n      height: r.bottom - r.top,\n      right: r.right,\n      left: r.left,\n      bottom: r.bottom,\n      top: r.top\n    };\n  }\n\n  return r;\n},\n    _dispatchEvent = function _dispatchEvent(target, type, callbackName) {\n  var vars = target.vars,\n      callback = vars[callbackName],\n      listeners = target._listeners[type],\n      result;\n\n  if (_isFunction(callback)) {\n    result = callback.apply(vars.callbackScope || target, vars[callbackName + \"Params\"] || [target.pointerEvent]);\n  }\n\n  if (listeners && target.dispatchEvent(type) === false) {\n    result = false;\n  }\n\n  return result;\n},\n    _getBounds = function _getBounds(target, context) {\n  //accepts any of the following: a DOM element, jQuery object, selector text, or an object defining bounds as {top, left, width, height} or {minX, maxX, minY, maxY}. Returns an object with left, top, width, and height properties.\n  var e = _toArray(target)[0],\n      top,\n      left,\n      offset;\n\n  if (!e.nodeType && e !== _win) {\n    if (!_isUndefined(target.left)) {\n      offset = {\n        x: 0,\n        y: 0\n      }; //_getOffsetTransformOrigin(context); //the bounds should be relative to the origin\n\n      return {\n        left: target.left - offset.x,\n        top: target.top - offset.y,\n        width: target.width,\n        height: target.height\n      };\n    }\n\n    left = target.min || target.minX || target.minRotation || 0;\n    top = target.min || target.minY || 0;\n    return {\n      left: left,\n      top: top,\n      width: (target.max || target.maxX || target.maxRotation || 0) - left,\n      height: (target.max || target.maxY || 0) - top\n    };\n  }\n\n  return _getElementBounds(e, context);\n},\n    _point1 = {},\n    //we reuse to minimize garbage collection tasks.\n_getElementBounds = function _getElementBounds(element, context) {\n  context = _toArray(context)[0];\n  var isSVG = element.getBBox && element.ownerSVGElement,\n      doc = element.ownerDocument || _doc,\n      left,\n      right,\n      top,\n      bottom,\n      matrix,\n      p1,\n      p2,\n      p3,\n      p4,\n      bbox,\n      width,\n      height,\n      cs,\n      contextParent;\n\n  if (element === _win) {\n    top = _getDocScrollTop(doc);\n    left = _getDocScrollLeft(doc);\n    right = left + (doc.documentElement.clientWidth || element.innerWidth || doc.body.clientWidth || 0);\n    bottom = top + ((element.innerHeight || 0) - 20 < doc.documentElement.clientHeight ? doc.documentElement.clientHeight : element.innerHeight || doc.body.clientHeight || 0); //some browsers (like Firefox) ignore absolutely positioned elements, and collapse the height of the documentElement, so it could be 8px, for example, if you have just an absolutely positioned div. In that case, we use the innerHeight to resolve this.\n  } else if (context === _win || _isUndefined(context)) {\n    return element.getBoundingClientRect();\n  } else {\n    left = top = 0;\n\n    if (isSVG) {\n      bbox = element.getBBox();\n      width = bbox.width;\n      height = bbox.height;\n    } else {\n      if (element.viewBox && (bbox = element.viewBox.baseVal)) {\n        left = bbox.x || 0;\n        top = bbox.y || 0;\n        width = bbox.width;\n        height = bbox.height;\n      }\n\n      if (!width) {\n        cs = _getComputedStyle(element);\n        bbox = cs.boxSizing === \"border-box\";\n        width = (parseFloat(cs.width) || element.clientWidth || 0) + (bbox ? 0 : parseFloat(cs.borderLeftWidth) + parseFloat(cs.borderRightWidth));\n        height = (parseFloat(cs.height) || element.clientHeight || 0) + (bbox ? 0 : parseFloat(cs.borderTopWidth) + parseFloat(cs.borderBottomWidth));\n      }\n    }\n\n    right = width;\n    bottom = height;\n  }\n\n  if (element === context) {\n    return {\n      left: left,\n      top: top,\n      width: right - left,\n      height: bottom - top\n    };\n  }\n\n  matrix = getGlobalMatrix(context, true).multiply(getGlobalMatrix(element));\n  p1 = matrix.apply({\n    x: left,\n    y: top\n  });\n  p2 = matrix.apply({\n    x: right,\n    y: top\n  });\n  p3 = matrix.apply({\n    x: right,\n    y: bottom\n  });\n  p4 = matrix.apply({\n    x: left,\n    y: bottom\n  });\n  left = Math.min(p1.x, p2.x, p3.x, p4.x);\n  top = Math.min(p1.y, p2.y, p3.y, p4.y);\n  contextParent = context.parentNode || {};\n  return {\n    left: left + (contextParent.scrollLeft || 0),\n    top: top + (contextParent.scrollTop || 0),\n    width: Math.max(p1.x, p2.x, p3.x, p4.x) - left,\n    height: Math.max(p1.y, p2.y, p3.y, p4.y) - top\n  };\n},\n    _parseInertia = function _parseInertia(draggable, snap, max, min, factor, forceZeroVelocity) {\n  var vars = {},\n      a,\n      i,\n      l;\n\n  if (snap) {\n    if (factor !== 1 && snap instanceof Array) {\n      //some data must be altered to make sense, like if the user passes in an array of rotational values in degrees, we must convert it to radians. Or for scrollLeft and scrollTop, we invert the values.\n      vars.end = a = [];\n      l = snap.length;\n\n      if (_isObject(snap[0])) {\n        //if the array is populated with objects, like points ({x:100, y:200}), make copies before multiplying by the factor, otherwise we'll mess up the originals and the user may reuse it elsewhere.\n        for (i = 0; i < l; i++) {\n          a[i] = _copy(snap[i], factor);\n        }\n      } else {\n        for (i = 0; i < l; i++) {\n          a[i] = snap[i] * factor;\n        }\n      }\n\n      max += 1.1; //allow 1.1 pixels of wiggle room when snapping in order to work around some browser inconsistencies in the way bounds are reported which can make them roughly a pixel off. For example, if \"snap:[-$('#menu').width(), 0]\" was defined and #menu had a wrapper that was used as the bounds, some browsers would be one pixel off, making the minimum -752 for example when snap was [-753,0], thus instead of snapping to -753, it would snap to 0 since -753 was below the minimum.\n\n      min -= 1.1;\n    } else if (_isFunction(snap)) {\n      vars.end = function (value) {\n        var result = snap.call(draggable, value),\n            copy,\n            p;\n\n        if (factor !== 1) {\n          if (_isObject(result)) {\n            copy = {};\n\n            for (p in result) {\n              copy[p] = result[p] * factor;\n            }\n\n            result = copy;\n          } else {\n            result *= factor;\n          }\n        }\n\n        return result; //we need to ensure that we can scope the function call to the Draggable instance itself so that users can access important values like maxX, minX, maxY, minY, x, and y from within that function.\n      };\n    } else {\n      vars.end = snap;\n    }\n  }\n\n  if (max || max === 0) {\n    vars.max = max;\n  }\n\n  if (min || min === 0) {\n    vars.min = min;\n  }\n\n  if (forceZeroVelocity) {\n    vars.velocity = 0;\n  }\n\n  return vars;\n},\n    _isClickable = function _isClickable(element) {\n  //sometimes it's convenient to mark an element as clickable by adding a data-clickable=\"true\" attribute (in which case we won't preventDefault() the mouse/touch event). This method checks if the element is an <a>, <input>, or <button> or has an onclick or has the data-clickable or contentEditable attribute set to true (or any of its parent elements).\n  var data;\n  return !element || !element.getAttribute || element === _body ? false : (data = element.getAttribute(\"data-clickable\")) === \"true\" || data !== \"false\" && (element.onclick || _clickableTagExp.test(element.nodeName + \"\") || element.getAttribute(\"contentEditable\") === \"true\") ? true : _isClickable(element.parentNode);\n},\n    _setSelectable = function _setSelectable(elements, selectable) {\n  var i = elements.length,\n      e;\n\n  while (i--) {\n    e = elements[i];\n    e.ondragstart = e.onselectstart = selectable ? null : _emptyFunc;\n    gsap.set(e, {\n      lazy: true,\n      userSelect: selectable ? \"text\" : \"none\"\n    });\n  }\n},\n    _isFixed = function _isFixed(element) {\n  if (_getComputedStyle(element).position === \"fixed\") {\n    return true;\n  }\n\n  element = element.parentNode;\n\n  if (element && element.nodeType === 1) {\n    // avoid document fragments which will throw an error.\n    return _isFixed(element);\n  }\n},\n    _supports3D,\n    _addPaddingBR,\n    //The ScrollProxy class wraps an element's contents into another div (we call it \"content\") that we either add padding when necessary or apply a translate3d() transform in order to overscroll (scroll past the boundaries). This allows us to simply set the scrollTop/scrollLeft (or top/left for easier reverse-axis orientation, which is what we do in Draggable) and it'll do all the work for us. For example, if we tried setting scrollTop to -100 on a normal DOM element, it wouldn't work - it'd look the same as setting it to 0, but if we set scrollTop of a ScrollProxy to -100, it'll give the correct appearance by either setting paddingTop of the wrapper to 100 or applying a 100-pixel translateY.\nScrollProxy = function ScrollProxy(element, vars) {\n  element = gsap.utils.toArray(element)[0];\n  vars = vars || {};\n  var content = document.createElement(\"div\"),\n      style = content.style,\n      node = element.firstChild,\n      offsetTop = 0,\n      offsetLeft = 0,\n      prevTop = element.scrollTop,\n      prevLeft = element.scrollLeft,\n      scrollWidth = element.scrollWidth,\n      scrollHeight = element.scrollHeight,\n      extraPadRight = 0,\n      maxLeft = 0,\n      maxTop = 0,\n      elementWidth,\n      elementHeight,\n      contentHeight,\n      nextNode,\n      transformStart,\n      transformEnd;\n\n  if (_supports3D && vars.force3D !== false) {\n    transformStart = \"translate3d(\";\n    transformEnd = \"px,0px)\";\n  } else if (_transformProp) {\n    transformStart = \"translate(\";\n    transformEnd = \"px)\";\n  }\n\n  this.scrollTop = function (value, force) {\n    if (!arguments.length) {\n      return -this.top();\n    }\n\n    this.top(-value, force);\n  };\n\n  this.scrollLeft = function (value, force) {\n    if (!arguments.length) {\n      return -this.left();\n    }\n\n    this.left(-value, force);\n  };\n\n  this.left = function (value, force) {\n    if (!arguments.length) {\n      return -(element.scrollLeft + offsetLeft);\n    }\n\n    var dif = element.scrollLeft - prevLeft,\n        oldOffset = offsetLeft;\n\n    if ((dif > 2 || dif < -2) && !force) {\n      //if the user interacts with the scrollbar (or something else scrolls it, like the mouse wheel), we should kill any tweens of the ScrollProxy.\n      prevLeft = element.scrollLeft;\n      gsap.killTweensOf(this, {\n        left: 1,\n        scrollLeft: 1\n      });\n      this.left(-prevLeft);\n\n      if (vars.onKill) {\n        vars.onKill();\n      }\n\n      return;\n    }\n\n    value = -value; //invert because scrolling works in the opposite direction\n\n    if (value < 0) {\n      offsetLeft = value - 0.5 | 0;\n      value = 0;\n    } else if (value > maxLeft) {\n      offsetLeft = value - maxLeft | 0;\n      value = maxLeft;\n    } else {\n      offsetLeft = 0;\n    }\n\n    if (offsetLeft || oldOffset) {\n      if (!this._skip) {\n        style[_transformProp] = transformStart + -offsetLeft + \"px,\" + -offsetTop + transformEnd;\n      }\n\n      if (offsetLeft + extraPadRight >= 0) {\n        style.paddingRight = offsetLeft + extraPadRight + \"px\";\n      }\n    }\n\n    element.scrollLeft = value | 0;\n    prevLeft = element.scrollLeft; //don't merge this with the line above because some browsers adjust the scrollLeft after it's set, so in order to be 100% accurate in tracking it, we need to ask the browser to report it.\n  };\n\n  this.top = function (value, force) {\n    if (!arguments.length) {\n      return -(element.scrollTop + offsetTop);\n    }\n\n    var dif = element.scrollTop - prevTop,\n        oldOffset = offsetTop;\n\n    if ((dif > 2 || dif < -2) && !force) {\n      //if the user interacts with the scrollbar (or something else scrolls it, like the mouse wheel), we should kill any tweens of the ScrollProxy.\n      prevTop = element.scrollTop;\n      gsap.killTweensOf(this, {\n        top: 1,\n        scrollTop: 1\n      });\n      this.top(-prevTop);\n\n      if (vars.onKill) {\n        vars.onKill();\n      }\n\n      return;\n    }\n\n    value = -value; //invert because scrolling works in the opposite direction\n\n    if (value < 0) {\n      offsetTop = value - 0.5 | 0;\n      value = 0;\n    } else if (value > maxTop) {\n      offsetTop = value - maxTop | 0;\n      value = maxTop;\n    } else {\n      offsetTop = 0;\n    }\n\n    if (offsetTop || oldOffset) {\n      if (!this._skip) {\n        style[_transformProp] = transformStart + -offsetLeft + \"px,\" + -offsetTop + transformEnd;\n      }\n    }\n\n    element.scrollTop = value | 0;\n    prevTop = element.scrollTop;\n  };\n\n  this.maxScrollTop = function () {\n    return maxTop;\n  };\n\n  this.maxScrollLeft = function () {\n    return maxLeft;\n  };\n\n  this.disable = function () {\n    node = content.firstChild;\n\n    while (node) {\n      nextNode = node.nextSibling;\n      element.appendChild(node);\n      node = nextNode;\n    }\n\n    if (element === content.parentNode) {\n      //in case disable() is called when it's already disabled.\n      element.removeChild(content);\n    }\n  };\n\n  this.enable = function () {\n    node = element.firstChild;\n\n    if (node === content) {\n      return;\n    }\n\n    while (node) {\n      nextNode = node.nextSibling;\n      content.appendChild(node);\n      node = nextNode;\n    }\n\n    element.appendChild(content);\n    this.calibrate();\n  };\n\n  this.calibrate = function (force) {\n    var widthMatches = element.clientWidth === elementWidth,\n        cs,\n        x,\n        y;\n    prevTop = element.scrollTop;\n    prevLeft = element.scrollLeft;\n\n    if (widthMatches && element.clientHeight === elementHeight && content.offsetHeight === contentHeight && scrollWidth === element.scrollWidth && scrollHeight === element.scrollHeight && !force) {\n      return; //no need to recalculate things if the width and height haven't changed.\n    }\n\n    if (offsetTop || offsetLeft) {\n      x = this.left();\n      y = this.top();\n      this.left(-element.scrollLeft);\n      this.top(-element.scrollTop);\n    }\n\n    cs = _getComputedStyle(element); //first, we need to remove any width constraints to see how the content naturally flows so that we can see if it's wider than the containing element. If so, we've got to record the amount of overage so that we can apply that as padding in order for browsers to correctly handle things. Then we switch back to a width of 100% (without that, some browsers don't flow the content correctly)\n\n    if (!widthMatches || force) {\n      style.display = \"block\";\n      style.width = \"auto\";\n      style.paddingRight = \"0px\";\n      extraPadRight = Math.max(0, element.scrollWidth - element.clientWidth); //if the content is wider than the container, we need to add the paddingLeft and paddingRight in order for things to behave correctly.\n\n      if (extraPadRight) {\n        extraPadRight += parseFloat(cs.paddingLeft) + (_addPaddingBR ? parseFloat(cs.paddingRight) : 0);\n      }\n    }\n\n    style.display = \"inline-block\";\n    style.position = \"relative\";\n    style.overflow = \"visible\";\n    style.verticalAlign = \"top\";\n    style.boxSizing = \"content-box\";\n    style.width = \"100%\";\n    style.paddingRight = extraPadRight + \"px\"; //some browsers neglect to factor in the bottom padding when calculating the scrollHeight, so we need to add that padding to the content when that happens. Allow a 2px margin for error\n\n    if (_addPaddingBR) {\n      style.paddingBottom = cs.paddingBottom;\n    }\n\n    elementWidth = element.clientWidth;\n    elementHeight = element.clientHeight;\n    scrollWidth = element.scrollWidth;\n    scrollHeight = element.scrollHeight;\n    maxLeft = element.scrollWidth - elementWidth;\n    maxTop = element.scrollHeight - elementHeight;\n    contentHeight = content.offsetHeight;\n    style.display = \"block\";\n\n    if (x || y) {\n      this.left(x);\n      this.top(y);\n    }\n  };\n\n  this.content = content;\n  this.element = element;\n  this._skip = false;\n  this.enable();\n},\n    _initCore = function _initCore(required) {\n  if (_windowExists() && document.body) {\n    var nav = window && window.navigator;\n    _win = window;\n    _doc = document;\n    _docElement = _doc.documentElement;\n    _body = _doc.body;\n    _tempDiv = _createElement(\"div\");\n    _supportsPointer = !!window.PointerEvent;\n    _placeholderDiv = _createElement(\"div\");\n    _placeholderDiv.style.cssText = \"visibility:hidden;height:1px;top:-1px;pointer-events:none;position:relative;clear:both;cursor:grab\";\n    _defaultCursor = _placeholderDiv.style.cursor === \"grab\" ? \"grab\" : \"move\";\n    _isAndroid = nav && nav.userAgent.toLowerCase().indexOf(\"android\") !== -1; //Android handles touch events in an odd way and it's virtually impossible to \"feature test\" so we resort to UA sniffing\n\n    _isTouchDevice = \"ontouchstart\" in _docElement && \"orientation\" in _win || nav && (nav.MaxTouchPoints > 0 || nav.msMaxTouchPoints > 0);\n\n    _addPaddingBR = function () {\n      //this function is in charge of analyzing browser behavior related to padding. It sets the _addPaddingBR to true if the browser doesn't normally factor in the bottom or right padding on the element inside the scrolling area, and it sets _addPaddingLeft to true if it's a browser that requires the extra offset (offsetLeft) to be added to the paddingRight (like Opera).\n      var div = _createElement(\"div\"),\n          child = _createElement(\"div\"),\n          childStyle = child.style,\n          parent = _body,\n          val;\n\n      childStyle.display = \"inline-block\";\n      childStyle.position = \"relative\";\n      div.style.cssText = child.innerHTML = \"width:90px;height:40px;padding:10px;overflow:auto;visibility:hidden\";\n      div.appendChild(child);\n      parent.appendChild(div);\n      val = child.offsetHeight + 18 > div.scrollHeight; //div.scrollHeight should be child.offsetHeight + 20 because of the 10px of padding on each side, but some browsers ignore one side. We allow a 2px margin of error.\n\n      parent.removeChild(div);\n      return val;\n    }();\n\n    _touchEventLookup = function (types) {\n      //we create an object that makes it easy to translate touch event types into their \"pointer\" counterparts if we're in a browser that uses those instead. Like IE10 uses \"MSPointerDown\" instead of \"touchstart\", for example.\n      var standard = types.split(\",\"),\n          converted = (\"onpointerdown\" in _tempDiv ? \"pointerdown,pointermove,pointerup,pointercancel\" : \"onmspointerdown\" in _tempDiv ? \"MSPointerDown,MSPointerMove,MSPointerUp,MSPointerCancel\" : types).split(\",\"),\n          obj = {},\n          i = 4;\n\n      while (--i > -1) {\n        obj[standard[i]] = converted[i];\n        obj[converted[i]] = standard[i];\n      } //to avoid problems in iOS 9, test to see if the browser supports the \"passive\" option on addEventListener().\n\n\n      try {\n        _docElement.addEventListener(\"test\", null, Object.defineProperty({}, \"passive\", {\n          get: function get() {\n            _supportsPassive = 1;\n          }\n        }));\n      } catch (e) {}\n\n      return obj;\n    }(\"touchstart,touchmove,touchend,touchcancel\");\n\n    _addListener(_doc, \"touchcancel\", _emptyFunc); //some older Android devices intermittently stop dispatching \"touchmove\" events if we don't listen for \"touchcancel\" on the document. Very strange indeed.\n\n\n    _addListener(_win, \"touchmove\", _emptyFunc); //works around Safari bugs that still allow the page to scroll even when we preventDefault() on the touchmove event.\n\n\n    _body && _body.addEventListener(\"touchstart\", _emptyFunc); //works around Safari bug: https://greensock.com/forums/topic/21450-draggable-in-iframe-on-mobile-is-buggy/\n\n    _addListener(_doc, \"contextmenu\", function () {\n      for (var p in _lookup) {\n        if (_lookup[p].isPressed) {\n          _lookup[p].endDrag();\n        }\n      }\n    });\n\n    gsap = _coreInitted = _getGSAP();\n  }\n\n  if (gsap) {\n    InertiaPlugin = gsap.plugins.inertia;\n    _checkPrefix = gsap.utils.checkPrefix;\n    _transformProp = _checkPrefix(_transformProp);\n    _transformOriginProp = _checkPrefix(_transformOriginProp);\n    _toArray = gsap.utils.toArray;\n    _supports3D = !!_checkPrefix(\"perspective\");\n  } else if (required) {\n    console.warn(\"Please gsap.registerPlugin(Draggable)\");\n  }\n};\n\nvar EventDispatcher = /*#__PURE__*/function () {\n  function EventDispatcher(target) {\n    this._listeners = {};\n    this.target = target || this;\n  }\n\n  var _proto = EventDispatcher.prototype;\n\n  _proto.addEventListener = function addEventListener(type, callback) {\n    var list = this._listeners[type] || (this._listeners[type] = []);\n\n    if (!~list.indexOf(callback)) {\n      list.push(callback);\n    }\n  };\n\n  _proto.removeEventListener = function removeEventListener(type, callback) {\n    var list = this._listeners[type],\n        i = list && list.indexOf(callback) || -1;\n    i > -1 && list.splice(i, 1);\n  };\n\n  _proto.dispatchEvent = function dispatchEvent(type) {\n    var _this = this;\n\n    var result;\n    (this._listeners[type] || []).forEach(function (callback) {\n      return callback.call(_this, {\n        type: type,\n        target: _this.target\n      }) === false && (result = false);\n    });\n    return result; //if any of the callbacks return false, pass that along.\n  };\n\n  return EventDispatcher;\n}();\n\nexport var Draggable = /*#__PURE__*/function (_EventDispatcher) {\n  _inheritsLoose(Draggable, _EventDispatcher);\n\n  function Draggable(target, vars) {\n    var _this2;\n\n    _this2 = _EventDispatcher.call(this) || this;\n    _coreInitted || _initCore(1);\n    target = _toArray(target)[0]; //in case the target is a selector object or selector text\n\n    if (!InertiaPlugin) {\n      InertiaPlugin = gsap.plugins.inertia;\n    }\n\n    _this2.vars = vars = _copy(vars || {});\n    _this2.target = target;\n    _this2.x = _this2.y = _this2.rotation = 0;\n    _this2.dragResistance = parseFloat(vars.dragResistance) || 0;\n    _this2.edgeResistance = isNaN(vars.edgeResistance) ? 1 : parseFloat(vars.edgeResistance) || 0;\n    _this2.lockAxis = vars.lockAxis;\n    _this2.autoScroll = vars.autoScroll || 0;\n    _this2.lockedAxis = null;\n    _this2.allowEventDefault = !!vars.allowEventDefault;\n    gsap.getProperty(target, \"x\"); // to ensure that transforms are instantiated.\n\n    var type = (vars.type || \"x,y\").toLowerCase(),\n        xyMode = ~type.indexOf(\"x\") || ~type.indexOf(\"y\"),\n        rotationMode = type.indexOf(\"rotation\") !== -1,\n        xProp = rotationMode ? \"rotation\" : xyMode ? \"x\" : \"left\",\n        yProp = xyMode ? \"y\" : \"top\",\n        allowX = !!(~type.indexOf(\"x\") || ~type.indexOf(\"left\") || type === \"scroll\"),\n        allowY = !!(~type.indexOf(\"y\") || ~type.indexOf(\"top\") || type === \"scroll\"),\n        minimumMovement = vars.minimumMovement || 2,\n        self = _assertThisInitialized(_this2),\n        triggers = _toArray(vars.trigger || vars.handle || target),\n        killProps = {},\n        dragEndTime = 0,\n        checkAutoScrollBounds = false,\n        autoScrollMarginTop = vars.autoScrollMarginTop || 40,\n        autoScrollMarginRight = vars.autoScrollMarginRight || 40,\n        autoScrollMarginBottom = vars.autoScrollMarginBottom || 40,\n        autoScrollMarginLeft = vars.autoScrollMarginLeft || 40,\n        isClickable = vars.clickableTest || _isClickable,\n        clickTime = 0,\n        gsCache = target._gsap || gsap.core.getCache(target),\n        isFixed = _isFixed(target),\n        getPropAsNum = function getPropAsNum(property, unit) {\n      return parseFloat(gsCache.get(target, property, unit));\n    },\n        ownerDoc = target.ownerDocument || _doc,\n        enabled,\n        scrollProxy,\n        startPointerX,\n        startPointerY,\n        startElementX,\n        startElementY,\n        hasBounds,\n        hasDragCallback,\n        hasMoveCallback,\n        maxX,\n        minX,\n        maxY,\n        minY,\n        touch,\n        touchID,\n        rotationOrigin,\n        dirty,\n        old,\n        snapX,\n        snapY,\n        snapXY,\n        isClicking,\n        touchEventTarget,\n        matrix,\n        interrupted,\n        allowNativeTouchScrolling,\n        touchDragAxis,\n        isDispatching,\n        clickDispatch,\n        trustedClickDispatch,\n        isPreventingDefault,\n        onContextMenu = function onContextMenu(e) {\n      //used to prevent long-touch from triggering a context menu.\n      // (self.isPressed && e.which < 2) && self.endDrag() // previously ended drag when context menu was triggered, but instead we should just stop propagation and prevent the default event behavior.\n      _preventDefault(e);\n\n      e.stopImmediatePropagation && e.stopImmediatePropagation();\n      return false;\n    },\n        //this method gets called on every tick of TweenLite.ticker which allows us to synchronize the renders to the core engine (which is typically synchronized with the display refresh via requestAnimationFrame). This is an optimization - it's better than applying the values inside the \"mousemove\" or \"touchmove\" event handler which may get called many times inbetween refreshes.\n    render = function render(suppressEvents) {\n      if (self.autoScroll && self.isDragging && (checkAutoScrollBounds || dirty)) {\n        var e = target,\n            autoScrollFactor = self.autoScroll * 15,\n            //multiplying by 15 just gives us a better \"feel\" speed-wise.\n        parent,\n            isRoot,\n            rect,\n            pointerX,\n            pointerY,\n            changeX,\n            changeY,\n            gap;\n        checkAutoScrollBounds = false;\n        _windowProxy.scrollTop = _win.pageYOffset != null ? _win.pageYOffset : ownerDoc.documentElement.scrollTop != null ? ownerDoc.documentElement.scrollTop : ownerDoc.body.scrollTop;\n        _windowProxy.scrollLeft = _win.pageXOffset != null ? _win.pageXOffset : ownerDoc.documentElement.scrollLeft != null ? ownerDoc.documentElement.scrollLeft : ownerDoc.body.scrollLeft;\n        pointerX = self.pointerX - _windowProxy.scrollLeft;\n        pointerY = self.pointerY - _windowProxy.scrollTop;\n\n        while (e && !isRoot) {\n          //walk up the chain and sense wherever the pointer is within 40px of an edge that's scrollable.\n          isRoot = _isRoot(e.parentNode);\n          parent = isRoot ? _windowProxy : e.parentNode;\n          rect = isRoot ? {\n            bottom: Math.max(_docElement.clientHeight, _win.innerHeight || 0),\n            right: Math.max(_docElement.clientWidth, _win.innerWidth || 0),\n            left: 0,\n            top: 0\n          } : parent.getBoundingClientRect();\n          changeX = changeY = 0;\n\n          if (allowY) {\n            gap = parent._gsMaxScrollY - parent.scrollTop;\n\n            if (gap < 0) {\n              changeY = gap;\n            } else if (pointerY > rect.bottom - autoScrollMarginBottom && gap) {\n              checkAutoScrollBounds = true;\n              changeY = Math.min(gap, autoScrollFactor * (1 - Math.max(0, rect.bottom - pointerY) / autoScrollMarginBottom) | 0);\n            } else if (pointerY < rect.top + autoScrollMarginTop && parent.scrollTop) {\n              checkAutoScrollBounds = true;\n              changeY = -Math.min(parent.scrollTop, autoScrollFactor * (1 - Math.max(0, pointerY - rect.top) / autoScrollMarginTop) | 0);\n            }\n\n            if (changeY) {\n              parent.scrollTop += changeY;\n            }\n          }\n\n          if (allowX) {\n            gap = parent._gsMaxScrollX - parent.scrollLeft;\n\n            if (gap < 0) {\n              changeX = gap;\n            } else if (pointerX > rect.right - autoScrollMarginRight && gap) {\n              checkAutoScrollBounds = true;\n              changeX = Math.min(gap, autoScrollFactor * (1 - Math.max(0, rect.right - pointerX) / autoScrollMarginRight) | 0);\n            } else if (pointerX < rect.left + autoScrollMarginLeft && parent.scrollLeft) {\n              checkAutoScrollBounds = true;\n              changeX = -Math.min(parent.scrollLeft, autoScrollFactor * (1 - Math.max(0, pointerX - rect.left) / autoScrollMarginLeft) | 0);\n            }\n\n            if (changeX) {\n              parent.scrollLeft += changeX;\n            }\n          }\n\n          if (isRoot && (changeX || changeY)) {\n            _win.scrollTo(parent.scrollLeft, parent.scrollTop);\n\n            setPointerPosition(self.pointerX + changeX, self.pointerY + changeY);\n          }\n\n          e = parent;\n        }\n      }\n\n      if (dirty) {\n        var x = self.x,\n            y = self.y;\n\n        if (rotationMode) {\n          self.deltaX = x - parseFloat(gsCache.rotation);\n          self.rotation = x;\n          gsCache.rotation = x + \"deg\";\n          gsCache.renderTransform(1, gsCache);\n        } else {\n          if (scrollProxy) {\n            if (allowY) {\n              self.deltaY = y - scrollProxy.top();\n              scrollProxy.top(y);\n            }\n\n            if (allowX) {\n              self.deltaX = x - scrollProxy.left();\n              scrollProxy.left(x);\n            }\n          } else if (xyMode) {\n            if (allowY) {\n              self.deltaY = y - parseFloat(gsCache.y);\n              gsCache.y = y + \"px\";\n            }\n\n            if (allowX) {\n              self.deltaX = x - parseFloat(gsCache.x);\n              gsCache.x = x + \"px\";\n            }\n\n            gsCache.renderTransform(1, gsCache);\n          } else {\n            if (allowY) {\n              self.deltaY = y - parseFloat(target.style.top || 0);\n              target.style.top = y + \"px\";\n            }\n\n            if (allowX) {\n              self.deltaX = x - parseFloat(target.style.left || 0);\n              target.style.left = x + \"px\";\n            }\n          }\n        }\n\n        if (hasDragCallback && !suppressEvents && !isDispatching) {\n          isDispatching = true; //in case onDrag has an update() call (avoid endless loop)\n\n          if (_dispatchEvent(self, \"drag\", \"onDrag\") === false) {\n            if (allowX) {\n              self.x -= self.deltaX;\n            }\n\n            if (allowY) {\n              self.y -= self.deltaY;\n            }\n\n            render(true);\n          }\n\n          isDispatching = false;\n        }\n      }\n\n      dirty = false;\n    },\n        //copies the x/y from the element (whether that be transforms, top/left, or ScrollProxy's top/left) to the Draggable's x and y (and rotation if necessary) properties so that they reflect reality and it also (optionally) applies any snapping necessary. This is used by the InertiaPlugin tween in an onUpdate to ensure things are synced and snapped.\n    syncXY = function syncXY(skipOnUpdate, skipSnap) {\n      var x = self.x,\n          y = self.y,\n          snappedValue,\n          cs;\n\n      if (!target._gsap) {\n        //just in case the _gsap cache got wiped, like if the user called clearProps on the transform or something (very rare).\n        gsCache = gsap.core.getCache(target);\n      }\n\n      gsCache.uncache && gsap.getProperty(target, \"x\"); // trigger a re-cache\n\n      if (xyMode) {\n        self.x = parseFloat(gsCache.x);\n        self.y = parseFloat(gsCache.y);\n      } else if (rotationMode) {\n        self.x = self.rotation = parseFloat(gsCache.rotation);\n      } else if (scrollProxy) {\n        self.y = scrollProxy.top();\n        self.x = scrollProxy.left();\n      } else {\n        self.y = parseFloat(target.style.top || (cs = _getComputedStyle(target)) && cs.top) || 0;\n        self.x = parseFloat(target.style.left || (cs || {}).left) || 0;\n      }\n\n      if ((snapX || snapY || snapXY) && !skipSnap && (self.isDragging || self.isThrowing)) {\n        if (snapXY) {\n          _temp1.x = self.x;\n          _temp1.y = self.y;\n          snappedValue = snapXY(_temp1);\n\n          if (snappedValue.x !== self.x) {\n            self.x = snappedValue.x;\n            dirty = true;\n          }\n\n          if (snappedValue.y !== self.y) {\n            self.y = snappedValue.y;\n            dirty = true;\n          }\n        }\n\n        if (snapX) {\n          snappedValue = snapX(self.x);\n\n          if (snappedValue !== self.x) {\n            self.x = snappedValue;\n\n            if (rotationMode) {\n              self.rotation = snappedValue;\n            }\n\n            dirty = true;\n          }\n        }\n\n        if (snapY) {\n          snappedValue = snapY(self.y);\n\n          if (snappedValue !== self.y) {\n            self.y = snappedValue;\n          }\n\n          dirty = true;\n        }\n      }\n\n      dirty && render(true);\n\n      if (!skipOnUpdate) {\n        self.deltaX = self.x - x;\n        self.deltaY = self.y - y;\n\n        _dispatchEvent(self, \"throwupdate\", \"onThrowUpdate\");\n      }\n    },\n        buildSnapFunc = function buildSnapFunc(snap, min, max, factor) {\n      if (min == null) {\n        min = -_bigNum;\n      }\n\n      if (max == null) {\n        max = _bigNum;\n      }\n\n      if (_isFunction(snap)) {\n        return function (n) {\n          var edgeTolerance = !self.isPressed ? 1 : 1 - self.edgeResistance; //if we're tweening, disable the edgeTolerance because it's already factored into the tweening values (we don't want to apply it multiple times)\n\n          return snap.call(self, n > max ? max + (n - max) * edgeTolerance : n < min ? min + (n - min) * edgeTolerance : n) * factor;\n        };\n      }\n\n      if (_isArray(snap)) {\n        return function (n) {\n          var i = snap.length,\n              closest = 0,\n              absDif = _bigNum,\n              val,\n              dif;\n\n          while (--i > -1) {\n            val = snap[i];\n            dif = val - n;\n\n            if (dif < 0) {\n              dif = -dif;\n            }\n\n            if (dif < absDif && val >= min && val <= max) {\n              closest = i;\n              absDif = dif;\n            }\n          }\n\n          return snap[closest];\n        };\n      }\n\n      return isNaN(snap) ? function (n) {\n        return n;\n      } : function () {\n        return snap * factor;\n      };\n    },\n        buildPointSnapFunc = function buildPointSnapFunc(snap, minX, maxX, minY, maxY, radius, factor) {\n      radius = radius && radius < _bigNum ? radius * radius : _bigNum; //so we don't have to Math.sqrt() in the functions. Performance optimization.\n\n      if (_isFunction(snap)) {\n        return function (point) {\n          var edgeTolerance = !self.isPressed ? 1 : 1 - self.edgeResistance,\n              x = point.x,\n              y = point.y,\n              result,\n              dx,\n              dy; //if we're tweening, disable the edgeTolerance because it's already factored into the tweening values (we don't want to apply it multiple times)\n\n          point.x = x = x > maxX ? maxX + (x - maxX) * edgeTolerance : x < minX ? minX + (x - minX) * edgeTolerance : x;\n          point.y = y = y > maxY ? maxY + (y - maxY) * edgeTolerance : y < minY ? minY + (y - minY) * edgeTolerance : y;\n          result = snap.call(self, point);\n\n          if (result !== point) {\n            point.x = result.x;\n            point.y = result.y;\n          }\n\n          if (factor !== 1) {\n            point.x *= factor;\n            point.y *= factor;\n          }\n\n          if (radius < _bigNum) {\n            dx = point.x - x;\n            dy = point.y - y;\n\n            if (dx * dx + dy * dy > radius) {\n              point.x = x;\n              point.y = y;\n            }\n          }\n\n          return point;\n        };\n      }\n\n      if (_isArray(snap)) {\n        return function (p) {\n          var i = snap.length,\n              closest = 0,\n              minDist = _bigNum,\n              x,\n              y,\n              point,\n              dist;\n\n          while (--i > -1) {\n            point = snap[i];\n            x = point.x - p.x;\n            y = point.y - p.y;\n            dist = x * x + y * y;\n\n            if (dist < minDist) {\n              closest = i;\n              minDist = dist;\n            }\n          }\n\n          return minDist <= radius ? snap[closest] : p;\n        };\n      }\n\n      return function (n) {\n        return n;\n      };\n    },\n        calculateBounds = function calculateBounds() {\n      var bounds, targetBounds, snap, snapIsRaw;\n      hasBounds = false;\n\n      if (scrollProxy) {\n        scrollProxy.calibrate();\n        self.minX = minX = -scrollProxy.maxScrollLeft();\n        self.minY = minY = -scrollProxy.maxScrollTop();\n        self.maxX = maxX = self.maxY = maxY = 0;\n        hasBounds = true;\n      } else if (!!vars.bounds) {\n        bounds = _getBounds(vars.bounds, target.parentNode); //could be a selector/jQuery object or a DOM element or a generic object like {top:0, left:100, width:1000, height:800} or {minX:100, maxX:1100, minY:0, maxY:800}\n\n        if (rotationMode) {\n          self.minX = minX = bounds.left;\n          self.maxX = maxX = bounds.left + bounds.width;\n          self.minY = minY = self.maxY = maxY = 0;\n        } else if (!_isUndefined(vars.bounds.maxX) || !_isUndefined(vars.bounds.maxY)) {\n          bounds = vars.bounds;\n          self.minX = minX = bounds.minX;\n          self.minY = minY = bounds.minY;\n          self.maxX = maxX = bounds.maxX;\n          self.maxY = maxY = bounds.maxY;\n        } else {\n          targetBounds = _getBounds(target, target.parentNode);\n          self.minX = minX = Math.round(getPropAsNum(xProp, \"px\") + bounds.left - targetBounds.left - 0.5);\n          self.minY = minY = Math.round(getPropAsNum(yProp, \"px\") + bounds.top - targetBounds.top - 0.5);\n          self.maxX = maxX = Math.round(minX + (bounds.width - targetBounds.width));\n          self.maxY = maxY = Math.round(minY + (bounds.height - targetBounds.height));\n        }\n\n        if (minX > maxX) {\n          self.minX = maxX;\n          self.maxX = maxX = minX;\n          minX = self.minX;\n        }\n\n        if (minY > maxY) {\n          self.minY = maxY;\n          self.maxY = maxY = minY;\n          minY = self.minY;\n        }\n\n        if (rotationMode) {\n          self.minRotation = minX;\n          self.maxRotation = maxX;\n        }\n\n        hasBounds = true;\n      }\n\n      if (vars.liveSnap) {\n        snap = vars.liveSnap === true ? vars.snap || {} : vars.liveSnap;\n        snapIsRaw = _isArray(snap) || _isFunction(snap);\n\n        if (rotationMode) {\n          snapX = buildSnapFunc(snapIsRaw ? snap : snap.rotation, minX, maxX, 1);\n          snapY = null;\n        } else {\n          if (snap.points) {\n            snapXY = buildPointSnapFunc(snapIsRaw ? snap : snap.points, minX, maxX, minY, maxY, snap.radius, scrollProxy ? -1 : 1);\n          } else {\n            if (allowX) {\n              snapX = buildSnapFunc(snapIsRaw ? snap : snap.x || snap.left || snap.scrollLeft, minX, maxX, scrollProxy ? -1 : 1);\n            }\n\n            if (allowY) {\n              snapY = buildSnapFunc(snapIsRaw ? snap : snap.y || snap.top || snap.scrollTop, minY, maxY, scrollProxy ? -1 : 1);\n            }\n          }\n        }\n      }\n    },\n        onThrowComplete = function onThrowComplete() {\n      self.isThrowing = false;\n\n      _dispatchEvent(self, \"throwcomplete\", \"onThrowComplete\");\n    },\n        onThrowInterrupt = function onThrowInterrupt() {\n      self.isThrowing = false;\n    },\n        animate = function animate(inertia, forceZeroVelocity) {\n      var snap, snapIsRaw, tween, overshootTolerance;\n\n      if (inertia && InertiaPlugin) {\n        if (inertia === true) {\n          snap = vars.snap || vars.liveSnap || {};\n          snapIsRaw = _isArray(snap) || _isFunction(snap);\n          inertia = {\n            resistance: (vars.throwResistance || vars.resistance || 1000) / (rotationMode ? 10 : 1)\n          };\n\n          if (rotationMode) {\n            inertia.rotation = _parseInertia(self, snapIsRaw ? snap : snap.rotation, maxX, minX, 1, forceZeroVelocity);\n          } else {\n            if (allowX) {\n              inertia[xProp] = _parseInertia(self, snapIsRaw ? snap : snap.points || snap.x || snap.left, maxX, minX, scrollProxy ? -1 : 1, forceZeroVelocity || self.lockedAxis === \"x\");\n            }\n\n            if (allowY) {\n              inertia[yProp] = _parseInertia(self, snapIsRaw ? snap : snap.points || snap.y || snap.top, maxY, minY, scrollProxy ? -1 : 1, forceZeroVelocity || self.lockedAxis === \"y\");\n            }\n\n            if (snap.points || _isArray(snap) && _isObject(snap[0])) {\n              inertia.linkedProps = xProp + \",\" + yProp;\n              inertia.radius = snap.radius; //note: we also disable liveSnapping while throwing if there's a \"radius\" defined, otherwise it looks weird to have the item thrown past a snapping point but live-snapping mid-tween. We do this by altering the onUpdateParams so that \"skipSnap\" parameter is true for syncXY.\n            }\n          }\n        }\n\n        self.isThrowing = true;\n        overshootTolerance = !isNaN(vars.overshootTolerance) ? vars.overshootTolerance : vars.edgeResistance === 1 ? 0 : 1 - self.edgeResistance + 0.2;\n\n        if (!inertia.duration) {\n          inertia.duration = {\n            max: Math.max(vars.minDuration || 0, \"maxDuration\" in vars ? vars.maxDuration : 2),\n            min: !isNaN(vars.minDuration) ? vars.minDuration : overshootTolerance === 0 || _isObject(inertia) && inertia.resistance > 1000 ? 0 : 0.5,\n            overshoot: overshootTolerance\n          };\n        }\n\n        self.tween = tween = gsap.to(scrollProxy || target, {\n          inertia: inertia,\n          data: \"_draggable\",\n          onComplete: onThrowComplete,\n          onInterrupt: onThrowInterrupt,\n          onUpdate: vars.fastMode ? _dispatchEvent : syncXY,\n          onUpdateParams: vars.fastMode ? [self, \"onthrowupdate\", \"onThrowUpdate\"] : snap && snap.radius ? [false, true] : []\n        });\n\n        if (!vars.fastMode) {\n          if (scrollProxy) {\n            scrollProxy._skip = true; // Microsoft browsers have a bug that causes them to briefly render the position incorrectly (it flashes to the end state when we seek() the tween even though we jump right back to the current position, and this only seems to happen when we're affecting both top and left), so we set a _suspendTransforms flag to prevent it from actually applying the values in the ScrollProxy.\n          }\n\n          tween.render(1e9, true, true); // force to the end. Remember, the duration will likely change upon initting because that's when InertiaPlugin calculates it.\n\n          syncXY(true, true);\n          self.endX = self.x;\n          self.endY = self.y;\n\n          if (rotationMode) {\n            self.endRotation = self.x;\n          }\n\n          tween.play(0);\n          syncXY(true, true);\n\n          if (scrollProxy) {\n            scrollProxy._skip = false; //Microsoft browsers have a bug that causes them to briefly render the position incorrectly (it flashes to the end state when we seek() the tween even though we jump right back to the current position, and this only seems to happen when we're affecting both top and left), so we set a _suspendTransforms flag to prevent it from actually applying the values in the ScrollProxy.\n          }\n        }\n      } else if (hasBounds) {\n        self.applyBounds();\n      }\n    },\n        updateMatrix = function updateMatrix(shiftStart) {\n      var start = matrix,\n          p;\n      matrix = getGlobalMatrix(target.parentNode, true);\n\n      if (shiftStart && self.isPressed && !matrix.equals(start || new Matrix2D())) {\n        //if the matrix changes WHILE the element is pressed, we must adjust the startPointerX and startPointerY accordingly, so we invert the original matrix and figure out where the pointerX and pointerY were in the global space, then apply the new matrix to get the updated coordinates.\n        p = start.inverse().apply({\n          x: startPointerX,\n          y: startPointerY\n        });\n        matrix.apply(p, p);\n        startPointerX = p.x;\n        startPointerY = p.y;\n      }\n\n      if (matrix.equals(_identityMatrix)) {\n        //if there are no transforms, we can optimize performance by not factoring in the matrix\n        matrix = null;\n      }\n    },\n        recordStartPositions = function recordStartPositions() {\n      var edgeTolerance = 1 - self.edgeResistance,\n          offsetX = isFixed ? _getDocScrollLeft(ownerDoc) : 0,\n          offsetY = isFixed ? _getDocScrollTop(ownerDoc) : 0,\n          parsedOrigin,\n          x,\n          y;\n      updateMatrix(false);\n      _point1.x = self.pointerX - offsetX;\n      _point1.y = self.pointerY - offsetY;\n      matrix && matrix.apply(_point1, _point1);\n      startPointerX = _point1.x; //translate to local coordinate system\n\n      startPointerY = _point1.y;\n\n      if (dirty) {\n        setPointerPosition(self.pointerX, self.pointerY);\n        render(true);\n      }\n\n      if (scrollProxy) {\n        calculateBounds();\n        startElementY = scrollProxy.top();\n        startElementX = scrollProxy.left();\n      } else {\n        //if the element is in the process of tweening, don't force snapping to occur because it could make it jump. Imagine the user throwing, then before it's done, clicking on the element in its inbetween state.\n        if (isTweening()) {\n          syncXY(true, true);\n          calculateBounds();\n        } else {\n          self.applyBounds();\n        }\n\n        if (rotationMode) {\n          parsedOrigin = target.ownerSVGElement ? [gsCache.xOrigin - target.getBBox().x, gsCache.yOrigin - target.getBBox().y] : (_getComputedStyle(target)[_transformOriginProp] || \"0 0\").split(\" \");\n          rotationOrigin = self.rotationOrigin = getGlobalMatrix(target).apply({\n            x: parseFloat(parsedOrigin[0]) || 0,\n            y: parseFloat(parsedOrigin[1]) || 0\n          });\n          syncXY(true, true);\n          x = self.pointerX - rotationOrigin.x - offsetX;\n          y = rotationOrigin.y - self.pointerY + offsetY;\n          startElementX = self.x; //starting rotation (x always refers to rotation in type:\"rotation\", measured in degrees)\n\n          startElementY = self.y = Math.atan2(y, x) * _RAD2DEG;\n        } else {\n          //parent = !isFixed && target.parentNode;\n          //startScrollTop = parent ? parent.scrollTop || 0 : 0;\n          //startScrollLeft = parent ? parent.scrollLeft || 0 : 0;\n          startElementY = getPropAsNum(yProp, \"px\"); //record the starting top and left values so that we can just add the mouse's movement to them later.\n\n          startElementX = getPropAsNum(xProp, \"px\");\n        }\n      }\n\n      if (hasBounds && edgeTolerance) {\n        if (startElementX > maxX) {\n          startElementX = maxX + (startElementX - maxX) / edgeTolerance;\n        } else if (startElementX < minX) {\n          startElementX = minX - (minX - startElementX) / edgeTolerance;\n        }\n\n        if (!rotationMode) {\n          if (startElementY > maxY) {\n            startElementY = maxY + (startElementY - maxY) / edgeTolerance;\n          } else if (startElementY < minY) {\n            startElementY = minY - (minY - startElementY) / edgeTolerance;\n          }\n        }\n      }\n\n      self.startX = startElementX = _round(startElementX);\n      self.startY = startElementY = _round(startElementY);\n    },\n        isTweening = function isTweening() {\n      return self.tween && self.tween.isActive();\n    },\n        removePlaceholder = function removePlaceholder() {\n      if (_placeholderDiv.parentNode && !isTweening() && !self.isDragging) {\n        //_placeholderDiv just props open auto-scrolling containers so they don't collapse as the user drags left/up. We remove it after dragging (and throwing, if necessary) finishes.\n        _placeholderDiv.parentNode.removeChild(_placeholderDiv);\n      }\n    },\n        //called when the mouse is pressed (or touch starts)\n    onPress = function onPress(e, force) {\n      var i;\n\n      if (!enabled || self.isPressed || !e || (e.type === \"mousedown\" || e.type === \"pointerdown\") && !force && _getTime() - clickTime < 30 && _touchEventLookup[self.pointerEvent.type]) {\n        //when we DON'T preventDefault() in order to accommodate touch-scrolling and the user just taps, many browsers also fire a mousedown/mouseup sequence AFTER the touchstart/touchend sequence, thus it'd result in two quick \"click\" events being dispatched. This line senses that condition and halts it on the subsequent mousedown.\n        isPreventingDefault && e && enabled && _preventDefault(e); // in some browsers, we must listen for multiple event types like touchstart, pointerdown, mousedown. The first time this function is called, we record whether or not we _preventDefault() so that on duplicate calls, we can do the same if necessary.\n\n        return;\n      }\n\n      interrupted = isTweening();\n      self.pointerEvent = e;\n\n      if (_touchEventLookup[e.type]) {\n        //note: on iOS, BOTH touchmove and mousemove are dispatched, but the mousemove has pageY and pageX of 0 which would mess up the calculations and needlessly hurt performance.\n        touchEventTarget = ~e.type.indexOf(\"touch\") ? e.currentTarget || e.target : ownerDoc; //pointer-based touches (for Microsoft browsers) don't remain locked to the original target like other browsers, so we must use the document instead. The event type would be \"MSPointerDown\" or \"pointerdown\".\n\n        _addListener(touchEventTarget, \"touchend\", onRelease);\n\n        _addListener(touchEventTarget, \"touchmove\", onMove);\n\n        _addListener(touchEventTarget, \"touchcancel\", onRelease);\n\n        _addListener(ownerDoc, \"touchstart\", _onMultiTouchDocument);\n      } else {\n        touchEventTarget = null;\n\n        _addListener(ownerDoc, \"mousemove\", onMove); //attach these to the document instead of the box itself so that if the user's mouse moves too quickly (and off of the box), things still work.\n\n      }\n\n      touchDragAxis = null;\n\n      if (!_supportsPointer || !touchEventTarget) {\n        _addListener(ownerDoc, \"mouseup\", onRelease);\n\n        e && e.target && _addListener(e.target, \"mouseup\", onRelease); //we also have to listen directly on the element because some browsers don't bubble up the event to the _doc on elements with contentEditable=\"true\"\n      }\n\n      isClicking = isClickable.call(self, e.target) && vars.dragClickables === false && !force;\n\n      if (isClicking) {\n        _addListener(e.target, \"change\", onRelease); //in some browsers, when you mousedown on a <select> element, no mouseup gets dispatched! So we listen for a \"change\" event instead.\n\n\n        _dispatchEvent(self, \"pressInit\", \"onPressInit\");\n\n        _dispatchEvent(self, \"press\", \"onPress\");\n\n        _setSelectable(triggers, true); //accommodates things like inputs and elements with contentEditable=\"true\" (otherwise user couldn't drag to select text)\n\n\n        isPreventingDefault = false;\n        return;\n      }\n\n      allowNativeTouchScrolling = !touchEventTarget || allowX === allowY || self.vars.allowNativeTouchScrolling === false || self.vars.allowContextMenu && e && (e.ctrlKey || e.which > 2) ? false : allowX ? \"y\" : \"x\"; //note: in Chrome, right-clicking (for a context menu) fires onPress and it doesn't have the event.which set properly, so we must look for event.ctrlKey. If the user wants to allow context menus we should of course sense it here and not allow native touch scrolling.\n\n      isPreventingDefault = !allowNativeTouchScrolling && !self.allowEventDefault;\n\n      if (isPreventingDefault) {\n        _preventDefault(e);\n\n        _addListener(_win, \"touchforcechange\", _preventDefault); //works around safari bug: https://greensock.com/forums/topic/21450-draggable-in-iframe-on-mobile-is-buggy/\n\n      }\n\n      if (e.changedTouches) {\n        //touch events store the data slightly differently\n        e = touch = e.changedTouches[0];\n        touchID = e.identifier;\n      } else if (e.pointerId) {\n        touchID = e.pointerId; //for some Microsoft browsers\n      } else {\n        touch = touchID = null;\n      }\n\n      _dragCount++;\n\n      _addToRenderQueue(render); //causes the Draggable to render on each \"tick\" of TweenLite.ticker (performance optimization - updating values in a mousemove can cause them to happen too frequently, like multiple times between frame redraws which is wasteful, and it also prevents values from updating properly in IE8)\n\n\n      startPointerY = self.pointerY = e.pageY; //record the starting x and y so that we can calculate the movement from the original in _onMouseMove\n\n      startPointerX = self.pointerX = e.pageX;\n\n      _dispatchEvent(self, \"pressInit\", \"onPressInit\");\n\n      if (allowNativeTouchScrolling || self.autoScroll) {\n        _recordMaxScrolls(target.parentNode);\n      }\n\n      if (target.parentNode && self.autoScroll && !scrollProxy && !rotationMode && target.parentNode._gsMaxScrollX && !_placeholderDiv.parentNode && !target.getBBox) {\n        //add a placeholder div to prevent the parent container from collapsing when the user drags the element left.\n        _placeholderDiv.style.width = target.parentNode.scrollWidth + \"px\";\n        target.parentNode.appendChild(_placeholderDiv);\n      }\n\n      recordStartPositions();\n      self.tween && self.tween.kill();\n      self.isThrowing = false;\n      gsap.killTweensOf(scrollProxy || target, killProps, true); //in case the user tries to drag it before the last tween is done.\n\n      scrollProxy && gsap.killTweensOf(target, {\n        scrollTo: 1\n      }, true); //just in case the original target's scroll position is being tweened somewhere else.\n\n      self.tween = self.lockedAxis = null;\n\n      if (vars.zIndexBoost || !rotationMode && !scrollProxy && vars.zIndexBoost !== false) {\n        target.style.zIndex = Draggable.zIndex++;\n      }\n\n      self.isPressed = true;\n      hasDragCallback = !!(vars.onDrag || self._listeners.drag);\n      hasMoveCallback = !!(vars.onMove || self._listeners.move);\n\n      if (vars.cursor !== false || vars.activeCursor) {\n        i = triggers.length;\n\n        while (--i > -1) {\n          gsap.set(triggers[i], {\n            cursor: vars.activeCursor || vars.cursor || (_defaultCursor === \"grab\" ? \"grabbing\" : _defaultCursor)\n          });\n        }\n      }\n\n      _dispatchEvent(self, \"press\", \"onPress\");\n    },\n        //called every time the mouse/touch moves\n    onMove = function onMove(e) {\n      var originalEvent = e,\n          touches,\n          pointerX,\n          pointerY,\n          i,\n          dx,\n          dy;\n\n      if (!enabled || _isMultiTouching || !self.isPressed || !e) {\n        isPreventingDefault && e && enabled && _preventDefault(e); // in some browsers, we must listen for multiple event types like touchmove, pointermove, mousemove. The first time this function is called, we record whether or not we _preventDefault() so that on duplicate calls, we can do the same if necessary.\n\n        return;\n      }\n\n      self.pointerEvent = e;\n      touches = e.changedTouches;\n\n      if (touches) {\n        //touch events store the data slightly differently\n        e = touches[0];\n\n        if (e !== touch && e.identifier !== touchID) {\n          //Usually changedTouches[0] will be what we're looking for, but in case it's not, look through the rest of the array...(and Android browsers don't reuse the event like iOS)\n          i = touches.length;\n\n          while (--i > -1 && (e = touches[i]).identifier !== touchID && e.target !== target) {} // Some Android devices dispatch a touchstart AND pointerdown initially, and then only pointermove thus the touchID may not match because it was grabbed from the touchstart event whereas the pointer event is the one that the browser dispatches for move, so if the event target matches this Draggable's target, let it through.\n\n\n          if (i < 0) {\n            return;\n          }\n        }\n      } else if (e.pointerId && touchID && e.pointerId !== touchID) {\n        //for some Microsoft browsers, we must attach the listener to the doc rather than the trigger so that when the finger moves outside the bounds of the trigger, things still work. So if the event we're receiving has a pointerId that doesn't match the touchID, ignore it (for multi-touch)\n        return;\n      }\n\n      if (touchEventTarget && allowNativeTouchScrolling && !touchDragAxis) {\n        //Android browsers force us to decide on the first \"touchmove\" event if we should allow the default (scrolling) behavior or preventDefault(). Otherwise, a \"touchcancel\" will be fired and then no \"touchmove\" or \"touchend\" will fire during the scrolling (no good).\n        _point1.x = e.pageX - (isFixed ? _getDocScrollLeft(ownerDoc) : 0);\n        _point1.y = e.pageY - (isFixed ? _getDocScrollTop(ownerDoc) : 0);\n        matrix && matrix.apply(_point1, _point1);\n        pointerX = _point1.x;\n        pointerY = _point1.y;\n        dx = Math.abs(pointerX - startPointerX);\n        dy = Math.abs(pointerY - startPointerY);\n\n        if (dx !== dy && (dx > minimumMovement || dy > minimumMovement) || _isAndroid && allowNativeTouchScrolling === touchDragAxis) {\n          touchDragAxis = dx > dy && allowX ? \"x\" : \"y\";\n\n          if (allowNativeTouchScrolling && touchDragAxis !== allowNativeTouchScrolling) {\n            _addListener(_win, \"touchforcechange\", _preventDefault); // prevents native touch scrolling from taking over if the user started dragging in the other direction in iOS Safari\n\n          }\n\n          if (self.vars.lockAxisOnTouchScroll !== false && allowX && allowY) {\n            self.lockedAxis = touchDragAxis === \"x\" ? \"y\" : \"x\";\n            _isFunction(self.vars.onLockAxis) && self.vars.onLockAxis.call(self, originalEvent);\n          }\n\n          if (_isAndroid && allowNativeTouchScrolling === touchDragAxis) {\n            onRelease(originalEvent);\n            return;\n          }\n        }\n      }\n\n      if (!self.allowEventDefault && (!allowNativeTouchScrolling || touchDragAxis && allowNativeTouchScrolling !== touchDragAxis) && originalEvent.cancelable !== false) {\n        _preventDefault(originalEvent);\n\n        isPreventingDefault = true;\n      } else if (isPreventingDefault) {\n        isPreventingDefault = false;\n      }\n\n      if (self.autoScroll) {\n        checkAutoScrollBounds = true;\n      }\n\n      setPointerPosition(e.pageX, e.pageY, hasMoveCallback);\n    },\n        setPointerPosition = function setPointerPosition(pointerX, pointerY, invokeOnMove) {\n      var dragTolerance = 1 - self.dragResistance,\n          edgeTolerance = 1 - self.edgeResistance,\n          prevPointerX = self.pointerX,\n          prevPointerY = self.pointerY,\n          prevStartElementY = startElementY,\n          prevX = self.x,\n          prevY = self.y,\n          prevEndX = self.endX,\n          prevEndY = self.endY,\n          prevEndRotation = self.endRotation,\n          prevDirty = dirty,\n          xChange,\n          yChange,\n          x,\n          y,\n          dif,\n          temp;\n      self.pointerX = pointerX;\n      self.pointerY = pointerY;\n\n      if (isFixed) {\n        pointerX -= _getDocScrollLeft(ownerDoc);\n        pointerY -= _getDocScrollTop(ownerDoc);\n      }\n\n      if (rotationMode) {\n        y = Math.atan2(rotationOrigin.y - pointerY, pointerX - rotationOrigin.x) * _RAD2DEG;\n        dif = self.y - y;\n\n        if (dif > 180) {\n          startElementY -= 360;\n          self.y = y;\n        } else if (dif < -180) {\n          startElementY += 360;\n          self.y = y;\n        }\n\n        if (self.x !== startElementX || Math.abs(startElementY - y) > minimumMovement) {\n          self.y = y;\n          x = startElementX + (startElementY - y) * dragTolerance;\n        } else {\n          x = startElementX;\n        }\n      } else {\n        if (matrix) {\n          temp = pointerX * matrix.a + pointerY * matrix.c + matrix.e;\n          pointerY = pointerX * matrix.b + pointerY * matrix.d + matrix.f;\n          pointerX = temp;\n        }\n\n        yChange = pointerY - startPointerY;\n        xChange = pointerX - startPointerX;\n\n        if (yChange < minimumMovement && yChange > -minimumMovement) {\n          yChange = 0;\n        }\n\n        if (xChange < minimumMovement && xChange > -minimumMovement) {\n          xChange = 0;\n        }\n\n        if ((self.lockAxis || self.lockedAxis) && (xChange || yChange)) {\n          temp = self.lockedAxis;\n\n          if (!temp) {\n            self.lockedAxis = temp = allowX && Math.abs(xChange) > Math.abs(yChange) ? \"y\" : allowY ? \"x\" : null;\n\n            if (temp && _isFunction(self.vars.onLockAxis)) {\n              self.vars.onLockAxis.call(self, self.pointerEvent);\n            }\n          }\n\n          if (temp === \"y\") {\n            yChange = 0;\n          } else if (temp === \"x\") {\n            xChange = 0;\n          }\n        }\n\n        x = _round(startElementX + xChange * dragTolerance);\n        y = _round(startElementY + yChange * dragTolerance);\n      }\n\n      if ((snapX || snapY || snapXY) && (self.x !== x || self.y !== y && !rotationMode)) {\n        if (snapXY) {\n          _temp1.x = x;\n          _temp1.y = y;\n          temp = snapXY(_temp1);\n          x = _round(temp.x);\n          y = _round(temp.y);\n        }\n\n        if (snapX) {\n          x = _round(snapX(x));\n        }\n\n        if (snapY) {\n          y = _round(snapY(y));\n        }\n      } else if (hasBounds) {\n        if (x > maxX) {\n          x = maxX + Math.round((x - maxX) * edgeTolerance);\n        } else if (x < minX) {\n          x = minX + Math.round((x - minX) * edgeTolerance);\n        }\n\n        if (!rotationMode) {\n          if (y > maxY) {\n            y = Math.round(maxY + (y - maxY) * edgeTolerance);\n          } else if (y < minY) {\n            y = Math.round(minY + (y - minY) * edgeTolerance);\n          }\n        }\n      }\n\n      if (self.x !== x || self.y !== y && !rotationMode) {\n        if (rotationMode) {\n          self.endRotation = self.x = self.endX = x;\n          dirty = true;\n        } else {\n          if (allowY) {\n            self.y = self.endY = y;\n            dirty = true; //a flag that indicates we need to render the target next time the TweenLite.ticker dispatches a \"tick\" event (typically on a requestAnimationFrame) - this is a performance optimization (we shouldn't render on every move because sometimes many move events can get dispatched between screen refreshes, and that'd be wasteful to render every time)\n          }\n\n          if (allowX) {\n            self.x = self.endX = x;\n            dirty = true;\n          }\n        }\n\n        if (!invokeOnMove || _dispatchEvent(self, \"move\", \"onMove\") !== false) {\n          if (!self.isDragging && self.isPressed) {\n            self.isDragging = true;\n\n            _dispatchEvent(self, \"dragstart\", \"onDragStart\");\n          }\n        } else {\n          //revert because the onMove returned false!\n          self.pointerX = prevPointerX;\n          self.pointerY = prevPointerY;\n          startElementY = prevStartElementY;\n          self.x = prevX;\n          self.y = prevY;\n          self.endX = prevEndX;\n          self.endY = prevEndY;\n          self.endRotation = prevEndRotation;\n          dirty = prevDirty;\n        }\n      }\n    },\n        //called when the mouse/touch is released\n    onRelease = function onRelease(e, force) {\n      if (!enabled || !self.isPressed || e && touchID != null && !force && (e.pointerId && e.pointerId !== touchID && e.target !== target || e.changedTouches && !_hasTouchID(e.changedTouches, touchID))) {\n        //for some Microsoft browsers, we must attach the listener to the doc rather than the trigger so that when the finger moves outside the bounds of the trigger, things still work. So if the event we're receiving has a pointerId that doesn't match the touchID, ignore it (for multi-touch)\n        isPreventingDefault && e && enabled && _preventDefault(e); // in some browsers, we must listen for multiple event types like touchend, pointerup, mouseup. The first time this function is called, we record whether or not we _preventDefault() so that on duplicate calls, we can do the same if necessary.\n\n        return;\n      }\n\n      self.isPressed = false;\n      var originalEvent = e,\n          wasDragging = self.isDragging,\n          isContextMenuRelease = self.vars.allowContextMenu && e && (e.ctrlKey || e.which > 2),\n          placeholderDelayedCall = gsap.delayedCall(0.001, removePlaceholder),\n          touches,\n          i,\n          syntheticEvent,\n          eventTarget,\n          syntheticClick;\n\n      if (touchEventTarget) {\n        _removeListener(touchEventTarget, \"touchend\", onRelease);\n\n        _removeListener(touchEventTarget, \"touchmove\", onMove);\n\n        _removeListener(touchEventTarget, \"touchcancel\", onRelease);\n\n        _removeListener(ownerDoc, \"touchstart\", _onMultiTouchDocument);\n      } else {\n        _removeListener(ownerDoc, \"mousemove\", onMove);\n      }\n\n      _removeListener(_win, \"touchforcechange\", _preventDefault);\n\n      if (!_supportsPointer || !touchEventTarget) {\n        _removeListener(ownerDoc, \"mouseup\", onRelease);\n\n        e && e.target && _removeListener(e.target, \"mouseup\", onRelease);\n      }\n\n      dirty = false;\n\n      if (wasDragging) {\n        dragEndTime = _lastDragTime = _getTime();\n        self.isDragging = false;\n      }\n\n      if (isClicking && !isContextMenuRelease) {\n        if (e) {\n          _removeListener(e.target, \"change\", onRelease);\n\n          self.pointerEvent = originalEvent;\n        }\n\n        _setSelectable(triggers, false);\n\n        _dispatchEvent(self, \"release\", \"onRelease\");\n\n        _dispatchEvent(self, \"click\", \"onClick\");\n\n        isClicking = false;\n        return;\n      }\n\n      _removeFromRenderQueue(render);\n\n      i = triggers.length;\n\n      while (--i > -1) {\n        _setStyle(triggers[i], \"cursor\", vars.cursor || (vars.cursor !== false ? _defaultCursor : null));\n      }\n\n      _dragCount--;\n\n      if (e) {\n        touches = e.changedTouches;\n\n        if (touches) {\n          //touch events store the data slightly differently\n          e = touches[0];\n\n          if (e !== touch && e.identifier !== touchID) {\n            //Usually changedTouches[0] will be what we're looking for, but in case it's not, look through the rest of the array...(and Android browsers don't reuse the event like iOS)\n            i = touches.length;\n\n            while (--i > -1 && (e = touches[i]).identifier !== touchID && e.target !== target) {}\n\n            if (i < 0) {\n              return;\n            }\n          }\n        }\n\n        self.pointerEvent = originalEvent;\n        self.pointerX = e.pageX;\n        self.pointerY = e.pageY;\n      }\n\n      if (isContextMenuRelease && originalEvent) {\n        _preventDefault(originalEvent);\n\n        isPreventingDefault = true;\n\n        _dispatchEvent(self, \"release\", \"onRelease\");\n      } else if (originalEvent && !wasDragging) {\n        isPreventingDefault = false;\n\n        if (interrupted && (vars.snap || vars.bounds)) {\n          //otherwise, if the user clicks on the object while it's animating to a snapped position, and then releases without moving 3 pixels, it will just stay there (it should animate/snap)\n          animate(vars.inertia || vars.throwProps);\n        }\n\n        _dispatchEvent(self, \"release\", \"onRelease\");\n\n        if ((!_isAndroid || originalEvent.type !== \"touchmove\") && originalEvent.type.indexOf(\"cancel\") === -1) {\n          //to accommodate native scrolling on Android devices, we have to immediately call onRelease() on the first touchmove event, but that shouldn't trigger a \"click\".\n          _dispatchEvent(self, \"click\", \"onClick\");\n\n          if (_getTime() - clickTime < 300) {\n            _dispatchEvent(self, \"doubleclick\", \"onDoubleClick\");\n          }\n\n          eventTarget = originalEvent.target || target; //old IE uses srcElement\n\n          clickTime = _getTime();\n\n          syntheticClick = function syntheticClick() {\n            // some browsers (like Firefox) won't trust script-generated clicks, so if the user tries to click on a video to play it, for example, it simply won't work. Since a regular \"click\" event will most likely be generated anyway (one that has its isTrusted flag set to true), we must slightly delay our script-generated click so that the \"real\"/trusted one is prioritized. Remember, when there are duplicate events in quick succession, we suppress all but the first one. Some browsers don't even trigger the \"real\" one at all, so our synthetic one is a safety valve that ensures that no matter what, a click event does get dispatched.\n            if (clickTime !== clickDispatch && self.enabled() && !self.isPressed && !originalEvent.defaultPrevented) {\n              if (eventTarget.click) {\n                //some browsers (like mobile Safari) don't properly trigger the click event\n                eventTarget.click();\n              } else if (ownerDoc.createEvent) {\n                syntheticEvent = ownerDoc.createEvent(\"MouseEvents\");\n                syntheticEvent.initMouseEvent(\"click\", true, true, _win, 1, self.pointerEvent.screenX, self.pointerEvent.screenY, self.pointerX, self.pointerY, false, false, false, false, 0, null);\n                eventTarget.dispatchEvent(syntheticEvent);\n              }\n            }\n          };\n\n          if (!_isAndroid && !originalEvent.defaultPrevented) {\n            //iOS Safari requires the synthetic click to happen immediately or else it simply won't work, but Android doesn't play nice.\n            gsap.delayedCall(0.05, syntheticClick); //in addition to the iOS bug workaround, there's a Firefox issue with clicking on things like a video to play, so we must fake a click event in a slightly delayed fashion. Previously, we listened for the \"click\" event with \"capture\" false which solved the video-click-to-play issue, but it would allow the \"click\" event to be dispatched twice like if you were using a jQuery.click() because that was handled in the capture phase, thus we had to switch to the capture phase to avoid the double-dispatching, but do the delayed synthetic click. Don't fire it too fast (like 0.00001) because we want to give the native event a chance to fire first as it's \"trusted\".\n          }\n        }\n      } else {\n        animate(vars.inertia || vars.throwProps); //will skip if inertia/throwProps isn't defined or IntertiaPlugin isn't loaded.\n\n        if (!self.allowEventDefault && originalEvent && (vars.dragClickables !== false || !isClickable.call(self, originalEvent.target)) && wasDragging && (!allowNativeTouchScrolling || touchDragAxis && allowNativeTouchScrolling === touchDragAxis) && originalEvent.cancelable !== false) {\n          isPreventingDefault = true;\n\n          _preventDefault(originalEvent);\n        } else {\n          isPreventingDefault = false;\n        }\n\n        _dispatchEvent(self, \"release\", \"onRelease\");\n      }\n\n      isTweening() && placeholderDelayedCall.duration(self.tween.duration()); //sync the timing so that the placeholder DIV gets\n\n      wasDragging && _dispatchEvent(self, \"dragend\", \"onDragEnd\");\n      return true;\n    },\n        updateScroll = function updateScroll(e) {\n      if (e && self.isDragging && !scrollProxy) {\n        var parent = e.target || target.parentNode,\n            deltaX = parent.scrollLeft - parent._gsScrollX,\n            deltaY = parent.scrollTop - parent._gsScrollY;\n\n        if (deltaX || deltaY) {\n          if (matrix) {\n            startPointerX -= deltaX * matrix.a + deltaY * matrix.c;\n            startPointerY -= deltaY * matrix.d + deltaX * matrix.b;\n          } else {\n            startPointerX -= deltaX;\n            startPointerY -= deltaY;\n          }\n\n          parent._gsScrollX += deltaX;\n          parent._gsScrollY += deltaY;\n          setPointerPosition(self.pointerX, self.pointerY);\n        }\n      }\n    },\n        onClick = function onClick(e) {\n      //this was a huge pain in the neck to align all the various browsers and their behaviors. Chrome, Firefox, Safari, Opera, Android, and Microsoft Edge all handle events differently! Some will only trigger native behavior (like checkbox toggling) from trusted events. Others don't even support isTrusted, but require 2 events to flow through before triggering native behavior. Edge treats everything as trusted but also mandates that 2 flow through to trigger the correct native behavior.\n      var time = _getTime(),\n          recentlyClicked = time - clickTime < 40,\n          recentlyDragged = time - dragEndTime < 40,\n          alreadyDispatched = recentlyClicked && clickDispatch === clickTime,\n          defaultPrevented = self.pointerEvent && self.pointerEvent.defaultPrevented,\n          alreadyDispatchedTrusted = recentlyClicked && trustedClickDispatch === clickTime,\n          trusted = e.isTrusted || e.isTrusted == null && recentlyClicked && alreadyDispatched; //note: Safari doesn't support isTrusted, and it won't properly execute native behavior (like toggling checkboxes) on the first synthetic \"click\" event - we must wait for the 2nd and treat it as trusted (but stop propagation at that point). Confusing, I know. Don't you love cross-browser compatibility challenges?\n\n\n      if ((alreadyDispatched || recentlyDragged && self.vars.suppressClickOnDrag !== false) && e.stopImmediatePropagation) {\n        e.stopImmediatePropagation();\n      }\n\n      if (recentlyClicked && !(self.pointerEvent && self.pointerEvent.defaultPrevented) && (!alreadyDispatched || trusted && !alreadyDispatchedTrusted)) {\n        //let the first click pass through unhindered. Let the next one only if it's trusted, then no more (stop quick-succession ones)\n        if (trusted && alreadyDispatched) {\n          trustedClickDispatch = clickTime;\n        }\n\n        clickDispatch = clickTime;\n        return;\n      }\n\n      if (self.isPressed || recentlyDragged || recentlyClicked) {\n        if (!trusted || !e.detail || !recentlyClicked || defaultPrevented) {\n          _preventDefault(e);\n        }\n      }\n\n      if (!recentlyClicked && !recentlyDragged) {\n        // for script-triggered event dispatches, like element.click()\n        e && e.target && (self.pointerEvent = e);\n\n        _dispatchEvent(self, \"click\", \"onClick\");\n      }\n    },\n        localizePoint = function localizePoint(p) {\n      return matrix ? {\n        x: p.x * matrix.a + p.y * matrix.c + matrix.e,\n        y: p.x * matrix.b + p.y * matrix.d + matrix.f\n      } : {\n        x: p.x,\n        y: p.y\n      };\n    };\n\n    old = Draggable.get(target);\n    old && old.kill(); // avoids duplicates (an element can only be controlled by one Draggable)\n    //give the user access to start/stop dragging...\n\n    _this2.startDrag = function (event, align) {\n      var r1, r2, p1, p2;\n      onPress(event || self.pointerEvent, true); //if the pointer isn't on top of the element, adjust things accordingly\n\n      if (align && !self.hitTest(event || self.pointerEvent)) {\n        r1 = _parseRect(event || self.pointerEvent);\n        r2 = _parseRect(target);\n        p1 = localizePoint({\n          x: r1.left + r1.width / 2,\n          y: r1.top + r1.height / 2\n        });\n        p2 = localizePoint({\n          x: r2.left + r2.width / 2,\n          y: r2.top + r2.height / 2\n        });\n        startPointerX -= p1.x - p2.x;\n        startPointerY -= p1.y - p2.y;\n      }\n\n      if (!self.isDragging) {\n        self.isDragging = true;\n\n        _dispatchEvent(self, \"dragstart\", \"onDragStart\");\n      }\n    };\n\n    _this2.drag = onMove;\n\n    _this2.endDrag = function (e) {\n      return onRelease(e || self.pointerEvent, true);\n    };\n\n    _this2.timeSinceDrag = function () {\n      return self.isDragging ? 0 : (_getTime() - dragEndTime) / 1000;\n    };\n\n    _this2.timeSinceClick = function () {\n      return (_getTime() - clickTime) / 1000;\n    };\n\n    _this2.hitTest = function (target, threshold) {\n      return Draggable.hitTest(self.target, target, threshold);\n    };\n\n    _this2.getDirection = function (from, diagonalThreshold) {\n      //from can be \"start\" (default), \"velocity\", or an element\n      var mode = from === \"velocity\" && InertiaPlugin ? from : _isObject(from) && !rotationMode ? \"element\" : \"start\",\n          xChange,\n          yChange,\n          ratio,\n          direction,\n          r1,\n          r2;\n\n      if (mode === \"element\") {\n        r1 = _parseRect(self.target);\n        r2 = _parseRect(from);\n      }\n\n      xChange = mode === \"start\" ? self.x - startElementX : mode === \"velocity\" ? InertiaPlugin.getVelocity(target, xProp) : r1.left + r1.width / 2 - (r2.left + r2.width / 2);\n\n      if (rotationMode) {\n        return xChange < 0 ? \"counter-clockwise\" : \"clockwise\";\n      } else {\n        diagonalThreshold = diagonalThreshold || 2;\n        yChange = mode === \"start\" ? self.y - startElementY : mode === \"velocity\" ? InertiaPlugin.getVelocity(target, yProp) : r1.top + r1.height / 2 - (r2.top + r2.height / 2);\n        ratio = Math.abs(xChange / yChange);\n        direction = ratio < 1 / diagonalThreshold ? \"\" : xChange < 0 ? \"left\" : \"right\";\n\n        if (ratio < diagonalThreshold) {\n          if (direction !== \"\") {\n            direction += \"-\";\n          }\n\n          direction += yChange < 0 ? \"up\" : \"down\";\n        }\n      }\n\n      return direction;\n    };\n\n    _this2.applyBounds = function (newBounds, sticky) {\n      var x, y, forceZeroVelocity, e, parent, isRoot;\n\n      if (newBounds && vars.bounds !== newBounds) {\n        vars.bounds = newBounds;\n        return self.update(true, sticky);\n      }\n\n      syncXY(true);\n      calculateBounds();\n\n      if (hasBounds && !isTweening()) {\n        x = self.x;\n        y = self.y;\n\n        if (x > maxX) {\n          x = maxX;\n        } else if (x < minX) {\n          x = minX;\n        }\n\n        if (y > maxY) {\n          y = maxY;\n        } else if (y < minY) {\n          y = minY;\n        }\n\n        if (self.x !== x || self.y !== y) {\n          forceZeroVelocity = true;\n          self.x = self.endX = x;\n\n          if (rotationMode) {\n            self.endRotation = x;\n          } else {\n            self.y = self.endY = y;\n          }\n\n          dirty = true;\n          render(true);\n\n          if (self.autoScroll && !self.isDragging) {\n            _recordMaxScrolls(target.parentNode);\n\n            e = target;\n            _windowProxy.scrollTop = _win.pageYOffset != null ? _win.pageYOffset : ownerDoc.documentElement.scrollTop != null ? ownerDoc.documentElement.scrollTop : ownerDoc.body.scrollTop;\n            _windowProxy.scrollLeft = _win.pageXOffset != null ? _win.pageXOffset : ownerDoc.documentElement.scrollLeft != null ? ownerDoc.documentElement.scrollLeft : ownerDoc.body.scrollLeft;\n\n            while (e && !isRoot) {\n              //walk up the chain and sense wherever the scrollTop/scrollLeft exceeds the maximum.\n              isRoot = _isRoot(e.parentNode);\n              parent = isRoot ? _windowProxy : e.parentNode;\n\n              if (allowY && parent.scrollTop > parent._gsMaxScrollY) {\n                parent.scrollTop = parent._gsMaxScrollY;\n              }\n\n              if (allowX && parent.scrollLeft > parent._gsMaxScrollX) {\n                parent.scrollLeft = parent._gsMaxScrollX;\n              }\n\n              e = parent;\n            }\n          }\n        }\n\n        if (self.isThrowing && (forceZeroVelocity || self.endX > maxX || self.endX < minX || self.endY > maxY || self.endY < minY)) {\n          animate(vars.inertia || vars.throwProps, forceZeroVelocity);\n        }\n      }\n\n      return self;\n    };\n\n    _this2.update = function (applyBounds, sticky, ignoreExternalChanges) {\n      var x = self.x,\n          y = self.y;\n      updateMatrix(!sticky);\n\n      if (applyBounds) {\n        self.applyBounds();\n      } else {\n        dirty && ignoreExternalChanges && render(true);\n        syncXY(true);\n      }\n\n      if (sticky) {\n        setPointerPosition(self.pointerX, self.pointerY);\n        dirty && render(true);\n      }\n\n      if (self.isPressed && !sticky && (allowX && Math.abs(x - self.x) > 0.01 || allowY && Math.abs(y - self.y) > 0.01 && !rotationMode)) {\n        recordStartPositions();\n      }\n\n      if (self.autoScroll) {\n        _recordMaxScrolls(target.parentNode, self.isDragging);\n\n        checkAutoScrollBounds = self.isDragging;\n        render(true); //in case reparenting occurred.\n\n        _removeScrollListener(target, updateScroll);\n\n        _addScrollListener(target, updateScroll);\n      }\n\n      return self;\n    };\n\n    _this2.enable = function (type) {\n      var setVars = {\n        lazy: true\n      },\n          id,\n          i,\n          trigger;\n\n      if (vars.cursor !== false) {\n        setVars.cursor = vars.cursor || _defaultCursor;\n      }\n\n      if (gsap.utils.checkPrefix(\"touchCallout\")) {\n        setVars.touchCallout = \"none\";\n      }\n\n      if (type !== \"soft\") {\n        _setTouchActionForAllDescendants(triggers, allowX === allowY ? \"none\" : vars.allowNativeTouchScrolling && target.scrollHeight === target.clientHeight === (target.scrollWidth === target.clientHeight) || vars.allowEventDefault ? \"manipulation\" : allowX ? \"pan-y\" : \"pan-x\"); // Some browsers like Internet Explorer will fire a pointercancel event when the user attempts to drag when touchAction is \"manipulate\" because it's perceived as a pan. If the element has scrollable content in only one direction, we should use pan-x or pan-y accordingly so that the pointercancel doesn't prevent dragging.\n\n\n        i = triggers.length;\n\n        while (--i > -1) {\n          trigger = triggers[i];\n          _supportsPointer || _addListener(trigger, \"mousedown\", onPress);\n\n          _addListener(trigger, \"touchstart\", onPress);\n\n          _addListener(trigger, \"click\", onClick, true); //note: used to pass true for capture but it prevented click-to-play-video functionality in Firefox.\n\n\n          gsap.set(trigger, setVars);\n\n          if (trigger.getBBox && trigger.ownerSVGElement) {\n            // a bug in chrome doesn't respect touch-action on SVG elements - it only works if we set it on the parent SVG.\n            gsap.set(trigger.ownerSVGElement, {\n              touchAction: allowX === allowY ? \"none\" : vars.allowNativeTouchScrolling || vars.allowEventDefault ? \"manipulation\" : allowX ? \"pan-y\" : \"pan-x\"\n            });\n          }\n\n          vars.allowContextMenu || _addListener(trigger, \"contextmenu\", onContextMenu);\n        }\n\n        _setSelectable(triggers, false);\n      }\n\n      _addScrollListener(target, updateScroll);\n\n      enabled = true;\n\n      if (InertiaPlugin && type !== \"soft\") {\n        InertiaPlugin.track(scrollProxy || target, xyMode ? \"x,y\" : rotationMode ? \"rotation\" : \"top,left\");\n      }\n\n      target._gsDragID = id = \"d\" + _lookupCount++;\n      _lookup[id] = self;\n\n      if (scrollProxy) {\n        scrollProxy.enable();\n        scrollProxy.element._gsDragID = id;\n      }\n\n      (vars.bounds || rotationMode) && recordStartPositions();\n      vars.bounds && self.applyBounds();\n      return self;\n    };\n\n    _this2.disable = function (type) {\n      var dragging = self.isDragging,\n          i = triggers.length,\n          trigger;\n\n      while (--i > -1) {\n        _setStyle(triggers[i], \"cursor\", null);\n      }\n\n      if (type !== \"soft\") {\n        _setTouchActionForAllDescendants(triggers, null);\n\n        i = triggers.length;\n\n        while (--i > -1) {\n          trigger = triggers[i];\n\n          _setStyle(trigger, \"touchCallout\", null);\n\n          _removeListener(trigger, \"mousedown\", onPress);\n\n          _removeListener(trigger, \"touchstart\", onPress);\n\n          _removeListener(trigger, \"click\", onClick);\n\n          _removeListener(trigger, \"contextmenu\", onContextMenu);\n        }\n\n        _setSelectable(triggers, true);\n\n        if (touchEventTarget) {\n          _removeListener(touchEventTarget, \"touchcancel\", onRelease);\n\n          _removeListener(touchEventTarget, \"touchend\", onRelease);\n\n          _removeListener(touchEventTarget, \"touchmove\", onMove);\n        }\n\n        _removeListener(ownerDoc, \"mouseup\", onRelease);\n\n        _removeListener(ownerDoc, \"mousemove\", onMove);\n      }\n\n      _removeScrollListener(target, updateScroll);\n\n      enabled = false;\n      InertiaPlugin && type !== \"soft\" && InertiaPlugin.untrack(scrollProxy || target, xyMode ? \"x,y\" : rotationMode ? \"rotation\" : \"top,left\");\n      scrollProxy && scrollProxy.disable();\n\n      _removeFromRenderQueue(render);\n\n      self.isDragging = self.isPressed = isClicking = false;\n      dragging && _dispatchEvent(self, \"dragend\", \"onDragEnd\");\n      return self;\n    };\n\n    _this2.enabled = function (value, type) {\n      return arguments.length ? value ? self.enable(type) : self.disable(type) : enabled;\n    };\n\n    _this2.kill = function () {\n      self.isThrowing = false;\n      self.tween && self.tween.kill();\n      self.disable();\n      gsap.set(triggers, {\n        clearProps: \"userSelect\"\n      });\n      delete _lookup[target._gsDragID];\n      return self;\n    };\n\n    if (~type.indexOf(\"scroll\")) {\n      scrollProxy = _this2.scrollProxy = new ScrollProxy(target, _extend({\n        onKill: function onKill() {\n          //ScrollProxy's onKill() gets called if/when the ScrollProxy senses that the user interacted with the scroll position manually (like using the scrollbar). IE9 doesn't fire the \"mouseup\" properly when users drag the scrollbar of an element, so this works around that issue.\n          self.isPressed && onRelease(null);\n        }\n      }, vars)); //a bug in many Android devices' stock browser causes scrollTop to get forced back to 0 after it is altered via JS, so we set overflow to \"hidden\" on mobile/touch devices (they hide the scroll bar anyway). That works around the bug. (This bug is discussed at https://code.google.com/p/android/issues/detail?id=19625)\n\n      target.style.overflowY = allowY && !_isTouchDevice ? \"auto\" : \"hidden\";\n      target.style.overflowX = allowX && !_isTouchDevice ? \"auto\" : \"hidden\";\n      target = scrollProxy.content;\n    }\n\n    if (rotationMode) {\n      killProps.rotation = 1;\n    } else {\n      if (allowX) {\n        killProps[xProp] = 1;\n      }\n\n      if (allowY) {\n        killProps[yProp] = 1;\n      }\n    }\n\n    gsCache.force3D = \"force3D\" in vars ? vars.force3D : true; //otherwise, normal dragging would be in 2D and then as soon as it's released and there's an inertia tween, it'd jump to 3D which can create an initial jump due to the work the browser must to do layerize it.\n\n    _this2.enable();\n\n    return _this2;\n  }\n\n  Draggable.register = function register(core) {\n    gsap = core;\n\n    _initCore();\n  };\n\n  Draggable.create = function create(targets, vars) {\n    _coreInitted || _initCore(true);\n    return _toArray(targets).map(function (target) {\n      return new Draggable(target, vars);\n    });\n  };\n\n  Draggable.get = function get(target) {\n    return _lookup[(_toArray(target)[0] || {})._gsDragID];\n  };\n\n  Draggable.timeSinceDrag = function timeSinceDrag() {\n    return (_getTime() - _lastDragTime) / 1000;\n  };\n\n  Draggable.hitTest = function hitTest(obj1, obj2, threshold) {\n    if (obj1 === obj2) {\n      return false;\n    }\n\n    var r1 = _parseRect(obj1),\n        r2 = _parseRect(obj2),\n        top = r1.top,\n        left = r1.left,\n        right = r1.right,\n        bottom = r1.bottom,\n        width = r1.width,\n        height = r1.height,\n        isOutside = r2.left > right || r2.right < left || r2.top > bottom || r2.bottom < top,\n        overlap,\n        area,\n        isRatio;\n\n    if (isOutside || !threshold) {\n      return !isOutside;\n    }\n\n    isRatio = (threshold + \"\").indexOf(\"%\") !== -1;\n    threshold = parseFloat(threshold) || 0;\n    overlap = {\n      left: Math.max(left, r2.left),\n      top: Math.max(top, r2.top)\n    };\n    overlap.width = Math.min(right, r2.right) - overlap.left;\n    overlap.height = Math.min(bottom, r2.bottom) - overlap.top;\n\n    if (overlap.width < 0 || overlap.height < 0) {\n      return false;\n    }\n\n    if (isRatio) {\n      threshold *= 0.01;\n      area = overlap.width * overlap.height;\n      return area >= width * height * threshold || area >= r2.width * r2.height * threshold;\n    }\n\n    return overlap.width > threshold && overlap.height > threshold;\n  };\n\n  return Draggable;\n}(EventDispatcher);\n\n_setDefaults(Draggable.prototype, {\n  pointerX: 0,\n  pointerY: 0,\n  startX: 0,\n  startY: 0,\n  deltaX: 0,\n  deltaY: 0,\n  isDragging: false,\n  isPressed: false\n});\n\nDraggable.zIndex = 1000;\nDraggable.version = \"3.7.0\";\n_getGSAP() && gsap.registerPlugin(Draggable);\nexport { Draggable as default };","/*!\n * VelocityTracker: 3.5.1\n * https://greensock.com\n *\n * Copyright 2008-2020, GreenSock. All rights reserved.\n * Subject to the terms at https://greensock.com/standard-license or for\n * Club GreenSock members, the agreement issued with that membership.\n * @author: Jack Doyle, jack@greensock.com\n */\n\n/* eslint-disable */\nvar gsap,\n    _coreInitted,\n    _toArray,\n    _getUnit,\n    _first,\n    _ticker,\n    _time1,\n    _time2,\n    _getCache,\n    _getGSAP = function _getGSAP() {\n        return gsap || typeof window !== \"undefined\" && (gsap = window.gsap);\n    },\n    _lookup = {},\n    _round = function _round(value) {\n        return Math.round(value * 10000) / 10000;\n    },\n    _getID = function _getID(target) {\n        return _getCache(target).id;\n    },\n    _getByTarget = function _getByTarget(target) {\n        return _lookup[_getID(typeof target === \"string\" ? _toArray(target)[0] : target)];\n    },\n    _onTick = function _onTick(time) {\n        var pt = _first,\n            val; //if the frame rate is too high, we won't be able to track the velocity as well, so only update the values about 20 times per second\n\n        if (time - _time1 >= 0.05) {\n            _time2 = _time1;\n            _time1 = time;\n\n            while (pt) {\n                val = pt.g(pt.t, pt.p);\n\n                if (val !== pt.v1 || time - pt.t1 > 0.2) {\n                    //use a threshold of 0.2 seconds for zeroing-out velocity. If we only use 0.05 and things update slightly slower, like some Android devices dispatch \"touchmove\" events sluggishly so 2 or 3 ticks of the gsap.ticker may elapse inbetween, thus it may appear like the object is not moving but it actually is but it's not updating as frequently. A threshold of 0.2 seconds seems to be a good balance. We want to update things frequently (0.05 seconds) when they're moving so that we can respond to fast motions accurately, but we want to be more resistant to go back to a zero velocity.\n                    pt.v2 = pt.v1;\n                    pt.v1 = val;\n                    pt.t2 = pt.t1;\n                    pt.t1 = time;\n                }\n\n                pt = pt._next;\n            }\n        }\n    },\n    _types = {\n        deg: 360,\n        rad: Math.PI * 2\n    },\n    _initCore = function _initCore() {\n        gsap = _getGSAP();\n\n        if (gsap) {\n            _toArray = gsap.utils.toArray;\n            _getUnit = gsap.utils.getUnit;\n            _getCache = gsap.core.getCache;\n            _ticker = gsap.ticker;\n            _coreInitted = 1;\n        }\n    };\n\nvar PropTracker = function PropTracker(target, property, type, next) {\n    this.t = target;\n    this.p = property;\n    this.g = target._gsap.get;\n    this.rCap = _types[type || _getUnit(this.g(target, property))]; //rotational cap (for degrees, \"deg\", it's 360 and for radians, \"rad\", it's Math.PI * 2)\n\n    this.v1 = this.v2 = 0;\n    this.t1 = this.t2 = _ticker.time;\n\n    if (next) {\n        this._next = next;\n        next._prev = this;\n    }\n};\n\nexport var VelocityTracker = /*#__PURE__*/ function() {\n    function VelocityTracker(target, property) {\n        if (!_coreInitted) {\n            _initCore();\n        }\n\n        this.target = _toArray(target)[0];\n        _lookup[_getID(this.target)] = this;\n        this._props = {};\n        property && this.add(property);\n    }\n\n    VelocityTracker.register = function register(core) {\n        gsap = core;\n\n        _initCore();\n    };\n\n    var _proto = VelocityTracker.prototype;\n\n    _proto.get = function get(property, skipRecentTick) {\n        var pt = this._props[property] || console.warn(\"Not tracking \" + property + \" velocity.\"),\n            val,\n            dif,\n            rotationCap;\n        val = parseFloat(skipRecentTick ? pt.v1 : pt.g(pt.t, pt.p));\n        dif = val - parseFloat(pt.v2);\n        rotationCap = pt.rCap;\n\n        if (rotationCap) {\n            //rotational values need special interpretation so that if, for example, they go from 179 to -178 degrees it is interpreted as a change of 3 instead of -357.\n            dif = dif % rotationCap;\n\n            if (dif !== dif % (rotationCap / 2)) {\n                dif = dif < 0 ? dif + rotationCap : dif - rotationCap;\n            }\n        }\n\n        return _round(dif / ((skipRecentTick ? pt.t1 : _ticker.time) - pt.t2));\n    };\n\n    _proto.getAll = function getAll() {\n        var result = {},\n            props = this._props,\n            p;\n\n        for (p in props) {\n            result[p] = this.get(p);\n        }\n\n        return result;\n    };\n\n    _proto.isTracking = function isTracking(property) {\n        return property in this._props;\n    };\n\n    _proto.add = function add(property, type) {\n        if (!(property in this._props)) {\n            if (!_first) {\n                _ticker.add(_onTick);\n\n                _time1 = _time2 = _ticker.time;\n            }\n\n            _first = this._props[property] = new PropTracker(this.target, property, type, _first);\n        }\n    };\n\n    _proto.remove = function remove(property) {\n        var pt = this._props[property],\n            prev,\n            next;\n\n        if (pt) {\n            prev = pt._prev;\n            next = pt._next;\n\n            if (prev) {\n                prev._next = next;\n            }\n\n            if (next) {\n                next._prev = prev;\n            } else if (_first === pt) {\n                _ticker.remove(_onTick);\n\n                _first = 0;\n            }\n\n            delete this._props[property];\n        }\n    };\n\n    _proto.kill = function kill(shallow) {\n        for (var p in this._props) {\n            this.remove(p);\n        }\n\n        if (!shallow) {\n            delete _lookup[_getID(this.target)];\n        }\n    };\n\n    VelocityTracker.track = function track(targets, properties, types) {\n        if (!_coreInitted) {\n            _initCore();\n        }\n\n        var result = [],\n            targs = _toArray(targets),\n            a = properties.split(\",\"),\n            t = (types || \"\").split(\",\"),\n            i = targs.length,\n            tracker,\n            j;\n\n        while (i--) {\n            tracker = _getByTarget(targs[i]) || new VelocityTracker(targs[i]);\n            j = a.length;\n\n            while (j--) {\n                tracker.add(a[j], t[j] || t[0]);\n            }\n\n            result.push(tracker);\n        }\n\n        return result;\n    };\n\n    VelocityTracker.untrack = function untrack(targets, properties) {\n        var props = (properties || \"\").split(\",\");\n\n        _toArray(targets).forEach(function(target) {\n            var tracker = _getByTarget(target);\n\n            if (tracker) {\n                if (!props.length) {\n                    tracker.kill(1);\n                } else {\n                    props.forEach(function(p) {\n                        return tracker.remove(p);\n                    });\n                }\n            }\n        });\n    };\n\n    VelocityTracker.isTracking = function isTracking(target, property) {\n        var tracker = _getByTarget(target);\n\n        return tracker && tracker.isTracking(property);\n    };\n\n    VelocityTracker.getVelocity = function getVelocity(target, property) {\n        var tracker = _getByTarget(target);\n\n        return !tracker || !tracker.isTracking(property) ? console.warn(\"Not tracking velocity of \" + property) : tracker.get(property);\n    };\n\n    return VelocityTracker;\n}();\nVelocityTracker.getByTarget = _getByTarget;\n_getGSAP() && gsap.registerPlugin(VelocityTracker);\nexport {\n    VelocityTracker as\n    default\n};","/*!\n * InertiaPlugin 3.5.1\n * https://greensock.com\n *\n * @license Copyright 2008-2020, GreenSock. All rights reserved.\n * Subject to the terms at https://greensock.com/standard-license or for\n * Club GreenSock members, the agreement issued with that membership.\n * @author: Jack Doyle, jack@greensock.com\n */\n\n/* eslint-disable */\nimport {\n    VelocityTracker\n} from \"./utils/VelocityTracker.js\";\n\nvar gsap,\n    _coreInitted,\n    _parseEase,\n    _toArray,\n    _power3,\n    _config,\n    _getUnit,\n    PropTween,\n    _getCache,\n    _checkPointRatio,\n    _clamp,\n    _processingVars,\n    _getTracker = VelocityTracker.getByTarget,\n    _getGSAP = function _getGSAP() {\n        return gsap || typeof window !== \"undefined\" && (gsap = window.gsap) && gsap.registerPlugin && gsap;\n    },\n    _isString = function _isString(value) {\n        return typeof value === \"string\";\n    },\n    _isNumber = function _isNumber(value) {\n        return typeof value === \"number\";\n    },\n    _isObject = function _isObject(value) {\n        return typeof value === \"object\";\n    },\n    _isFunction = function _isFunction(value) {\n        return typeof value === \"function\";\n    },\n    _bonusValidated = 1,\n    //<name>InertiaPlugin</name>\n    _isArray = Array.isArray,\n    _emptyFunc = function _emptyFunc(p) {\n        return p;\n    },\n    _bigNum = 1e10,\n    _tinyNum = 1 / _bigNum,\n    _checkPoint = 0.05,\n    _round = function _round(value) {\n        return Math.round(value * 10000) / 10000;\n    },\n    _extend = function _extend(obj, defaults, exclude) {\n        for (var p in defaults) {\n            if (!(p in obj) && p !== exclude) {\n                obj[p] = defaults[p];\n            }\n        }\n\n        return obj;\n    },\n    _deepClone = function _deepClone(obj) {\n        var copy = {},\n            p,\n            v;\n\n        for (p in obj) {\n            copy[p] = _isObject(v = obj[p]) ? _deepClone(v) : v;\n        }\n\n        return copy;\n    },\n    _getClosest = function _getClosest(n, values, max, min, radius) {\n        var i = values.length,\n            closest = 0,\n            absDif = _bigNum,\n            val,\n            dif,\n            p,\n            dist;\n\n        if (_isObject(n)) {\n            while (i--) {\n                val = values[i];\n                dif = 0;\n\n                for (p in n) {\n                    dist = val[p] - n[p];\n                    dif += dist * dist;\n                }\n\n                if (dif < absDif) {\n                    closest = i;\n                    absDif = dif;\n                }\n            }\n\n            if ((radius || _bigNum) < _bigNum && radius < Math.sqrt(absDif)) {\n                return n;\n            }\n        } else {\n            while (i--) {\n                val = values[i];\n                dif = val - n;\n\n                if (dif < 0) {\n                    dif = -dif;\n                }\n\n                if (dif < absDif && val >= min && val <= max) {\n                    closest = i;\n                    absDif = dif;\n                }\n            }\n        }\n\n        return values[closest];\n    },\n    _parseEnd = function _parseEnd(curProp, end, max, min, name, radius) {\n        if (curProp.end === \"auto\") {\n            return curProp;\n        }\n\n        var endVar = curProp.end,\n            adjustedEnd,\n            p;\n        max = isNaN(max) ? _bigNum : max;\n        min = isNaN(min) ? -_bigNum : min;\n\n        if (_isObject(end)) {\n            //for objects, like {x, y} where they're linked and we must pass an object to the function or find the closest value in an array.\n            adjustedEnd = end.calculated ? end : (_isFunction(endVar) ? endVar(end) : _getClosest(end, endVar, max, min, radius)) || end;\n\n            if (!end.calculated) {\n                for (p in adjustedEnd) {\n                    end[p] = adjustedEnd[p];\n                }\n\n                end.calculated = true;\n            }\n\n            adjustedEnd = adjustedEnd[name];\n        } else {\n            adjustedEnd = _isFunction(endVar) ? endVar(end) : _isArray(endVar) ? _getClosest(end, endVar, max, min, radius) : parseFloat(endVar);\n        }\n\n        if (adjustedEnd > max) {\n            adjustedEnd = max;\n        } else if (adjustedEnd < min) {\n            adjustedEnd = min;\n        }\n\n        return {\n            max: adjustedEnd,\n            min: adjustedEnd,\n            unitFactor: curProp.unitFactor\n        };\n    },\n    _getNumOrDefault = function _getNumOrDefault(vars, property, defaultValue) {\n        return isNaN(vars[property]) ? defaultValue : +vars[property];\n    },\n    _calculateChange = function _calculateChange(velocity, duration) {\n        return duration * _checkPoint * velocity / _checkPointRatio;\n    },\n    _calculateDuration = function _calculateDuration(start, end, velocity) {\n        return Math.abs((end - start) * _checkPointRatio / velocity / _checkPoint);\n    },\n    _reservedProps = {\n        resistance: 1,\n        checkpoint: 1,\n        preventOvershoot: 1,\n        linkedProps: 1,\n        radius: 1,\n        duration: 1\n    },\n    _processLinkedProps = function _processLinkedProps(target, vars, getVal, resistance) {\n        if (vars.linkedProps) {\n            //when there are linkedProps (typically \"x,y\" where snapping has to factor in multiple properties, we must first populate an object with all of those end values, then feed it to the function that make any necessary alterations. So the point of this first loop is to simply build an object (like {x:100, y:204.5}) for feeding into that function which we'll do later in the \"real\" loop.\n            var linkedPropNames = vars.linkedProps.split(\",\"),\n                linkedProps = {},\n                i,\n                p,\n                curProp,\n                curVelocity,\n                tracker,\n                curDuration;\n\n            for (i = 0; i < linkedPropNames.length; i++) {\n                p = linkedPropNames[i];\n                curProp = vars[p];\n\n                if (curProp) {\n                    if (_isNumber(curProp.velocity)) {\n                        curVelocity = curProp.velocity;\n                    } else {\n                        tracker = tracker || _getTracker(target);\n                        curVelocity = tracker && tracker.isTracking(p) ? tracker.get(p) : 0;\n                    }\n\n                    curDuration = Math.abs(curVelocity / _getNumOrDefault(curProp, \"resistance\", resistance));\n                    linkedProps[p] = parseFloat(getVal(target, p)) + _calculateChange(curVelocity, curDuration);\n                }\n            }\n\n            return linkedProps;\n        }\n    },\n    _calculateTweenDuration = function _calculateTweenDuration(target, vars, maxDuration, minDuration, overshootTolerance, recordEnd) {\n        if (maxDuration === void 0) {\n            maxDuration = 10;\n        }\n\n        if (minDuration === void 0) {\n            minDuration = 0.2;\n        }\n\n        if (overshootTolerance === void 0) {\n            overshootTolerance = 1;\n        }\n\n        if (recordEnd === void 0) {\n            recordEnd = 0;\n        }\n\n        _isString(target) && (target = _toArray(target)[0]);\n\n        if (!target) {\n            return 0;\n        }\n\n        var duration = 0,\n            clippedDuration = _bigNum,\n            inertiaVars = vars.inertia || vars,\n            getVal = _getCache(target).get,\n            resistance = _getNumOrDefault(inertiaVars, \"resistance\", _config.resistance),\n            p,\n            curProp,\n            curDuration,\n            curVelocity,\n            curVal,\n            end,\n            curClippedDuration,\n            tracker,\n            unitFactor,\n            linkedProps; //when there are linkedProps (typically \"x,y\" where snapping has to factor in multiple properties, we must first populate an object with all of those end values, then feed it to the function that make any necessary alterations. So the point of this first loop is to simply build an object (like {x:100, y:204.5}) for feeding into that function which we'll do later in the \"real\" loop.\n\n\n        linkedProps = _processLinkedProps(target, inertiaVars, getVal, resistance);\n\n        for (p in inertiaVars) {\n            if (!_reservedProps[p]) {\n                curProp = inertiaVars[p];\n\n                if (!_isObject(curProp)) {\n                    tracker = tracker || _getTracker(target);\n\n                    if (tracker && tracker.isTracking(p)) {\n                        curProp = _isNumber(curProp) ? {\n                            velocity: curProp\n                        } : {\n                            velocity: tracker.get(p)\n                        }; //if we're tracking this property, we should use the tracking velocity and then use the numeric value that was passed in as the min and max so that it tweens exactly there.\n                    } else {\n                        curVelocity = +curProp || 0;\n                        curDuration = Math.abs(curVelocity / resistance);\n                    }\n                }\n\n                if (_isObject(curProp)) {\n                    if (_isNumber(curProp.velocity)) {\n                        curVelocity = curProp.velocity;\n                    } else {\n                        tracker = tracker || _getTracker(target);\n                        curVelocity = tracker && tracker.isTracking(p) ? tracker.get(p) : 0;\n                    }\n\n                    curDuration = _clamp(minDuration, maxDuration, Math.abs(curVelocity / _getNumOrDefault(curProp, \"resistance\", resistance)));\n                    curVal = parseFloat(getVal(target, p)) || 0;\n                    end = curVal + _calculateChange(curVelocity, curDuration);\n\n                    if (\"end\" in curProp) {\n                        curProp = _parseEnd(curProp, linkedProps && p in linkedProps ? linkedProps : end, curProp.max, curProp.min, p, inertiaVars.radius);\n\n                        if (recordEnd) {\n                            _processingVars === vars && (_processingVars = inertiaVars = _deepClone(vars));\n                            inertiaVars[p] = _extend(curProp, inertiaVars[p], \"end\");\n                        }\n                    }\n\n                    if (\"max\" in curProp && end > +curProp.max + _tinyNum) {\n                        unitFactor = curProp.unitFactor || _config.unitFactors[p] || 1; //some values are measured in special units like radians in which case our thresholds need to be adjusted accordingly.\n                        //if the value is already exceeding the max or the velocity is too low, the duration can end up being uncomfortably long but in most situations, users want the snapping to occur relatively quickly (0.75 seconds), so we implement a cap here to make things more intuitive. If the max and min match, it means we're animating to a particular value and we don't want to shorten the time unless the velocity is really slow. Example: a rotation where the start and natural end value are less than the snapping spot, but the natural end is pretty close to the snap.\n\n                        curClippedDuration = curVal > curProp.max && curProp.min !== curProp.max || curVelocity * unitFactor > -15 && curVelocity * unitFactor < 45 ? minDuration + (maxDuration - minDuration) * 0.1 : _calculateDuration(curVal, curProp.max, curVelocity);\n\n                        if (curClippedDuration + overshootTolerance < clippedDuration) {\n                            clippedDuration = curClippedDuration + overshootTolerance;\n                        }\n                    } else if (\"min\" in curProp && end < +curProp.min - _tinyNum) {\n                        unitFactor = curProp.unitFactor || _config.unitFactors[p] || 1; //some values are measured in special units like radians in which case our thresholds need to be adjusted accordingly.\n                        //if the value is already exceeding the min or if the velocity is too low, the duration can end up being uncomfortably long but in most situations, users want the snapping to occur relatively quickly (0.75 seconds), so we implement a cap here to make things more intuitive.\n\n                        curClippedDuration = curVal < curProp.min && curProp.min !== curProp.max || curVelocity * unitFactor > -45 && curVelocity * unitFactor < 15 ? minDuration + (maxDuration - minDuration) * 0.1 : _calculateDuration(curVal, curProp.min, curVelocity);\n\n                        if (curClippedDuration + overshootTolerance < clippedDuration) {\n                            clippedDuration = curClippedDuration + overshootTolerance;\n                        }\n                    }\n\n                    curClippedDuration > duration && (duration = curClippedDuration);\n                }\n\n                curDuration > duration && (duration = curDuration);\n            }\n        }\n\n        duration > clippedDuration && (duration = clippedDuration);\n        return duration > maxDuration ? maxDuration : duration < minDuration ? minDuration : duration;\n    },\n    _initCore = function _initCore() {\n        gsap = _getGSAP();\n\n        if (gsap) {\n            _parseEase = gsap.parseEase;\n            _toArray = gsap.utils.toArray;\n            _getUnit = gsap.utils.getUnit;\n            _getCache = gsap.core.getCache;\n            _clamp = gsap.utils.clamp;\n            _power3 = _parseEase(\"power3\");\n            _checkPointRatio = _power3(0.05);\n            PropTween = gsap.core.PropTween;\n            gsap.config({\n                resistance: 100,\n                unitFactors: {\n                    time: 1000,\n                    totalTime: 1000,\n                    progress: 1000,\n                    totalProgress: 1000\n                }\n            });\n            _config = gsap.config();\n            gsap.registerPlugin(VelocityTracker);\n            _coreInitted = 1;\n        }\n    };\n\nexport var InertiaPlugin = {\n    version: \"3.5.1\",\n    name: \"inertia\",\n    register: function register(core) {\n        gsap = core;\n\n        _initCore();\n    },\n    init: function init(target, vars, tween, index, targets) {\n        _coreInitted || _initCore();\n\n        var tracker = _getTracker(target);\n\n        if (vars === \"auto\") {\n            if (!tracker) {\n                console.warn(\"No inertia tracking on \" + target + \". InertiaPlugin.track(target) first.\");\n                return;\n            }\n\n            vars = tracker.getAll();\n        }\n\n        this.target = target;\n        this.tween = tween;\n        _processingVars = vars; // gets swapped inside _calculateTweenDuration() if there's a function-based value encountered (to avoid double-calling it)\n\n        var cache = target._gsap,\n            getVal = cache.get,\n            dur = vars.duration,\n            durIsObj = _isObject(dur),\n            preventOvershoot = vars.preventOvershoot || durIsObj && dur.overshoot === 0,\n            resistance = _getNumOrDefault(vars, \"resistance\", _config.resistance),\n            duration = _isNumber(dur) ? dur : _calculateTweenDuration(target, vars, durIsObj && dur.max || 10, durIsObj && dur.min || 0.2, durIsObj && \"overshoot\" in dur ? +dur.overshoot : preventOvershoot ? 0 : 1, true),\n            p,\n            curProp,\n            curVal,\n            unit,\n            velocity,\n            change1,\n            end,\n            change2,\n            linkedProps;\n\n        vars = _processingVars;\n        _processingVars = 0; //when there are linkedProps (typically \"x,y\" where snapping has to factor in multiple properties, we must first populate an object with all of those end values, then feed it to the function that make any necessary alterations. So the point of this first loop is to simply build an object (like {x:100, y:204.5}) for feeding into that function which we'll do later in the \"real\" loop.\n\n        linkedProps = _processLinkedProps(target, vars, getVal, resistance);\n\n        for (p in vars) {\n            if (!_reservedProps[p]) {\n                curProp = vars[p];\n                _isFunction(curProp) && (curProp = curProp(index, target, targets));\n\n                if (_isNumber(curProp)) {\n                    velocity = curProp;\n                } else if (_isObject(curProp) && !isNaN(curProp.velocity)) {\n                    velocity = +curProp.velocity;\n                } else {\n                    if (tracker && tracker.isTracking(p)) {\n                        velocity = tracker.get(p);\n                    } else {\n                        console.warn(\"ERROR: No velocity was defined for \" + target + \" property: \" + p);\n                    }\n                }\n\n                change1 = _calculateChange(velocity, duration);\n                change2 = 0;\n                curVal = getVal(target, p);\n                unit = _getUnit(curVal);\n                curVal = parseFloat(curVal);\n\n                if (_isObject(curProp)) {\n                    end = curVal + change1;\n\n                    if (\"end\" in curProp) {\n                        curProp = _parseEnd(curProp, linkedProps && p in linkedProps ? linkedProps : end, curProp.max, curProp.min, p, vars.radius);\n                    }\n\n                    if (\"max\" in curProp && +curProp.max < end) {\n                        if (preventOvershoot || curProp.preventOvershoot) {\n                            change1 = curProp.max - curVal;\n                        } else {\n                            change2 = curProp.max - curVal - change1;\n                        }\n                    } else if (\"min\" in curProp && +curProp.min > end) {\n                        if (preventOvershoot || curProp.preventOvershoot) {\n                            change1 = curProp.min - curVal;\n                        } else {\n                            change2 = curProp.min - curVal - change1;\n                        }\n                    }\n                }\n\n                this._props.push(p);\n\n                this._pt = new PropTween(this._pt, target, p, curVal, 0, _emptyFunc, 0, cache.set(target, p, this));\n                this._pt.u = unit || 0;\n                this._pt.c1 = change1;\n                this._pt.c2 = change2;\n            }\n        }\n\n        tween.duration(duration);\n        return _bonusValidated;\n    },\n    render: function render(ratio, data) {\n        var pt = data._pt;\n        ratio = _power3(data.tween._time / data.tween._dur);\n\n        while (pt) {\n            pt.set(pt.t, pt.p, _round(pt.s + pt.c1 * ratio + pt.c2 * ratio * ratio) + pt.u, pt.d, ratio);\n            pt = pt._next;\n        }\n    }\n};\n\"track,untrack,isTracking,getVelocity,getByTarget\".split(\",\").forEach(function(name) {\n    return InertiaPlugin[name] = VelocityTracker[name];\n});\n_getGSAP() && gsap.registerPlugin(InertiaPlugin);\nexport {\n    InertiaPlugin as\n    default, VelocityTracker\n};","// threejs.org/license\nconst REVISION = '122';\nconst MOUSE = {\n    LEFT: 0,\n    MIDDLE: 1,\n    RIGHT: 2,\n    ROTATE: 0,\n    DOLLY: 1,\n    PAN: 2\n};\nconst TOUCH = {\n    ROTATE: 0,\n    PAN: 1,\n    DOLLY_PAN: 2,\n    DOLLY_ROTATE: 3\n};\nconst CullFaceNone = 0;\nconst CullFaceBack = 1;\nconst CullFaceFront = 2;\nconst CullFaceFrontBack = 3;\nconst BasicShadowMap = 0;\nconst PCFShadowMap = 1;\nconst PCFSoftShadowMap = 2;\nconst VSMShadowMap = 3;\nconst FrontSide = 0;\nconst BackSide = 1;\nconst DoubleSide = 2;\nconst FlatShading = 1;\nconst SmoothShading = 2;\nconst NoBlending = 0;\nconst NormalBlending = 1;\nconst AdditiveBlending = 2;\nconst SubtractiveBlending = 3;\nconst MultiplyBlending = 4;\nconst CustomBlending = 5;\nconst AddEquation = 100;\nconst SubtractEquation = 101;\nconst ReverseSubtractEquation = 102;\nconst MinEquation = 103;\nconst MaxEquation = 104;\nconst ZeroFactor = 200;\nconst OneFactor = 201;\nconst SrcColorFactor = 202;\nconst OneMinusSrcColorFactor = 203;\nconst SrcAlphaFactor = 204;\nconst OneMinusSrcAlphaFactor = 205;\nconst DstAlphaFactor = 206;\nconst OneMinusDstAlphaFactor = 207;\nconst DstColorFactor = 208;\nconst OneMinusDstColorFactor = 209;\nconst SrcAlphaSaturateFactor = 210;\nconst NeverDepth = 0;\nconst AlwaysDepth = 1;\nconst LessDepth = 2;\nconst LessEqualDepth = 3;\nconst EqualDepth = 4;\nconst GreaterEqualDepth = 5;\nconst GreaterDepth = 6;\nconst NotEqualDepth = 7;\nconst MultiplyOperation = 0;\nconst MixOperation = 1;\nconst AddOperation = 2;\nconst NoToneMapping = 0;\nconst LinearToneMapping = 1;\nconst ReinhardToneMapping = 2;\nconst CineonToneMapping = 3;\nconst ACESFilmicToneMapping = 4;\nconst CustomToneMapping = 5;\n\nconst UVMapping = 300;\nconst CubeReflectionMapping = 301;\nconst CubeRefractionMapping = 302;\nconst EquirectangularReflectionMapping = 303;\nconst EquirectangularRefractionMapping = 304;\nconst CubeUVReflectionMapping = 306;\nconst CubeUVRefractionMapping = 307;\nconst RepeatWrapping = 1000;\nconst ClampToEdgeWrapping = 1001;\nconst MirroredRepeatWrapping = 1002;\nconst NearestFilter = 1003;\nconst NearestMipmapNearestFilter = 1004;\nconst NearestMipMapNearestFilter = 1004;\nconst NearestMipmapLinearFilter = 1005;\nconst NearestMipMapLinearFilter = 1005;\nconst LinearFilter = 1006;\nconst LinearMipmapNearestFilter = 1007;\nconst LinearMipMapNearestFilter = 1007;\nconst LinearMipmapLinearFilter = 1008;\nconst LinearMipMapLinearFilter = 1008;\nconst UnsignedByteType = 1009;\nconst ByteType = 1010;\nconst ShortType = 1011;\nconst UnsignedShortType = 1012;\nconst IntType = 1013;\nconst UnsignedIntType = 1014;\nconst FloatType = 1015;\nconst HalfFloatType = 1016;\nconst UnsignedShort4444Type = 1017;\nconst UnsignedShort5551Type = 1018;\nconst UnsignedShort565Type = 1019;\nconst UnsignedInt248Type = 1020;\nconst AlphaFormat = 1021;\nconst RGBFormat = 1022;\nconst RGBAFormat = 1023;\nconst LuminanceFormat = 1024;\nconst LuminanceAlphaFormat = 1025;\nconst RGBEFormat = RGBAFormat;\nconst DepthFormat = 1026;\nconst DepthStencilFormat = 1027;\nconst RedFormat = 1028;\nconst RedIntegerFormat = 1029;\nconst RGFormat = 1030;\nconst RGIntegerFormat = 1031;\nconst RGBIntegerFormat = 1032;\nconst RGBAIntegerFormat = 1033;\n\nconst RGB_S3TC_DXT1_Format = 33776;\nconst RGBA_S3TC_DXT1_Format = 33777;\nconst RGBA_S3TC_DXT3_Format = 33778;\nconst RGBA_S3TC_DXT5_Format = 33779;\nconst RGB_PVRTC_4BPPV1_Format = 35840;\nconst RGB_PVRTC_2BPPV1_Format = 35841;\nconst RGBA_PVRTC_4BPPV1_Format = 35842;\nconst RGBA_PVRTC_2BPPV1_Format = 35843;\nconst RGB_ETC1_Format = 36196;\nconst RGB_ETC2_Format = 37492;\nconst RGBA_ETC2_EAC_Format = 37496;\nconst RGBA_ASTC_4x4_Format = 37808;\nconst RGBA_ASTC_5x4_Format = 37809;\nconst RGBA_ASTC_5x5_Format = 37810;\nconst RGBA_ASTC_6x5_Format = 37811;\nconst RGBA_ASTC_6x6_Format = 37812;\nconst RGBA_ASTC_8x5_Format = 37813;\nconst RGBA_ASTC_8x6_Format = 37814;\nconst RGBA_ASTC_8x8_Format = 37815;\nconst RGBA_ASTC_10x5_Format = 37816;\nconst RGBA_ASTC_10x6_Format = 37817;\nconst RGBA_ASTC_10x8_Format = 37818;\nconst RGBA_ASTC_10x10_Format = 37819;\nconst RGBA_ASTC_12x10_Format = 37820;\nconst RGBA_ASTC_12x12_Format = 37821;\nconst RGBA_BPTC_Format = 36492;\nconst SRGB8_ALPHA8_ASTC_4x4_Format = 37840;\nconst SRGB8_ALPHA8_ASTC_5x4_Format = 37841;\nconst SRGB8_ALPHA8_ASTC_5x5_Format = 37842;\nconst SRGB8_ALPHA8_ASTC_6x5_Format = 37843;\nconst SRGB8_ALPHA8_ASTC_6x6_Format = 37844;\nconst SRGB8_ALPHA8_ASTC_8x5_Format = 37845;\nconst SRGB8_ALPHA8_ASTC_8x6_Format = 37846;\nconst SRGB8_ALPHA8_ASTC_8x8_Format = 37847;\nconst SRGB8_ALPHA8_ASTC_10x5_Format = 37848;\nconst SRGB8_ALPHA8_ASTC_10x6_Format = 37849;\nconst SRGB8_ALPHA8_ASTC_10x8_Format = 37850;\nconst SRGB8_ALPHA8_ASTC_10x10_Format = 37851;\nconst SRGB8_ALPHA8_ASTC_12x10_Format = 37852;\nconst SRGB8_ALPHA8_ASTC_12x12_Format = 37853;\nconst LoopOnce = 2200;\nconst LoopRepeat = 2201;\nconst LoopPingPong = 2202;\nconst InterpolateDiscrete = 2300;\nconst InterpolateLinear = 2301;\nconst InterpolateSmooth = 2302;\nconst ZeroCurvatureEnding = 2400;\nconst ZeroSlopeEnding = 2401;\nconst WrapAroundEnding = 2402;\nconst NormalAnimationBlendMode = 2500;\nconst AdditiveAnimationBlendMode = 2501;\nconst TrianglesDrawMode = 0;\nconst TriangleStripDrawMode = 1;\nconst TriangleFanDrawMode = 2;\nconst LinearEncoding = 3000;\nconst sRGBEncoding = 3001;\nconst GammaEncoding = 3007;\nconst RGBEEncoding = 3002;\nconst LogLuvEncoding = 3003;\nconst RGBM7Encoding = 3004;\nconst RGBM16Encoding = 3005;\nconst RGBDEncoding = 3006;\nconst BasicDepthPacking = 3200;\nconst RGBADepthPacking = 3201;\nconst TangentSpaceNormalMap = 0;\nconst ObjectSpaceNormalMap = 1;\n\nconst ZeroStencilOp = 0;\nconst KeepStencilOp = 7680;\nconst ReplaceStencilOp = 7681;\nconst IncrementStencilOp = 7682;\nconst DecrementStencilOp = 7683;\nconst IncrementWrapStencilOp = 34055;\nconst DecrementWrapStencilOp = 34056;\nconst InvertStencilOp = 5386;\n\nconst NeverStencilFunc = 512;\nconst LessStencilFunc = 513;\nconst EqualStencilFunc = 514;\nconst LessEqualStencilFunc = 515;\nconst GreaterStencilFunc = 516;\nconst NotEqualStencilFunc = 517;\nconst GreaterEqualStencilFunc = 518;\nconst AlwaysStencilFunc = 519;\n\nconst StaticDrawUsage = 35044;\nconst DynamicDrawUsage = 35048;\nconst StreamDrawUsage = 35040;\nconst StaticReadUsage = 35045;\nconst DynamicReadUsage = 35049;\nconst StreamReadUsage = 35041;\nconst StaticCopyUsage = 35046;\nconst DynamicCopyUsage = 35050;\nconst StreamCopyUsage = 35042;\n\nconst GLSL1 = \"100\";\nconst GLSL3 = \"300 es\";\n\n/**\n * https://github.com/mrdoob/eventdispatcher.js/\n */\n\nfunction EventDispatcher() {}\n\nObject.assign(EventDispatcher.prototype, {\n\n    addEventListener: function(type, listener) {\n\n        if (this._listeners === undefined) this._listeners = {};\n\n        const listeners = this._listeners;\n\n        if (listeners[type] === undefined) {\n\n            listeners[type] = [];\n\n        }\n\n        if (listeners[type].indexOf(listener) === -1) {\n\n            listeners[type].push(listener);\n\n        }\n\n    },\n\n    hasEventListener: function(type, listener) {\n\n        if (this._listeners === undefined) return false;\n\n        const listeners = this._listeners;\n\n        return listeners[type] !== undefined && listeners[type].indexOf(listener) !== -1;\n\n    },\n\n    removeEventListener: function(type, listener) {\n\n        if (this._listeners === undefined) return;\n\n        const listeners = this._listeners;\n        const listenerArray = listeners[type];\n\n        if (listenerArray !== undefined) {\n\n            const index = listenerArray.indexOf(listener);\n\n            if (index !== -1) {\n\n                listenerArray.splice(index, 1);\n\n            }\n\n        }\n\n    },\n\n    dispatchEvent: function(event) {\n\n        if (this._listeners === undefined) return;\n\n        const listeners = this._listeners;\n        const listenerArray = listeners[event.type];\n\n        if (listenerArray !== undefined) {\n\n            event.target = this;\n\n            // Make a copy, in case listeners are removed while iterating.\n            const array = listenerArray.slice(0);\n\n            for (let i = 0, l = array.length; i < l; i++) {\n\n                array[i].call(this, event);\n\n            }\n\n        }\n\n    }\n\n});\n\nconst _lut = [];\n\nfor (let i = 0; i < 256; i++) {\n\n    _lut[i] = (i < 16 ? '0' : '') + (i).toString(16);\n\n}\n\nlet _seed = 1234567;\n\nconst MathUtils = {\n\n    DEG2RAD: Math.PI / 180,\n    RAD2DEG: 180 / Math.PI,\n\n    generateUUID: function() {\n\n        // http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\n\n        const d0 = Math.random() * 0xffffffff | 0;\n        const d1 = Math.random() * 0xffffffff | 0;\n        const d2 = Math.random() * 0xffffffff | 0;\n        const d3 = Math.random() * 0xffffffff | 0;\n        const uuid = _lut[d0 & 0xff] + _lut[d0 >> 8 & 0xff] + _lut[d0 >> 16 & 0xff] + _lut[d0 >> 24 & 0xff] + '-' +\n            _lut[d1 & 0xff] + _lut[d1 >> 8 & 0xff] + '-' + _lut[d1 >> 16 & 0x0f | 0x40] + _lut[d1 >> 24 & 0xff] + '-' +\n            _lut[d2 & 0x3f | 0x80] + _lut[d2 >> 8 & 0xff] + '-' + _lut[d2 >> 16 & 0xff] + _lut[d2 >> 24 & 0xff] +\n            _lut[d3 & 0xff] + _lut[d3 >> 8 & 0xff] + _lut[d3 >> 16 & 0xff] + _lut[d3 >> 24 & 0xff];\n\n        // .toUpperCase() here flattens concatenated strings to save heap memory space.\n        return uuid.toUpperCase();\n\n    },\n\n    clamp: function(value, min, max) {\n\n        return Math.max(min, Math.min(max, value));\n\n    },\n\n    // compute euclidian modulo of m % n\n    // https://en.wikipedia.org/wiki/Modulo_operation\n\n    euclideanModulo: function(n, m) {\n\n        return ((n % m) + m) % m;\n\n    },\n\n    // Linear mapping from range <a1, a2> to range <b1, b2>\n\n    mapLinear: function(x, a1, a2, b1, b2) {\n\n        return b1 + (x - a1) * (b2 - b1) / (a2 - a1);\n\n    },\n\n    // https://en.wikipedia.org/wiki/Linear_interpolation\n\n    lerp: function(x, y, t) {\n\n        return (1 - t) * x + t * y;\n\n    },\n\n    // http://en.wikipedia.org/wiki/Smoothstep\n\n    smoothstep: function(x, min, max) {\n\n        if (x <= min) return 0;\n        if (x >= max) return 1;\n\n        x = (x - min) / (max - min);\n\n        return x * x * (3 - 2 * x);\n\n    },\n\n    smootherstep: function(x, min, max) {\n\n        if (x <= min) return 0;\n        if (x >= max) return 1;\n\n        x = (x - min) / (max - min);\n\n        return x * x * x * (x * (x * 6 - 15) + 10);\n\n    },\n\n    // Random integer from <low, high> interval\n\n    randInt: function(low, high) {\n\n        return low + Math.floor(Math.random() * (high - low + 1));\n\n    },\n\n    // Random float from <low, high> interval\n\n    randFloat: function(low, high) {\n\n        return low + Math.random() * (high - low);\n\n    },\n\n    // Random float from <-range/2, range/2> interval\n\n    randFloatSpread: function(range) {\n\n        return range * (0.5 - Math.random());\n\n    },\n\n    // Deterministic pseudo-random float in the interval [ 0, 1 ]\n\n    seededRandom: function(s) {\n\n        if (s !== undefined) _seed = s % 2147483647;\n\n        // Park-Miller algorithm\n\n        _seed = _seed * 16807 % 2147483647;\n\n        return (_seed - 1) / 2147483646;\n\n    },\n\n    degToRad: function(degrees) {\n\n        return degrees * MathUtils.DEG2RAD;\n\n    },\n\n    radToDeg: function(radians) {\n\n        return radians * MathUtils.RAD2DEG;\n\n    },\n\n    isPowerOfTwo: function(value) {\n\n        return (value & (value - 1)) === 0 && value !== 0;\n\n    },\n\n    ceilPowerOfTwo: function(value) {\n\n        return Math.pow(2, Math.ceil(Math.log(value) / Math.LN2));\n\n    },\n\n    floorPowerOfTwo: function(value) {\n\n        return Math.pow(2, Math.floor(Math.log(value) / Math.LN2));\n\n    },\n\n    setQuaternionFromProperEuler: function(q, a, b, c, order) {\n\n        // Intrinsic Proper Euler Angles - see https://en.wikipedia.org/wiki/Euler_angles\n\n        // rotations are applied to the axes in the order specified by 'order'\n        // rotation by angle 'a' is applied first, then by angle 'b', then by angle 'c'\n        // angles are in radians\n\n        const cos = Math.cos;\n        const sin = Math.sin;\n\n        const c2 = cos(b / 2);\n        const s2 = sin(b / 2);\n\n        const c13 = cos((a + c) / 2);\n        const s13 = sin((a + c) / 2);\n\n        const c1_3 = cos((a - c) / 2);\n        const s1_3 = sin((a - c) / 2);\n\n        const c3_1 = cos((c - a) / 2);\n        const s3_1 = sin((c - a) / 2);\n\n        switch (order) {\n\n            case 'XYX':\n                q.set(c2 * s13, s2 * c1_3, s2 * s1_3, c2 * c13);\n                break;\n\n            case 'YZY':\n                q.set(s2 * s1_3, c2 * s13, s2 * c1_3, c2 * c13);\n                break;\n\n            case 'ZXZ':\n                q.set(s2 * c1_3, s2 * s1_3, c2 * s13, c2 * c13);\n                break;\n\n            case 'XZX':\n                q.set(c2 * s13, s2 * s3_1, s2 * c3_1, c2 * c13);\n                break;\n\n            case 'YXY':\n                q.set(s2 * c3_1, c2 * s13, s2 * s3_1, c2 * c13);\n                break;\n\n            case 'ZYZ':\n                q.set(s2 * s3_1, s2 * c3_1, c2 * s13, c2 * c13);\n                break;\n\n            default:\n                console.warn('THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: ' + order);\n\n        }\n\n    }\n\n};\n\nclass Vector2 {\n\n    constructor(x = 0, y = 0) {\n\n        Object.defineProperty(this, 'isVector2', {\n            value: true\n        });\n\n        this.x = x;\n        this.y = y;\n\n    }\n\n    get width() {\n\n        return this.x;\n\n    }\n\n    set width(value) {\n\n        this.x = value;\n\n    }\n\n    get height() {\n\n        return this.y;\n\n    }\n\n    set height(value) {\n\n        this.y = value;\n\n    }\n\n    set(x, y) {\n\n        this.x = x;\n        this.y = y;\n\n        return this;\n\n    }\n\n    setScalar(scalar) {\n\n        this.x = scalar;\n        this.y = scalar;\n\n        return this;\n\n    }\n\n    setX(x) {\n\n        this.x = x;\n\n        return this;\n\n    }\n\n    setY(y) {\n\n        this.y = y;\n\n        return this;\n\n    }\n\n    setComponent(index, value) {\n\n        switch (index) {\n\n            case 0:\n                this.x = value;\n                break;\n            case 1:\n                this.y = value;\n                break;\n            default:\n                throw new Error('index is out of range: ' + index);\n\n        }\n\n        return this;\n\n    }\n\n    getComponent(index) {\n\n        switch (index) {\n\n            case 0:\n                return this.x;\n            case 1:\n                return this.y;\n            default:\n                throw new Error('index is out of range: ' + index);\n\n        }\n\n    }\n\n    clone() {\n\n        return new this.constructor(this.x, this.y);\n\n    }\n\n    copy(v) {\n\n        this.x = v.x;\n        this.y = v.y;\n\n        return this;\n\n    }\n\n    add(v, w) {\n\n        if (w !== undefined) {\n\n            console.warn('THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');\n            return this.addVectors(v, w);\n\n        }\n\n        this.x += v.x;\n        this.y += v.y;\n\n        return this;\n\n    }\n\n    addScalar(s) {\n\n        this.x += s;\n        this.y += s;\n\n        return this;\n\n    }\n\n    addVectors(a, b) {\n\n        this.x = a.x + b.x;\n        this.y = a.y + b.y;\n\n        return this;\n\n    }\n\n    addScaledVector(v, s) {\n\n        this.x += v.x * s;\n        this.y += v.y * s;\n\n        return this;\n\n    }\n\n    sub(v, w) {\n\n        if (w !== undefined) {\n\n            console.warn('THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');\n            return this.subVectors(v, w);\n\n        }\n\n        this.x -= v.x;\n        this.y -= v.y;\n\n        return this;\n\n    }\n\n    subScalar(s) {\n\n        this.x -= s;\n        this.y -= s;\n\n        return this;\n\n    }\n\n    subVectors(a, b) {\n\n        this.x = a.x - b.x;\n        this.y = a.y - b.y;\n\n        return this;\n\n    }\n\n    multiply(v) {\n\n        this.x *= v.x;\n        this.y *= v.y;\n\n        return this;\n\n    }\n\n    multiplyScalar(scalar) {\n\n        this.x *= scalar;\n        this.y *= scalar;\n\n        return this;\n\n    }\n\n    divide(v) {\n\n        this.x /= v.x;\n        this.y /= v.y;\n\n        return this;\n\n    }\n\n    divideScalar(scalar) {\n\n        return this.multiplyScalar(1 / scalar);\n\n    }\n\n    applyMatrix3(m) {\n\n        const x = this.x,\n            y = this.y;\n        const e = m.elements;\n\n        this.x = e[0] * x + e[3] * y + e[6];\n        this.y = e[1] * x + e[4] * y + e[7];\n\n        return this;\n\n    }\n\n    min(v) {\n\n        this.x = Math.min(this.x, v.x);\n        this.y = Math.min(this.y, v.y);\n\n        return this;\n\n    }\n\n    max(v) {\n\n        this.x = Math.max(this.x, v.x);\n        this.y = Math.max(this.y, v.y);\n\n        return this;\n\n    }\n\n    clamp(min, max) {\n\n        // assumes min < max, componentwise\n\n        this.x = Math.max(min.x, Math.min(max.x, this.x));\n        this.y = Math.max(min.y, Math.min(max.y, this.y));\n\n        return this;\n\n    }\n\n    clampScalar(minVal, maxVal) {\n\n        this.x = Math.max(minVal, Math.min(maxVal, this.x));\n        this.y = Math.max(minVal, Math.min(maxVal, this.y));\n\n        return this;\n\n    }\n\n    clampLength(min, max) {\n\n        const length = this.length();\n\n        return this.divideScalar(length || 1).multiplyScalar(Math.max(min, Math.min(max, length)));\n\n    }\n\n    floor() {\n\n        this.x = Math.floor(this.x);\n        this.y = Math.floor(this.y);\n\n        return this;\n\n    }\n\n    ceil() {\n\n        this.x = Math.ceil(this.x);\n        this.y = Math.ceil(this.y);\n\n        return this;\n\n    }\n\n    round() {\n\n        this.x = Math.round(this.x);\n        this.y = Math.round(this.y);\n\n        return this;\n\n    }\n\n    roundToZero() {\n\n        this.x = (this.x < 0) ? Math.ceil(this.x) : Math.floor(this.x);\n        this.y = (this.y < 0) ? Math.ceil(this.y) : Math.floor(this.y);\n\n        return this;\n\n    }\n\n    negate() {\n\n        this.x = -this.x;\n        this.y = -this.y;\n\n        return this;\n\n    }\n\n    dot(v) {\n\n        return this.x * v.x + this.y * v.y;\n\n    }\n\n    cross(v) {\n\n        return this.x * v.y - this.y * v.x;\n\n    }\n\n    lengthSq() {\n\n        return this.x * this.x + this.y * this.y;\n\n    }\n\n    length() {\n\n        return Math.sqrt(this.x * this.x + this.y * this.y);\n\n    }\n\n    manhattanLength() {\n\n        return Math.abs(this.x) + Math.abs(this.y);\n\n    }\n\n    normalize() {\n\n        return this.divideScalar(this.length() || 1);\n\n    }\n\n    angle() {\n\n        // computes the angle in radians with respect to the positive x-axis\n\n        const angle = Math.atan2(-this.y, -this.x) + Math.PI;\n\n        return angle;\n\n    }\n\n    distanceTo(v) {\n\n        return Math.sqrt(this.distanceToSquared(v));\n\n    }\n\n    distanceToSquared(v) {\n\n        const dx = this.x - v.x,\n            dy = this.y - v.y;\n        return dx * dx + dy * dy;\n\n    }\n\n    manhattanDistanceTo(v) {\n\n        return Math.abs(this.x - v.x) + Math.abs(this.y - v.y);\n\n    }\n\n    setLength(length) {\n\n        return this.normalize().multiplyScalar(length);\n\n    }\n\n    lerp(v, alpha) {\n\n        this.x += (v.x - this.x) * alpha;\n        this.y += (v.y - this.y) * alpha;\n\n        return this;\n\n    }\n\n    lerpVectors(v1, v2, alpha) {\n\n        this.x = v1.x + (v2.x - v1.x) * alpha;\n        this.y = v1.y + (v2.y - v1.y) * alpha;\n\n        return this;\n\n    }\n\n    equals(v) {\n\n        return ((v.x === this.x) && (v.y === this.y));\n\n    }\n\n    fromArray(array, offset = 0) {\n\n        this.x = array[offset];\n        this.y = array[offset + 1];\n\n        return this;\n\n    }\n\n    toArray(array = [], offset = 0) {\n\n        array[offset] = this.x;\n        array[offset + 1] = this.y;\n\n        return array;\n\n    }\n\n    fromBufferAttribute(attribute, index, offset) {\n\n        if (offset !== undefined) {\n\n            console.warn('THREE.Vector2: offset has been removed from .fromBufferAttribute().');\n\n        }\n\n        this.x = attribute.getX(index);\n        this.y = attribute.getY(index);\n\n        return this;\n\n    }\n\n    rotateAround(center, angle) {\n\n        const c = Math.cos(angle),\n            s = Math.sin(angle);\n\n        const x = this.x - center.x;\n        const y = this.y - center.y;\n\n        this.x = x * c - y * s + center.x;\n        this.y = x * s + y * c + center.y;\n\n        return this;\n\n    }\n\n    random() {\n\n        this.x = Math.random();\n        this.y = Math.random();\n\n        return this;\n\n    }\n\n}\n\nclass Matrix3 {\n\n    constructor() {\n\n        Object.defineProperty(this, 'isMatrix3', {\n            value: true\n        });\n\n        this.elements = [\n\n            1, 0, 0,\n            0, 1, 0,\n            0, 0, 1\n\n        ];\n\n        if (arguments.length > 0) {\n\n            console.error('THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.');\n\n        }\n\n    }\n\n    set(n11, n12, n13, n21, n22, n23, n31, n32, n33) {\n\n        const te = this.elements;\n\n        te[0] = n11;\n        te[1] = n21;\n        te[2] = n31;\n        te[3] = n12;\n        te[4] = n22;\n        te[5] = n32;\n        te[6] = n13;\n        te[7] = n23;\n        te[8] = n33;\n\n        return this;\n\n    }\n\n    identity() {\n\n        this.set(\n\n            1, 0, 0,\n            0, 1, 0,\n            0, 0, 1\n\n        );\n\n        return this;\n\n    }\n\n    clone() {\n\n        return new this.constructor().fromArray(this.elements);\n\n    }\n\n    copy(m) {\n\n        const te = this.elements;\n        const me = m.elements;\n\n        te[0] = me[0];\n        te[1] = me[1];\n        te[2] = me[2];\n        te[3] = me[3];\n        te[4] = me[4];\n        te[5] = me[5];\n        te[6] = me[6];\n        te[7] = me[7];\n        te[8] = me[8];\n\n        return this;\n\n    }\n\n    extractBasis(xAxis, yAxis, zAxis) {\n\n        xAxis.setFromMatrix3Column(this, 0);\n        yAxis.setFromMatrix3Column(this, 1);\n        zAxis.setFromMatrix3Column(this, 2);\n\n        return this;\n\n    }\n\n    setFromMatrix4(m) {\n\n        const me = m.elements;\n\n        this.set(\n\n            me[0], me[4], me[8],\n            me[1], me[5], me[9],\n            me[2], me[6], me[10]\n\n        );\n\n        return this;\n\n    }\n\n    multiply(m) {\n\n        return this.multiplyMatrices(this, m);\n\n    }\n\n    premultiply(m) {\n\n        return this.multiplyMatrices(m, this);\n\n    }\n\n    multiplyMatrices(a, b) {\n\n        const ae = a.elements;\n        const be = b.elements;\n        const te = this.elements;\n\n        const a11 = ae[0],\n            a12 = ae[3],\n            a13 = ae[6];\n        const a21 = ae[1],\n            a22 = ae[4],\n            a23 = ae[7];\n        const a31 = ae[2],\n            a32 = ae[5],\n            a33 = ae[8];\n\n        const b11 = be[0],\n            b12 = be[3],\n            b13 = be[6];\n        const b21 = be[1],\n            b22 = be[4],\n            b23 = be[7];\n        const b31 = be[2],\n            b32 = be[5],\n            b33 = be[8];\n\n        te[0] = a11 * b11 + a12 * b21 + a13 * b31;\n        te[3] = a11 * b12 + a12 * b22 + a13 * b32;\n        te[6] = a11 * b13 + a12 * b23 + a13 * b33;\n\n        te[1] = a21 * b11 + a22 * b21 + a23 * b31;\n        te[4] = a21 * b12 + a22 * b22 + a23 * b32;\n        te[7] = a21 * b13 + a22 * b23 + a23 * b33;\n\n        te[2] = a31 * b11 + a32 * b21 + a33 * b31;\n        te[5] = a31 * b12 + a32 * b22 + a33 * b32;\n        te[8] = a31 * b13 + a32 * b23 + a33 * b33;\n\n        return this;\n\n    }\n\n    multiplyScalar(s) {\n\n        const te = this.elements;\n\n        te[0] *= s;\n        te[3] *= s;\n        te[6] *= s;\n        te[1] *= s;\n        te[4] *= s;\n        te[7] *= s;\n        te[2] *= s;\n        te[5] *= s;\n        te[8] *= s;\n\n        return this;\n\n    }\n\n    determinant() {\n\n        const te = this.elements;\n\n        const a = te[0],\n            b = te[1],\n            c = te[2],\n            d = te[3],\n            e = te[4],\n            f = te[5],\n            g = te[6],\n            h = te[7],\n            i = te[8];\n\n        return a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\n\n    }\n\n    getInverse(matrix, throwOnDegenerate) {\n\n        if (throwOnDegenerate !== undefined) {\n\n            console.warn(\"THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.\");\n\n        }\n\n        const me = matrix.elements,\n            te = this.elements,\n\n            n11 = me[0],\n            n21 = me[1],\n            n31 = me[2],\n            n12 = me[3],\n            n22 = me[4],\n            n32 = me[5],\n            n13 = me[6],\n            n23 = me[7],\n            n33 = me[8],\n\n            t11 = n33 * n22 - n32 * n23,\n            t12 = n32 * n13 - n33 * n12,\n            t13 = n23 * n12 - n22 * n13,\n\n            det = n11 * t11 + n21 * t12 + n31 * t13;\n\n        if (det === 0) return this.set(0, 0, 0, 0, 0, 0, 0, 0, 0);\n\n        const detInv = 1 / det;\n\n        te[0] = t11 * detInv;\n        te[1] = (n31 * n23 - n33 * n21) * detInv;\n        te[2] = (n32 * n21 - n31 * n22) * detInv;\n\n        te[3] = t12 * detInv;\n        te[4] = (n33 * n11 - n31 * n13) * detInv;\n        te[5] = (n31 * n12 - n32 * n11) * detInv;\n\n        te[6] = t13 * detInv;\n        te[7] = (n21 * n13 - n23 * n11) * detInv;\n        te[8] = (n22 * n11 - n21 * n12) * detInv;\n\n        return this;\n\n    }\n\n    transpose() {\n\n        let tmp;\n        const m = this.elements;\n\n        tmp = m[1];\n        m[1] = m[3];\n        m[3] = tmp;\n        tmp = m[2];\n        m[2] = m[6];\n        m[6] = tmp;\n        tmp = m[5];\n        m[5] = m[7];\n        m[7] = tmp;\n\n        return this;\n\n    }\n\n    getNormalMatrix(matrix4) {\n\n        return this.setFromMatrix4(matrix4).getInverse(this).transpose();\n\n    }\n\n    transposeIntoArray(r) {\n\n        const m = this.elements;\n\n        r[0] = m[0];\n        r[1] = m[3];\n        r[2] = m[6];\n        r[3] = m[1];\n        r[4] = m[4];\n        r[5] = m[7];\n        r[6] = m[2];\n        r[7] = m[5];\n        r[8] = m[8];\n\n        return this;\n\n    }\n\n    setUvTransform(tx, ty, sx, sy, rotation, cx, cy) {\n\n        const c = Math.cos(rotation);\n        const s = Math.sin(rotation);\n\n        this.set(\n            sx * c, sx * s, -sx * (c * cx + s * cy) + cx + tx, -sy * s, sy * c, -sy * (-s * cx + c * cy) + cy + ty,\n            0, 0, 1\n        );\n\n    }\n\n    scale(sx, sy) {\n\n        const te = this.elements;\n\n        te[0] *= sx;\n        te[3] *= sx;\n        te[6] *= sx;\n        te[1] *= sy;\n        te[4] *= sy;\n        te[7] *= sy;\n\n        return this;\n\n    }\n\n    rotate(theta) {\n\n        const c = Math.cos(theta);\n        const s = Math.sin(theta);\n\n        const te = this.elements;\n\n        const a11 = te[0],\n            a12 = te[3],\n            a13 = te[6];\n        const a21 = te[1],\n            a22 = te[4],\n            a23 = te[7];\n\n        te[0] = c * a11 + s * a21;\n        te[3] = c * a12 + s * a22;\n        te[6] = c * a13 + s * a23;\n\n        te[1] = -s * a11 + c * a21;\n        te[4] = -s * a12 + c * a22;\n        te[7] = -s * a13 + c * a23;\n\n        return this;\n\n    }\n\n    translate(tx, ty) {\n\n        const te = this.elements;\n\n        te[0] += tx * te[2];\n        te[3] += tx * te[5];\n        te[6] += tx * te[8];\n        te[1] += ty * te[2];\n        te[4] += ty * te[5];\n        te[7] += ty * te[8];\n\n        return this;\n\n    }\n\n    equals(matrix) {\n\n        const te = this.elements;\n        const me = matrix.elements;\n\n        for (let i = 0; i < 9; i++) {\n\n            if (te[i] !== me[i]) return false;\n\n        }\n\n        return true;\n\n    }\n\n    fromArray(array, offset = 0) {\n\n        for (let i = 0; i < 9; i++) {\n\n            this.elements[i] = array[i + offset];\n\n        }\n\n        return this;\n\n    }\n\n    toArray(array = [], offset = 0) {\n\n        const te = this.elements;\n\n        array[offset] = te[0];\n        array[offset + 1] = te[1];\n        array[offset + 2] = te[2];\n\n        array[offset + 3] = te[3];\n        array[offset + 4] = te[4];\n        array[offset + 5] = te[5];\n\n        array[offset + 6] = te[6];\n        array[offset + 7] = te[7];\n        array[offset + 8] = te[8];\n\n        return array;\n\n    }\n\n}\n\nlet _canvas;\n\nconst ImageUtils = {\n\n    getDataURL: function(image) {\n\n        if (/^data:/i.test(image.src)) {\n\n            return image.src;\n\n        }\n\n        if (typeof HTMLCanvasElement == 'undefined') {\n\n            return image.src;\n\n        }\n\n        let canvas;\n\n        if (image instanceof HTMLCanvasElement) {\n\n            canvas = image;\n\n        } else {\n\n            if (_canvas === undefined) _canvas = document.createElementNS('http://www.w3.org/1999/xhtml', 'canvas');\n\n            _canvas.width = image.width;\n            _canvas.height = image.height;\n\n            const context = _canvas.getContext('2d');\n\n            if (image instanceof ImageData) {\n\n                context.putImageData(image, 0, 0);\n\n            } else {\n\n                context.drawImage(image, 0, 0, image.width, image.height);\n\n            }\n\n            canvas = _canvas;\n\n        }\n\n        if (canvas.width > 2048 || canvas.height > 2048) {\n\n            return canvas.toDataURL('image/jpeg', 0.6);\n\n        } else {\n\n            return canvas.toDataURL('image/png');\n\n        }\n\n    }\n\n};\n\nlet textureId = 0;\n\nfunction Texture(image, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding) {\n\n    Object.defineProperty(this, 'id', {\n        value: textureId++\n    });\n\n    this.uuid = MathUtils.generateUUID();\n\n    this.name = '';\n\n    this.image = image !== undefined ? image : Texture.DEFAULT_IMAGE;\n    this.mipmaps = [];\n\n    this.mapping = mapping !== undefined ? mapping : Texture.DEFAULT_MAPPING;\n\n    this.wrapS = wrapS !== undefined ? wrapS : ClampToEdgeWrapping;\n    this.wrapT = wrapT !== undefined ? wrapT : ClampToEdgeWrapping;\n\n    this.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n    this.minFilter = minFilter !== undefined ? minFilter : LinearMipmapLinearFilter;\n\n    this.anisotropy = anisotropy !== undefined ? anisotropy : 1;\n\n    this.format = format !== undefined ? format : RGBAFormat;\n    this.internalFormat = null;\n    this.type = type !== undefined ? type : UnsignedByteType;\n\n    this.offset = new Vector2(0, 0);\n    this.repeat = new Vector2(1, 1);\n    this.center = new Vector2(0, 0);\n    this.rotation = 0;\n\n    this.matrixAutoUpdate = true;\n    this.matrix = new Matrix3();\n\n    this.generateMipmaps = true;\n    this.premultiplyAlpha = false;\n    this.flipY = true;\n    this.unpackAlignment = 4; // valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\n\n    // Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.\n    //\n    // Also changing the encoding after already used by a Material will not automatically make the Material\n    // update. You need to explicitly call Material.needsUpdate to trigger it to recompile.\n    this.encoding = encoding !== undefined ? encoding : LinearEncoding;\n\n    this.version = 0;\n    this.onUpdate = null;\n\n}\n\nTexture.DEFAULT_IMAGE = undefined;\nTexture.DEFAULT_MAPPING = UVMapping;\n\nTexture.prototype = Object.assign(Object.create(EventDispatcher.prototype), {\n\n    constructor: Texture,\n\n    isTexture: true,\n\n    updateMatrix: function() {\n\n        this.matrix.setUvTransform(this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y);\n\n    },\n\n    clone: function() {\n\n        return new this.constructor().copy(this);\n\n    },\n\n    copy: function(source) {\n\n        this.name = source.name;\n\n        this.image = source.image;\n        this.mipmaps = source.mipmaps.slice(0);\n\n        this.mapping = source.mapping;\n\n        this.wrapS = source.wrapS;\n        this.wrapT = source.wrapT;\n\n        this.magFilter = source.magFilter;\n        this.minFilter = source.minFilter;\n\n        this.anisotropy = source.anisotropy;\n\n        this.format = source.format;\n        this.internalFormat = source.internalFormat;\n        this.type = source.type;\n\n        this.offset.copy(source.offset);\n        this.repeat.copy(source.repeat);\n        this.center.copy(source.center);\n        this.rotation = source.rotation;\n\n        this.matrixAutoUpdate = source.matrixAutoUpdate;\n        this.matrix.copy(source.matrix);\n\n        this.generateMipmaps = source.generateMipmaps;\n        this.premultiplyAlpha = source.premultiplyAlpha;\n        this.flipY = source.flipY;\n        this.unpackAlignment = source.unpackAlignment;\n        this.encoding = source.encoding;\n\n        return this;\n\n    },\n\n    toJSON: function(meta) {\n\n        const isRootObject = (meta === undefined || typeof meta === 'string');\n\n        if (!isRootObject && meta.textures[this.uuid] !== undefined) {\n\n            return meta.textures[this.uuid];\n\n        }\n\n        const output = {\n\n            metadata: {\n                version: 4.5,\n                type: 'Texture',\n                generator: 'Texture.toJSON'\n            },\n\n            uuid: this.uuid,\n            name: this.name,\n\n            mapping: this.mapping,\n\n            repeat: [this.repeat.x, this.repeat.y],\n            offset: [this.offset.x, this.offset.y],\n            center: [this.center.x, this.center.y],\n            rotation: this.rotation,\n\n            wrap: [this.wrapS, this.wrapT],\n\n            format: this.format,\n            type: this.type,\n            encoding: this.encoding,\n\n            minFilter: this.minFilter,\n            magFilter: this.magFilter,\n            anisotropy: this.anisotropy,\n\n            flipY: this.flipY,\n\n            premultiplyAlpha: this.premultiplyAlpha,\n            unpackAlignment: this.unpackAlignment\n\n        };\n\n        if (this.image !== undefined) {\n\n            // TODO: Move to THREE.Image\n\n            const image = this.image;\n\n            if (image.uuid === undefined) {\n\n                image.uuid = MathUtils.generateUUID(); // UGH\n\n            }\n\n            if (!isRootObject && meta.images[image.uuid] === undefined) {\n\n                let url;\n\n                if (Array.isArray(image)) {\n\n                    // process array of images e.g. CubeTexture\n\n                    url = [];\n\n                    for (let i = 0, l = image.length; i < l; i++) {\n\n                        url.push(ImageUtils.getDataURL(image[i]));\n\n                    }\n\n                } else {\n\n                    // process single image\n\n                    url = ImageUtils.getDataURL(image);\n\n                }\n\n                meta.images[image.uuid] = {\n                    uuid: image.uuid,\n                    url: url\n                };\n\n            }\n\n            output.image = image.uuid;\n\n        }\n\n        if (!isRootObject) {\n\n            meta.textures[this.uuid] = output;\n\n        }\n\n        return output;\n\n    },\n\n    dispose: function() {\n\n        this.dispatchEvent({\n            type: 'dispose'\n        });\n\n    },\n\n    transformUv: function(uv) {\n\n        if (this.mapping !== UVMapping) return uv;\n\n        uv.applyMatrix3(this.matrix);\n\n        if (uv.x < 0 || uv.x > 1) {\n\n            switch (this.wrapS) {\n\n                case RepeatWrapping:\n\n                    uv.x = uv.x - Math.floor(uv.x);\n                    break;\n\n                case ClampToEdgeWrapping:\n\n                    uv.x = uv.x < 0 ? 0 : 1;\n                    break;\n\n                case MirroredRepeatWrapping:\n\n                    if (Math.abs(Math.floor(uv.x) % 2) === 1) {\n\n                        uv.x = Math.ceil(uv.x) - uv.x;\n\n                    } else {\n\n                        uv.x = uv.x - Math.floor(uv.x);\n\n                    }\n\n                    break;\n\n            }\n\n        }\n\n        if (uv.y < 0 || uv.y > 1) {\n\n            switch (this.wrapT) {\n\n                case RepeatWrapping:\n\n                    uv.y = uv.y - Math.floor(uv.y);\n                    break;\n\n                case ClampToEdgeWrapping:\n\n                    uv.y = uv.y < 0 ? 0 : 1;\n                    break;\n\n                case MirroredRepeatWrapping:\n\n                    if (Math.abs(Math.floor(uv.y) % 2) === 1) {\n\n                        uv.y = Math.ceil(uv.y) - uv.y;\n\n                    } else {\n\n                        uv.y = uv.y - Math.floor(uv.y);\n\n                    }\n\n                    break;\n\n            }\n\n        }\n\n        if (this.flipY) {\n\n            uv.y = 1 - uv.y;\n\n        }\n\n        return uv;\n\n    }\n\n});\n\nObject.defineProperty(Texture.prototype, \"needsUpdate\", {\n\n    set: function(value) {\n\n        if (value === true) this.version++;\n\n    }\n\n});\n\nclass Vector4 {\n\n    constructor(x = 0, y = 0, z = 0, w = 1) {\n\n        Object.defineProperty(this, 'isVector4', {\n            value: true\n        });\n\n        this.x = x;\n        this.y = y;\n        this.z = z;\n        this.w = w;\n\n    }\n\n    get width() {\n\n        return this.z;\n\n    }\n\n    set width(value) {\n\n        this.z = value;\n\n    }\n\n    get height() {\n\n        return this.w;\n\n    }\n\n    set height(value) {\n\n        this.w = value;\n\n    }\n\n    set(x, y, z, w) {\n\n        this.x = x;\n        this.y = y;\n        this.z = z;\n        this.w = w;\n\n        return this;\n\n    }\n\n    setScalar(scalar) {\n\n        this.x = scalar;\n        this.y = scalar;\n        this.z = scalar;\n        this.w = scalar;\n\n        return this;\n\n    }\n\n    setX(x) {\n\n        this.x = x;\n\n        return this;\n\n    }\n\n    setY(y) {\n\n        this.y = y;\n\n        return this;\n\n    }\n\n    setZ(z) {\n\n        this.z = z;\n\n        return this;\n\n    }\n\n    setW(w) {\n\n        this.w = w;\n\n        return this;\n\n    }\n\n    setComponent(index, value) {\n\n        switch (index) {\n\n            case 0:\n                this.x = value;\n                break;\n            case 1:\n                this.y = value;\n                break;\n            case 2:\n                this.z = value;\n                break;\n            case 3:\n                this.w = value;\n                break;\n            default:\n                throw new Error('index is out of range: ' + index);\n\n        }\n\n        return this;\n\n    }\n\n    getComponent(index) {\n\n        switch (index) {\n\n            case 0:\n                return this.x;\n            case 1:\n                return this.y;\n            case 2:\n                return this.z;\n            case 3:\n                return this.w;\n            default:\n                throw new Error('index is out of range: ' + index);\n\n        }\n\n    }\n\n    clone() {\n\n        return new this.constructor(this.x, this.y, this.z, this.w);\n\n    }\n\n    copy(v) {\n\n        this.x = v.x;\n        this.y = v.y;\n        this.z = v.z;\n        this.w = (v.w !== undefined) ? v.w : 1;\n\n        return this;\n\n    }\n\n    add(v, w) {\n\n        if (w !== undefined) {\n\n            console.warn('THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');\n            return this.addVectors(v, w);\n\n        }\n\n        this.x += v.x;\n        this.y += v.y;\n        this.z += v.z;\n        this.w += v.w;\n\n        return this;\n\n    }\n\n    addScalar(s) {\n\n        this.x += s;\n        this.y += s;\n        this.z += s;\n        this.w += s;\n\n        return this;\n\n    }\n\n    addVectors(a, b) {\n\n        this.x = a.x + b.x;\n        this.y = a.y + b.y;\n        this.z = a.z + b.z;\n        this.w = a.w + b.w;\n\n        return this;\n\n    }\n\n    addScaledVector(v, s) {\n\n        this.x += v.x * s;\n        this.y += v.y * s;\n        this.z += v.z * s;\n        this.w += v.w * s;\n\n        return this;\n\n    }\n\n    sub(v, w) {\n\n        if (w !== undefined) {\n\n            console.warn('THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');\n            return this.subVectors(v, w);\n\n        }\n\n        this.x -= v.x;\n        this.y -= v.y;\n        this.z -= v.z;\n        this.w -= v.w;\n\n        return this;\n\n    }\n\n    subScalar(s) {\n\n        this.x -= s;\n        this.y -= s;\n        this.z -= s;\n        this.w -= s;\n\n        return this;\n\n    }\n\n    subVectors(a, b) {\n\n        this.x = a.x - b.x;\n        this.y = a.y - b.y;\n        this.z = a.z - b.z;\n        this.w = a.w - b.w;\n\n        return this;\n\n    }\n\n    multiplyScalar(scalar) {\n\n        this.x *= scalar;\n        this.y *= scalar;\n        this.z *= scalar;\n        this.w *= scalar;\n\n        return this;\n\n    }\n\n    applyMatrix4(m) {\n\n        const x = this.x,\n            y = this.y,\n            z = this.z,\n            w = this.w;\n        const e = m.elements;\n\n        this.x = e[0] * x + e[4] * y + e[8] * z + e[12] * w;\n        this.y = e[1] * x + e[5] * y + e[9] * z + e[13] * w;\n        this.z = e[2] * x + e[6] * y + e[10] * z + e[14] * w;\n        this.w = e[3] * x + e[7] * y + e[11] * z + e[15] * w;\n\n        return this;\n\n    }\n\n    divideScalar(scalar) {\n\n        return this.multiplyScalar(1 / scalar);\n\n    }\n\n    setAxisAngleFromQuaternion(q) {\n\n        // http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\n\n        // q is assumed to be normalized\n\n        this.w = 2 * Math.acos(q.w);\n\n        const s = Math.sqrt(1 - q.w * q.w);\n\n        if (s < 0.0001) {\n\n            this.x = 1;\n            this.y = 0;\n            this.z = 0;\n\n        } else {\n\n            this.x = q.x / s;\n            this.y = q.y / s;\n            this.z = q.z / s;\n\n        }\n\n        return this;\n\n    }\n\n    setAxisAngleFromRotationMatrix(m) {\n\n        // http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\n\n        // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n        let angle, x, y, z; // variables for result\n        const epsilon = 0.01, // margin to allow for rounding errors\n            epsilon2 = 0.1, // margin to distinguish between 0 and 180 degrees\n\n            te = m.elements,\n\n            m11 = te[0],\n            m12 = te[4],\n            m13 = te[8],\n            m21 = te[1],\n            m22 = te[5],\n            m23 = te[9],\n            m31 = te[2],\n            m32 = te[6],\n            m33 = te[10];\n\n        if ((Math.abs(m12 - m21) < epsilon) &&\n            (Math.abs(m13 - m31) < epsilon) &&\n            (Math.abs(m23 - m32) < epsilon)) {\n\n            // singularity found\n            // first check for identity matrix which must have +1 for all terms\n            // in leading diagonal and zero in other terms\n\n            if ((Math.abs(m12 + m21) < epsilon2) &&\n                (Math.abs(m13 + m31) < epsilon2) &&\n                (Math.abs(m23 + m32) < epsilon2) &&\n                (Math.abs(m11 + m22 + m33 - 3) < epsilon2)) {\n\n                // this singularity is identity matrix so angle = 0\n\n                this.set(1, 0, 0, 0);\n\n                return this; // zero angle, arbitrary axis\n\n            }\n\n            // otherwise this singularity is angle = 180\n\n            angle = Math.PI;\n\n            const xx = (m11 + 1) / 2;\n            const yy = (m22 + 1) / 2;\n            const zz = (m33 + 1) / 2;\n            const xy = (m12 + m21) / 4;\n            const xz = (m13 + m31) / 4;\n            const yz = (m23 + m32) / 4;\n\n            if ((xx > yy) && (xx > zz)) {\n\n                // m11 is the largest diagonal term\n\n                if (xx < epsilon) {\n\n                    x = 0;\n                    y = 0.707106781;\n                    z = 0.707106781;\n\n                } else {\n\n                    x = Math.sqrt(xx);\n                    y = xy / x;\n                    z = xz / x;\n\n                }\n\n            } else if (yy > zz) {\n\n                // m22 is the largest diagonal term\n\n                if (yy < epsilon) {\n\n                    x = 0.707106781;\n                    y = 0;\n                    z = 0.707106781;\n\n                } else {\n\n                    y = Math.sqrt(yy);\n                    x = xy / y;\n                    z = yz / y;\n\n                }\n\n            } else {\n\n                // m33 is the largest diagonal term so base result on this\n\n                if (zz < epsilon) {\n\n                    x = 0.707106781;\n                    y = 0.707106781;\n                    z = 0;\n\n                } else {\n\n                    z = Math.sqrt(zz);\n                    x = xz / z;\n                    y = yz / z;\n\n                }\n\n            }\n\n            this.set(x, y, z, angle);\n\n            return this; // return 180 deg rotation\n\n        }\n\n        // as we have reached here there are no singularities so we can handle normally\n\n        let s = Math.sqrt((m32 - m23) * (m32 - m23) +\n            (m13 - m31) * (m13 - m31) +\n            (m21 - m12) * (m21 - m12)); // used to normalize\n\n        if (Math.abs(s) < 0.001) s = 1;\n\n        // prevent divide by zero, should not happen if matrix is orthogonal and should be\n        // caught by singularity test above, but I've left it in just in case\n\n        this.x = (m32 - m23) / s;\n        this.y = (m13 - m31) / s;\n        this.z = (m21 - m12) / s;\n        this.w = Math.acos((m11 + m22 + m33 - 1) / 2);\n\n        return this;\n\n    }\n\n    min(v) {\n\n        this.x = Math.min(this.x, v.x);\n        this.y = Math.min(this.y, v.y);\n        this.z = Math.min(this.z, v.z);\n        this.w = Math.min(this.w, v.w);\n\n        return this;\n\n    }\n\n    max(v) {\n\n        this.x = Math.max(this.x, v.x);\n        this.y = Math.max(this.y, v.y);\n        this.z = Math.max(this.z, v.z);\n        this.w = Math.max(this.w, v.w);\n\n        return this;\n\n    }\n\n    clamp(min, max) {\n\n        // assumes min < max, componentwise\n\n        this.x = Math.max(min.x, Math.min(max.x, this.x));\n        this.y = Math.max(min.y, Math.min(max.y, this.y));\n        this.z = Math.max(min.z, Math.min(max.z, this.z));\n        this.w = Math.max(min.w, Math.min(max.w, this.w));\n\n        return this;\n\n    }\n\n    clampScalar(minVal, maxVal) {\n\n        this.x = Math.max(minVal, Math.min(maxVal, this.x));\n        this.y = Math.max(minVal, Math.min(maxVal, this.y));\n        this.z = Math.max(minVal, Math.min(maxVal, this.z));\n        this.w = Math.max(minVal, Math.min(maxVal, this.w));\n\n        return this;\n\n    }\n\n    clampLength(min, max) {\n\n        const length = this.length();\n\n        return this.divideScalar(length || 1).multiplyScalar(Math.max(min, Math.min(max, length)));\n\n    }\n\n    floor() {\n\n        this.x = Math.floor(this.x);\n        this.y = Math.floor(this.y);\n        this.z = Math.floor(this.z);\n        this.w = Math.floor(this.w);\n\n        return this;\n\n    }\n\n    ceil() {\n\n        this.x = Math.ceil(this.x);\n        this.y = Math.ceil(this.y);\n        this.z = Math.ceil(this.z);\n        this.w = Math.ceil(this.w);\n\n        return this;\n\n    }\n\n    round() {\n\n        this.x = Math.round(this.x);\n        this.y = Math.round(this.y);\n        this.z = Math.round(this.z);\n        this.w = Math.round(this.w);\n\n        return this;\n\n    }\n\n    roundToZero() {\n\n        this.x = (this.x < 0) ? Math.ceil(this.x) : Math.floor(this.x);\n        this.y = (this.y < 0) ? Math.ceil(this.y) : Math.floor(this.y);\n        this.z = (this.z < 0) ? Math.ceil(this.z) : Math.floor(this.z);\n        this.w = (this.w < 0) ? Math.ceil(this.w) : Math.floor(this.w);\n\n        return this;\n\n    }\n\n    negate() {\n\n        this.x = -this.x;\n        this.y = -this.y;\n        this.z = -this.z;\n        this.w = -this.w;\n\n        return this;\n\n    }\n\n    dot(v) {\n\n        return this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\n\n    }\n\n    lengthSq() {\n\n        return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n\n    }\n\n    length() {\n\n        return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);\n\n    }\n\n    manhattanLength() {\n\n        return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z) + Math.abs(this.w);\n\n    }\n\n    normalize() {\n\n        return this.divideScalar(this.length() || 1);\n\n    }\n\n    setLength(length) {\n\n        return this.normalize().multiplyScalar(length);\n\n    }\n\n    lerp(v, alpha) {\n\n        this.x += (v.x - this.x) * alpha;\n        this.y += (v.y - this.y) * alpha;\n        this.z += (v.z - this.z) * alpha;\n        this.w += (v.w - this.w) * alpha;\n\n        return this;\n\n    }\n\n    lerpVectors(v1, v2, alpha) {\n\n        this.x = v1.x + (v2.x - v1.x) * alpha;\n        this.y = v1.y + (v2.y - v1.y) * alpha;\n        this.z = v1.z + (v2.z - v1.z) * alpha;\n        this.w = v1.w + (v2.w - v1.w) * alpha;\n\n        return this;\n\n    }\n\n    equals(v) {\n\n        return ((v.x === this.x) && (v.y === this.y) && (v.z === this.z) && (v.w === this.w));\n\n    }\n\n    fromArray(array, offset = 0) {\n\n        this.x = array[offset];\n        this.y = array[offset + 1];\n        this.z = array[offset + 2];\n        this.w = array[offset + 3];\n\n        return this;\n\n    }\n\n    toArray(array = [], offset = 0) {\n\n        array[offset] = this.x;\n        array[offset + 1] = this.y;\n        array[offset + 2] = this.z;\n        array[offset + 3] = this.w;\n\n        return array;\n\n    }\n\n    fromBufferAttribute(attribute, index, offset) {\n\n        if (offset !== undefined) {\n\n            console.warn('THREE.Vector4: offset has been removed from .fromBufferAttribute().');\n\n        }\n\n        this.x = attribute.getX(index);\n        this.y = attribute.getY(index);\n        this.z = attribute.getZ(index);\n        this.w = attribute.getW(index);\n\n        return this;\n\n    }\n\n    random() {\n\n        this.x = Math.random();\n        this.y = Math.random();\n        this.z = Math.random();\n        this.w = Math.random();\n\n        return this;\n\n    }\n\n}\n\n/*\n In options, we can specify:\n * Texture parameters for an auto-generated target texture\n * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers\n*/\nfunction WebGLRenderTarget(width, height, options) {\n\n    this.width = width;\n    this.height = height;\n\n    this.scissor = new Vector4(0, 0, width, height);\n    this.scissorTest = false;\n\n    this.viewport = new Vector4(0, 0, width, height);\n\n    options = options || {};\n\n    this.texture = new Texture(undefined, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding);\n\n    this.texture.image = {};\n    this.texture.image.width = width;\n    this.texture.image.height = height;\n\n    this.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n    this.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n\n    this.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;\n    this.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : false;\n    this.depthTexture = options.depthTexture !== undefined ? options.depthTexture : null;\n\n}\n\nWebGLRenderTarget.prototype = Object.assign(Object.create(EventDispatcher.prototype), {\n\n    constructor: WebGLRenderTarget,\n\n    isWebGLRenderTarget: true,\n\n    setSize: function(width, height) {\n\n        if (this.width !== width || this.height !== height) {\n\n            this.width = width;\n            this.height = height;\n\n            this.texture.image.width = width;\n            this.texture.image.height = height;\n\n            this.dispose();\n\n        }\n\n        this.viewport.set(0, 0, width, height);\n        this.scissor.set(0, 0, width, height);\n\n    },\n\n    clone: function() {\n\n        return new this.constructor().copy(this);\n\n    },\n\n    copy: function(source) {\n\n        this.width = source.width;\n        this.height = source.height;\n\n        this.viewport.copy(source.viewport);\n\n        this.texture = source.texture.clone();\n\n        this.depthBuffer = source.depthBuffer;\n        this.stencilBuffer = source.stencilBuffer;\n        this.depthTexture = source.depthTexture;\n\n        return this;\n\n    },\n\n    dispose: function() {\n\n        this.dispatchEvent({\n            type: 'dispose'\n        });\n\n    }\n\n});\n\nfunction WebGLMultisampleRenderTarget(width, height, options) {\n\n    WebGLRenderTarget.call(this, width, height, options);\n\n    this.samples = 4;\n\n}\n\nWebGLMultisampleRenderTarget.prototype = Object.assign(Object.create(WebGLRenderTarget.prototype), {\n\n    constructor: WebGLMultisampleRenderTarget,\n\n    isWebGLMultisampleRenderTarget: true,\n\n    copy: function(source) {\n\n        WebGLRenderTarget.prototype.copy.call(this, source);\n\n        this.samples = source.samples;\n\n        return this;\n\n    }\n\n});\n\nclass Quaternion {\n\n    constructor(x = 0, y = 0, z = 0, w = 1) {\n\n        Object.defineProperty(this, 'isQuaternion', {\n            value: true\n        });\n\n        this._x = x;\n        this._y = y;\n        this._z = z;\n        this._w = w;\n\n    }\n\n    static slerp(qa, qb, qm, t) {\n\n        return qm.copy(qa).slerp(qb, t);\n\n    }\n\n    static slerpFlat(dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t) {\n\n        // fuzz-free, array-based Quaternion SLERP operation\n\n        let x0 = src0[srcOffset0 + 0],\n            y0 = src0[srcOffset0 + 1],\n            z0 = src0[srcOffset0 + 2],\n            w0 = src0[srcOffset0 + 3];\n\n        const x1 = src1[srcOffset1 + 0],\n            y1 = src1[srcOffset1 + 1],\n            z1 = src1[srcOffset1 + 2],\n            w1 = src1[srcOffset1 + 3];\n\n        if (w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1) {\n\n            let s = 1 - t;\n            const cos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n                dir = (cos >= 0 ? 1 : -1),\n                sqrSin = 1 - cos * cos;\n\n            // Skip the Slerp for tiny steps to avoid numeric problems:\n            if (sqrSin > Number.EPSILON) {\n\n                const sin = Math.sqrt(sqrSin),\n                    len = Math.atan2(sin, cos * dir);\n\n                s = Math.sin(s * len) / sin;\n                t = Math.sin(t * len) / sin;\n\n            }\n\n            const tDir = t * dir;\n\n            x0 = x0 * s + x1 * tDir;\n            y0 = y0 * s + y1 * tDir;\n            z0 = z0 * s + z1 * tDir;\n            w0 = w0 * s + w1 * tDir;\n\n            // Normalize in case we just did a lerp:\n            if (s === 1 - t) {\n\n                const f = 1 / Math.sqrt(x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0);\n\n                x0 *= f;\n                y0 *= f;\n                z0 *= f;\n                w0 *= f;\n\n            }\n\n        }\n\n        dst[dstOffset] = x0;\n        dst[dstOffset + 1] = y0;\n        dst[dstOffset + 2] = z0;\n        dst[dstOffset + 3] = w0;\n\n    }\n\n    static multiplyQuaternionsFlat(dst, dstOffset, src0, srcOffset0, src1, srcOffset1) {\n\n        const x0 = src0[srcOffset0];\n        const y0 = src0[srcOffset0 + 1];\n        const z0 = src0[srcOffset0 + 2];\n        const w0 = src0[srcOffset0 + 3];\n\n        const x1 = src1[srcOffset1];\n        const y1 = src1[srcOffset1 + 1];\n        const z1 = src1[srcOffset1 + 2];\n        const w1 = src1[srcOffset1 + 3];\n\n        dst[dstOffset] = x0 * w1 + w0 * x1 + y0 * z1 - z0 * y1;\n        dst[dstOffset + 1] = y0 * w1 + w0 * y1 + z0 * x1 - x0 * z1;\n        dst[dstOffset + 2] = z0 * w1 + w0 * z1 + x0 * y1 - y0 * x1;\n        dst[dstOffset + 3] = w0 * w1 - x0 * x1 - y0 * y1 - z0 * z1;\n\n        return dst;\n\n    }\n\n    get x() {\n\n        return this._x;\n\n    }\n\n    set x(value) {\n\n        this._x = value;\n        this._onChangeCallback();\n\n    }\n\n    get y() {\n\n        return this._y;\n\n    }\n\n    set y(value) {\n\n        this._y = value;\n        this._onChangeCallback();\n\n    }\n\n    get z() {\n\n        return this._z;\n\n    }\n\n    set z(value) {\n\n        this._z = value;\n        this._onChangeCallback();\n\n    }\n\n    get w() {\n\n        return this._w;\n\n    }\n\n    set w(value) {\n\n        this._w = value;\n        this._onChangeCallback();\n\n    }\n\n    set(x, y, z, w) {\n\n        this._x = x;\n        this._y = y;\n        this._z = z;\n        this._w = w;\n\n        this._onChangeCallback();\n\n        return this;\n\n    }\n\n    clone() {\n\n        return new this.constructor(this._x, this._y, this._z, this._w);\n\n    }\n\n    copy(quaternion) {\n\n        this._x = quaternion.x;\n        this._y = quaternion.y;\n        this._z = quaternion.z;\n        this._w = quaternion.w;\n\n        this._onChangeCallback();\n\n        return this;\n\n    }\n\n    setFromEuler(euler, update) {\n\n        if (!(euler && euler.isEuler)) {\n\n            throw new Error('THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.');\n\n        }\n\n        const x = euler._x,\n            y = euler._y,\n            z = euler._z,\n            order = euler._order;\n\n        // http://www.mathworks.com/matlabcentral/fileexchange/\n        // \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n        //\tcontent/SpinCalc.m\n\n        const cos = Math.cos;\n        const sin = Math.sin;\n\n        const c1 = cos(x / 2);\n        const c2 = cos(y / 2);\n        const c3 = cos(z / 2);\n\n        const s1 = sin(x / 2);\n        const s2 = sin(y / 2);\n        const s3 = sin(z / 2);\n\n        switch (order) {\n\n            case 'XYZ':\n                this._x = s1 * c2 * c3 + c1 * s2 * s3;\n                this._y = c1 * s2 * c3 - s1 * c2 * s3;\n                this._z = c1 * c2 * s3 + s1 * s2 * c3;\n                this._w = c1 * c2 * c3 - s1 * s2 * s3;\n                break;\n\n            case 'YXZ':\n                this._x = s1 * c2 * c3 + c1 * s2 * s3;\n                this._y = c1 * s2 * c3 - s1 * c2 * s3;\n                this._z = c1 * c2 * s3 - s1 * s2 * c3;\n                this._w = c1 * c2 * c3 + s1 * s2 * s3;\n                break;\n\n            case 'ZXY':\n                this._x = s1 * c2 * c3 - c1 * s2 * s3;\n                this._y = c1 * s2 * c3 + s1 * c2 * s3;\n                this._z = c1 * c2 * s3 + s1 * s2 * c3;\n                this._w = c1 * c2 * c3 - s1 * s2 * s3;\n                break;\n\n            case 'ZYX':\n                this._x = s1 * c2 * c3 - c1 * s2 * s3;\n                this._y = c1 * s2 * c3 + s1 * c2 * s3;\n                this._z = c1 * c2 * s3 - s1 * s2 * c3;\n                this._w = c1 * c2 * c3 + s1 * s2 * s3;\n                break;\n\n            case 'YZX':\n                this._x = s1 * c2 * c3 + c1 * s2 * s3;\n                this._y = c1 * s2 * c3 + s1 * c2 * s3;\n                this._z = c1 * c2 * s3 - s1 * s2 * c3;\n                this._w = c1 * c2 * c3 - s1 * s2 * s3;\n                break;\n\n            case 'XZY':\n                this._x = s1 * c2 * c3 - c1 * s2 * s3;\n                this._y = c1 * s2 * c3 - s1 * c2 * s3;\n                this._z = c1 * c2 * s3 + s1 * s2 * c3;\n                this._w = c1 * c2 * c3 + s1 * s2 * s3;\n                break;\n\n            default:\n                console.warn('THREE.Quaternion: .setFromEuler() encountered an unknown order: ' + order);\n\n        }\n\n        if (update !== false) this._onChangeCallback();\n\n        return this;\n\n    }\n\n    setFromAxisAngle(axis, angle) {\n\n        // http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n\n        // assumes axis is normalized\n\n        const halfAngle = angle / 2,\n            s = Math.sin(halfAngle);\n\n        this._x = axis.x * s;\n        this._y = axis.y * s;\n        this._z = axis.z * s;\n        this._w = Math.cos(halfAngle);\n\n        this._onChangeCallback();\n\n        return this;\n\n    }\n\n    setFromRotationMatrix(m) {\n\n        // http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n\n        // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n        const te = m.elements,\n\n            m11 = te[0],\n            m12 = te[4],\n            m13 = te[8],\n            m21 = te[1],\n            m22 = te[5],\n            m23 = te[9],\n            m31 = te[2],\n            m32 = te[6],\n            m33 = te[10],\n\n            trace = m11 + m22 + m33;\n\n        if (trace > 0) {\n\n            const s = 0.5 / Math.sqrt(trace + 1.0);\n\n            this._w = 0.25 / s;\n            this._x = (m32 - m23) * s;\n            this._y = (m13 - m31) * s;\n            this._z = (m21 - m12) * s;\n\n        } else if (m11 > m22 && m11 > m33) {\n\n            const s = 2.0 * Math.sqrt(1.0 + m11 - m22 - m33);\n\n            this._w = (m32 - m23) / s;\n            this._x = 0.25 * s;\n            this._y = (m12 + m21) / s;\n            this._z = (m13 + m31) / s;\n\n        } else if (m22 > m33) {\n\n            const s = 2.0 * Math.sqrt(1.0 + m22 - m11 - m33);\n\n            this._w = (m13 - m31) / s;\n            this._x = (m12 + m21) / s;\n            this._y = 0.25 * s;\n            this._z = (m23 + m32) / s;\n\n        } else {\n\n            const s = 2.0 * Math.sqrt(1.0 + m33 - m11 - m22);\n\n            this._w = (m21 - m12) / s;\n            this._x = (m13 + m31) / s;\n            this._y = (m23 + m32) / s;\n            this._z = 0.25 * s;\n\n        }\n\n        this._onChangeCallback();\n\n        return this;\n\n    }\n\n    setFromUnitVectors(vFrom, vTo) {\n\n        // assumes direction vectors vFrom and vTo are normalized\n\n        const EPS = 0.000001;\n\n        let r = vFrom.dot(vTo) + 1;\n\n        if (r < EPS) {\n\n            r = 0;\n\n            if (Math.abs(vFrom.x) > Math.abs(vFrom.z)) {\n\n                this._x = -vFrom.y;\n                this._y = vFrom.x;\n                this._z = 0;\n                this._w = r;\n\n            } else {\n\n                this._x = 0;\n                this._y = -vFrom.z;\n                this._z = vFrom.y;\n                this._w = r;\n\n            }\n\n        } else {\n\n            // crossVectors( vFrom, vTo ); // inlined to avoid cyclic dependency on Vector3\n\n            this._x = vFrom.y * vTo.z - vFrom.z * vTo.y;\n            this._y = vFrom.z * vTo.x - vFrom.x * vTo.z;\n            this._z = vFrom.x * vTo.y - vFrom.y * vTo.x;\n            this._w = r;\n\n        }\n\n        return this.normalize();\n\n    }\n\n    angleTo(q) {\n\n        return 2 * Math.acos(Math.abs(MathUtils.clamp(this.dot(q), -1, 1)));\n\n    }\n\n    rotateTowards(q, step) {\n\n        const angle = this.angleTo(q);\n\n        if (angle === 0) return this;\n\n        const t = Math.min(1, step / angle);\n\n        this.slerp(q, t);\n\n        return this;\n\n    }\n\n    identity() {\n\n        return this.set(0, 0, 0, 1);\n\n    }\n\n    inverse() {\n\n        // quaternion is assumed to have unit length\n\n        return this.conjugate();\n\n    }\n\n    conjugate() {\n\n        this._x *= -1;\n        this._y *= -1;\n        this._z *= -1;\n\n        this._onChangeCallback();\n\n        return this;\n\n    }\n\n    dot(v) {\n\n        return this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n\n    }\n\n    lengthSq() {\n\n        return this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n\n    }\n\n    length() {\n\n        return Math.sqrt(this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w);\n\n    }\n\n    normalize() {\n\n        let l = this.length();\n\n        if (l === 0) {\n\n            this._x = 0;\n            this._y = 0;\n            this._z = 0;\n            this._w = 1;\n\n        } else {\n\n            l = 1 / l;\n\n            this._x = this._x * l;\n            this._y = this._y * l;\n            this._z = this._z * l;\n            this._w = this._w * l;\n\n        }\n\n        this._onChangeCallback();\n\n        return this;\n\n    }\n\n    multiply(q, p) {\n\n        if (p !== undefined) {\n\n            console.warn('THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.');\n            return this.multiplyQuaternions(q, p);\n\n        }\n\n        return this.multiplyQuaternions(this, q);\n\n    }\n\n    premultiply(q) {\n\n        return this.multiplyQuaternions(q, this);\n\n    }\n\n    multiplyQuaternions(a, b) {\n\n        // from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n\n        const qax = a._x,\n            qay = a._y,\n            qaz = a._z,\n            qaw = a._w;\n        const qbx = b._x,\n            qby = b._y,\n            qbz = b._z,\n            qbw = b._w;\n\n        this._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n        this._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n        this._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n        this._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n        this._onChangeCallback();\n\n        return this;\n\n    }\n\n    slerp(qb, t) {\n\n        if (t === 0) return this;\n        if (t === 1) return this.copy(qb);\n\n        const x = this._x,\n            y = this._y,\n            z = this._z,\n            w = this._w;\n\n        // http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n        let cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n        if (cosHalfTheta < 0) {\n\n            this._w = -qb._w;\n            this._x = -qb._x;\n            this._y = -qb._y;\n            this._z = -qb._z;\n\n            cosHalfTheta = -cosHalfTheta;\n\n        } else {\n\n            this.copy(qb);\n\n        }\n\n        if (cosHalfTheta >= 1.0) {\n\n            this._w = w;\n            this._x = x;\n            this._y = y;\n            this._z = z;\n\n            return this;\n\n        }\n\n        const sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\n\n        if (sqrSinHalfTheta <= Number.EPSILON) {\n\n            const s = 1 - t;\n            this._w = s * w + t * this._w;\n            this._x = s * x + t * this._x;\n            this._y = s * y + t * this._y;\n            this._z = s * z + t * this._z;\n\n            this.normalize();\n            this._onChangeCallback();\n\n            return this;\n\n        }\n\n        const sinHalfTheta = Math.sqrt(sqrSinHalfTheta);\n        const halfTheta = Math.atan2(sinHalfTheta, cosHalfTheta);\n        const ratioA = Math.sin((1 - t) * halfTheta) / sinHalfTheta,\n            ratioB = Math.sin(t * halfTheta) / sinHalfTheta;\n\n        this._w = (w * ratioA + this._w * ratioB);\n        this._x = (x * ratioA + this._x * ratioB);\n        this._y = (y * ratioA + this._y * ratioB);\n        this._z = (z * ratioA + this._z * ratioB);\n\n        this._onChangeCallback();\n\n        return this;\n\n    }\n\n    equals(quaternion) {\n\n        return (quaternion._x === this._x) && (quaternion._y === this._y) && (quaternion._z === this._z) && (quaternion._w === this._w);\n\n    }\n\n    fromArray(array, offset = 0) {\n\n        this._x = array[offset];\n        this._y = array[offset + 1];\n        this._z = array[offset + 2];\n        this._w = array[offset + 3];\n\n        this._onChangeCallback();\n\n        return this;\n\n    }\n\n    toArray(array = [], offset = 0) {\n\n        array[offset] = this._x;\n        array[offset + 1] = this._y;\n        array[offset + 2] = this._z;\n        array[offset + 3] = this._w;\n\n        return array;\n\n    }\n\n    fromBufferAttribute(attribute, index) {\n\n        this._x = attribute.getX(index);\n        this._y = attribute.getY(index);\n        this._z = attribute.getZ(index);\n        this._w = attribute.getW(index);\n\n        return this;\n\n    }\n\n    _onChange(callback) {\n\n        this._onChangeCallback = callback;\n\n        return this;\n\n    }\n\n    _onChangeCallback() {}\n\n}\n\nclass Vector3 {\n\n    constructor(x = 0, y = 0, z = 0) {\n\n        Object.defineProperty(this, 'isVector3', {\n            value: true\n        });\n\n        this.x = x;\n        this.y = y;\n        this.z = z;\n\n    }\n\n    set(x, y, z) {\n\n        if (z === undefined) z = this.z; // sprite.scale.set(x,y)\n\n        this.x = x;\n        this.y = y;\n        this.z = z;\n\n        return this;\n\n    }\n\n    setScalar(scalar) {\n\n        this.x = scalar;\n        this.y = scalar;\n        this.z = scalar;\n\n        return this;\n\n    }\n\n    setX(x) {\n\n        this.x = x;\n\n        return this;\n\n    }\n\n    setY(y) {\n\n        this.y = y;\n\n        return this;\n\n    }\n\n    setZ(z) {\n\n        this.z = z;\n\n        return this;\n\n    }\n\n    setComponent(index, value) {\n\n        switch (index) {\n\n            case 0:\n                this.x = value;\n                break;\n            case 1:\n                this.y = value;\n                break;\n            case 2:\n                this.z = value;\n                break;\n            default:\n                throw new Error('index is out of range: ' + index);\n\n        }\n\n        return this;\n\n    }\n\n    getComponent(index) {\n\n        switch (index) {\n\n            case 0:\n                return this.x;\n            case 1:\n                return this.y;\n            case 2:\n                return this.z;\n            default:\n                throw new Error('index is out of range: ' + index);\n\n        }\n\n    }\n\n    clone() {\n\n        return new this.constructor(this.x, this.y, this.z);\n\n    }\n\n    copy(v) {\n\n        this.x = v.x;\n        this.y = v.y;\n        this.z = v.z;\n\n        return this;\n\n    }\n\n    add(v, w) {\n\n        if (w !== undefined) {\n\n            console.warn('THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');\n            return this.addVectors(v, w);\n\n        }\n\n        this.x += v.x;\n        this.y += v.y;\n        this.z += v.z;\n\n        return this;\n\n    }\n\n    addScalar(s) {\n\n        this.x += s;\n        this.y += s;\n        this.z += s;\n\n        return this;\n\n    }\n\n    addVectors(a, b) {\n\n        this.x = a.x + b.x;\n        this.y = a.y + b.y;\n        this.z = a.z + b.z;\n\n        return this;\n\n    }\n\n    addScaledVector(v, s) {\n\n        this.x += v.x * s;\n        this.y += v.y * s;\n        this.z += v.z * s;\n\n        return this;\n\n    }\n\n    sub(v, w) {\n\n        if (w !== undefined) {\n\n            console.warn('THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');\n            return this.subVectors(v, w);\n\n        }\n\n        this.x -= v.x;\n        this.y -= v.y;\n        this.z -= v.z;\n\n        return this;\n\n    }\n\n    subScalar(s) {\n\n        this.x -= s;\n        this.y -= s;\n        this.z -= s;\n\n        return this;\n\n    }\n\n    subVectors(a, b) {\n\n        this.x = a.x - b.x;\n        this.y = a.y - b.y;\n        this.z = a.z - b.z;\n\n        return this;\n\n    }\n\n    multiply(v, w) {\n\n        if (w !== undefined) {\n\n            console.warn('THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.');\n            return this.multiplyVectors(v, w);\n\n        }\n\n        this.x *= v.x;\n        this.y *= v.y;\n        this.z *= v.z;\n\n        return this;\n\n    }\n\n    multiplyScalar(scalar) {\n\n        this.x *= scalar;\n        this.y *= scalar;\n        this.z *= scalar;\n\n        return this;\n\n    }\n\n    multiplyVectors(a, b) {\n\n        this.x = a.x * b.x;\n        this.y = a.y * b.y;\n        this.z = a.z * b.z;\n\n        return this;\n\n    }\n\n    applyEuler(euler) {\n\n        if (!(euler && euler.isEuler)) {\n\n            console.error('THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.');\n\n        }\n\n        return this.applyQuaternion(_quaternion.setFromEuler(euler));\n\n    }\n\n    applyAxisAngle(axis, angle) {\n\n        return this.applyQuaternion(_quaternion.setFromAxisAngle(axis, angle));\n\n    }\n\n    applyMatrix3(m) {\n\n        const x = this.x,\n            y = this.y,\n            z = this.z;\n        const e = m.elements;\n\n        this.x = e[0] * x + e[3] * y + e[6] * z;\n        this.y = e[1] * x + e[4] * y + e[7] * z;\n        this.z = e[2] * x + e[5] * y + e[8] * z;\n\n        return this;\n\n    }\n\n    applyNormalMatrix(m) {\n\n        return this.applyMatrix3(m).normalize();\n\n    }\n\n    applyMatrix4(m) {\n\n        const x = this.x,\n            y = this.y,\n            z = this.z;\n        const e = m.elements;\n\n        const w = 1 / (e[3] * x + e[7] * y + e[11] * z + e[15]);\n\n        this.x = (e[0] * x + e[4] * y + e[8] * z + e[12]) * w;\n        this.y = (e[1] * x + e[5] * y + e[9] * z + e[13]) * w;\n        this.z = (e[2] * x + e[6] * y + e[10] * z + e[14]) * w;\n\n        return this;\n\n    }\n\n    applyQuaternion(q) {\n\n        const x = this.x,\n            y = this.y,\n            z = this.z;\n        const qx = q.x,\n            qy = q.y,\n            qz = q.z,\n            qw = q.w;\n\n        // calculate quat * vector\n\n        const ix = qw * x + qy * z - qz * y;\n        const iy = qw * y + qz * x - qx * z;\n        const iz = qw * z + qx * y - qy * x;\n        const iw = -qx * x - qy * y - qz * z;\n\n        // calculate result * inverse quat\n\n        this.x = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n        this.y = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n        this.z = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n\n        return this;\n\n    }\n\n    project(camera) {\n\n        return this.applyMatrix4(camera.matrixWorldInverse).applyMatrix4(camera.projectionMatrix);\n\n    }\n\n    unproject(camera) {\n\n        return this.applyMatrix4(camera.projectionMatrixInverse).applyMatrix4(camera.matrixWorld);\n\n    }\n\n    transformDirection(m) {\n\n        // input: THREE.Matrix4 affine matrix\n        // vector interpreted as a direction\n\n        const x = this.x,\n            y = this.y,\n            z = this.z;\n        const e = m.elements;\n\n        this.x = e[0] * x + e[4] * y + e[8] * z;\n        this.y = e[1] * x + e[5] * y + e[9] * z;\n        this.z = e[2] * x + e[6] * y + e[10] * z;\n\n        return this.normalize();\n\n    }\n\n    divide(v) {\n\n        this.x /= v.x;\n        this.y /= v.y;\n        this.z /= v.z;\n\n        return this;\n\n    }\n\n    divideScalar(scalar) {\n\n        return this.multiplyScalar(1 / scalar);\n\n    }\n\n    min(v) {\n\n        this.x = Math.min(this.x, v.x);\n        this.y = Math.min(this.y, v.y);\n        this.z = Math.min(this.z, v.z);\n\n        return this;\n\n    }\n\n    max(v) {\n\n        this.x = Math.max(this.x, v.x);\n        this.y = Math.max(this.y, v.y);\n        this.z = Math.max(this.z, v.z);\n\n        return this;\n\n    }\n\n    clamp(min, max) {\n\n        // assumes min < max, componentwise\n\n        this.x = Math.max(min.x, Math.min(max.x, this.x));\n        this.y = Math.max(min.y, Math.min(max.y, this.y));\n        this.z = Math.max(min.z, Math.min(max.z, this.z));\n\n        return this;\n\n    }\n\n    clampScalar(minVal, maxVal) {\n\n        this.x = Math.max(minVal, Math.min(maxVal, this.x));\n        this.y = Math.max(minVal, Math.min(maxVal, this.y));\n        this.z = Math.max(minVal, Math.min(maxVal, this.z));\n\n        return this;\n\n    }\n\n    clampLength(min, max) {\n\n        const length = this.length();\n\n        return this.divideScalar(length || 1).multiplyScalar(Math.max(min, Math.min(max, length)));\n\n    }\n\n    floor() {\n\n        this.x = Math.floor(this.x);\n        this.y = Math.floor(this.y);\n        this.z = Math.floor(this.z);\n\n        return this;\n\n    }\n\n    ceil() {\n\n        this.x = Math.ceil(this.x);\n        this.y = Math.ceil(this.y);\n        this.z = Math.ceil(this.z);\n\n        return this;\n\n    }\n\n    round() {\n\n        this.x = Math.round(this.x);\n        this.y = Math.round(this.y);\n        this.z = Math.round(this.z);\n\n        return this;\n\n    }\n\n    roundToZero() {\n\n        this.x = (this.x < 0) ? Math.ceil(this.x) : Math.floor(this.x);\n        this.y = (this.y < 0) ? Math.ceil(this.y) : Math.floor(this.y);\n        this.z = (this.z < 0) ? Math.ceil(this.z) : Math.floor(this.z);\n\n        return this;\n\n    }\n\n    negate() {\n\n        this.x = -this.x;\n        this.y = -this.y;\n        this.z = -this.z;\n\n        return this;\n\n    }\n\n    dot(v) {\n\n        return this.x * v.x + this.y * v.y + this.z * v.z;\n\n    }\n\n    // TODO lengthSquared?\n\n    lengthSq() {\n\n        return this.x * this.x + this.y * this.y + this.z * this.z;\n\n    }\n\n    length() {\n\n        return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n\n    }\n\n    manhattanLength() {\n\n        return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z);\n\n    }\n\n    normalize() {\n\n        return this.divideScalar(this.length() || 1);\n\n    }\n\n    setLength(length) {\n\n        return this.normalize().multiplyScalar(length);\n\n    }\n\n    lerp(v, alpha) {\n\n        this.x += (v.x - this.x) * alpha;\n        this.y += (v.y - this.y) * alpha;\n        this.z += (v.z - this.z) * alpha;\n\n        return this;\n\n    }\n\n    lerpVectors(v1, v2, alpha) {\n\n        this.x = v1.x + (v2.x - v1.x) * alpha;\n        this.y = v1.y + (v2.y - v1.y) * alpha;\n        this.z = v1.z + (v2.z - v1.z) * alpha;\n\n        return this;\n\n    }\n\n    cross(v, w) {\n\n        if (w !== undefined) {\n\n            console.warn('THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.');\n            return this.crossVectors(v, w);\n\n        }\n\n        return this.crossVectors(this, v);\n\n    }\n\n    crossVectors(a, b) {\n\n        const ax = a.x,\n            ay = a.y,\n            az = a.z;\n        const bx = b.x,\n            by = b.y,\n            bz = b.z;\n\n        this.x = ay * bz - az * by;\n        this.y = az * bx - ax * bz;\n        this.z = ax * by - ay * bx;\n\n        return this;\n\n    }\n\n    projectOnVector(v) {\n\n        const denominator = v.lengthSq();\n\n        if (denominator === 0) return this.set(0, 0, 0);\n\n        const scalar = v.dot(this) / denominator;\n\n        return this.copy(v).multiplyScalar(scalar);\n\n    }\n\n    projectOnPlane(planeNormal) {\n\n        _vector.copy(this).projectOnVector(planeNormal);\n\n        return this.sub(_vector);\n\n    }\n\n    reflect(normal) {\n\n        // reflect incident vector off plane orthogonal to normal\n        // normal is assumed to have unit length\n\n        return this.sub(_vector.copy(normal).multiplyScalar(2 * this.dot(normal)));\n\n    }\n\n    angleTo(v) {\n\n        const denominator = Math.sqrt(this.lengthSq() * v.lengthSq());\n\n        if (denominator === 0) return Math.PI / 2;\n\n        const theta = this.dot(v) / denominator;\n\n        // clamp, to handle numerical problems\n\n        return Math.acos(MathUtils.clamp(theta, -1, 1));\n\n    }\n\n    distanceTo(v) {\n\n        return Math.sqrt(this.distanceToSquared(v));\n\n    }\n\n    distanceToSquared(v) {\n\n        const dx = this.x - v.x,\n            dy = this.y - v.y,\n            dz = this.z - v.z;\n\n        return dx * dx + dy * dy + dz * dz;\n\n    }\n\n    manhattanDistanceTo(v) {\n\n        return Math.abs(this.x - v.x) + Math.abs(this.y - v.y) + Math.abs(this.z - v.z);\n\n    }\n\n    setFromSpherical(s) {\n\n        return this.setFromSphericalCoords(s.radius, s.phi, s.theta);\n\n    }\n\n    setFromSphericalCoords(radius, phi, theta) {\n\n        const sinPhiRadius = Math.sin(phi) * radius;\n\n        this.x = sinPhiRadius * Math.sin(theta);\n        this.y = Math.cos(phi) * radius;\n        this.z = sinPhiRadius * Math.cos(theta);\n\n        return this;\n\n    }\n\n    setFromCylindrical(c) {\n\n        return this.setFromCylindricalCoords(c.radius, c.theta, c.y);\n\n    }\n\n    setFromCylindricalCoords(radius, theta, y) {\n\n        this.x = radius * Math.sin(theta);\n        this.y = y;\n        this.z = radius * Math.cos(theta);\n\n        return this;\n\n    }\n\n    setFromMatrixPosition(m) {\n\n        const e = m.elements;\n\n        this.x = e[12];\n        this.y = e[13];\n        this.z = e[14];\n\n        return this;\n\n    }\n\n    setFromMatrixScale(m) {\n\n        const sx = this.setFromMatrixColumn(m, 0).length();\n        const sy = this.setFromMatrixColumn(m, 1).length();\n        const sz = this.setFromMatrixColumn(m, 2).length();\n\n        this.x = sx;\n        this.y = sy;\n        this.z = sz;\n\n        return this;\n\n    }\n\n    setFromMatrixColumn(m, index) {\n\n        return this.fromArray(m.elements, index * 4);\n\n    }\n\n    setFromMatrix3Column(m, index) {\n\n        return this.fromArray(m.elements, index * 3);\n\n    }\n\n    equals(v) {\n\n        return ((v.x === this.x) && (v.y === this.y) && (v.z === this.z));\n\n    }\n\n    fromArray(array, offset = 0) {\n\n        this.x = array[offset];\n        this.y = array[offset + 1];\n        this.z = array[offset + 2];\n\n        return this;\n\n    }\n\n    toArray(array = [], offset = 0) {\n\n        array[offset] = this.x;\n        array[offset + 1] = this.y;\n        array[offset + 2] = this.z;\n\n        return array;\n\n    }\n\n    fromBufferAttribute(attribute, index, offset) {\n\n        if (offset !== undefined) {\n\n            console.warn('THREE.Vector3: offset has been removed from .fromBufferAttribute().');\n\n        }\n\n        this.x = attribute.getX(index);\n        this.y = attribute.getY(index);\n        this.z = attribute.getZ(index);\n\n        return this;\n\n    }\n\n    random() {\n\n        this.x = Math.random();\n        this.y = Math.random();\n        this.z = Math.random();\n\n        return this;\n\n    }\n\n}\n\nconst _vector = /*@__PURE__*/ new Vector3();\nconst _quaternion = /*@__PURE__*/ new Quaternion();\n\nclass Box3 {\n\n    constructor(min, max) {\n\n        Object.defineProperty(this, 'isBox3', {\n            value: true\n        });\n\n        this.min = (min !== undefined) ? min : new Vector3(+Infinity, +Infinity, +Infinity);\n        this.max = (max !== undefined) ? max : new Vector3(-Infinity, -Infinity, -Infinity);\n\n    }\n\n    set(min, max) {\n\n        this.min.copy(min);\n        this.max.copy(max);\n\n        return this;\n\n    }\n\n    setFromArray(array) {\n\n        let minX = +Infinity;\n        let minY = +Infinity;\n        let minZ = +Infinity;\n\n        let maxX = -Infinity;\n        let maxY = -Infinity;\n        let maxZ = -Infinity;\n\n        for (let i = 0, l = array.length; i < l; i += 3) {\n\n            const x = array[i];\n            const y = array[i + 1];\n            const z = array[i + 2];\n\n            if (x < minX) minX = x;\n            if (y < minY) minY = y;\n            if (z < minZ) minZ = z;\n\n            if (x > maxX) maxX = x;\n            if (y > maxY) maxY = y;\n            if (z > maxZ) maxZ = z;\n\n        }\n\n        this.min.set(minX, minY, minZ);\n        this.max.set(maxX, maxY, maxZ);\n\n        return this;\n\n    }\n\n    setFromBufferAttribute(attribute) {\n\n        let minX = +Infinity;\n        let minY = +Infinity;\n        let minZ = +Infinity;\n\n        let maxX = -Infinity;\n        let maxY = -Infinity;\n        let maxZ = -Infinity;\n\n        for (let i = 0, l = attribute.count; i < l; i++) {\n\n            const x = attribute.getX(i);\n            const y = attribute.getY(i);\n            const z = attribute.getZ(i);\n\n            if (x < minX) minX = x;\n            if (y < minY) minY = y;\n            if (z < minZ) minZ = z;\n\n            if (x > maxX) maxX = x;\n            if (y > maxY) maxY = y;\n            if (z > maxZ) maxZ = z;\n\n        }\n\n        this.min.set(minX, minY, minZ);\n        this.max.set(maxX, maxY, maxZ);\n\n        return this;\n\n    }\n\n    setFromPoints(points) {\n\n        this.makeEmpty();\n\n        for (let i = 0, il = points.length; i < il; i++) {\n\n            this.expandByPoint(points[i]);\n\n        }\n\n        return this;\n\n    }\n\n    setFromCenterAndSize(center, size) {\n\n        const halfSize = _vector$1.copy(size).multiplyScalar(0.5);\n\n        this.min.copy(center).sub(halfSize);\n        this.max.copy(center).add(halfSize);\n\n        return this;\n\n    }\n\n    setFromObject(object) {\n\n        this.makeEmpty();\n\n        return this.expandByObject(object);\n\n    }\n\n    clone() {\n\n        return new this.constructor().copy(this);\n\n    }\n\n    copy(box) {\n\n        this.min.copy(box.min);\n        this.max.copy(box.max);\n\n        return this;\n\n    }\n\n    makeEmpty() {\n\n        this.min.x = this.min.y = this.min.z = +Infinity;\n        this.max.x = this.max.y = this.max.z = -Infinity;\n\n        return this;\n\n    }\n\n    isEmpty() {\n\n        // this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n        return (this.max.x < this.min.x) || (this.max.y < this.min.y) || (this.max.z < this.min.z);\n\n    }\n\n    getCenter(target) {\n\n        if (target === undefined) {\n\n            console.warn('THREE.Box3: .getCenter() target is now required');\n            target = new Vector3();\n\n        }\n\n        return this.isEmpty() ? target.set(0, 0, 0) : target.addVectors(this.min, this.max).multiplyScalar(0.5);\n\n    }\n\n    getSize(target) {\n\n        if (target === undefined) {\n\n            console.warn('THREE.Box3: .getSize() target is now required');\n            target = new Vector3();\n\n        }\n\n        return this.isEmpty() ? target.set(0, 0, 0) : target.subVectors(this.max, this.min);\n\n    }\n\n    expandByPoint(point) {\n\n        this.min.min(point);\n        this.max.max(point);\n\n        return this;\n\n    }\n\n    expandByVector(vector) {\n\n        this.min.sub(vector);\n        this.max.add(vector);\n\n        return this;\n\n    }\n\n    expandByScalar(scalar) {\n\n        this.min.addScalar(-scalar);\n        this.max.addScalar(scalar);\n\n        return this;\n\n    }\n\n    expandByObject(object) {\n\n        // Computes the world-axis-aligned bounding box of an object (including its children),\n        // accounting for both the object's, and children's, world transforms\n\n        object.updateWorldMatrix(false, false);\n\n        const geometry = object.geometry;\n\n        if (geometry !== undefined) {\n\n            if (geometry.boundingBox === null) {\n\n                geometry.computeBoundingBox();\n\n            }\n\n            _box.copy(geometry.boundingBox);\n            _box.applyMatrix4(object.matrixWorld);\n\n            this.union(_box);\n\n        }\n\n        const children = object.children;\n\n        for (let i = 0, l = children.length; i < l; i++) {\n\n            this.expandByObject(children[i]);\n\n        }\n\n        return this;\n\n    }\n\n    containsPoint(point) {\n\n        return point.x < this.min.x || point.x > this.max.x ||\n            point.y < this.min.y || point.y > this.max.y ||\n            point.z < this.min.z || point.z > this.max.z ? false : true;\n\n    }\n\n    containsBox(box) {\n\n        return this.min.x <= box.min.x && box.max.x <= this.max.x &&\n            this.min.y <= box.min.y && box.max.y <= this.max.y &&\n            this.min.z <= box.min.z && box.max.z <= this.max.z;\n\n    }\n\n    getParameter(point, target) {\n\n        // This can potentially have a divide by zero if the box\n        // has a size dimension of 0.\n\n        if (target === undefined) {\n\n            console.warn('THREE.Box3: .getParameter() target is now required');\n            target = new Vector3();\n\n        }\n\n        return target.set(\n            (point.x - this.min.x) / (this.max.x - this.min.x),\n            (point.y - this.min.y) / (this.max.y - this.min.y),\n            (point.z - this.min.z) / (this.max.z - this.min.z)\n        );\n\n    }\n\n    intersectsBox(box) {\n\n        // using 6 splitting planes to rule out intersections.\n        return box.max.x < this.min.x || box.min.x > this.max.x ||\n            box.max.y < this.min.y || box.min.y > this.max.y ||\n            box.max.z < this.min.z || box.min.z > this.max.z ? false : true;\n\n    }\n\n    intersectsSphere(sphere) {\n\n        // Find the point on the AABB closest to the sphere center.\n        this.clampPoint(sphere.center, _vector$1);\n\n        // If that point is inside the sphere, the AABB and sphere intersect.\n        return _vector$1.distanceToSquared(sphere.center) <= (sphere.radius * sphere.radius);\n\n    }\n\n    intersectsPlane(plane) {\n\n        // We compute the minimum and maximum dot product values. If those values\n        // are on the same side (back or front) of the plane, then there is no intersection.\n\n        let min, max;\n\n        if (plane.normal.x > 0) {\n\n            min = plane.normal.x * this.min.x;\n            max = plane.normal.x * this.max.x;\n\n        } else {\n\n            min = plane.normal.x * this.max.x;\n            max = plane.normal.x * this.min.x;\n\n        }\n\n        if (plane.normal.y > 0) {\n\n            min += plane.normal.y * this.min.y;\n            max += plane.normal.y * this.max.y;\n\n        } else {\n\n            min += plane.normal.y * this.max.y;\n            max += plane.normal.y * this.min.y;\n\n        }\n\n        if (plane.normal.z > 0) {\n\n            min += plane.normal.z * this.min.z;\n            max += plane.normal.z * this.max.z;\n\n        } else {\n\n            min += plane.normal.z * this.max.z;\n            max += plane.normal.z * this.min.z;\n\n        }\n\n        return (min <= -plane.constant && max >= -plane.constant);\n\n    }\n\n    intersectsTriangle(triangle) {\n\n        if (this.isEmpty()) {\n\n            return false;\n\n        }\n\n        // compute box center and extents\n        this.getCenter(_center);\n        _extents.subVectors(this.max, _center);\n\n        // translate triangle to aabb origin\n        _v0.subVectors(triangle.a, _center);\n        _v1.subVectors(triangle.b, _center);\n        _v2.subVectors(triangle.c, _center);\n\n        // compute edge vectors for triangle\n        _f0.subVectors(_v1, _v0);\n        _f1.subVectors(_v2, _v1);\n        _f2.subVectors(_v0, _v2);\n\n        // test against axes that are given by cross product combinations of the edges of the triangle and the edges of the aabb\n        // make an axis testing of each of the 3 sides of the aabb against each of the 3 sides of the triangle = 9 axis of separation\n        // axis_ij = u_i x f_j (u0, u1, u2 = face normals of aabb = x,y,z axes vectors since aabb is axis aligned)\n        let axes = [\n            0, -_f0.z, _f0.y, 0, -_f1.z, _f1.y, 0, -_f2.z, _f2.y,\n            _f0.z, 0, -_f0.x, _f1.z, 0, -_f1.x, _f2.z, 0, -_f2.x, -_f0.y, _f0.x, 0, -_f1.y, _f1.x, 0, -_f2.y, _f2.x, 0\n        ];\n        if (!satForAxes(axes, _v0, _v1, _v2, _extents)) {\n\n            return false;\n\n        }\n\n        // test 3 face normals from the aabb\n        axes = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n        if (!satForAxes(axes, _v0, _v1, _v2, _extents)) {\n\n            return false;\n\n        }\n\n        // finally testing the face normal of the triangle\n        // use already existing triangle edge vectors here\n        _triangleNormal.crossVectors(_f0, _f1);\n        axes = [_triangleNormal.x, _triangleNormal.y, _triangleNormal.z];\n\n        return satForAxes(axes, _v0, _v1, _v2, _extents);\n\n    }\n\n    clampPoint(point, target) {\n\n        if (target === undefined) {\n\n            console.warn('THREE.Box3: .clampPoint() target is now required');\n            target = new Vector3();\n\n        }\n\n        return target.copy(point).clamp(this.min, this.max);\n\n    }\n\n    distanceToPoint(point) {\n\n        const clampedPoint = _vector$1.copy(point).clamp(this.min, this.max);\n\n        return clampedPoint.sub(point).length();\n\n    }\n\n    getBoundingSphere(target) {\n\n        if (target === undefined) {\n\n            console.error('THREE.Box3: .getBoundingSphere() target is now required');\n            //target = new Sphere(); // removed to avoid cyclic dependency\n\n        }\n\n        this.getCenter(target.center);\n\n        target.radius = this.getSize(_vector$1).length() * 0.5;\n\n        return target;\n\n    }\n\n    intersect(box) {\n\n        this.min.max(box.min);\n        this.max.min(box.max);\n\n        // ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.\n        if (this.isEmpty()) this.makeEmpty();\n\n        return this;\n\n    }\n\n    union(box) {\n\n        this.min.min(box.min);\n        this.max.max(box.max);\n\n        return this;\n\n    }\n\n    applyMatrix4(matrix) {\n\n        // transform of empty box is an empty box.\n        if (this.isEmpty()) return this;\n\n        // NOTE: I am using a binary pattern to specify all 2^3 combinations below\n        _points[0].set(this.min.x, this.min.y, this.min.z).applyMatrix4(matrix); // 000\n        _points[1].set(this.min.x, this.min.y, this.max.z).applyMatrix4(matrix); // 001\n        _points[2].set(this.min.x, this.max.y, this.min.z).applyMatrix4(matrix); // 010\n        _points[3].set(this.min.x, this.max.y, this.max.z).applyMatrix4(matrix); // 011\n        _points[4].set(this.max.x, this.min.y, this.min.z).applyMatrix4(matrix); // 100\n        _points[5].set(this.max.x, this.min.y, this.max.z).applyMatrix4(matrix); // 101\n        _points[6].set(this.max.x, this.max.y, this.min.z).applyMatrix4(matrix); // 110\n        _points[7].set(this.max.x, this.max.y, this.max.z).applyMatrix4(matrix); // 111\n\n        this.setFromPoints(_points);\n\n        return this;\n\n    }\n\n    translate(offset) {\n\n        this.min.add(offset);\n        this.max.add(offset);\n\n        return this;\n\n    }\n\n    equals(box) {\n\n        return box.min.equals(this.min) && box.max.equals(this.max);\n\n    }\n\n}\n\nfunction satForAxes(axes, v0, v1, v2, extents) {\n\n    for (let i = 0, j = axes.length - 3; i <= j; i += 3) {\n\n        _testAxis.fromArray(axes, i);\n        // project the aabb onto the seperating axis\n        const r = extents.x * Math.abs(_testAxis.x) + extents.y * Math.abs(_testAxis.y) + extents.z * Math.abs(_testAxis.z);\n        // project all 3 vertices of the triangle onto the seperating axis\n        const p0 = v0.dot(_testAxis);\n        const p1 = v1.dot(_testAxis);\n        const p2 = v2.dot(_testAxis);\n        // actual test, basically see if either of the most extreme of the triangle points intersects r\n        if (Math.max(-Math.max(p0, p1, p2), Math.min(p0, p1, p2)) > r) {\n\n            // points of the projected triangle are outside the projected half-length of the aabb\n            // the axis is seperating and we can exit\n            return false;\n\n        }\n\n    }\n\n    return true;\n\n}\n\nconst _points = [\n    /*@__PURE__*/\n    new Vector3(),\n    /*@__PURE__*/\n    new Vector3(),\n    /*@__PURE__*/\n    new Vector3(),\n    /*@__PURE__*/\n    new Vector3(),\n    /*@__PURE__*/\n    new Vector3(),\n    /*@__PURE__*/\n    new Vector3(),\n    /*@__PURE__*/\n    new Vector3(),\n    /*@__PURE__*/\n    new Vector3()\n];\n\nconst _vector$1 = /*@__PURE__*/ new Vector3();\n\nconst _box = /*@__PURE__*/ new Box3();\n\n// triangle centered vertices\n\nconst _v0 = /*@__PURE__*/ new Vector3();\nconst _v1 = /*@__PURE__*/ new Vector3();\nconst _v2 = /*@__PURE__*/ new Vector3();\n\n// triangle edge vectors\n\nconst _f0 = /*@__PURE__*/ new Vector3();\nconst _f1 = /*@__PURE__*/ new Vector3();\nconst _f2 = /*@__PURE__*/ new Vector3();\n\nconst _center = /*@__PURE__*/ new Vector3();\nconst _extents = /*@__PURE__*/ new Vector3();\nconst _triangleNormal = /*@__PURE__*/ new Vector3();\nconst _testAxis = /*@__PURE__*/ new Vector3();\n\nconst _box$1 = /*@__PURE__*/ new Box3();\n\nclass Sphere {\n\n    constructor(center, radius) {\n\n        this.center = (center !== undefined) ? center : new Vector3();\n        this.radius = (radius !== undefined) ? radius : -1;\n\n    }\n\n    set(center, radius) {\n\n        this.center.copy(center);\n        this.radius = radius;\n\n        return this;\n\n    }\n\n    setFromPoints(points, optionalCenter) {\n\n        const center = this.center;\n\n        if (optionalCenter !== undefined) {\n\n            center.copy(optionalCenter);\n\n        } else {\n\n            _box$1.setFromPoints(points).getCenter(center);\n\n        }\n\n        let maxRadiusSq = 0;\n\n        for (let i = 0, il = points.length; i < il; i++) {\n\n            maxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(points[i]));\n\n        }\n\n        this.radius = Math.sqrt(maxRadiusSq);\n\n        return this;\n\n    }\n\n    clone() {\n\n        return new this.constructor().copy(this);\n\n    }\n\n    copy(sphere) {\n\n        this.center.copy(sphere.center);\n        this.radius = sphere.radius;\n\n        return this;\n\n    }\n\n    isEmpty() {\n\n        return (this.radius < 0);\n\n    }\n\n    makeEmpty() {\n\n        this.center.set(0, 0, 0);\n        this.radius = -1;\n\n        return this;\n\n    }\n\n    containsPoint(point) {\n\n        return (point.distanceToSquared(this.center) <= (this.radius * this.radius));\n\n    }\n\n    distanceToPoint(point) {\n\n        return (point.distanceTo(this.center) - this.radius);\n\n    }\n\n    intersectsSphere(sphere) {\n\n        const radiusSum = this.radius + sphere.radius;\n\n        return sphere.center.distanceToSquared(this.center) <= (radiusSum * radiusSum);\n\n    }\n\n    intersectsBox(box) {\n\n        return box.intersectsSphere(this);\n\n    }\n\n    intersectsPlane(plane) {\n\n        return Math.abs(plane.distanceToPoint(this.center)) <= this.radius;\n\n    }\n\n    clampPoint(point, target) {\n\n        const deltaLengthSq = this.center.distanceToSquared(point);\n\n        if (target === undefined) {\n\n            console.warn('THREE.Sphere: .clampPoint() target is now required');\n            target = new Vector3();\n\n        }\n\n        target.copy(point);\n\n        if (deltaLengthSq > (this.radius * this.radius)) {\n\n            target.sub(this.center).normalize();\n            target.multiplyScalar(this.radius).add(this.center);\n\n        }\n\n        return target;\n\n    }\n\n    getBoundingBox(target) {\n\n        if (target === undefined) {\n\n            console.warn('THREE.Sphere: .getBoundingBox() target is now required');\n            target = new Box3();\n\n        }\n\n        if (this.isEmpty()) {\n\n            // Empty sphere produces empty bounding box\n            target.makeEmpty();\n            return target;\n\n        }\n\n        target.set(this.center, this.center);\n        target.expandByScalar(this.radius);\n\n        return target;\n\n    }\n\n    applyMatrix4(matrix) {\n\n        this.center.applyMatrix4(matrix);\n        this.radius = this.radius * matrix.getMaxScaleOnAxis();\n\n        return this;\n\n    }\n\n    translate(offset) {\n\n        this.center.add(offset);\n\n        return this;\n\n    }\n\n    equals(sphere) {\n\n        return sphere.center.equals(this.center) && (sphere.radius === this.radius);\n\n    }\n\n}\n\nconst _vector$2 = /*@__PURE__*/ new Vector3();\nconst _segCenter = /*@__PURE__*/ new Vector3();\nconst _segDir = /*@__PURE__*/ new Vector3();\nconst _diff = /*@__PURE__*/ new Vector3();\n\nconst _edge1 = /*@__PURE__*/ new Vector3();\nconst _edge2 = /*@__PURE__*/ new Vector3();\nconst _normal = /*@__PURE__*/ new Vector3();\n\nclass Ray {\n\n    constructor(origin, direction) {\n\n        this.origin = (origin !== undefined) ? origin : new Vector3();\n        this.direction = (direction !== undefined) ? direction : new Vector3(0, 0, -1);\n\n    }\n\n    set(origin, direction) {\n\n        this.origin.copy(origin);\n        this.direction.copy(direction);\n\n        return this;\n\n    }\n\n    clone() {\n\n        return new this.constructor().copy(this);\n\n    }\n\n    copy(ray) {\n\n        this.origin.copy(ray.origin);\n        this.direction.copy(ray.direction);\n\n        return this;\n\n    }\n\n    at(t, target) {\n\n        if (target === undefined) {\n\n            console.warn('THREE.Ray: .at() target is now required');\n            target = new Vector3();\n\n        }\n\n        return target.copy(this.direction).multiplyScalar(t).add(this.origin);\n\n    }\n\n    lookAt(v) {\n\n        this.direction.copy(v).sub(this.origin).normalize();\n\n        return this;\n\n    }\n\n    recast(t) {\n\n        this.origin.copy(this.at(t, _vector$2));\n\n        return this;\n\n    }\n\n    closestPointToPoint(point, target) {\n\n        if (target === undefined) {\n\n            console.warn('THREE.Ray: .closestPointToPoint() target is now required');\n            target = new Vector3();\n\n        }\n\n        target.subVectors(point, this.origin);\n\n        const directionDistance = target.dot(this.direction);\n\n        if (directionDistance < 0) {\n\n            return target.copy(this.origin);\n\n        }\n\n        return target.copy(this.direction).multiplyScalar(directionDistance).add(this.origin);\n\n    }\n\n    distanceToPoint(point) {\n\n        return Math.sqrt(this.distanceSqToPoint(point));\n\n    }\n\n    distanceSqToPoint(point) {\n\n        const directionDistance = _vector$2.subVectors(point, this.origin).dot(this.direction);\n\n        // point behind the ray\n\n        if (directionDistance < 0) {\n\n            return this.origin.distanceToSquared(point);\n\n        }\n\n        _vector$2.copy(this.direction).multiplyScalar(directionDistance).add(this.origin);\n\n        return _vector$2.distanceToSquared(point);\n\n    }\n\n    distanceSqToSegment(v0, v1, optionalPointOnRay, optionalPointOnSegment) {\n\n        // from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteDistRaySegment.h\n        // It returns the min distance between the ray and the segment\n        // defined by v0 and v1\n        // It can also set two optional targets :\n        // - The closest point on the ray\n        // - The closest point on the segment\n\n        _segCenter.copy(v0).add(v1).multiplyScalar(0.5);\n        _segDir.copy(v1).sub(v0).normalize();\n        _diff.copy(this.origin).sub(_segCenter);\n\n        const segExtent = v0.distanceTo(v1) * 0.5;\n        const a01 = -this.direction.dot(_segDir);\n        const b0 = _diff.dot(this.direction);\n        const b1 = -_diff.dot(_segDir);\n        const c = _diff.lengthSq();\n        const det = Math.abs(1 - a01 * a01);\n        let s0, s1, sqrDist, extDet;\n\n        if (det > 0) {\n\n            // The ray and segment are not parallel.\n\n            s0 = a01 * b1 - b0;\n            s1 = a01 * b0 - b1;\n            extDet = segExtent * det;\n\n            if (s0 >= 0) {\n\n                if (s1 >= -extDet) {\n\n                    if (s1 <= extDet) {\n\n                        // region 0\n                        // Minimum at interior points of ray and segment.\n\n                        const invDet = 1 / det;\n                        s0 *= invDet;\n                        s1 *= invDet;\n                        sqrDist = s0 * (s0 + a01 * s1 + 2 * b0) + s1 * (a01 * s0 + s1 + 2 * b1) + c;\n\n                    } else {\n\n                        // region 1\n\n                        s1 = segExtent;\n                        s0 = Math.max(0, -(a01 * s1 + b0));\n                        sqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;\n\n                    }\n\n                } else {\n\n                    // region 5\n\n                    s1 = -segExtent;\n                    s0 = Math.max(0, -(a01 * s1 + b0));\n                    sqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;\n\n                }\n\n            } else {\n\n                if (s1 <= -extDet) {\n\n                    // region 4\n\n                    s0 = Math.max(0, -(-a01 * segExtent + b0));\n                    s1 = (s0 > 0) ? -segExtent : Math.min(Math.max(-segExtent, -b1), segExtent);\n                    sqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;\n\n                } else if (s1 <= extDet) {\n\n                    // region 3\n\n                    s0 = 0;\n                    s1 = Math.min(Math.max(-segExtent, -b1), segExtent);\n                    sqrDist = s1 * (s1 + 2 * b1) + c;\n\n                } else {\n\n                    // region 2\n\n                    s0 = Math.max(0, -(a01 * segExtent + b0));\n                    s1 = (s0 > 0) ? segExtent : Math.min(Math.max(-segExtent, -b1), segExtent);\n                    sqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;\n\n                }\n\n            }\n\n        } else {\n\n            // Ray and segment are parallel.\n\n            s1 = (a01 > 0) ? -segExtent : segExtent;\n            s0 = Math.max(0, -(a01 * s1 + b0));\n            sqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;\n\n        }\n\n        if (optionalPointOnRay) {\n\n            optionalPointOnRay.copy(this.direction).multiplyScalar(s0).add(this.origin);\n\n        }\n\n        if (optionalPointOnSegment) {\n\n            optionalPointOnSegment.copy(_segDir).multiplyScalar(s1).add(_segCenter);\n\n        }\n\n        return sqrDist;\n\n    }\n\n    intersectSphere(sphere, target) {\n\n        _vector$2.subVectors(sphere.center, this.origin);\n        const tca = _vector$2.dot(this.direction);\n        const d2 = _vector$2.dot(_vector$2) - tca * tca;\n        const radius2 = sphere.radius * sphere.radius;\n\n        if (d2 > radius2) return null;\n\n        const thc = Math.sqrt(radius2 - d2);\n\n        // t0 = first intersect point - entrance on front of sphere\n        const t0 = tca - thc;\n\n        // t1 = second intersect point - exit point on back of sphere\n        const t1 = tca + thc;\n\n        // test to see if both t0 and t1 are behind the ray - if so, return null\n        if (t0 < 0 && t1 < 0) return null;\n\n        // test to see if t0 is behind the ray:\n        // if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\n        // in order to always return an intersect point that is in front of the ray.\n        if (t0 < 0) return this.at(t1, target);\n\n        // else t0 is in front of the ray, so return the first collision point scaled by t0\n        return this.at(t0, target);\n\n    }\n\n    intersectsSphere(sphere) {\n\n        return this.distanceSqToPoint(sphere.center) <= (sphere.radius * sphere.radius);\n\n    }\n\n    distanceToPlane(plane) {\n\n        const denominator = plane.normal.dot(this.direction);\n\n        if (denominator === 0) {\n\n            // line is coplanar, return origin\n            if (plane.distanceToPoint(this.origin) === 0) {\n\n                return 0;\n\n            }\n\n            // Null is preferable to undefined since undefined means.... it is undefined\n\n            return null;\n\n        }\n\n        const t = -(this.origin.dot(plane.normal) + plane.constant) / denominator;\n\n        // Return if the ray never intersects the plane\n\n        return t >= 0 ? t : null;\n\n    }\n\n    intersectPlane(plane, target) {\n\n        const t = this.distanceToPlane(plane);\n\n        if (t === null) {\n\n            return null;\n\n        }\n\n        return this.at(t, target);\n\n    }\n\n    intersectsPlane(plane) {\n\n        // check if the ray lies on the plane first\n\n        const distToPoint = plane.distanceToPoint(this.origin);\n\n        if (distToPoint === 0) {\n\n            return true;\n\n        }\n\n        const denominator = plane.normal.dot(this.direction);\n\n        if (denominator * distToPoint < 0) {\n\n            return true;\n\n        }\n\n        // ray origin is behind the plane (and is pointing behind it)\n\n        return false;\n\n    }\n\n    intersectBox(box, target) {\n\n        let tmin, tmax, tymin, tymax, tzmin, tzmax;\n\n        const invdirx = 1 / this.direction.x,\n            invdiry = 1 / this.direction.y,\n            invdirz = 1 / this.direction.z;\n\n        const origin = this.origin;\n\n        if (invdirx >= 0) {\n\n            tmin = (box.min.x - origin.x) * invdirx;\n            tmax = (box.max.x - origin.x) * invdirx;\n\n        } else {\n\n            tmin = (box.max.x - origin.x) * invdirx;\n            tmax = (box.min.x - origin.x) * invdirx;\n\n        }\n\n        if (invdiry >= 0) {\n\n            tymin = (box.min.y - origin.y) * invdiry;\n            tymax = (box.max.y - origin.y) * invdiry;\n\n        } else {\n\n            tymin = (box.max.y - origin.y) * invdiry;\n            tymax = (box.min.y - origin.y) * invdiry;\n\n        }\n\n        if ((tmin > tymax) || (tymin > tmax)) return null;\n\n        // These lines also handle the case where tmin or tmax is NaN\n        // (result of 0 * Infinity). x !== x returns true if x is NaN\n\n        if (tymin > tmin || tmin !== tmin) tmin = tymin;\n\n        if (tymax < tmax || tmax !== tmax) tmax = tymax;\n\n        if (invdirz >= 0) {\n\n            tzmin = (box.min.z - origin.z) * invdirz;\n            tzmax = (box.max.z - origin.z) * invdirz;\n\n        } else {\n\n            tzmin = (box.max.z - origin.z) * invdirz;\n            tzmax = (box.min.z - origin.z) * invdirz;\n\n        }\n\n        if ((tmin > tzmax) || (tzmin > tmax)) return null;\n\n        if (tzmin > tmin || tmin !== tmin) tmin = tzmin;\n\n        if (tzmax < tmax || tmax !== tmax) tmax = tzmax;\n\n        //return point closest to the ray (positive side)\n\n        if (tmax < 0) return null;\n\n        return this.at(tmin >= 0 ? tmin : tmax, target);\n\n    }\n\n    intersectsBox(box) {\n\n        return this.intersectBox(box, _vector$2) !== null;\n\n    }\n\n    intersectTriangle(a, b, c, backfaceCulling, target) {\n\n        // Compute the offset origin, edges, and normal.\n\n        // from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\n\n        _edge1.subVectors(b, a);\n        _edge2.subVectors(c, a);\n        _normal.crossVectors(_edge1, _edge2);\n\n        // Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\n        // E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\n        //   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\n        //   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\n        //   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\n        let DdN = this.direction.dot(_normal);\n        let sign;\n\n        if (DdN > 0) {\n\n            if (backfaceCulling) return null;\n            sign = 1;\n\n        } else if (DdN < 0) {\n\n            sign = -1;\n            DdN = -DdN;\n\n        } else {\n\n            return null;\n\n        }\n\n        _diff.subVectors(this.origin, a);\n        const DdQxE2 = sign * this.direction.dot(_edge2.crossVectors(_diff, _edge2));\n\n        // b1 < 0, no intersection\n        if (DdQxE2 < 0) {\n\n            return null;\n\n        }\n\n        const DdE1xQ = sign * this.direction.dot(_edge1.cross(_diff));\n\n        // b2 < 0, no intersection\n        if (DdE1xQ < 0) {\n\n            return null;\n\n        }\n\n        // b1+b2 > 1, no intersection\n        if (DdQxE2 + DdE1xQ > DdN) {\n\n            return null;\n\n        }\n\n        // Line intersects triangle, check if ray does.\n        const QdN = -sign * _diff.dot(_normal);\n\n        // t < 0, no intersection\n        if (QdN < 0) {\n\n            return null;\n\n        }\n\n        // Ray intersects triangle.\n        return this.at(QdN / DdN, target);\n\n    }\n\n    applyMatrix4(matrix4) {\n\n        this.origin.applyMatrix4(matrix4);\n        this.direction.transformDirection(matrix4);\n\n        return this;\n\n    }\n\n    equals(ray) {\n\n        return ray.origin.equals(this.origin) && ray.direction.equals(this.direction);\n\n    }\n\n}\n\nclass Matrix4 {\n\n    constructor() {\n\n        Object.defineProperty(this, 'isMatrix4', {\n            value: true\n        });\n\n        this.elements = [\n\n            1, 0, 0, 0,\n            0, 1, 0, 0,\n            0, 0, 1, 0,\n            0, 0, 0, 1\n\n        ];\n\n        if (arguments.length > 0) {\n\n            console.error('THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.');\n\n        }\n\n    }\n\n    set(n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44) {\n\n        const te = this.elements;\n\n        te[0] = n11;\n        te[4] = n12;\n        te[8] = n13;\n        te[12] = n14;\n        te[1] = n21;\n        te[5] = n22;\n        te[9] = n23;\n        te[13] = n24;\n        te[2] = n31;\n        te[6] = n32;\n        te[10] = n33;\n        te[14] = n34;\n        te[3] = n41;\n        te[7] = n42;\n        te[11] = n43;\n        te[15] = n44;\n\n        return this;\n\n    }\n\n    identity() {\n\n        this.set(\n\n            1, 0, 0, 0,\n            0, 1, 0, 0,\n            0, 0, 1, 0,\n            0, 0, 0, 1\n\n        );\n\n        return this;\n\n    }\n\n    clone() {\n\n        return new Matrix4().fromArray(this.elements);\n\n    }\n\n    copy(m) {\n\n        const te = this.elements;\n        const me = m.elements;\n\n        te[0] = me[0];\n        te[1] = me[1];\n        te[2] = me[2];\n        te[3] = me[3];\n        te[4] = me[4];\n        te[5] = me[5];\n        te[6] = me[6];\n        te[7] = me[7];\n        te[8] = me[8];\n        te[9] = me[9];\n        te[10] = me[10];\n        te[11] = me[11];\n        te[12] = me[12];\n        te[13] = me[13];\n        te[14] = me[14];\n        te[15] = me[15];\n\n        return this;\n\n    }\n\n    copyPosition(m) {\n\n        const te = this.elements,\n            me = m.elements;\n\n        te[12] = me[12];\n        te[13] = me[13];\n        te[14] = me[14];\n\n        return this;\n\n    }\n\n    extractBasis(xAxis, yAxis, zAxis) {\n\n        xAxis.setFromMatrixColumn(this, 0);\n        yAxis.setFromMatrixColumn(this, 1);\n        zAxis.setFromMatrixColumn(this, 2);\n\n        return this;\n\n    }\n\n    makeBasis(xAxis, yAxis, zAxis) {\n\n        this.set(\n            xAxis.x, yAxis.x, zAxis.x, 0,\n            xAxis.y, yAxis.y, zAxis.y, 0,\n            xAxis.z, yAxis.z, zAxis.z, 0,\n            0, 0, 0, 1\n        );\n\n        return this;\n\n    }\n\n    extractRotation(m) {\n\n        // this method does not support reflection matrices\n\n        const te = this.elements;\n        const me = m.elements;\n\n        const scaleX = 1 / _v1$1.setFromMatrixColumn(m, 0).length();\n        const scaleY = 1 / _v1$1.setFromMatrixColumn(m, 1).length();\n        const scaleZ = 1 / _v1$1.setFromMatrixColumn(m, 2).length();\n\n        te[0] = me[0] * scaleX;\n        te[1] = me[1] * scaleX;\n        te[2] = me[2] * scaleX;\n        te[3] = 0;\n\n        te[4] = me[4] * scaleY;\n        te[5] = me[5] * scaleY;\n        te[6] = me[6] * scaleY;\n        te[7] = 0;\n\n        te[8] = me[8] * scaleZ;\n        te[9] = me[9] * scaleZ;\n        te[10] = me[10] * scaleZ;\n        te[11] = 0;\n\n        te[12] = 0;\n        te[13] = 0;\n        te[14] = 0;\n        te[15] = 1;\n\n        return this;\n\n    }\n\n    makeRotationFromEuler(euler) {\n\n        if (!(euler && euler.isEuler)) {\n\n            console.error('THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.');\n\n        }\n\n        const te = this.elements;\n\n        const x = euler.x,\n            y = euler.y,\n            z = euler.z;\n        const a = Math.cos(x),\n            b = Math.sin(x);\n        const c = Math.cos(y),\n            d = Math.sin(y);\n        const e = Math.cos(z),\n            f = Math.sin(z);\n\n        if (euler.order === 'XYZ') {\n\n            const ae = a * e,\n                af = a * f,\n                be = b * e,\n                bf = b * f;\n\n            te[0] = c * e;\n            te[4] = -c * f;\n            te[8] = d;\n\n            te[1] = af + be * d;\n            te[5] = ae - bf * d;\n            te[9] = -b * c;\n\n            te[2] = bf - ae * d;\n            te[6] = be + af * d;\n            te[10] = a * c;\n\n        } else if (euler.order === 'YXZ') {\n\n            const ce = c * e,\n                cf = c * f,\n                de = d * e,\n                df = d * f;\n\n            te[0] = ce + df * b;\n            te[4] = de * b - cf;\n            te[8] = a * d;\n\n            te[1] = a * f;\n            te[5] = a * e;\n            te[9] = -b;\n\n            te[2] = cf * b - de;\n            te[6] = df + ce * b;\n            te[10] = a * c;\n\n        } else if (euler.order === 'ZXY') {\n\n            const ce = c * e,\n                cf = c * f,\n                de = d * e,\n                df = d * f;\n\n            te[0] = ce - df * b;\n            te[4] = -a * f;\n            te[8] = de + cf * b;\n\n            te[1] = cf + de * b;\n            te[5] = a * e;\n            te[9] = df - ce * b;\n\n            te[2] = -a * d;\n            te[6] = b;\n            te[10] = a * c;\n\n        } else if (euler.order === 'ZYX') {\n\n            const ae = a * e,\n                af = a * f,\n                be = b * e,\n                bf = b * f;\n\n            te[0] = c * e;\n            te[4] = be * d - af;\n            te[8] = ae * d + bf;\n\n            te[1] = c * f;\n            te[5] = bf * d + ae;\n            te[9] = af * d - be;\n\n            te[2] = -d;\n            te[6] = b * c;\n            te[10] = a * c;\n\n        } else if (euler.order === 'YZX') {\n\n            const ac = a * c,\n                ad = a * d,\n                bc = b * c,\n                bd = b * d;\n\n            te[0] = c * e;\n            te[4] = bd - ac * f;\n            te[8] = bc * f + ad;\n\n            te[1] = f;\n            te[5] = a * e;\n            te[9] = -b * e;\n\n            te[2] = -d * e;\n            te[6] = ad * f + bc;\n            te[10] = ac - bd * f;\n\n        } else if (euler.order === 'XZY') {\n\n            const ac = a * c,\n                ad = a * d,\n                bc = b * c,\n                bd = b * d;\n\n            te[0] = c * e;\n            te[4] = -f;\n            te[8] = d * e;\n\n            te[1] = ac * f + bd;\n            te[5] = a * e;\n            te[9] = ad * f - bc;\n\n            te[2] = bc * f - ad;\n            te[6] = b * e;\n            te[10] = bd * f + ac;\n\n        }\n\n        // bottom row\n        te[3] = 0;\n        te[7] = 0;\n        te[11] = 0;\n\n        // last column\n        te[12] = 0;\n        te[13] = 0;\n        te[14] = 0;\n        te[15] = 1;\n\n        return this;\n\n    }\n\n    makeRotationFromQuaternion(q) {\n\n        return this.compose(_zero, q, _one);\n\n    }\n\n    lookAt(eye, target, up) {\n\n        const te = this.elements;\n\n        _z.subVectors(eye, target);\n\n        if (_z.lengthSq() === 0) {\n\n            // eye and target are in the same position\n\n            _z.z = 1;\n\n        }\n\n        _z.normalize();\n        _x.crossVectors(up, _z);\n\n        if (_x.lengthSq() === 0) {\n\n            // up and z are parallel\n\n            if (Math.abs(up.z) === 1) {\n\n                _z.x += 0.0001;\n\n            } else {\n\n                _z.z += 0.0001;\n\n            }\n\n            _z.normalize();\n            _x.crossVectors(up, _z);\n\n        }\n\n        _x.normalize();\n        _y.crossVectors(_z, _x);\n\n        te[0] = _x.x;\n        te[4] = _y.x;\n        te[8] = _z.x;\n        te[1] = _x.y;\n        te[5] = _y.y;\n        te[9] = _z.y;\n        te[2] = _x.z;\n        te[6] = _y.z;\n        te[10] = _z.z;\n\n        return this;\n\n    }\n\n    multiply(m, n) {\n\n        if (n !== undefined) {\n\n            console.warn('THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.');\n            return this.multiplyMatrices(m, n);\n\n        }\n\n        return this.multiplyMatrices(this, m);\n\n    }\n\n    premultiply(m) {\n\n        return this.multiplyMatrices(m, this);\n\n    }\n\n    multiplyMatrices(a, b) {\n\n        const ae = a.elements;\n        const be = b.elements;\n        const te = this.elements;\n\n        const a11 = ae[0],\n            a12 = ae[4],\n            a13 = ae[8],\n            a14 = ae[12];\n        const a21 = ae[1],\n            a22 = ae[5],\n            a23 = ae[9],\n            a24 = ae[13];\n        const a31 = ae[2],\n            a32 = ae[6],\n            a33 = ae[10],\n            a34 = ae[14];\n        const a41 = ae[3],\n            a42 = ae[7],\n            a43 = ae[11],\n            a44 = ae[15];\n\n        const b11 = be[0],\n            b12 = be[4],\n            b13 = be[8],\n            b14 = be[12];\n        const b21 = be[1],\n            b22 = be[5],\n            b23 = be[9],\n            b24 = be[13];\n        const b31 = be[2],\n            b32 = be[6],\n            b33 = be[10],\n            b34 = be[14];\n        const b41 = be[3],\n            b42 = be[7],\n            b43 = be[11],\n            b44 = be[15];\n\n        te[0] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n        te[4] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n        te[8] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n        te[12] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n        te[1] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n        te[5] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n        te[9] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n        te[13] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n        te[2] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n        te[6] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n        te[10] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n        te[14] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n        te[3] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n        te[7] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n        te[11] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n        te[15] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n        return this;\n\n    }\n\n    multiplyScalar(s) {\n\n        const te = this.elements;\n\n        te[0] *= s;\n        te[4] *= s;\n        te[8] *= s;\n        te[12] *= s;\n        te[1] *= s;\n        te[5] *= s;\n        te[9] *= s;\n        te[13] *= s;\n        te[2] *= s;\n        te[6] *= s;\n        te[10] *= s;\n        te[14] *= s;\n        te[3] *= s;\n        te[7] *= s;\n        te[11] *= s;\n        te[15] *= s;\n\n        return this;\n\n    }\n\n    determinant() {\n\n        const te = this.elements;\n\n        const n11 = te[0],\n            n12 = te[4],\n            n13 = te[8],\n            n14 = te[12];\n        const n21 = te[1],\n            n22 = te[5],\n            n23 = te[9],\n            n24 = te[13];\n        const n31 = te[2],\n            n32 = te[6],\n            n33 = te[10],\n            n34 = te[14];\n        const n41 = te[3],\n            n42 = te[7],\n            n43 = te[11],\n            n44 = te[15];\n\n        //TODO: make this more efficient\n        //( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n        return (\n            n41 * (+n14 * n23 * n32 -\n                n13 * n24 * n32 -\n                n14 * n22 * n33 +\n                n12 * n24 * n33 +\n                n13 * n22 * n34 -\n                n12 * n23 * n34\n            ) +\n            n42 * (+n11 * n23 * n34 -\n                n11 * n24 * n33 +\n                n14 * n21 * n33 -\n                n13 * n21 * n34 +\n                n13 * n24 * n31 -\n                n14 * n23 * n31\n            ) +\n            n43 * (+n11 * n24 * n32 -\n                n11 * n22 * n34 -\n                n14 * n21 * n32 +\n                n12 * n21 * n34 +\n                n14 * n22 * n31 -\n                n12 * n24 * n31\n            ) +\n            n44 * (-n13 * n22 * n31 -\n                n11 * n23 * n32 +\n                n11 * n22 * n33 +\n                n13 * n21 * n32 -\n                n12 * n21 * n33 +\n                n12 * n23 * n31\n            )\n\n        );\n\n    }\n\n    transpose() {\n\n        const te = this.elements;\n        let tmp;\n\n        tmp = te[1];\n        te[1] = te[4];\n        te[4] = tmp;\n        tmp = te[2];\n        te[2] = te[8];\n        te[8] = tmp;\n        tmp = te[6];\n        te[6] = te[9];\n        te[9] = tmp;\n\n        tmp = te[3];\n        te[3] = te[12];\n        te[12] = tmp;\n        tmp = te[7];\n        te[7] = te[13];\n        te[13] = tmp;\n        tmp = te[11];\n        te[11] = te[14];\n        te[14] = tmp;\n\n        return this;\n\n    }\n\n    setPosition(x, y, z) {\n\n        const te = this.elements;\n\n        if (x.isVector3) {\n\n            te[12] = x.x;\n            te[13] = x.y;\n            te[14] = x.z;\n\n        } else {\n\n            te[12] = x;\n            te[13] = y;\n            te[14] = z;\n\n        }\n\n        return this;\n\n    }\n\n    getInverse(m, throwOnDegenerate) {\n\n        if (throwOnDegenerate !== undefined) {\n\n            console.warn(\"THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.\");\n\n        }\n\n        // based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n        const te = this.elements,\n            me = m.elements,\n\n            n11 = me[0],\n            n21 = me[1],\n            n31 = me[2],\n            n41 = me[3],\n            n12 = me[4],\n            n22 = me[5],\n            n32 = me[6],\n            n42 = me[7],\n            n13 = me[8],\n            n23 = me[9],\n            n33 = me[10],\n            n43 = me[11],\n            n14 = me[12],\n            n24 = me[13],\n            n34 = me[14],\n            n44 = me[15],\n\n            t11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n            t12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n            t13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n            t14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\n        const det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n        if (det === 0) return this.set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\n\n        const detInv = 1 / det;\n\n        te[0] = t11 * detInv;\n        te[1] = (n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44) * detInv;\n        te[2] = (n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44) * detInv;\n        te[3] = (n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43) * detInv;\n\n        te[4] = t12 * detInv;\n        te[5] = (n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44) * detInv;\n        te[6] = (n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44) * detInv;\n        te[7] = (n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43) * detInv;\n\n        te[8] = t13 * detInv;\n        te[9] = (n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44) * detInv;\n        te[10] = (n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44) * detInv;\n        te[11] = (n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43) * detInv;\n\n        te[12] = t14 * detInv;\n        te[13] = (n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34) * detInv;\n        te[14] = (n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34) * detInv;\n        te[15] = (n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33) * detInv;\n\n        return this;\n\n    }\n\n    scale(v) {\n\n        const te = this.elements;\n        const x = v.x,\n            y = v.y,\n            z = v.z;\n\n        te[0] *= x;\n        te[4] *= y;\n        te[8] *= z;\n        te[1] *= x;\n        te[5] *= y;\n        te[9] *= z;\n        te[2] *= x;\n        te[6] *= y;\n        te[10] *= z;\n        te[3] *= x;\n        te[7] *= y;\n        te[11] *= z;\n\n        return this;\n\n    }\n\n    getMaxScaleOnAxis() {\n\n        const te = this.elements;\n\n        const scaleXSq = te[0] * te[0] + te[1] * te[1] + te[2] * te[2];\n        const scaleYSq = te[4] * te[4] + te[5] * te[5] + te[6] * te[6];\n        const scaleZSq = te[8] * te[8] + te[9] * te[9] + te[10] * te[10];\n\n        return Math.sqrt(Math.max(scaleXSq, scaleYSq, scaleZSq));\n\n    }\n\n    makeTranslation(x, y, z) {\n\n        this.set(\n\n            1, 0, 0, x,\n            0, 1, 0, y,\n            0, 0, 1, z,\n            0, 0, 0, 1\n\n        );\n\n        return this;\n\n    }\n\n    makeRotationX(theta) {\n\n        const c = Math.cos(theta),\n            s = Math.sin(theta);\n\n        this.set(\n\n            1, 0, 0, 0,\n            0, c, -s, 0,\n            0, s, c, 0,\n            0, 0, 0, 1\n\n        );\n\n        return this;\n\n    }\n\n    makeRotationY(theta) {\n\n        const c = Math.cos(theta),\n            s = Math.sin(theta);\n\n        this.set(\n\n            c, 0, s, 0,\n            0, 1, 0, 0, -s, 0, c, 0,\n            0, 0, 0, 1\n\n        );\n\n        return this;\n\n    }\n\n    makeRotationZ(theta) {\n\n        const c = Math.cos(theta),\n            s = Math.sin(theta);\n\n        this.set(\n\n            c, -s, 0, 0,\n            s, c, 0, 0,\n            0, 0, 1, 0,\n            0, 0, 0, 1\n\n        );\n\n        return this;\n\n    }\n\n    makeRotationAxis(axis, angle) {\n\n        // Based on http://www.gamedev.net/reference/articles/article1199.asp\n\n        const c = Math.cos(angle);\n        const s = Math.sin(angle);\n        const t = 1 - c;\n        const x = axis.x,\n            y = axis.y,\n            z = axis.z;\n        const tx = t * x,\n            ty = t * y;\n\n        this.set(\n\n            tx * x + c, tx * y - s * z, tx * z + s * y, 0,\n            tx * y + s * z, ty * y + c, ty * z - s * x, 0,\n            tx * z - s * y, ty * z + s * x, t * z * z + c, 0,\n            0, 0, 0, 1\n\n        );\n\n        return this;\n\n    }\n\n    makeScale(x, y, z) {\n\n        this.set(\n\n            x, 0, 0, 0,\n            0, y, 0, 0,\n            0, 0, z, 0,\n            0, 0, 0, 1\n\n        );\n\n        return this;\n\n    }\n\n    makeShear(x, y, z) {\n\n        this.set(\n\n            1, y, z, 0,\n            x, 1, z, 0,\n            x, y, 1, 0,\n            0, 0, 0, 1\n\n        );\n\n        return this;\n\n    }\n\n    compose(position, quaternion, scale) {\n\n        const te = this.elements;\n\n        const x = quaternion._x,\n            y = quaternion._y,\n            z = quaternion._z,\n            w = quaternion._w;\n        const x2 = x + x,\n            y2 = y + y,\n            z2 = z + z;\n        const xx = x * x2,\n            xy = x * y2,\n            xz = x * z2;\n        const yy = y * y2,\n            yz = y * z2,\n            zz = z * z2;\n        const wx = w * x2,\n            wy = w * y2,\n            wz = w * z2;\n\n        const sx = scale.x,\n            sy = scale.y,\n            sz = scale.z;\n\n        te[0] = (1 - (yy + zz)) * sx;\n        te[1] = (xy + wz) * sx;\n        te[2] = (xz - wy) * sx;\n        te[3] = 0;\n\n        te[4] = (xy - wz) * sy;\n        te[5] = (1 - (xx + zz)) * sy;\n        te[6] = (yz + wx) * sy;\n        te[7] = 0;\n\n        te[8] = (xz + wy) * sz;\n        te[9] = (yz - wx) * sz;\n        te[10] = (1 - (xx + yy)) * sz;\n        te[11] = 0;\n\n        te[12] = position.x;\n        te[13] = position.y;\n        te[14] = position.z;\n        te[15] = 1;\n\n        return this;\n\n    }\n\n    decompose(position, quaternion, scale) {\n\n        const te = this.elements;\n\n        let sx = _v1$1.set(te[0], te[1], te[2]).length();\n        const sy = _v1$1.set(te[4], te[5], te[6]).length();\n        const sz = _v1$1.set(te[8], te[9], te[10]).length();\n\n        // if determine is negative, we need to invert one scale\n        const det = this.determinant();\n        if (det < 0) sx = -sx;\n\n        position.x = te[12];\n        position.y = te[13];\n        position.z = te[14];\n\n        // scale the rotation part\n        _m1.copy(this);\n\n        const invSX = 1 / sx;\n        const invSY = 1 / sy;\n        const invSZ = 1 / sz;\n\n        _m1.elements[0] *= invSX;\n        _m1.elements[1] *= invSX;\n        _m1.elements[2] *= invSX;\n\n        _m1.elements[4] *= invSY;\n        _m1.elements[5] *= invSY;\n        _m1.elements[6] *= invSY;\n\n        _m1.elements[8] *= invSZ;\n        _m1.elements[9] *= invSZ;\n        _m1.elements[10] *= invSZ;\n\n        quaternion.setFromRotationMatrix(_m1);\n\n        scale.x = sx;\n        scale.y = sy;\n        scale.z = sz;\n\n        return this;\n\n    }\n\n    makePerspective(left, right, top, bottom, near, far) {\n\n        if (far === undefined) {\n\n            console.warn('THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.');\n\n        }\n\n        const te = this.elements;\n        const x = 2 * near / (right - left);\n        const y = 2 * near / (top - bottom);\n\n        const a = (right + left) / (right - left);\n        const b = (top + bottom) / (top - bottom);\n        const c = -(far + near) / (far - near);\n        const d = -2 * far * near / (far - near);\n\n        te[0] = x;\n        te[4] = 0;\n        te[8] = a;\n        te[12] = 0;\n        te[1] = 0;\n        te[5] = y;\n        te[9] = b;\n        te[13] = 0;\n        te[2] = 0;\n        te[6] = 0;\n        te[10] = c;\n        te[14] = d;\n        te[3] = 0;\n        te[7] = 0;\n        te[11] = -1;\n        te[15] = 0;\n\n        return this;\n\n    }\n\n    makeOrthographic(left, right, top, bottom, near, far) {\n\n        const te = this.elements;\n        const w = 1.0 / (right - left);\n        const h = 1.0 / (top - bottom);\n        const p = 1.0 / (far - near);\n\n        const x = (right + left) * w;\n        const y = (top + bottom) * h;\n        const z = (far + near) * p;\n\n        te[0] = 2 * w;\n        te[4] = 0;\n        te[8] = 0;\n        te[12] = -x;\n        te[1] = 0;\n        te[5] = 2 * h;\n        te[9] = 0;\n        te[13] = -y;\n        te[2] = 0;\n        te[6] = 0;\n        te[10] = -2 * p;\n        te[14] = -z;\n        te[3] = 0;\n        te[7] = 0;\n        te[11] = 0;\n        te[15] = 1;\n\n        return this;\n\n    }\n\n    equals(matrix) {\n\n        const te = this.elements;\n        const me = matrix.elements;\n\n        for (let i = 0; i < 16; i++) {\n\n            if (te[i] !== me[i]) return false;\n\n        }\n\n        return true;\n\n    }\n\n    fromArray(array, offset = 0) {\n\n        for (let i = 0; i < 16; i++) {\n\n            this.elements[i] = array[i + offset];\n\n        }\n\n        return this;\n\n    }\n\n    toArray(array = [], offset = 0) {\n\n        const te = this.elements;\n\n        array[offset] = te[0];\n        array[offset + 1] = te[1];\n        array[offset + 2] = te[2];\n        array[offset + 3] = te[3];\n\n        array[offset + 4] = te[4];\n        array[offset + 5] = te[5];\n        array[offset + 6] = te[6];\n        array[offset + 7] = te[7];\n\n        array[offset + 8] = te[8];\n        array[offset + 9] = te[9];\n        array[offset + 10] = te[10];\n        array[offset + 11] = te[11];\n\n        array[offset + 12] = te[12];\n        array[offset + 13] = te[13];\n        array[offset + 14] = te[14];\n        array[offset + 15] = te[15];\n\n        return array;\n\n    }\n\n}\n\nconst _v1$1 = /*@__PURE__*/ new Vector3();\nconst _m1 = /*@__PURE__*/ new Matrix4();\nconst _zero = /*@__PURE__*/ new Vector3(0, 0, 0);\nconst _one = /*@__PURE__*/ new Vector3(1, 1, 1);\nconst _x = /*@__PURE__*/ new Vector3();\nconst _y = /*@__PURE__*/ new Vector3();\nconst _z = /*@__PURE__*/ new Vector3();\n\nclass Euler {\n\n    constructor(x = 0, y = 0, z = 0, order = Euler.DefaultOrder) {\n\n        Object.defineProperty(this, 'isEuler', {\n            value: true\n        });\n\n        this._x = x;\n        this._y = y;\n        this._z = z;\n        this._order = order;\n\n    }\n\n    get x() {\n\n        return this._x;\n\n    }\n\n    set x(value) {\n\n        this._x = value;\n        this._onChangeCallback();\n\n    }\n\n    get y() {\n\n        return this._y;\n\n    }\n\n    set y(value) {\n\n        this._y = value;\n        this._onChangeCallback();\n\n    }\n\n    get z() {\n\n        return this._z;\n\n    }\n\n    set z(value) {\n\n        this._z = value;\n        this._onChangeCallback();\n\n    }\n\n    get order() {\n\n        return this._order;\n\n    }\n\n    set order(value) {\n\n        this._order = value;\n        this._onChangeCallback();\n\n    }\n\n    set(x, y, z, order) {\n\n        this._x = x;\n        this._y = y;\n        this._z = z;\n        this._order = order || this._order;\n\n        this._onChangeCallback();\n\n        return this;\n\n    }\n\n    clone() {\n\n        return new this.constructor(this._x, this._y, this._z, this._order);\n\n    }\n\n    copy(euler) {\n\n        this._x = euler._x;\n        this._y = euler._y;\n        this._z = euler._z;\n        this._order = euler._order;\n\n        this._onChangeCallback();\n\n        return this;\n\n    }\n\n    setFromRotationMatrix(m, order, update) {\n\n        const clamp = MathUtils.clamp;\n\n        // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n        const te = m.elements;\n        const m11 = te[0],\n            m12 = te[4],\n            m13 = te[8];\n        const m21 = te[1],\n            m22 = te[5],\n            m23 = te[9];\n        const m31 = te[2],\n            m32 = te[6],\n            m33 = te[10];\n\n        order = order || this._order;\n\n        switch (order) {\n\n            case 'XYZ':\n\n                this._y = Math.asin(clamp(m13, -1, 1));\n\n                if (Math.abs(m13) < 0.9999999) {\n\n                    this._x = Math.atan2(-m23, m33);\n                    this._z = Math.atan2(-m12, m11);\n\n                } else {\n\n                    this._x = Math.atan2(m32, m22);\n                    this._z = 0;\n\n                }\n\n                break;\n\n            case 'YXZ':\n\n                this._x = Math.asin(-clamp(m23, -1, 1));\n\n                if (Math.abs(m23) < 0.9999999) {\n\n                    this._y = Math.atan2(m13, m33);\n                    this._z = Math.atan2(m21, m22);\n\n                } else {\n\n                    this._y = Math.atan2(-m31, m11);\n                    this._z = 0;\n\n                }\n\n                break;\n\n            case 'ZXY':\n\n                this._x = Math.asin(clamp(m32, -1, 1));\n\n                if (Math.abs(m32) < 0.9999999) {\n\n                    this._y = Math.atan2(-m31, m33);\n                    this._z = Math.atan2(-m12, m22);\n\n                } else {\n\n                    this._y = 0;\n                    this._z = Math.atan2(m21, m11);\n\n                }\n\n                break;\n\n            case 'ZYX':\n\n                this._y = Math.asin(-clamp(m31, -1, 1));\n\n                if (Math.abs(m31) < 0.9999999) {\n\n                    this._x = Math.atan2(m32, m33);\n                    this._z = Math.atan2(m21, m11);\n\n                } else {\n\n                    this._x = 0;\n                    this._z = Math.atan2(-m12, m22);\n\n                }\n\n                break;\n\n            case 'YZX':\n\n                this._z = Math.asin(clamp(m21, -1, 1));\n\n                if (Math.abs(m21) < 0.9999999) {\n\n                    this._x = Math.atan2(-m23, m22);\n                    this._y = Math.atan2(-m31, m11);\n\n                } else {\n\n                    this._x = 0;\n                    this._y = Math.atan2(m13, m33);\n\n                }\n\n                break;\n\n            case 'XZY':\n\n                this._z = Math.asin(-clamp(m12, -1, 1));\n\n                if (Math.abs(m12) < 0.9999999) {\n\n                    this._x = Math.atan2(m32, m22);\n                    this._y = Math.atan2(m13, m11);\n\n                } else {\n\n                    this._x = Math.atan2(-m23, m33);\n                    this._y = 0;\n\n                }\n\n                break;\n\n            default:\n\n                console.warn('THREE.Euler: .setFromRotationMatrix() encountered an unknown order: ' + order);\n\n        }\n\n        this._order = order;\n\n        if (update !== false) this._onChangeCallback();\n\n        return this;\n\n    }\n\n    setFromQuaternion(q, order, update) {\n\n        _matrix.makeRotationFromQuaternion(q);\n\n        return this.setFromRotationMatrix(_matrix, order, update);\n\n    }\n\n    setFromVector3(v, order) {\n\n        return this.set(v.x, v.y, v.z, order || this._order);\n\n    }\n\n    reorder(newOrder) {\n\n        // WARNING: this discards revolution information -bhouston\n\n        _quaternion$1.setFromEuler(this);\n\n        return this.setFromQuaternion(_quaternion$1, newOrder);\n\n    }\n\n    equals(euler) {\n\n        return (euler._x === this._x) && (euler._y === this._y) && (euler._z === this._z) && (euler._order === this._order);\n\n    }\n\n    fromArray(array) {\n\n        this._x = array[0];\n        this._y = array[1];\n        this._z = array[2];\n        if (array[3] !== undefined) this._order = array[3];\n\n        this._onChangeCallback();\n\n        return this;\n\n    }\n\n    toArray(array = [], offset = 0) {\n\n        array[offset] = this._x;\n        array[offset + 1] = this._y;\n        array[offset + 2] = this._z;\n        array[offset + 3] = this._order;\n\n        return array;\n\n    }\n\n    toVector3(optionalResult) {\n\n        if (optionalResult) {\n\n            return optionalResult.set(this._x, this._y, this._z);\n\n        } else {\n\n            return new Vector3(this._x, this._y, this._z);\n\n        }\n\n    }\n\n    _onChange(callback) {\n\n        this._onChangeCallback = callback;\n\n        return this;\n\n    }\n\n    _onChangeCallback() {}\n\n}\n\nEuler.DefaultOrder = 'XYZ';\nEuler.RotationOrders = ['XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX'];\n\nconst _matrix = /*@__PURE__*/ new Matrix4();\nconst _quaternion$1 = /*@__PURE__*/ new Quaternion();\n\nclass Layers {\n\n    constructor() {\n\n        this.mask = 1 | 0;\n\n    }\n\n    set(channel) {\n\n        this.mask = 1 << channel | 0;\n\n    }\n\n    enable(channel) {\n\n        this.mask |= 1 << channel | 0;\n\n    }\n\n    enableAll() {\n\n        this.mask = 0xffffffff | 0;\n\n    }\n\n    toggle(channel) {\n\n        this.mask ^= 1 << channel | 0;\n\n    }\n\n    disable(channel) {\n\n        this.mask &= ~(1 << channel | 0);\n\n    }\n\n    disableAll() {\n\n        this.mask = 0;\n\n    }\n\n    test(layers) {\n\n        return (this.mask & layers.mask) !== 0;\n\n    }\n\n}\n\nlet _object3DId = 0;\n\nconst _v1$2 = new Vector3();\nconst _q1 = new Quaternion();\nconst _m1$1 = new Matrix4();\nconst _target = new Vector3();\n\nconst _position = new Vector3();\nconst _scale = new Vector3();\nconst _quaternion$2 = new Quaternion();\n\nconst _xAxis = new Vector3(1, 0, 0);\nconst _yAxis = new Vector3(0, 1, 0);\nconst _zAxis = new Vector3(0, 0, 1);\n\nconst _addedEvent = {\n    type: 'added'\n};\nconst _removedEvent = {\n    type: 'removed'\n};\n\nfunction Object3D() {\n\n    Object.defineProperty(this, 'id', {\n        value: _object3DId++\n    });\n\n    this.uuid = MathUtils.generateUUID();\n\n    this.name = '';\n    this.type = 'Object3D';\n\n    this.parent = null;\n    this.children = [];\n\n    this.up = Object3D.DefaultUp.clone();\n\n    const position = new Vector3();\n    const rotation = new Euler();\n    const quaternion = new Quaternion();\n    const scale = new Vector3(1, 1, 1);\n\n    function onRotationChange() {\n\n        quaternion.setFromEuler(rotation, false);\n\n    }\n\n    function onQuaternionChange() {\n\n        rotation.setFromQuaternion(quaternion, undefined, false);\n\n    }\n\n    rotation._onChange(onRotationChange);\n    quaternion._onChange(onQuaternionChange);\n\n    Object.defineProperties(this, {\n        position: {\n            configurable: true,\n            enumerable: true,\n            value: position\n        },\n        rotation: {\n            configurable: true,\n            enumerable: true,\n            value: rotation\n        },\n        quaternion: {\n            configurable: true,\n            enumerable: true,\n            value: quaternion\n        },\n        scale: {\n            configurable: true,\n            enumerable: true,\n            value: scale\n        },\n        modelViewMatrix: {\n            value: new Matrix4()\n        },\n        normalMatrix: {\n            value: new Matrix3()\n        }\n    });\n\n    this.matrix = new Matrix4();\n    this.matrixWorld = new Matrix4();\n\n    this.matrixAutoUpdate = Object3D.DefaultMatrixAutoUpdate;\n    this.matrixWorldNeedsUpdate = false;\n\n    this.layers = new Layers();\n    this.visible = true;\n\n    this.castShadow = false;\n    this.receiveShadow = false;\n\n    this.frustumCulled = true;\n    this.renderOrder = 0;\n\n    this.userData = {};\n\n}\n\nObject3D.DefaultUp = new Vector3(0, 1, 0);\nObject3D.DefaultMatrixAutoUpdate = true;\n\nObject3D.prototype = Object.assign(Object.create(EventDispatcher.prototype), {\n\n    constructor: Object3D,\n\n    isObject3D: true,\n\n    onBeforeRender: function() {},\n    onAfterRender: function() {},\n\n    applyMatrix4: function(matrix) {\n\n        if (this.matrixAutoUpdate) this.updateMatrix();\n\n        this.matrix.premultiply(matrix);\n\n        this.matrix.decompose(this.position, this.quaternion, this.scale);\n\n    },\n\n    applyQuaternion: function(q) {\n\n        this.quaternion.premultiply(q);\n\n        return this;\n\n    },\n\n    setRotationFromAxisAngle: function(axis, angle) {\n\n        // assumes axis is normalized\n\n        this.quaternion.setFromAxisAngle(axis, angle);\n\n    },\n\n    setRotationFromEuler: function(euler) {\n\n        this.quaternion.setFromEuler(euler, true);\n\n    },\n\n    setRotationFromMatrix: function(m) {\n\n        // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n        this.quaternion.setFromRotationMatrix(m);\n\n    },\n\n    setRotationFromQuaternion: function(q) {\n\n        // assumes q is normalized\n\n        this.quaternion.copy(q);\n\n    },\n\n    rotateOnAxis: function(axis, angle) {\n\n        // rotate object on axis in object space\n        // axis is assumed to be normalized\n\n        _q1.setFromAxisAngle(axis, angle);\n\n        this.quaternion.multiply(_q1);\n\n        return this;\n\n    },\n\n    rotateOnWorldAxis: function(axis, angle) {\n\n        // rotate object on axis in world space\n        // axis is assumed to be normalized\n        // method assumes no rotated parent\n\n        _q1.setFromAxisAngle(axis, angle);\n\n        this.quaternion.premultiply(_q1);\n\n        return this;\n\n    },\n\n    rotateX: function(angle) {\n\n        return this.rotateOnAxis(_xAxis, angle);\n\n    },\n\n    rotateY: function(angle) {\n\n        return this.rotateOnAxis(_yAxis, angle);\n\n    },\n\n    rotateZ: function(angle) {\n\n        return this.rotateOnAxis(_zAxis, angle);\n\n    },\n\n    translateOnAxis: function(axis, distance) {\n\n        // translate object by distance along axis in object space\n        // axis is assumed to be normalized\n\n        _v1$2.copy(axis).applyQuaternion(this.quaternion);\n\n        this.position.add(_v1$2.multiplyScalar(distance));\n\n        return this;\n\n    },\n\n    translateX: function(distance) {\n\n        return this.translateOnAxis(_xAxis, distance);\n\n    },\n\n    translateY: function(distance) {\n\n        return this.translateOnAxis(_yAxis, distance);\n\n    },\n\n    translateZ: function(distance) {\n\n        return this.translateOnAxis(_zAxis, distance);\n\n    },\n\n    localToWorld: function(vector) {\n\n        return vector.applyMatrix4(this.matrixWorld);\n\n    },\n\n    worldToLocal: function(vector) {\n\n        return vector.applyMatrix4(_m1$1.getInverse(this.matrixWorld));\n\n    },\n\n    lookAt: function(x, y, z) {\n\n        // This method does not support objects having non-uniformly-scaled parent(s)\n\n        if (x.isVector3) {\n\n            _target.copy(x);\n\n        } else {\n\n            _target.set(x, y, z);\n\n        }\n\n        const parent = this.parent;\n\n        this.updateWorldMatrix(true, false);\n\n        _position.setFromMatrixPosition(this.matrixWorld);\n\n        if (this.isCamera || this.isLight) {\n\n            _m1$1.lookAt(_position, _target, this.up);\n\n        } else {\n\n            _m1$1.lookAt(_target, _position, this.up);\n\n        }\n\n        this.quaternion.setFromRotationMatrix(_m1$1);\n\n        if (parent) {\n\n            _m1$1.extractRotation(parent.matrixWorld);\n            _q1.setFromRotationMatrix(_m1$1);\n            this.quaternion.premultiply(_q1.inverse());\n\n        }\n\n    },\n\n    add: function(object) {\n\n        if (arguments.length > 1) {\n\n            for (let i = 0; i < arguments.length; i++) {\n\n                this.add(arguments[i]);\n\n            }\n\n            return this;\n\n        }\n\n        if (object === this) {\n\n            console.error(\"THREE.Object3D.add: object can't be added as a child of itself.\", object);\n            return this;\n\n        }\n\n        if ((object && object.isObject3D)) {\n\n            if (object.parent !== null) {\n\n                object.parent.remove(object);\n\n            }\n\n            object.parent = this;\n            this.children.push(object);\n\n            object.dispatchEvent(_addedEvent);\n\n        } else {\n\n            console.error(\"THREE.Object3D.add: object not an instance of THREE.Object3D.\", object);\n\n        }\n\n        return this;\n\n    },\n\n    remove: function(object) {\n\n        if (arguments.length > 1) {\n\n            for (let i = 0; i < arguments.length; i++) {\n\n                this.remove(arguments[i]);\n\n            }\n\n            return this;\n\n        }\n\n        const index = this.children.indexOf(object);\n\n        if (index !== -1) {\n\n            object.parent = null;\n            this.children.splice(index, 1);\n\n            object.dispatchEvent(_removedEvent);\n\n        }\n\n        return this;\n\n    },\n\n    clear: function() {\n\n        for (let i = 0; i < this.children.length; i++) {\n\n            const object = this.children[i];\n\n            object.parent = null;\n\n            object.dispatchEvent(_removedEvent);\n\n        }\n\n        this.children.length = 0;\n\n        return this;\n\n\n    },\n\n    attach: function(object) {\n\n        // adds object as a child of this, while maintaining the object's world transform\n\n        this.updateWorldMatrix(true, false);\n\n        _m1$1.getInverse(this.matrixWorld);\n\n        if (object.parent !== null) {\n\n            object.parent.updateWorldMatrix(true, false);\n\n            _m1$1.multiply(object.parent.matrixWorld);\n\n        }\n\n        object.applyMatrix4(_m1$1);\n\n        object.updateWorldMatrix(false, false);\n\n        this.add(object);\n\n        return this;\n\n    },\n\n    getObjectById: function(id) {\n\n        return this.getObjectByProperty('id', id);\n\n    },\n\n    getObjectByName: function(name) {\n\n        return this.getObjectByProperty('name', name);\n\n    },\n\n    getObjectByProperty: function(name, value) {\n\n        if (this[name] === value) return this;\n\n        for (let i = 0, l = this.children.length; i < l; i++) {\n\n            const child = this.children[i];\n            const object = child.getObjectByProperty(name, value);\n\n            if (object !== undefined) {\n\n                return object;\n\n            }\n\n        }\n\n        return undefined;\n\n    },\n\n    getWorldPosition: function(target) {\n\n        if (target === undefined) {\n\n            console.warn('THREE.Object3D: .getWorldPosition() target is now required');\n            target = new Vector3();\n\n        }\n\n        this.updateWorldMatrix(true, false);\n\n        return target.setFromMatrixPosition(this.matrixWorld);\n\n    },\n\n    getWorldQuaternion: function(target) {\n\n        if (target === undefined) {\n\n            console.warn('THREE.Object3D: .getWorldQuaternion() target is now required');\n            target = new Quaternion();\n\n        }\n\n        this.updateWorldMatrix(true, false);\n\n        this.matrixWorld.decompose(_position, target, _scale);\n\n        return target;\n\n    },\n\n    getWorldScale: function(target) {\n\n        if (target === undefined) {\n\n            console.warn('THREE.Object3D: .getWorldScale() target is now required');\n            target = new Vector3();\n\n        }\n\n        this.updateWorldMatrix(true, false);\n\n        this.matrixWorld.decompose(_position, _quaternion$2, target);\n\n        return target;\n\n    },\n\n    getWorldDirection: function(target) {\n\n        if (target === undefined) {\n\n            console.warn('THREE.Object3D: .getWorldDirection() target is now required');\n            target = new Vector3();\n\n        }\n\n        this.updateWorldMatrix(true, false);\n\n        const e = this.matrixWorld.elements;\n\n        return target.set(e[8], e[9], e[10]).normalize();\n\n    },\n\n    raycast: function() {},\n\n    traverse: function(callback) {\n\n        callback(this);\n\n        const children = this.children;\n\n        for (let i = 0, l = children.length; i < l; i++) {\n\n            children[i].traverse(callback);\n\n        }\n\n    },\n\n    traverseVisible: function(callback) {\n\n        if (this.visible === false) return;\n\n        callback(this);\n\n        const children = this.children;\n\n        for (let i = 0, l = children.length; i < l; i++) {\n\n            children[i].traverseVisible(callback);\n\n        }\n\n    },\n\n    traverseAncestors: function(callback) {\n\n        const parent = this.parent;\n\n        if (parent !== null) {\n\n            callback(parent);\n\n            parent.traverseAncestors(callback);\n\n        }\n\n    },\n\n    updateMatrix: function() {\n\n        this.matrix.compose(this.position, this.quaternion, this.scale);\n\n        this.matrixWorldNeedsUpdate = true;\n\n    },\n\n    updateMatrixWorld: function(force) {\n\n        if (this.matrixAutoUpdate) this.updateMatrix();\n\n        if (this.matrixWorldNeedsUpdate || force) {\n\n            if (this.parent === null) {\n\n                this.matrixWorld.copy(this.matrix);\n\n            } else {\n\n                this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix);\n\n            }\n\n            this.matrixWorldNeedsUpdate = false;\n\n            force = true;\n\n        }\n\n        // update children\n\n        const children = this.children;\n\n        for (let i = 0, l = children.length; i < l; i++) {\n\n            children[i].updateMatrixWorld(force);\n\n        }\n\n    },\n\n    updateWorldMatrix: function(updateParents, updateChildren) {\n\n        const parent = this.parent;\n\n        if (updateParents === true && parent !== null) {\n\n            parent.updateWorldMatrix(true, false);\n\n        }\n\n        if (this.matrixAutoUpdate) this.updateMatrix();\n\n        if (this.parent === null) {\n\n            this.matrixWorld.copy(this.matrix);\n\n        } else {\n\n            this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix);\n\n        }\n\n        // update children\n\n        if (updateChildren === true) {\n\n            const children = this.children;\n\n            for (let i = 0, l = children.length; i < l; i++) {\n\n                children[i].updateWorldMatrix(false, true);\n\n            }\n\n        }\n\n    },\n\n    toJSON: function(meta) {\n\n        // meta is a string when called from JSON.stringify\n        const isRootObject = (meta === undefined || typeof meta === 'string');\n\n        const output = {};\n\n        // meta is a hash used to collect geometries, materials.\n        // not providing it implies that this is the root object\n        // being serialized.\n        if (isRootObject) {\n\n            // initialize meta obj\n            meta = {\n                geometries: {},\n                materials: {},\n                textures: {},\n                images: {},\n                shapes: {}\n            };\n\n            output.metadata = {\n                version: 4.5,\n                type: 'Object',\n                generator: 'Object3D.toJSON'\n            };\n\n        }\n\n        // standard Object3D serialization\n\n        const object = {};\n\n        object.uuid = this.uuid;\n        object.type = this.type;\n\n        if (this.name !== '') object.name = this.name;\n        if (this.castShadow === true) object.castShadow = true;\n        if (this.receiveShadow === true) object.receiveShadow = true;\n        if (this.visible === false) object.visible = false;\n        if (this.frustumCulled === false) object.frustumCulled = false;\n        if (this.renderOrder !== 0) object.renderOrder = this.renderOrder;\n        if (JSON.stringify(this.userData) !== '{}') object.userData = this.userData;\n\n        object.layers = this.layers.mask;\n        object.matrix = this.matrix.toArray();\n\n        if (this.matrixAutoUpdate === false) object.matrixAutoUpdate = false;\n\n        // object specific properties\n\n        if (this.isInstancedMesh) {\n\n            object.type = 'InstancedMesh';\n            object.count = this.count;\n            object.instanceMatrix = this.instanceMatrix.toJSON();\n\n        }\n\n        //\n\n        function serialize(library, element) {\n\n            if (library[element.uuid] === undefined) {\n\n                library[element.uuid] = element.toJSON(meta);\n\n            }\n\n            return element.uuid;\n\n        }\n\n        if (this.isMesh || this.isLine || this.isPoints) {\n\n            object.geometry = serialize(meta.geometries, this.geometry);\n\n            const parameters = this.geometry.parameters;\n\n            if (parameters !== undefined && parameters.shapes !== undefined) {\n\n                const shapes = parameters.shapes;\n\n                if (Array.isArray(shapes)) {\n\n                    for (let i = 0, l = shapes.length; i < l; i++) {\n\n                        const shape = shapes[i];\n\n                        serialize(meta.shapes, shape);\n\n                    }\n\n                } else {\n\n                    serialize(meta.shapes, shapes);\n\n                }\n\n            }\n\n        }\n\n        if (this.material !== undefined) {\n\n            if (Array.isArray(this.material)) {\n\n                const uuids = [];\n\n                for (let i = 0, l = this.material.length; i < l; i++) {\n\n                    uuids.push(serialize(meta.materials, this.material[i]));\n\n                }\n\n                object.material = uuids;\n\n            } else {\n\n                object.material = serialize(meta.materials, this.material);\n\n            }\n\n        }\n\n        //\n\n        if (this.children.length > 0) {\n\n            object.children = [];\n\n            for (let i = 0; i < this.children.length; i++) {\n\n                object.children.push(this.children[i].toJSON(meta).object);\n\n            }\n\n        }\n\n        if (isRootObject) {\n\n            const geometries = extractFromCache(meta.geometries);\n            const materials = extractFromCache(meta.materials);\n            const textures = extractFromCache(meta.textures);\n            const images = extractFromCache(meta.images);\n            const shapes = extractFromCache(meta.shapes);\n\n            if (geometries.length > 0) output.geometries = geometries;\n            if (materials.length > 0) output.materials = materials;\n            if (textures.length > 0) output.textures = textures;\n            if (images.length > 0) output.images = images;\n            if (shapes.length > 0) output.shapes = shapes;\n\n        }\n\n        output.object = object;\n\n        return output;\n\n        // extract data from the cache hash\n        // remove metadata on each item\n        // and return as array\n        function extractFromCache(cache) {\n\n            const values = [];\n            for (const key in cache) {\n\n                const data = cache[key];\n                delete data.metadata;\n                values.push(data);\n\n            }\n\n            return values;\n\n        }\n\n    },\n\n    clone: function(recursive) {\n\n        return new this.constructor().copy(this, recursive);\n\n    },\n\n    copy: function(source, recursive) {\n\n        if (recursive === undefined) recursive = true;\n\n        this.name = source.name;\n\n        this.up.copy(source.up);\n\n        this.position.copy(source.position);\n        this.rotation.order = source.rotation.order;\n        this.quaternion.copy(source.quaternion);\n        this.scale.copy(source.scale);\n\n        this.matrix.copy(source.matrix);\n        this.matrixWorld.copy(source.matrixWorld);\n\n        this.matrixAutoUpdate = source.matrixAutoUpdate;\n        this.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\n\n        this.layers.mask = source.layers.mask;\n        this.visible = source.visible;\n\n        this.castShadow = source.castShadow;\n        this.receiveShadow = source.receiveShadow;\n\n        this.frustumCulled = source.frustumCulled;\n        this.renderOrder = source.renderOrder;\n\n        this.userData = JSON.parse(JSON.stringify(source.userData));\n\n        if (recursive === true) {\n\n            for (let i = 0; i < source.children.length; i++) {\n\n                const child = source.children[i];\n                this.add(child.clone());\n\n            }\n\n        }\n\n        return this;\n\n    }\n\n});\n\nconst _vector1 = /*@__PURE__*/ new Vector3();\nconst _vector2 = /*@__PURE__*/ new Vector3();\nconst _normalMatrix = /*@__PURE__*/ new Matrix3();\n\nclass Plane {\n\n    constructor(normal, constant) {\n\n        Object.defineProperty(this, 'isPlane', {\n            value: true\n        });\n\n        // normal is assumed to be normalized\n\n        this.normal = (normal !== undefined) ? normal : new Vector3(1, 0, 0);\n        this.constant = (constant !== undefined) ? constant : 0;\n\n    }\n\n    set(normal, constant) {\n\n        this.normal.copy(normal);\n        this.constant = constant;\n\n        return this;\n\n    }\n\n    setComponents(x, y, z, w) {\n\n        this.normal.set(x, y, z);\n        this.constant = w;\n\n        return this;\n\n    }\n\n    setFromNormalAndCoplanarPoint(normal, point) {\n\n        this.normal.copy(normal);\n        this.constant = -point.dot(this.normal);\n\n        return this;\n\n    }\n\n    setFromCoplanarPoints(a, b, c) {\n\n        const normal = _vector1.subVectors(c, b).cross(_vector2.subVectors(a, b)).normalize();\n\n        // Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\n\n        this.setFromNormalAndCoplanarPoint(normal, a);\n\n        return this;\n\n    }\n\n    clone() {\n\n        return new this.constructor().copy(this);\n\n    }\n\n    copy(plane) {\n\n        this.normal.copy(plane.normal);\n        this.constant = plane.constant;\n\n        return this;\n\n    }\n\n    normalize() {\n\n        // Note: will lead to a divide by zero if the plane is invalid.\n\n        const inverseNormalLength = 1.0 / this.normal.length();\n        this.normal.multiplyScalar(inverseNormalLength);\n        this.constant *= inverseNormalLength;\n\n        return this;\n\n    }\n\n    negate() {\n\n        this.constant *= -1;\n        this.normal.negate();\n\n        return this;\n\n    }\n\n    distanceToPoint(point) {\n\n        return this.normal.dot(point) + this.constant;\n\n    }\n\n    distanceToSphere(sphere) {\n\n        return this.distanceToPoint(sphere.center) - sphere.radius;\n\n    }\n\n    projectPoint(point, target) {\n\n        if (target === undefined) {\n\n            console.warn('THREE.Plane: .projectPoint() target is now required');\n            target = new Vector3();\n\n        }\n\n        return target.copy(this.normal).multiplyScalar(-this.distanceToPoint(point)).add(point);\n\n    }\n\n    intersectLine(line, target) {\n\n        if (target === undefined) {\n\n            console.warn('THREE.Plane: .intersectLine() target is now required');\n            target = new Vector3();\n\n        }\n\n        const direction = line.delta(_vector1);\n\n        const denominator = this.normal.dot(direction);\n\n        if (denominator === 0) {\n\n            // line is coplanar, return origin\n            if (this.distanceToPoint(line.start) === 0) {\n\n                return target.copy(line.start);\n\n            }\n\n            // Unsure if this is the correct method to handle this case.\n            return undefined;\n\n        }\n\n        const t = -(line.start.dot(this.normal) + this.constant) / denominator;\n\n        if (t < 0 || t > 1) {\n\n            return undefined;\n\n        }\n\n        return target.copy(direction).multiplyScalar(t).add(line.start);\n\n    }\n\n    intersectsLine(line) {\n\n        // Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\n\n        const startSign = this.distanceToPoint(line.start);\n        const endSign = this.distanceToPoint(line.end);\n\n        return (startSign < 0 && endSign > 0) || (endSign < 0 && startSign > 0);\n\n    }\n\n    intersectsBox(box) {\n\n        return box.intersectsPlane(this);\n\n    }\n\n    intersectsSphere(sphere) {\n\n        return sphere.intersectsPlane(this);\n\n    }\n\n    coplanarPoint(target) {\n\n        if (target === undefined) {\n\n            console.warn('THREE.Plane: .coplanarPoint() target is now required');\n            target = new Vector3();\n\n        }\n\n        return target.copy(this.normal).multiplyScalar(-this.constant);\n\n    }\n\n    applyMatrix4(matrix, optionalNormalMatrix) {\n\n        const normalMatrix = optionalNormalMatrix || _normalMatrix.getNormalMatrix(matrix);\n\n        const referencePoint = this.coplanarPoint(_vector1).applyMatrix4(matrix);\n\n        const normal = this.normal.applyMatrix3(normalMatrix).normalize();\n\n        this.constant = -referencePoint.dot(normal);\n\n        return this;\n\n    }\n\n    translate(offset) {\n\n        this.constant -= offset.dot(this.normal);\n\n        return this;\n\n    }\n\n    equals(plane) {\n\n        return plane.normal.equals(this.normal) && (plane.constant === this.constant);\n\n    }\n\n}\n\nconst _v0$1 = /*@__PURE__*/ new Vector3();\nconst _v1$3 = /*@__PURE__*/ new Vector3();\nconst _v2$1 = /*@__PURE__*/ new Vector3();\nconst _v3 = /*@__PURE__*/ new Vector3();\n\nconst _vab = /*@__PURE__*/ new Vector3();\nconst _vac = /*@__PURE__*/ new Vector3();\nconst _vbc = /*@__PURE__*/ new Vector3();\nconst _vap = /*@__PURE__*/ new Vector3();\nconst _vbp = /*@__PURE__*/ new Vector3();\nconst _vcp = /*@__PURE__*/ new Vector3();\n\nclass Triangle {\n\n    constructor(a, b, c) {\n\n        this.a = (a !== undefined) ? a : new Vector3();\n        this.b = (b !== undefined) ? b : new Vector3();\n        this.c = (c !== undefined) ? c : new Vector3();\n\n    }\n\n    static getNormal(a, b, c, target) {\n\n        if (target === undefined) {\n\n            console.warn('THREE.Triangle: .getNormal() target is now required');\n            target = new Vector3();\n\n        }\n\n        target.subVectors(c, b);\n        _v0$1.subVectors(a, b);\n        target.cross(_v0$1);\n\n        const targetLengthSq = target.lengthSq();\n        if (targetLengthSq > 0) {\n\n            return target.multiplyScalar(1 / Math.sqrt(targetLengthSq));\n\n        }\n\n        return target.set(0, 0, 0);\n\n    }\n\n    // static/instance method to calculate barycentric coordinates\n    // based on: http://www.blackpawn.com/texts/pointinpoly/default.html\n    static getBarycoord(point, a, b, c, target) {\n\n        _v0$1.subVectors(c, a);\n        _v1$3.subVectors(b, a);\n        _v2$1.subVectors(point, a);\n\n        const dot00 = _v0$1.dot(_v0$1);\n        const dot01 = _v0$1.dot(_v1$3);\n        const dot02 = _v0$1.dot(_v2$1);\n        const dot11 = _v1$3.dot(_v1$3);\n        const dot12 = _v1$3.dot(_v2$1);\n\n        const denom = (dot00 * dot11 - dot01 * dot01);\n\n        if (target === undefined) {\n\n            console.warn('THREE.Triangle: .getBarycoord() target is now required');\n            target = new Vector3();\n\n        }\n\n        // collinear or singular triangle\n        if (denom === 0) {\n\n            // arbitrary location outside of triangle?\n            // not sure if this is the best idea, maybe should be returning undefined\n            return target.set(-2, -1, -1);\n\n        }\n\n        const invDenom = 1 / denom;\n        const u = (dot11 * dot02 - dot01 * dot12) * invDenom;\n        const v = (dot00 * dot12 - dot01 * dot02) * invDenom;\n\n        // barycentric coordinates must always sum to 1\n        return target.set(1 - u - v, v, u);\n\n    }\n\n    static containsPoint(point, a, b, c) {\n\n        this.getBarycoord(point, a, b, c, _v3);\n\n        return (_v3.x >= 0) && (_v3.y >= 0) && ((_v3.x + _v3.y) <= 1);\n\n    }\n\n    static getUV(point, p1, p2, p3, uv1, uv2, uv3, target) {\n\n        this.getBarycoord(point, p1, p2, p3, _v3);\n\n        target.set(0, 0);\n        target.addScaledVector(uv1, _v3.x);\n        target.addScaledVector(uv2, _v3.y);\n        target.addScaledVector(uv3, _v3.z);\n\n        return target;\n\n    }\n\n    static isFrontFacing(a, b, c, direction) {\n\n        _v0$1.subVectors(c, b);\n        _v1$3.subVectors(a, b);\n\n        // strictly front facing\n        return (_v0$1.cross(_v1$3).dot(direction) < 0) ? true : false;\n\n    }\n\n    set(a, b, c) {\n\n        this.a.copy(a);\n        this.b.copy(b);\n        this.c.copy(c);\n\n        return this;\n\n    }\n\n    setFromPointsAndIndices(points, i0, i1, i2) {\n\n        this.a.copy(points[i0]);\n        this.b.copy(points[i1]);\n        this.c.copy(points[i2]);\n\n        return this;\n\n    }\n\n    clone() {\n\n        return new this.constructor().copy(this);\n\n    }\n\n    copy(triangle) {\n\n        this.a.copy(triangle.a);\n        this.b.copy(triangle.b);\n        this.c.copy(triangle.c);\n\n        return this;\n\n    }\n\n    getArea() {\n\n        _v0$1.subVectors(this.c, this.b);\n        _v1$3.subVectors(this.a, this.b);\n\n        return _v0$1.cross(_v1$3).length() * 0.5;\n\n    }\n\n    getMidpoint(target) {\n\n        if (target === undefined) {\n\n            console.warn('THREE.Triangle: .getMidpoint() target is now required');\n            target = new Vector3();\n\n        }\n\n        return target.addVectors(this.a, this.b).add(this.c).multiplyScalar(1 / 3);\n\n    }\n\n    getNormal(target) {\n\n        return Triangle.getNormal(this.a, this.b, this.c, target);\n\n    }\n\n    getPlane(target) {\n\n        if (target === undefined) {\n\n            console.warn('THREE.Triangle: .getPlane() target is now required');\n            target = new Plane();\n\n        }\n\n        return target.setFromCoplanarPoints(this.a, this.b, this.c);\n\n    }\n\n    getBarycoord(point, target) {\n\n        return Triangle.getBarycoord(point, this.a, this.b, this.c, target);\n\n    }\n\n    getUV(point, uv1, uv2, uv3, target) {\n\n        return Triangle.getUV(point, this.a, this.b, this.c, uv1, uv2, uv3, target);\n\n    }\n\n    containsPoint(point) {\n\n        return Triangle.containsPoint(point, this.a, this.b, this.c);\n\n    }\n\n    isFrontFacing(direction) {\n\n        return Triangle.isFrontFacing(this.a, this.b, this.c, direction);\n\n    }\n\n    intersectsBox(box) {\n\n        return box.intersectsTriangle(this);\n\n    }\n\n    closestPointToPoint(p, target) {\n\n        if (target === undefined) {\n\n            console.warn('THREE.Triangle: .closestPointToPoint() target is now required');\n            target = new Vector3();\n\n        }\n\n        const a = this.a,\n            b = this.b,\n            c = this.c;\n        let v, w;\n\n        // algorithm thanks to Real-Time Collision Detection by Christer Ericson,\n        // published by Morgan Kaufmann Publishers, (c) 2005 Elsevier Inc.,\n        // under the accompanying license; see chapter 5.1.5 for detailed explanation.\n        // basically, we're distinguishing which of the voronoi regions of the triangle\n        // the point lies in with the minimum amount of redundant computation.\n\n        _vab.subVectors(b, a);\n        _vac.subVectors(c, a);\n        _vap.subVectors(p, a);\n        const d1 = _vab.dot(_vap);\n        const d2 = _vac.dot(_vap);\n        if (d1 <= 0 && d2 <= 0) {\n\n            // vertex region of A; barycentric coords (1, 0, 0)\n            return target.copy(a);\n\n        }\n\n        _vbp.subVectors(p, b);\n        const d3 = _vab.dot(_vbp);\n        const d4 = _vac.dot(_vbp);\n        if (d3 >= 0 && d4 <= d3) {\n\n            // vertex region of B; barycentric coords (0, 1, 0)\n            return target.copy(b);\n\n        }\n\n        const vc = d1 * d4 - d3 * d2;\n        if (vc <= 0 && d1 >= 0 && d3 <= 0) {\n\n            v = d1 / (d1 - d3);\n            // edge region of AB; barycentric coords (1-v, v, 0)\n            return target.copy(a).addScaledVector(_vab, v);\n\n        }\n\n        _vcp.subVectors(p, c);\n        const d5 = _vab.dot(_vcp);\n        const d6 = _vac.dot(_vcp);\n        if (d6 >= 0 && d5 <= d6) {\n\n            // vertex region of C; barycentric coords (0, 0, 1)\n            return target.copy(c);\n\n        }\n\n        const vb = d5 * d2 - d1 * d6;\n        if (vb <= 0 && d2 >= 0 && d6 <= 0) {\n\n            w = d2 / (d2 - d6);\n            // edge region of AC; barycentric coords (1-w, 0, w)\n            return target.copy(a).addScaledVector(_vac, w);\n\n        }\n\n        const va = d3 * d6 - d5 * d4;\n        if (va <= 0 && (d4 - d3) >= 0 && (d5 - d6) >= 0) {\n\n            _vbc.subVectors(c, b);\n            w = (d4 - d3) / ((d4 - d3) + (d5 - d6));\n            // edge region of BC; barycentric coords (0, 1-w, w)\n            return target.copy(b).addScaledVector(_vbc, w); // edge region of BC\n\n        }\n\n        // face region\n        const denom = 1 / (va + vb + vc);\n        // u = va * denom\n        v = vb * denom;\n        w = vc * denom;\n\n        return target.copy(a).addScaledVector(_vab, v).addScaledVector(_vac, w);\n\n    }\n\n    equals(triangle) {\n\n        return triangle.a.equals(this.a) && triangle.b.equals(this.b) && triangle.c.equals(this.c);\n\n    }\n\n}\n\nconst _colorKeywords = {\n    'aliceblue': 0xF0F8FF,\n    'antiquewhite': 0xFAEBD7,\n    'aqua': 0x00FFFF,\n    'aquamarine': 0x7FFFD4,\n    'azure': 0xF0FFFF,\n    'beige': 0xF5F5DC,\n    'bisque': 0xFFE4C4,\n    'black': 0x000000,\n    'blanchedalmond': 0xFFEBCD,\n    'blue': 0x0000FF,\n    'blueviolet': 0x8A2BE2,\n    'brown': 0xA52A2A,\n    'burlywood': 0xDEB887,\n    'cadetblue': 0x5F9EA0,\n    'chartreuse': 0x7FFF00,\n    'chocolate': 0xD2691E,\n    'coral': 0xFF7F50,\n    'cornflowerblue': 0x6495ED,\n    'cornsilk': 0xFFF8DC,\n    'crimson': 0xDC143C,\n    'cyan': 0x00FFFF,\n    'darkblue': 0x00008B,\n    'darkcyan': 0x008B8B,\n    'darkgoldenrod': 0xB8860B,\n    'darkgray': 0xA9A9A9,\n    'darkgreen': 0x006400,\n    'darkgrey': 0xA9A9A9,\n    'darkkhaki': 0xBDB76B,\n    'darkmagenta': 0x8B008B,\n    'darkolivegreen': 0x556B2F,\n    'darkorange': 0xFF8C00,\n    'darkorchid': 0x9932CC,\n    'darkred': 0x8B0000,\n    'darksalmon': 0xE9967A,\n    'darkseagreen': 0x8FBC8F,\n    'darkslateblue': 0x483D8B,\n    'darkslategray': 0x2F4F4F,\n    'darkslategrey': 0x2F4F4F,\n    'darkturquoise': 0x00CED1,\n    'darkviolet': 0x9400D3,\n    'deeppink': 0xFF1493,\n    'deepskyblue': 0x00BFFF,\n    'dimgray': 0x696969,\n    'dimgrey': 0x696969,\n    'dodgerblue': 0x1E90FF,\n    'firebrick': 0xB22222,\n    'floralwhite': 0xFFFAF0,\n    'forestgreen': 0x228B22,\n    'fuchsia': 0xFF00FF,\n    'gainsboro': 0xDCDCDC,\n    'ghostwhite': 0xF8F8FF,\n    'gold': 0xFFD700,\n    'goldenrod': 0xDAA520,\n    'gray': 0x808080,\n    'green': 0x008000,\n    'greenyellow': 0xADFF2F,\n    'grey': 0x808080,\n    'honeydew': 0xF0FFF0,\n    'hotpink': 0xFF69B4,\n    'indianred': 0xCD5C5C,\n    'indigo': 0x4B0082,\n    'ivory': 0xFFFFF0,\n    'khaki': 0xF0E68C,\n    'lavender': 0xE6E6FA,\n    'lavenderblush': 0xFFF0F5,\n    'lawngreen': 0x7CFC00,\n    'lemonchiffon': 0xFFFACD,\n    'lightblue': 0xADD8E6,\n    'lightcoral': 0xF08080,\n    'lightcyan': 0xE0FFFF,\n    'lightgoldenrodyellow': 0xFAFAD2,\n    'lightgray': 0xD3D3D3,\n    'lightgreen': 0x90EE90,\n    'lightgrey': 0xD3D3D3,\n    'lightpink': 0xFFB6C1,\n    'lightsalmon': 0xFFA07A,\n    'lightseagreen': 0x20B2AA,\n    'lightskyblue': 0x87CEFA,\n    'lightslategray': 0x778899,\n    'lightslategrey': 0x778899,\n    'lightsteelblue': 0xB0C4DE,\n    'lightyellow': 0xFFFFE0,\n    'lime': 0x00FF00,\n    'limegreen': 0x32CD32,\n    'linen': 0xFAF0E6,\n    'magenta': 0xFF00FF,\n    'maroon': 0x800000,\n    'mediumaquamarine': 0x66CDAA,\n    'mediumblue': 0x0000CD,\n    'mediumorchid': 0xBA55D3,\n    'mediumpurple': 0x9370DB,\n    'mediumseagreen': 0x3CB371,\n    'mediumslateblue': 0x7B68EE,\n    'mediumspringgreen': 0x00FA9A,\n    'mediumturquoise': 0x48D1CC,\n    'mediumvioletred': 0xC71585,\n    'midnightblue': 0x191970,\n    'mintcream': 0xF5FFFA,\n    'mistyrose': 0xFFE4E1,\n    'moccasin': 0xFFE4B5,\n    'navajowhite': 0xFFDEAD,\n    'navy': 0x000080,\n    'oldlace': 0xFDF5E6,\n    'olive': 0x808000,\n    'olivedrab': 0x6B8E23,\n    'orange': 0xFFA500,\n    'orangered': 0xFF4500,\n    'orchid': 0xDA70D6,\n    'palegoldenrod': 0xEEE8AA,\n    'palegreen': 0x98FB98,\n    'paleturquoise': 0xAFEEEE,\n    'palevioletred': 0xDB7093,\n    'papayawhip': 0xFFEFD5,\n    'peachpuff': 0xFFDAB9,\n    'peru': 0xCD853F,\n    'pink': 0xFFC0CB,\n    'plum': 0xDDA0DD,\n    'powderblue': 0xB0E0E6,\n    'purple': 0x800080,\n    'rebeccapurple': 0x663399,\n    'red': 0xFF0000,\n    'rosybrown': 0xBC8F8F,\n    'royalblue': 0x4169E1,\n    'saddlebrown': 0x8B4513,\n    'salmon': 0xFA8072,\n    'sandybrown': 0xF4A460,\n    'seagreen': 0x2E8B57,\n    'seashell': 0xFFF5EE,\n    'sienna': 0xA0522D,\n    'silver': 0xC0C0C0,\n    'skyblue': 0x87CEEB,\n    'slateblue': 0x6A5ACD,\n    'slategray': 0x708090,\n    'slategrey': 0x708090,\n    'snow': 0xFFFAFA,\n    'springgreen': 0x00FF7F,\n    'steelblue': 0x4682B4,\n    'tan': 0xD2B48C,\n    'teal': 0x008080,\n    'thistle': 0xD8BFD8,\n    'tomato': 0xFF6347,\n    'turquoise': 0x40E0D0,\n    'violet': 0xEE82EE,\n    'wheat': 0xF5DEB3,\n    'white': 0xFFFFFF,\n    'whitesmoke': 0xF5F5F5,\n    'yellow': 0xFFFF00,\n    'yellowgreen': 0x9ACD32\n};\n\nconst _hslA = {\n    h: 0,\n    s: 0,\n    l: 0\n};\nconst _hslB = {\n    h: 0,\n    s: 0,\n    l: 0\n};\n\nfunction hue2rgb(p, q, t) {\n\n    if (t < 0) t += 1;\n    if (t > 1) t -= 1;\n    if (t < 1 / 6) return p + (q - p) * 6 * t;\n    if (t < 1 / 2) return q;\n    if (t < 2 / 3) return p + (q - p) * 6 * (2 / 3 - t);\n    return p;\n\n}\n\nfunction SRGBToLinear(c) {\n\n    return (c < 0.04045) ? c * 0.0773993808 : Math.pow(c * 0.9478672986 + 0.0521327014, 2.4);\n\n}\n\nfunction LinearToSRGB(c) {\n\n    return (c < 0.0031308) ? c * 12.92 : 1.055 * (Math.pow(c, 0.41666)) - 0.055;\n\n}\n\nclass Color {\n\n    constructor(r, g, b) {\n\n        Object.defineProperty(this, 'isColor', {\n            value: true\n        });\n\n        if (g === undefined && b === undefined) {\n\n            // r is THREE.Color, hex or string\n            return this.set(r);\n\n        }\n\n        return this.setRGB(r, g, b);\n\n    }\n\n    set(value) {\n\n        if (value && value.isColor) {\n\n            this.copy(value);\n\n        } else if (typeof value === 'number') {\n\n            this.setHex(value);\n\n        } else if (typeof value === 'string') {\n\n            this.setStyle(value);\n\n        }\n\n        return this;\n\n    }\n\n    setScalar(scalar) {\n\n        this.r = scalar;\n        this.g = scalar;\n        this.b = scalar;\n\n        return this;\n\n    }\n\n    setHex(hex) {\n\n        hex = Math.floor(hex);\n\n        this.r = (hex >> 16 & 255) / 255;\n        this.g = (hex >> 8 & 255) / 255;\n        this.b = (hex & 255) / 255;\n\n        return this;\n\n    }\n\n    setRGB(r, g, b) {\n\n        this.r = r;\n        this.g = g;\n        this.b = b;\n\n        return this;\n\n    }\n\n    setHSL(h, s, l) {\n\n        // h,s,l ranges are in 0.0 - 1.0\n        h = MathUtils.euclideanModulo(h, 1);\n        s = MathUtils.clamp(s, 0, 1);\n        l = MathUtils.clamp(l, 0, 1);\n\n        if (s === 0) {\n\n            this.r = this.g = this.b = l;\n\n        } else {\n\n            const p = l <= 0.5 ? l * (1 + s) : l + s - (l * s);\n            const q = (2 * l) - p;\n\n            this.r = hue2rgb(q, p, h + 1 / 3);\n            this.g = hue2rgb(q, p, h);\n            this.b = hue2rgb(q, p, h - 1 / 3);\n\n        }\n\n        return this;\n\n    }\n\n    setStyle(style) {\n\n        function handleAlpha(string) {\n\n            if (string === undefined) return;\n\n            if (parseFloat(string) < 1) {\n\n                console.warn('THREE.Color: Alpha component of ' + style + ' will be ignored.');\n\n            }\n\n        }\n\n\n        let m;\n\n        if (m = /^((?:rgb|hsl)a?)\\(\\s*([^\\)]*)\\)/.exec(style)) {\n\n            // rgb / hsl\n\n            let color;\n            const name = m[1];\n            const components = m[2];\n\n            switch (name) {\n\n                case 'rgb':\n                case 'rgba':\n\n                    if (color = /^(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(components)) {\n\n                        // rgb(255,0,0) rgba(255,0,0,0.5)\n                        this.r = Math.min(255, parseInt(color[1], 10)) / 255;\n                        this.g = Math.min(255, parseInt(color[2], 10)) / 255;\n                        this.b = Math.min(255, parseInt(color[3], 10)) / 255;\n\n                        handleAlpha(color[5]);\n\n                        return this;\n\n                    }\n\n                    if (color = /^(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(components)) {\n\n                        // rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\n                        this.r = Math.min(100, parseInt(color[1], 10)) / 100;\n                        this.g = Math.min(100, parseInt(color[2], 10)) / 100;\n                        this.b = Math.min(100, parseInt(color[3], 10)) / 100;\n\n                        handleAlpha(color[5]);\n\n                        return this;\n\n                    }\n\n                    break;\n\n                case 'hsl':\n                case 'hsla':\n\n                    if (color = /^([0-9]*\\.?[0-9]+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(components)) {\n\n                        // hsl(120,50%,50%) hsla(120,50%,50%,0.5)\n                        const h = parseFloat(color[1]) / 360;\n                        const s = parseInt(color[2], 10) / 100;\n                        const l = parseInt(color[3], 10) / 100;\n\n                        handleAlpha(color[5]);\n\n                        return this.setHSL(h, s, l);\n\n                    }\n\n                    break;\n\n            }\n\n        } else if (m = /^\\#([A-Fa-f0-9]+)$/.exec(style)) {\n\n            // hex color\n\n            const hex = m[1];\n            const size = hex.length;\n\n            if (size === 3) {\n\n                // #ff0\n                this.r = parseInt(hex.charAt(0) + hex.charAt(0), 16) / 255;\n                this.g = parseInt(hex.charAt(1) + hex.charAt(1), 16) / 255;\n                this.b = parseInt(hex.charAt(2) + hex.charAt(2), 16) / 255;\n\n                return this;\n\n            } else if (size === 6) {\n\n                // #ff0000\n                this.r = parseInt(hex.charAt(0) + hex.charAt(1), 16) / 255;\n                this.g = parseInt(hex.charAt(2) + hex.charAt(3), 16) / 255;\n                this.b = parseInt(hex.charAt(4) + hex.charAt(5), 16) / 255;\n\n                return this;\n\n            }\n\n        }\n\n        if (style && style.length > 0) {\n\n            return this.setColorName(style);\n\n        }\n\n        return this;\n\n    }\n\n    setColorName(style) {\n\n        // color keywords\n        const hex = _colorKeywords[style];\n\n        if (hex !== undefined) {\n\n            // red\n            this.setHex(hex);\n\n        } else {\n\n            // unknown color\n            console.warn('THREE.Color: Unknown color ' + style);\n\n        }\n\n        return this;\n\n    }\n\n    clone() {\n\n        return new this.constructor(this.r, this.g, this.b);\n\n    }\n\n    copy(color) {\n\n        this.r = color.r;\n        this.g = color.g;\n        this.b = color.b;\n\n        return this;\n\n    }\n\n    copyGammaToLinear(color, gammaFactor) {\n\n        if (gammaFactor === undefined) gammaFactor = 2.0;\n\n        this.r = Math.pow(color.r, gammaFactor);\n        this.g = Math.pow(color.g, gammaFactor);\n        this.b = Math.pow(color.b, gammaFactor);\n\n        return this;\n\n    }\n\n    copyLinearToGamma(color, gammaFactor) {\n\n        if (gammaFactor === undefined) gammaFactor = 2.0;\n\n        const safeInverse = (gammaFactor > 0) ? (1.0 / gammaFactor) : 1.0;\n\n        this.r = Math.pow(color.r, safeInverse);\n        this.g = Math.pow(color.g, safeInverse);\n        this.b = Math.pow(color.b, safeInverse);\n\n        return this;\n\n    }\n\n    convertGammaToLinear(gammaFactor) {\n\n        this.copyGammaToLinear(this, gammaFactor);\n\n        return this;\n\n    }\n\n    convertLinearToGamma(gammaFactor) {\n\n        this.copyLinearToGamma(this, gammaFactor);\n\n        return this;\n\n    }\n\n    copySRGBToLinear(color) {\n\n        this.r = SRGBToLinear(color.r);\n        this.g = SRGBToLinear(color.g);\n        this.b = SRGBToLinear(color.b);\n\n        return this;\n\n    }\n\n    copyLinearToSRGB(color) {\n\n        this.r = LinearToSRGB(color.r);\n        this.g = LinearToSRGB(color.g);\n        this.b = LinearToSRGB(color.b);\n\n        return this;\n\n    }\n\n    convertSRGBToLinear() {\n\n        this.copySRGBToLinear(this);\n\n        return this;\n\n    }\n\n    convertLinearToSRGB() {\n\n        this.copyLinearToSRGB(this);\n\n        return this;\n\n    }\n\n    getHex() {\n\n        return (this.r * 255) << 16 ^ (this.g * 255) << 8 ^ (this.b * 255) << 0;\n\n    }\n\n    getHexString() {\n\n        return ('000000' + this.getHex().toString(16)).slice(-6);\n\n    }\n\n    getHSL(target) {\n\n        // h,s,l ranges are in 0.0 - 1.0\n\n        if (target === undefined) {\n\n            console.warn('THREE.Color: .getHSL() target is now required');\n            target = {\n                h: 0,\n                s: 0,\n                l: 0\n            };\n\n        }\n\n        const r = this.r,\n            g = this.g,\n            b = this.b;\n\n        const max = Math.max(r, g, b);\n        const min = Math.min(r, g, b);\n\n        let hue, saturation;\n        const lightness = (min + max) / 2.0;\n\n        if (min === max) {\n\n            hue = 0;\n            saturation = 0;\n\n        } else {\n\n            const delta = max - min;\n\n            saturation = lightness <= 0.5 ? delta / (max + min) : delta / (2 - max - min);\n\n            switch (max) {\n\n                case r:\n                    hue = (g - b) / delta + (g < b ? 6 : 0);\n                    break;\n                case g:\n                    hue = (b - r) / delta + 2;\n                    break;\n                case b:\n                    hue = (r - g) / delta + 4;\n                    break;\n\n            }\n\n            hue /= 6;\n\n        }\n\n        target.h = hue;\n        target.s = saturation;\n        target.l = lightness;\n\n        return target;\n\n    }\n\n    getStyle() {\n\n        return 'rgb(' + ((this.r * 255) | 0) + ',' + ((this.g * 255) | 0) + ',' + ((this.b * 255) | 0) + ')';\n\n    }\n\n    offsetHSL(h, s, l) {\n\n        this.getHSL(_hslA);\n\n        _hslA.h += h;\n        _hslA.s += s;\n        _hslA.l += l;\n\n        this.setHSL(_hslA.h, _hslA.s, _hslA.l);\n\n        return this;\n\n    }\n\n    add(color) {\n\n        this.r += color.r;\n        this.g += color.g;\n        this.b += color.b;\n\n        return this;\n\n    }\n\n    addColors(color1, color2) {\n\n        this.r = color1.r + color2.r;\n        this.g = color1.g + color2.g;\n        this.b = color1.b + color2.b;\n\n        return this;\n\n    }\n\n    addScalar(s) {\n\n        this.r += s;\n        this.g += s;\n        this.b += s;\n\n        return this;\n\n    }\n\n    sub(color) {\n\n        this.r = Math.max(0, this.r - color.r);\n        this.g = Math.max(0, this.g - color.g);\n        this.b = Math.max(0, this.b - color.b);\n\n        return this;\n\n    }\n\n    multiply(color) {\n\n        this.r *= color.r;\n        this.g *= color.g;\n        this.b *= color.b;\n\n        return this;\n\n    }\n\n    multiplyScalar(s) {\n\n        this.r *= s;\n        this.g *= s;\n        this.b *= s;\n\n        return this;\n\n    }\n\n    lerp(color, alpha) {\n\n        this.r += (color.r - this.r) * alpha;\n        this.g += (color.g - this.g) * alpha;\n        this.b += (color.b - this.b) * alpha;\n\n        return this;\n\n    }\n\n    lerpHSL(color, alpha) {\n\n        this.getHSL(_hslA);\n        color.getHSL(_hslB);\n\n        const h = MathUtils.lerp(_hslA.h, _hslB.h, alpha);\n        const s = MathUtils.lerp(_hslA.s, _hslB.s, alpha);\n        const l = MathUtils.lerp(_hslA.l, _hslB.l, alpha);\n\n        this.setHSL(h, s, l);\n\n        return this;\n\n    }\n\n    equals(c) {\n\n        return (c.r === this.r) && (c.g === this.g) && (c.b === this.b);\n\n    }\n\n    fromArray(array, offset = 0) {\n\n        this.r = array[offset];\n        this.g = array[offset + 1];\n        this.b = array[offset + 2];\n\n        return this;\n\n    }\n\n    toArray(array = [], offset = 0) {\n\n        array[offset] = this.r;\n        array[offset + 1] = this.g;\n        array[offset + 2] = this.b;\n\n        return array;\n\n    }\n\n    fromBufferAttribute(attribute, index) {\n\n        this.r = attribute.getX(index);\n        this.g = attribute.getY(index);\n        this.b = attribute.getZ(index);\n\n        if (attribute.normalized === true) {\n\n            // assuming Uint8Array\n\n            this.r /= 255;\n            this.g /= 255;\n            this.b /= 255;\n\n        }\n\n        return this;\n\n    }\n\n    toJSON() {\n\n        return this.getHex();\n\n    }\n\n}\n\nColor.NAMES = _colorKeywords;\nColor.prototype.r = 1;\nColor.prototype.g = 1;\nColor.prototype.b = 1;\n\nclass Face3 {\n\n    constructor(a, b, c, normal, color, materialIndex) {\n\n        this.a = a;\n        this.b = b;\n        this.c = c;\n\n        this.normal = (normal && normal.isVector3) ? normal : new Vector3();\n        this.vertexNormals = Array.isArray(normal) ? normal : [];\n\n        this.color = (color && color.isColor) ? color : new Color();\n        this.vertexColors = Array.isArray(color) ? color : [];\n\n        this.materialIndex = materialIndex !== undefined ? materialIndex : 0;\n\n    }\n\n    clone() {\n\n        return new this.constructor().copy(this);\n\n    }\n\n    copy(source) {\n\n        this.a = source.a;\n        this.b = source.b;\n        this.c = source.c;\n\n        this.normal.copy(source.normal);\n        this.color.copy(source.color);\n\n        this.materialIndex = source.materialIndex;\n\n        for (let i = 0, il = source.vertexNormals.length; i < il; i++) {\n\n            this.vertexNormals[i] = source.vertexNormals[i].clone();\n\n        }\n\n        for (let i = 0, il = source.vertexColors.length; i < il; i++) {\n\n            this.vertexColors[i] = source.vertexColors[i].clone();\n\n        }\n\n        return this;\n\n    }\n\n}\n\nlet materialId = 0;\n\nfunction Material() {\n\n    Object.defineProperty(this, 'id', {\n        value: materialId++\n    });\n\n    this.uuid = MathUtils.generateUUID();\n\n    this.name = '';\n    this.type = 'Material';\n\n    this.fog = true;\n\n    this.blending = NormalBlending;\n    this.side = FrontSide;\n    this.flatShading = false;\n    this.vertexColors = false;\n\n    this.opacity = 1;\n    this.transparent = false;\n\n    this.blendSrc = SrcAlphaFactor;\n    this.blendDst = OneMinusSrcAlphaFactor;\n    this.blendEquation = AddEquation;\n    this.blendSrcAlpha = null;\n    this.blendDstAlpha = null;\n    this.blendEquationAlpha = null;\n\n    this.depthFunc = LessEqualDepth;\n    this.depthTest = true;\n    this.depthWrite = true;\n\n    this.stencilWriteMask = 0xff;\n    this.stencilFunc = AlwaysStencilFunc;\n    this.stencilRef = 0;\n    this.stencilFuncMask = 0xff;\n    this.stencilFail = KeepStencilOp;\n    this.stencilZFail = KeepStencilOp;\n    this.stencilZPass = KeepStencilOp;\n    this.stencilWrite = false;\n\n    this.clippingPlanes = null;\n    this.clipIntersection = false;\n    this.clipShadows = false;\n\n    this.shadowSide = null;\n\n    this.colorWrite = true;\n\n    this.precision = null; // override the renderer's default precision for this material\n\n    this.polygonOffset = false;\n    this.polygonOffsetFactor = 0;\n    this.polygonOffsetUnits = 0;\n\n    this.dithering = false;\n\n    this.alphaTest = 0;\n    this.premultipliedAlpha = false;\n\n    this.visible = true;\n\n    this.toneMapped = true;\n\n    this.userData = {};\n\n    this.version = 0;\n\n}\n\nMaterial.prototype = Object.assign(Object.create(EventDispatcher.prototype), {\n\n    constructor: Material,\n\n    isMaterial: true,\n\n    onBeforeCompile: function( /* shaderobject, renderer */ ) {},\n\n    customProgramCacheKey: function() {\n\n        return this.onBeforeCompile.toString();\n\n    },\n\n    setValues: function(values) {\n\n        if (values === undefined) return;\n\n        for (const key in values) {\n\n            const newValue = values[key];\n\n            if (newValue === undefined) {\n\n                console.warn(\"THREE.Material: '\" + key + \"' parameter is undefined.\");\n                continue;\n\n            }\n\n            // for backward compatability if shading is set in the constructor\n            if (key === 'shading') {\n\n                console.warn('THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.');\n                this.flatShading = (newValue === FlatShading) ? true : false;\n                continue;\n\n            }\n\n            const currentValue = this[key];\n\n            if (currentValue === undefined) {\n\n                console.warn(\"THREE.\" + this.type + \": '\" + key + \"' is not a property of this material.\");\n                continue;\n\n            }\n\n            if (currentValue && currentValue.isColor) {\n\n                currentValue.set(newValue);\n\n            } else if ((currentValue && currentValue.isVector3) && (newValue && newValue.isVector3)) {\n\n                currentValue.copy(newValue);\n\n            } else {\n\n                this[key] = newValue;\n\n            }\n\n        }\n\n    },\n\n    toJSON: function(meta) {\n\n        const isRoot = (meta === undefined || typeof meta === 'string');\n\n        if (isRoot) {\n\n            meta = {\n                textures: {},\n                images: {}\n            };\n\n        }\n\n        const data = {\n            metadata: {\n                version: 4.5,\n                type: 'Material',\n                generator: 'Material.toJSON'\n            }\n        };\n\n        // standard Material serialization\n        data.uuid = this.uuid;\n        data.type = this.type;\n\n        if (this.name !== '') data.name = this.name;\n\n        if (this.color && this.color.isColor) data.color = this.color.getHex();\n\n        if (this.roughness !== undefined) data.roughness = this.roughness;\n        if (this.metalness !== undefined) data.metalness = this.metalness;\n\n        if (this.sheen && this.sheen.isColor) data.sheen = this.sheen.getHex();\n        if (this.emissive && this.emissive.isColor) data.emissive = this.emissive.getHex();\n        if (this.emissiveIntensity && this.emissiveIntensity !== 1) data.emissiveIntensity = this.emissiveIntensity;\n\n        if (this.specular && this.specular.isColor) data.specular = this.specular.getHex();\n        if (this.shininess !== undefined) data.shininess = this.shininess;\n        if (this.clearcoat !== undefined) data.clearcoat = this.clearcoat;\n        if (this.clearcoatRoughness !== undefined) data.clearcoatRoughness = this.clearcoatRoughness;\n\n        if (this.clearcoatMap && this.clearcoatMap.isTexture) {\n\n            data.clearcoatMap = this.clearcoatMap.toJSON(meta).uuid;\n\n        }\n\n        if (this.clearcoatRoughnessMap && this.clearcoatRoughnessMap.isTexture) {\n\n            data.clearcoatRoughnessMap = this.clearcoatRoughnessMap.toJSON(meta).uuid;\n\n        }\n\n        if (this.clearcoatNormalMap && this.clearcoatNormalMap.isTexture) {\n\n            data.clearcoatNormalMap = this.clearcoatNormalMap.toJSON(meta).uuid;\n            data.clearcoatNormalScale = this.clearcoatNormalScale.toArray();\n\n        }\n\n        if (this.map && this.map.isTexture) data.map = this.map.toJSON(meta).uuid;\n        if (this.matcap && this.matcap.isTexture) data.matcap = this.matcap.toJSON(meta).uuid;\n        if (this.alphaMap && this.alphaMap.isTexture) data.alphaMap = this.alphaMap.toJSON(meta).uuid;\n        if (this.lightMap && this.lightMap.isTexture) data.lightMap = this.lightMap.toJSON(meta).uuid;\n\n        if (this.aoMap && this.aoMap.isTexture) {\n\n            data.aoMap = this.aoMap.toJSON(meta).uuid;\n            data.aoMapIntensity = this.aoMapIntensity;\n\n        }\n\n        if (this.bumpMap && this.bumpMap.isTexture) {\n\n            data.bumpMap = this.bumpMap.toJSON(meta).uuid;\n            data.bumpScale = this.bumpScale;\n\n        }\n\n        if (this.normalMap && this.normalMap.isTexture) {\n\n            data.normalMap = this.normalMap.toJSON(meta).uuid;\n            data.normalMapType = this.normalMapType;\n            data.normalScale = this.normalScale.toArray();\n\n        }\n\n        if (this.displacementMap && this.displacementMap.isTexture) {\n\n            data.displacementMap = this.displacementMap.toJSON(meta).uuid;\n            data.displacementScale = this.displacementScale;\n            data.displacementBias = this.displacementBias;\n\n        }\n\n        if (this.roughnessMap && this.roughnessMap.isTexture) data.roughnessMap = this.roughnessMap.toJSON(meta).uuid;\n        if (this.metalnessMap && this.metalnessMap.isTexture) data.metalnessMap = this.metalnessMap.toJSON(meta).uuid;\n\n        if (this.emissiveMap && this.emissiveMap.isTexture) data.emissiveMap = this.emissiveMap.toJSON(meta).uuid;\n        if (this.specularMap && this.specularMap.isTexture) data.specularMap = this.specularMap.toJSON(meta).uuid;\n\n        if (this.envMap && this.envMap.isTexture) {\n\n            data.envMap = this.envMap.toJSON(meta).uuid;\n            data.reflectivity = this.reflectivity; // Scale behind envMap\n            data.refractionRatio = this.refractionRatio;\n\n            if (this.combine !== undefined) data.combine = this.combine;\n            if (this.envMapIntensity !== undefined) data.envMapIntensity = this.envMapIntensity;\n\n        }\n\n        if (this.gradientMap && this.gradientMap.isTexture) {\n\n            data.gradientMap = this.gradientMap.toJSON(meta).uuid;\n\n        }\n\n        if (this.size !== undefined) data.size = this.size;\n        if (this.sizeAttenuation !== undefined) data.sizeAttenuation = this.sizeAttenuation;\n\n        if (this.blending !== NormalBlending) data.blending = this.blending;\n        if (this.flatShading === true) data.flatShading = this.flatShading;\n        if (this.side !== FrontSide) data.side = this.side;\n        if (this.vertexColors) data.vertexColors = true;\n\n        if (this.opacity < 1) data.opacity = this.opacity;\n        if (this.transparent === true) data.transparent = this.transparent;\n\n        data.depthFunc = this.depthFunc;\n        data.depthTest = this.depthTest;\n        data.depthWrite = this.depthWrite;\n\n        data.stencilWrite = this.stencilWrite;\n        data.stencilWriteMask = this.stencilWriteMask;\n        data.stencilFunc = this.stencilFunc;\n        data.stencilRef = this.stencilRef;\n        data.stencilFuncMask = this.stencilFuncMask;\n        data.stencilFail = this.stencilFail;\n        data.stencilZFail = this.stencilZFail;\n        data.stencilZPass = this.stencilZPass;\n\n        // rotation (SpriteMaterial)\n        if (this.rotation && this.rotation !== 0) data.rotation = this.rotation;\n\n        if (this.polygonOffset === true) data.polygonOffset = true;\n        if (this.polygonOffsetFactor !== 0) data.polygonOffsetFactor = this.polygonOffsetFactor;\n        if (this.polygonOffsetUnits !== 0) data.polygonOffsetUnits = this.polygonOffsetUnits;\n\n        if (this.linewidth && this.linewidth !== 1) data.linewidth = this.linewidth;\n        if (this.dashSize !== undefined) data.dashSize = this.dashSize;\n        if (this.gapSize !== undefined) data.gapSize = this.gapSize;\n        if (this.scale !== undefined) data.scale = this.scale;\n\n        if (this.dithering === true) data.dithering = true;\n\n        if (this.alphaTest > 0) data.alphaTest = this.alphaTest;\n        if (this.premultipliedAlpha === true) data.premultipliedAlpha = this.premultipliedAlpha;\n\n        if (this.wireframe === true) data.wireframe = this.wireframe;\n        if (this.wireframeLinewidth > 1) data.wireframeLinewidth = this.wireframeLinewidth;\n        if (this.wireframeLinecap !== 'round') data.wireframeLinecap = this.wireframeLinecap;\n        if (this.wireframeLinejoin !== 'round') data.wireframeLinejoin = this.wireframeLinejoin;\n\n        if (this.morphTargets === true) data.morphTargets = true;\n        if (this.morphNormals === true) data.morphNormals = true;\n        if (this.skinning === true) data.skinning = true;\n\n        if (this.visible === false) data.visible = false;\n\n        if (this.toneMapped === false) data.toneMapped = false;\n\n        if (JSON.stringify(this.userData) !== '{}') data.userData = this.userData;\n\n        // TODO: Copied from Object3D.toJSON\n\n        function extractFromCache(cache) {\n\n            const values = [];\n\n            for (const key in cache) {\n\n                const data = cache[key];\n                delete data.metadata;\n                values.push(data);\n\n            }\n\n            return values;\n\n        }\n\n        if (isRoot) {\n\n            const textures = extractFromCache(meta.textures);\n            const images = extractFromCache(meta.images);\n\n            if (textures.length > 0) data.textures = textures;\n            if (images.length > 0) data.images = images;\n\n        }\n\n        return data;\n\n    },\n\n    clone: function() {\n\n        return new this.constructor().copy(this);\n\n    },\n\n    copy: function(source) {\n\n        this.name = source.name;\n\n        this.fog = source.fog;\n\n        this.blending = source.blending;\n        this.side = source.side;\n        this.flatShading = source.flatShading;\n        this.vertexColors = source.vertexColors;\n\n        this.opacity = source.opacity;\n        this.transparent = source.transparent;\n\n        this.blendSrc = source.blendSrc;\n        this.blendDst = source.blendDst;\n        this.blendEquation = source.blendEquation;\n        this.blendSrcAlpha = source.blendSrcAlpha;\n        this.blendDstAlpha = source.blendDstAlpha;\n        this.blendEquationAlpha = source.blendEquationAlpha;\n\n        this.depthFunc = source.depthFunc;\n        this.depthTest = source.depthTest;\n        this.depthWrite = source.depthWrite;\n\n        this.stencilWriteMask = source.stencilWriteMask;\n        this.stencilFunc = source.stencilFunc;\n        this.stencilRef = source.stencilRef;\n        this.stencilFuncMask = source.stencilFuncMask;\n        this.stencilFail = source.stencilFail;\n        this.stencilZFail = source.stencilZFail;\n        this.stencilZPass = source.stencilZPass;\n        this.stencilWrite = source.stencilWrite;\n\n        const srcPlanes = source.clippingPlanes;\n        let dstPlanes = null;\n\n        if (srcPlanes !== null) {\n\n            const n = srcPlanes.length;\n            dstPlanes = new Array(n);\n\n            for (let i = 0; i !== n; ++i) {\n\n                dstPlanes[i] = srcPlanes[i].clone();\n\n            }\n\n        }\n\n        this.clippingPlanes = dstPlanes;\n        this.clipIntersection = source.clipIntersection;\n        this.clipShadows = source.clipShadows;\n\n        this.shadowSide = source.shadowSide;\n\n        this.colorWrite = source.colorWrite;\n\n        this.precision = source.precision;\n\n        this.polygonOffset = source.polygonOffset;\n        this.polygonOffsetFactor = source.polygonOffsetFactor;\n        this.polygonOffsetUnits = source.polygonOffsetUnits;\n\n        this.dithering = source.dithering;\n\n        this.alphaTest = source.alphaTest;\n        this.premultipliedAlpha = source.premultipliedAlpha;\n\n        this.visible = source.visible;\n\n        this.toneMapped = source.toneMapped;\n\n        this.userData = JSON.parse(JSON.stringify(source.userData));\n\n        return this;\n\n    },\n\n    dispose: function() {\n\n        this.dispatchEvent({\n            type: 'dispose'\n        });\n\n    }\n\n});\n\nObject.defineProperty(Material.prototype, 'needsUpdate', {\n\n    set: function(value) {\n\n        if (value === true) this.version++;\n\n    }\n\n});\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  depthTest: <bool>,\n *  depthWrite: <bool>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>\n * }\n */\n\nfunction MeshBasicMaterial(parameters) {\n\n    Material.call(this);\n\n    this.type = 'MeshBasicMaterial';\n\n    this.color = new Color(0xffffff); // emissive\n\n    this.map = null;\n\n    this.lightMap = null;\n    this.lightMapIntensity = 1.0;\n\n    this.aoMap = null;\n    this.aoMapIntensity = 1.0;\n\n    this.specularMap = null;\n\n    this.alphaMap = null;\n\n    this.envMap = null;\n    this.combine = MultiplyOperation;\n    this.reflectivity = 1;\n    this.refractionRatio = 0.98;\n\n    this.wireframe = false;\n    this.wireframeLinewidth = 1;\n    this.wireframeLinecap = 'round';\n    this.wireframeLinejoin = 'round';\n\n    this.skinning = false;\n    this.morphTargets = false;\n\n    this.setValues(parameters);\n\n}\n\nMeshBasicMaterial.prototype = Object.create(Material.prototype);\nMeshBasicMaterial.prototype.constructor = MeshBasicMaterial;\n\nMeshBasicMaterial.prototype.isMeshBasicMaterial = true;\n\nMeshBasicMaterial.prototype.copy = function(source) {\n\n    Material.prototype.copy.call(this, source);\n\n    this.color.copy(source.color);\n\n    this.map = source.map;\n\n    this.lightMap = source.lightMap;\n    this.lightMapIntensity = source.lightMapIntensity;\n\n    this.aoMap = source.aoMap;\n    this.aoMapIntensity = source.aoMapIntensity;\n\n    this.specularMap = source.specularMap;\n\n    this.alphaMap = source.alphaMap;\n\n    this.envMap = source.envMap;\n    this.combine = source.combine;\n    this.reflectivity = source.reflectivity;\n    this.refractionRatio = source.refractionRatio;\n\n    this.wireframe = source.wireframe;\n    this.wireframeLinewidth = source.wireframeLinewidth;\n    this.wireframeLinecap = source.wireframeLinecap;\n    this.wireframeLinejoin = source.wireframeLinejoin;\n\n    this.skinning = source.skinning;\n    this.morphTargets = source.morphTargets;\n\n    return this;\n\n};\n\nconst _vector$3 = new Vector3();\nconst _vector2$1 = new Vector2();\n\nfunction BufferAttribute(array, itemSize, normalized) {\n\n    if (Array.isArray(array)) {\n\n        throw new TypeError('THREE.BufferAttribute: array should be a Typed Array.');\n\n    }\n\n    this.name = '';\n\n    this.array = array;\n    this.itemSize = itemSize;\n    this.count = array !== undefined ? array.length / itemSize : 0;\n    this.normalized = normalized === true;\n\n    this.usage = StaticDrawUsage;\n    this.updateRange = {\n        offset: 0,\n        count: -1\n    };\n\n    this.version = 0;\n\n}\n\nObject.defineProperty(BufferAttribute.prototype, 'needsUpdate', {\n\n    set: function(value) {\n\n        if (value === true) this.version++;\n\n    }\n\n});\n\nObject.assign(BufferAttribute.prototype, {\n\n    isBufferAttribute: true,\n\n    onUploadCallback: function() {},\n\n    setUsage: function(value) {\n\n        this.usage = value;\n\n        return this;\n\n    },\n\n    copy: function(source) {\n\n        this.name = source.name;\n        this.array = new source.array.constructor(source.array);\n        this.itemSize = source.itemSize;\n        this.count = source.count;\n        this.normalized = source.normalized;\n\n        this.usage = source.usage;\n\n        return this;\n\n    },\n\n    copyAt: function(index1, attribute, index2) {\n\n        index1 *= this.itemSize;\n        index2 *= attribute.itemSize;\n\n        for (let i = 0, l = this.itemSize; i < l; i++) {\n\n            this.array[index1 + i] = attribute.array[index2 + i];\n\n        }\n\n        return this;\n\n    },\n\n    copyArray: function(array) {\n\n        this.array.set(array);\n\n        return this;\n\n    },\n\n    copyColorsArray: function(colors) {\n\n        const array = this.array;\n        let offset = 0;\n\n        for (let i = 0, l = colors.length; i < l; i++) {\n\n            let color = colors[i];\n\n            if (color === undefined) {\n\n                console.warn('THREE.BufferAttribute.copyColorsArray(): color is undefined', i);\n                color = new Color();\n\n            }\n\n            array[offset++] = color.r;\n            array[offset++] = color.g;\n            array[offset++] = color.b;\n\n        }\n\n        return this;\n\n    },\n\n    copyVector2sArray: function(vectors) {\n\n        const array = this.array;\n        let offset = 0;\n\n        for (let i = 0, l = vectors.length; i < l; i++) {\n\n            let vector = vectors[i];\n\n            if (vector === undefined) {\n\n                console.warn('THREE.BufferAttribute.copyVector2sArray(): vector is undefined', i);\n                vector = new Vector2();\n\n            }\n\n            array[offset++] = vector.x;\n            array[offset++] = vector.y;\n\n        }\n\n        return this;\n\n    },\n\n    copyVector3sArray: function(vectors) {\n\n        const array = this.array;\n        let offset = 0;\n\n        for (let i = 0, l = vectors.length; i < l; i++) {\n\n            let vector = vectors[i];\n\n            if (vector === undefined) {\n\n                console.warn('THREE.BufferAttribute.copyVector3sArray(): vector is undefined', i);\n                vector = new Vector3();\n\n            }\n\n            array[offset++] = vector.x;\n            array[offset++] = vector.y;\n            array[offset++] = vector.z;\n\n        }\n\n        return this;\n\n    },\n\n    copyVector4sArray: function(vectors) {\n\n        const array = this.array;\n        let offset = 0;\n\n        for (let i = 0, l = vectors.length; i < l; i++) {\n\n            let vector = vectors[i];\n\n            if (vector === undefined) {\n\n                console.warn('THREE.BufferAttribute.copyVector4sArray(): vector is undefined', i);\n                vector = new Vector4();\n\n            }\n\n            array[offset++] = vector.x;\n            array[offset++] = vector.y;\n            array[offset++] = vector.z;\n            array[offset++] = vector.w;\n\n        }\n\n        return this;\n\n    },\n\n    applyMatrix3: function(m) {\n\n        if (this.itemSize === 2) {\n\n            for (let i = 0, l = this.count; i < l; i++) {\n\n                _vector2$1.fromBufferAttribute(this, i);\n                _vector2$1.applyMatrix3(m);\n\n                this.setXY(i, _vector2$1.x, _vector2$1.y);\n\n            }\n\n        } else if (this.itemSize === 3) {\n\n            for (let i = 0, l = this.count; i < l; i++) {\n\n                _vector$3.fromBufferAttribute(this, i);\n                _vector$3.applyMatrix3(m);\n\n                this.setXYZ(i, _vector$3.x, _vector$3.y, _vector$3.z);\n\n            }\n\n        }\n\n        return this;\n\n    },\n\n    applyMatrix4: function(m) {\n\n        for (let i = 0, l = this.count; i < l; i++) {\n\n            _vector$3.x = this.getX(i);\n            _vector$3.y = this.getY(i);\n            _vector$3.z = this.getZ(i);\n\n            _vector$3.applyMatrix4(m);\n\n            this.setXYZ(i, _vector$3.x, _vector$3.y, _vector$3.z);\n\n        }\n\n        return this;\n\n    },\n\n    applyNormalMatrix: function(m) {\n\n        for (let i = 0, l = this.count; i < l; i++) {\n\n            _vector$3.x = this.getX(i);\n            _vector$3.y = this.getY(i);\n            _vector$3.z = this.getZ(i);\n\n            _vector$3.applyNormalMatrix(m);\n\n            this.setXYZ(i, _vector$3.x, _vector$3.y, _vector$3.z);\n\n        }\n\n        return this;\n\n    },\n\n    transformDirection: function(m) {\n\n        for (let i = 0, l = this.count; i < l; i++) {\n\n            _vector$3.x = this.getX(i);\n            _vector$3.y = this.getY(i);\n            _vector$3.z = this.getZ(i);\n\n            _vector$3.transformDirection(m);\n\n            this.setXYZ(i, _vector$3.x, _vector$3.y, _vector$3.z);\n\n        }\n\n        return this;\n\n    },\n\n    set: function(value, offset) {\n\n        if (offset === undefined) offset = 0;\n\n        this.array.set(value, offset);\n\n        return this;\n\n    },\n\n    getX: function(index) {\n\n        return this.array[index * this.itemSize];\n\n    },\n\n    setX: function(index, x) {\n\n        this.array[index * this.itemSize] = x;\n\n        return this;\n\n    },\n\n    getY: function(index) {\n\n        return this.array[index * this.itemSize + 1];\n\n    },\n\n    setY: function(index, y) {\n\n        this.array[index * this.itemSize + 1] = y;\n\n        return this;\n\n    },\n\n    getZ: function(index) {\n\n        return this.array[index * this.itemSize + 2];\n\n    },\n\n    setZ: function(index, z) {\n\n        this.array[index * this.itemSize + 2] = z;\n\n        return this;\n\n    },\n\n    getW: function(index) {\n\n        return this.array[index * this.itemSize + 3];\n\n    },\n\n    setW: function(index, w) {\n\n        this.array[index * this.itemSize + 3] = w;\n\n        return this;\n\n    },\n\n    setXY: function(index, x, y) {\n\n        index *= this.itemSize;\n\n        this.array[index + 0] = x;\n        this.array[index + 1] = y;\n\n        return this;\n\n    },\n\n    setXYZ: function(index, x, y, z) {\n\n        index *= this.itemSize;\n\n        this.array[index + 0] = x;\n        this.array[index + 1] = y;\n        this.array[index + 2] = z;\n\n        return this;\n\n    },\n\n    setXYZW: function(index, x, y, z, w) {\n\n        index *= this.itemSize;\n\n        this.array[index + 0] = x;\n        this.array[index + 1] = y;\n        this.array[index + 2] = z;\n        this.array[index + 3] = w;\n\n        return this;\n\n    },\n\n    onUpload: function(callback) {\n\n        this.onUploadCallback = callback;\n\n        return this;\n\n    },\n\n    clone: function() {\n\n        return new this.constructor(this.array, this.itemSize).copy(this);\n\n    },\n\n    toJSON: function() {\n\n        return {\n            itemSize: this.itemSize,\n            type: this.array.constructor.name,\n            array: Array.prototype.slice.call(this.array),\n            normalized: this.normalized\n        };\n\n    }\n\n});\n\n//\n\nfunction Int8BufferAttribute(array, itemSize, normalized) {\n\n    BufferAttribute.call(this, new Int8Array(array), itemSize, normalized);\n\n}\n\nInt8BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\nInt8BufferAttribute.prototype.constructor = Int8BufferAttribute;\n\n\nfunction Uint8BufferAttribute(array, itemSize, normalized) {\n\n    BufferAttribute.call(this, new Uint8Array(array), itemSize, normalized);\n\n}\n\nUint8BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\nUint8BufferAttribute.prototype.constructor = Uint8BufferAttribute;\n\n\nfunction Uint8ClampedBufferAttribute(array, itemSize, normalized) {\n\n    BufferAttribute.call(this, new Uint8ClampedArray(array), itemSize, normalized);\n\n}\n\nUint8ClampedBufferAttribute.prototype = Object.create(BufferAttribute.prototype);\nUint8ClampedBufferAttribute.prototype.constructor = Uint8ClampedBufferAttribute;\n\n\nfunction Int16BufferAttribute(array, itemSize, normalized) {\n\n    BufferAttribute.call(this, new Int16Array(array), itemSize, normalized);\n\n}\n\nInt16BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\nInt16BufferAttribute.prototype.constructor = Int16BufferAttribute;\n\n\nfunction Uint16BufferAttribute(array, itemSize, normalized) {\n\n    BufferAttribute.call(this, new Uint16Array(array), itemSize, normalized);\n\n}\n\nUint16BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\nUint16BufferAttribute.prototype.constructor = Uint16BufferAttribute;\n\n\nfunction Int32BufferAttribute(array, itemSize, normalized) {\n\n    BufferAttribute.call(this, new Int32Array(array), itemSize, normalized);\n\n}\n\nInt32BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\nInt32BufferAttribute.prototype.constructor = Int32BufferAttribute;\n\n\nfunction Uint32BufferAttribute(array, itemSize, normalized) {\n\n    BufferAttribute.call(this, new Uint32Array(array), itemSize, normalized);\n\n}\n\nUint32BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\nUint32BufferAttribute.prototype.constructor = Uint32BufferAttribute;\n\n\nfunction Float32BufferAttribute(array, itemSize, normalized) {\n\n    BufferAttribute.call(this, new Float32Array(array), itemSize, normalized);\n\n}\n\nFloat32BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\nFloat32BufferAttribute.prototype.constructor = Float32BufferAttribute;\n\n\nfunction Float64BufferAttribute(array, itemSize, normalized) {\n\n    BufferAttribute.call(this, new Float64Array(array), itemSize, normalized);\n\n}\n\nFloat64BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\nFloat64BufferAttribute.prototype.constructor = Float64BufferAttribute;\n\nclass DirectGeometry {\n\n    constructor() {\n\n        this.vertices = [];\n        this.normals = [];\n        this.colors = [];\n        this.uvs = [];\n        this.uvs2 = [];\n\n        this.groups = [];\n\n        this.morphTargets = {};\n\n        this.skinWeights = [];\n        this.skinIndices = [];\n\n        // this.lineDistances = [];\n\n        this.boundingBox = null;\n        this.boundingSphere = null;\n\n        // update flags\n\n        this.verticesNeedUpdate = false;\n        this.normalsNeedUpdate = false;\n        this.colorsNeedUpdate = false;\n        this.uvsNeedUpdate = false;\n        this.groupsNeedUpdate = false;\n\n    }\n\n    computeGroups(geometry) {\n\n        const groups = [];\n\n        let group, i;\n        let materialIndex = undefined;\n\n        const faces = geometry.faces;\n\n        for (i = 0; i < faces.length; i++) {\n\n            const face = faces[i];\n\n            // materials\n\n            if (face.materialIndex !== materialIndex) {\n\n                materialIndex = face.materialIndex;\n\n                if (group !== undefined) {\n\n                    group.count = (i * 3) - group.start;\n                    groups.push(group);\n\n                }\n\n                group = {\n                    start: i * 3,\n                    materialIndex: materialIndex\n                };\n\n            }\n\n        }\n\n        if (group !== undefined) {\n\n            group.count = (i * 3) - group.start;\n            groups.push(group);\n\n        }\n\n        this.groups = groups;\n\n    }\n\n    fromGeometry(geometry) {\n\n        const faces = geometry.faces;\n        const vertices = geometry.vertices;\n        const faceVertexUvs = geometry.faceVertexUvs;\n\n        const hasFaceVertexUv = faceVertexUvs[0] && faceVertexUvs[0].length > 0;\n        const hasFaceVertexUv2 = faceVertexUvs[1] && faceVertexUvs[1].length > 0;\n\n        // morphs\n\n        const morphTargets = geometry.morphTargets;\n        const morphTargetsLength = morphTargets.length;\n\n        let morphTargetsPosition;\n\n        if (morphTargetsLength > 0) {\n\n            morphTargetsPosition = [];\n\n            for (let i = 0; i < morphTargetsLength; i++) {\n\n                morphTargetsPosition[i] = {\n                    name: morphTargets[i].name,\n                    data: []\n                };\n\n            }\n\n            this.morphTargets.position = morphTargetsPosition;\n\n        }\n\n        const morphNormals = geometry.morphNormals;\n        const morphNormalsLength = morphNormals.length;\n\n        let morphTargetsNormal;\n\n        if (morphNormalsLength > 0) {\n\n            morphTargetsNormal = [];\n\n            for (let i = 0; i < morphNormalsLength; i++) {\n\n                morphTargetsNormal[i] = {\n                    name: morphNormals[i].name,\n                    data: []\n                };\n\n            }\n\n            this.morphTargets.normal = morphTargetsNormal;\n\n        }\n\n        // skins\n\n        const skinIndices = geometry.skinIndices;\n        const skinWeights = geometry.skinWeights;\n\n        const hasSkinIndices = skinIndices.length === vertices.length;\n        const hasSkinWeights = skinWeights.length === vertices.length;\n\n        //\n\n        if (vertices.length > 0 && faces.length === 0) {\n\n            console.error('THREE.DirectGeometry: Faceless geometries are not supported.');\n\n        }\n\n        for (let i = 0; i < faces.length; i++) {\n\n            const face = faces[i];\n\n            this.vertices.push(vertices[face.a], vertices[face.b], vertices[face.c]);\n\n            const vertexNormals = face.vertexNormals;\n\n            if (vertexNormals.length === 3) {\n\n                this.normals.push(vertexNormals[0], vertexNormals[1], vertexNormals[2]);\n\n            } else {\n\n                const normal = face.normal;\n\n                this.normals.push(normal, normal, normal);\n\n            }\n\n            const vertexColors = face.vertexColors;\n\n            if (vertexColors.length === 3) {\n\n                this.colors.push(vertexColors[0], vertexColors[1], vertexColors[2]);\n\n            } else {\n\n                const color = face.color;\n\n                this.colors.push(color, color, color);\n\n            }\n\n            if (hasFaceVertexUv === true) {\n\n                const vertexUvs = faceVertexUvs[0][i];\n\n                if (vertexUvs !== undefined) {\n\n                    this.uvs.push(vertexUvs[0], vertexUvs[1], vertexUvs[2]);\n\n                } else {\n\n                    console.warn('THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ', i);\n\n                    this.uvs.push(new Vector2(), new Vector2(), new Vector2());\n\n                }\n\n            }\n\n            if (hasFaceVertexUv2 === true) {\n\n                const vertexUvs = faceVertexUvs[1][i];\n\n                if (vertexUvs !== undefined) {\n\n                    this.uvs2.push(vertexUvs[0], vertexUvs[1], vertexUvs[2]);\n\n                } else {\n\n                    console.warn('THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ', i);\n\n                    this.uvs2.push(new Vector2(), new Vector2(), new Vector2());\n\n                }\n\n            }\n\n            // morphs\n\n            for (let j = 0; j < morphTargetsLength; j++) {\n\n                const morphTarget = morphTargets[j].vertices;\n\n                morphTargetsPosition[j].data.push(morphTarget[face.a], morphTarget[face.b], morphTarget[face.c]);\n\n            }\n\n            for (let j = 0; j < morphNormalsLength; j++) {\n\n                const morphNormal = morphNormals[j].vertexNormals[i];\n\n                morphTargetsNormal[j].data.push(morphNormal.a, morphNormal.b, morphNormal.c);\n\n            }\n\n            // skins\n\n            if (hasSkinIndices) {\n\n                this.skinIndices.push(skinIndices[face.a], skinIndices[face.b], skinIndices[face.c]);\n\n            }\n\n            if (hasSkinWeights) {\n\n                this.skinWeights.push(skinWeights[face.a], skinWeights[face.b], skinWeights[face.c]);\n\n            }\n\n        }\n\n        this.computeGroups(geometry);\n\n        this.verticesNeedUpdate = geometry.verticesNeedUpdate;\n        this.normalsNeedUpdate = geometry.normalsNeedUpdate;\n        this.colorsNeedUpdate = geometry.colorsNeedUpdate;\n        this.uvsNeedUpdate = geometry.uvsNeedUpdate;\n        this.groupsNeedUpdate = geometry.groupsNeedUpdate;\n\n        if (geometry.boundingSphere !== null) {\n\n            this.boundingSphere = geometry.boundingSphere.clone();\n\n        }\n\n        if (geometry.boundingBox !== null) {\n\n            this.boundingBox = geometry.boundingBox.clone();\n\n        }\n\n        return this;\n\n    }\n\n}\n\nfunction arrayMax(array) {\n\n    if (array.length === 0) return -Infinity;\n\n    let max = array[0];\n\n    for (let i = 1, l = array.length; i < l; ++i) {\n\n        if (array[i] > max) max = array[i];\n\n    }\n\n    return max;\n\n}\n\nlet _bufferGeometryId = 1; // BufferGeometry uses odd numbers as Id\n\nconst _m1$2 = new Matrix4();\nconst _obj = new Object3D();\nconst _offset = new Vector3();\nconst _box$2 = new Box3();\nconst _boxMorphTargets = new Box3();\nconst _vector$4 = new Vector3();\n\nfunction BufferGeometry() {\n\n    Object.defineProperty(this, 'id', {\n        value: _bufferGeometryId += 2\n    });\n\n    this.uuid = MathUtils.generateUUID();\n\n    this.name = '';\n    this.type = 'BufferGeometry';\n\n    this.index = null;\n    this.attributes = {};\n\n    this.morphAttributes = {};\n    this.morphTargetsRelative = false;\n\n    this.groups = [];\n\n    this.boundingBox = null;\n    this.boundingSphere = null;\n\n    this.drawRange = {\n        start: 0,\n        count: Infinity\n    };\n\n    this.userData = {};\n\n}\n\nBufferGeometry.prototype = Object.assign(Object.create(EventDispatcher.prototype), {\n\n    constructor: BufferGeometry,\n\n    isBufferGeometry: true,\n\n    getIndex: function() {\n\n        return this.index;\n\n    },\n\n    setIndex: function(index) {\n\n        if (Array.isArray(index)) {\n\n            this.index = new(arrayMax(index) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute)(index, 1);\n\n        } else {\n\n            this.index = index;\n\n        }\n\n        return this;\n\n    },\n\n    getAttribute: function(name) {\n\n        return this.attributes[name];\n\n    },\n\n    setAttribute: function(name, attribute) {\n\n        this.attributes[name] = attribute;\n\n        return this;\n\n    },\n\n    deleteAttribute: function(name) {\n\n        delete this.attributes[name];\n\n        return this;\n\n    },\n\n    addGroup: function(start, count, materialIndex) {\n\n        this.groups.push({\n\n            start: start,\n            count: count,\n            materialIndex: materialIndex !== undefined ? materialIndex : 0\n\n        });\n\n    },\n\n    clearGroups: function() {\n\n        this.groups = [];\n\n    },\n\n    setDrawRange: function(start, count) {\n\n        this.drawRange.start = start;\n        this.drawRange.count = count;\n\n    },\n\n    applyMatrix4: function(matrix) {\n\n        const position = this.attributes.position;\n\n        if (position !== undefined) {\n\n            position.applyMatrix4(matrix);\n\n            position.needsUpdate = true;\n\n        }\n\n        const normal = this.attributes.normal;\n\n        if (normal !== undefined) {\n\n            const normalMatrix = new Matrix3().getNormalMatrix(matrix);\n\n            normal.applyNormalMatrix(normalMatrix);\n\n            normal.needsUpdate = true;\n\n        }\n\n        const tangent = this.attributes.tangent;\n\n        if (tangent !== undefined) {\n\n            tangent.transformDirection(matrix);\n\n            tangent.needsUpdate = true;\n\n        }\n\n        if (this.boundingBox !== null) {\n\n            this.computeBoundingBox();\n\n        }\n\n        if (this.boundingSphere !== null) {\n\n            this.computeBoundingSphere();\n\n        }\n\n        return this;\n\n    },\n\n    rotateX: function(angle) {\n\n        // rotate geometry around world x-axis\n\n        _m1$2.makeRotationX(angle);\n\n        this.applyMatrix4(_m1$2);\n\n        return this;\n\n    },\n\n    rotateY: function(angle) {\n\n        // rotate geometry around world y-axis\n\n        _m1$2.makeRotationY(angle);\n\n        this.applyMatrix4(_m1$2);\n\n        return this;\n\n    },\n\n    rotateZ: function(angle) {\n\n        // rotate geometry around world z-axis\n\n        _m1$2.makeRotationZ(angle);\n\n        this.applyMatrix4(_m1$2);\n\n        return this;\n\n    },\n\n    translate: function(x, y, z) {\n\n        // translate geometry\n\n        _m1$2.makeTranslation(x, y, z);\n\n        this.applyMatrix4(_m1$2);\n\n        return this;\n\n    },\n\n    scale: function(x, y, z) {\n\n        // scale geometry\n\n        _m1$2.makeScale(x, y, z);\n\n        this.applyMatrix4(_m1$2);\n\n        return this;\n\n    },\n\n    lookAt: function(vector) {\n\n        _obj.lookAt(vector);\n\n        _obj.updateMatrix();\n\n        this.applyMatrix4(_obj.matrix);\n\n        return this;\n\n    },\n\n    center: function() {\n\n        this.computeBoundingBox();\n\n        this.boundingBox.getCenter(_offset).negate();\n\n        this.translate(_offset.x, _offset.y, _offset.z);\n\n        return this;\n\n    },\n\n    setFromObject: function(object) {\n\n        // console.log( 'THREE.BufferGeometry.setFromObject(). Converting', object, this );\n\n        const geometry = object.geometry;\n\n        if (object.isPoints || object.isLine) {\n\n            const positions = new Float32BufferAttribute(geometry.vertices.length * 3, 3);\n            const colors = new Float32BufferAttribute(geometry.colors.length * 3, 3);\n\n            this.setAttribute('position', positions.copyVector3sArray(geometry.vertices));\n            this.setAttribute('color', colors.copyColorsArray(geometry.colors));\n\n            if (geometry.lineDistances && geometry.lineDistances.length === geometry.vertices.length) {\n\n                const lineDistances = new Float32BufferAttribute(geometry.lineDistances.length, 1);\n\n                this.setAttribute('lineDistance', lineDistances.copyArray(geometry.lineDistances));\n\n            }\n\n            if (geometry.boundingSphere !== null) {\n\n                this.boundingSphere = geometry.boundingSphere.clone();\n\n            }\n\n            if (geometry.boundingBox !== null) {\n\n                this.boundingBox = geometry.boundingBox.clone();\n\n            }\n\n        } else if (object.isMesh) {\n\n            if (geometry && geometry.isGeometry) {\n\n                this.fromGeometry(geometry);\n\n            }\n\n        }\n\n        return this;\n\n    },\n\n    setFromPoints: function(points) {\n\n        const position = [];\n\n        for (let i = 0, l = points.length; i < l; i++) {\n\n            const point = points[i];\n            position.push(point.x, point.y, point.z || 0);\n\n        }\n\n        this.setAttribute('position', new Float32BufferAttribute(position, 3));\n\n        return this;\n\n    },\n\n    updateFromObject: function(object) {\n\n        let geometry = object.geometry;\n\n        if (object.isMesh) {\n\n            let direct = geometry.__directGeometry;\n\n            if (geometry.elementsNeedUpdate === true) {\n\n                direct = undefined;\n                geometry.elementsNeedUpdate = false;\n\n            }\n\n            if (direct === undefined) {\n\n                return this.fromGeometry(geometry);\n\n            }\n\n            direct.verticesNeedUpdate = geometry.verticesNeedUpdate;\n            direct.normalsNeedUpdate = geometry.normalsNeedUpdate;\n            direct.colorsNeedUpdate = geometry.colorsNeedUpdate;\n            direct.uvsNeedUpdate = geometry.uvsNeedUpdate;\n            direct.groupsNeedUpdate = geometry.groupsNeedUpdate;\n\n            geometry.verticesNeedUpdate = false;\n            geometry.normalsNeedUpdate = false;\n            geometry.colorsNeedUpdate = false;\n            geometry.uvsNeedUpdate = false;\n            geometry.groupsNeedUpdate = false;\n\n            geometry = direct;\n\n        }\n\n        if (geometry.verticesNeedUpdate === true) {\n\n            const attribute = this.attributes.position;\n\n            if (attribute !== undefined) {\n\n                attribute.copyVector3sArray(geometry.vertices);\n                attribute.needsUpdate = true;\n\n            }\n\n            geometry.verticesNeedUpdate = false;\n\n        }\n\n        if (geometry.normalsNeedUpdate === true) {\n\n            const attribute = this.attributes.normal;\n\n            if (attribute !== undefined) {\n\n                attribute.copyVector3sArray(geometry.normals);\n                attribute.needsUpdate = true;\n\n            }\n\n            geometry.normalsNeedUpdate = false;\n\n        }\n\n        if (geometry.colorsNeedUpdate === true) {\n\n            const attribute = this.attributes.color;\n\n            if (attribute !== undefined) {\n\n                attribute.copyColorsArray(geometry.colors);\n                attribute.needsUpdate = true;\n\n            }\n\n            geometry.colorsNeedUpdate = false;\n\n        }\n\n        if (geometry.uvsNeedUpdate) {\n\n            const attribute = this.attributes.uv;\n\n            if (attribute !== undefined) {\n\n                attribute.copyVector2sArray(geometry.uvs);\n                attribute.needsUpdate = true;\n\n            }\n\n            geometry.uvsNeedUpdate = false;\n\n        }\n\n        if (geometry.lineDistancesNeedUpdate) {\n\n            const attribute = this.attributes.lineDistance;\n\n            if (attribute !== undefined) {\n\n                attribute.copyArray(geometry.lineDistances);\n                attribute.needsUpdate = true;\n\n            }\n\n            geometry.lineDistancesNeedUpdate = false;\n\n        }\n\n        if (geometry.groupsNeedUpdate) {\n\n            geometry.computeGroups(object.geometry);\n            this.groups = geometry.groups;\n\n            geometry.groupsNeedUpdate = false;\n\n        }\n\n        return this;\n\n    },\n\n    fromGeometry: function(geometry) {\n\n        geometry.__directGeometry = new DirectGeometry().fromGeometry(geometry);\n\n        return this.fromDirectGeometry(geometry.__directGeometry);\n\n    },\n\n    fromDirectGeometry: function(geometry) {\n\n        const positions = new Float32Array(geometry.vertices.length * 3);\n        this.setAttribute('position', new BufferAttribute(positions, 3).copyVector3sArray(geometry.vertices));\n\n        if (geometry.normals.length > 0) {\n\n            const normals = new Float32Array(geometry.normals.length * 3);\n            this.setAttribute('normal', new BufferAttribute(normals, 3).copyVector3sArray(geometry.normals));\n\n        }\n\n        if (geometry.colors.length > 0) {\n\n            const colors = new Float32Array(geometry.colors.length * 3);\n            this.setAttribute('color', new BufferAttribute(colors, 3).copyColorsArray(geometry.colors));\n\n        }\n\n        if (geometry.uvs.length > 0) {\n\n            const uvs = new Float32Array(geometry.uvs.length * 2);\n            this.setAttribute('uv', new BufferAttribute(uvs, 2).copyVector2sArray(geometry.uvs));\n\n        }\n\n        if (geometry.uvs2.length > 0) {\n\n            const uvs2 = new Float32Array(geometry.uvs2.length * 2);\n            this.setAttribute('uv2', new BufferAttribute(uvs2, 2).copyVector2sArray(geometry.uvs2));\n\n        }\n\n        // groups\n\n        this.groups = geometry.groups;\n\n        // morphs\n\n        for (const name in geometry.morphTargets) {\n\n            const array = [];\n            const morphTargets = geometry.morphTargets[name];\n\n            for (let i = 0, l = morphTargets.length; i < l; i++) {\n\n                const morphTarget = morphTargets[i];\n\n                const attribute = new Float32BufferAttribute(morphTarget.data.length * 3, 3);\n                attribute.name = morphTarget.name;\n\n                array.push(attribute.copyVector3sArray(morphTarget.data));\n\n            }\n\n            this.morphAttributes[name] = array;\n\n        }\n\n        // skinning\n\n        if (geometry.skinIndices.length > 0) {\n\n            const skinIndices = new Float32BufferAttribute(geometry.skinIndices.length * 4, 4);\n            this.setAttribute('skinIndex', skinIndices.copyVector4sArray(geometry.skinIndices));\n\n        }\n\n        if (geometry.skinWeights.length > 0) {\n\n            const skinWeights = new Float32BufferAttribute(geometry.skinWeights.length * 4, 4);\n            this.setAttribute('skinWeight', skinWeights.copyVector4sArray(geometry.skinWeights));\n\n        }\n\n        //\n\n        if (geometry.boundingSphere !== null) {\n\n            this.boundingSphere = geometry.boundingSphere.clone();\n\n        }\n\n        if (geometry.boundingBox !== null) {\n\n            this.boundingBox = geometry.boundingBox.clone();\n\n        }\n\n        return this;\n\n    },\n\n    computeBoundingBox: function() {\n\n        if (this.boundingBox === null) {\n\n            this.boundingBox = new Box3();\n\n        }\n\n        const position = this.attributes.position;\n        const morphAttributesPosition = this.morphAttributes.position;\n\n        if (position && position.isGLBufferAttribute) {\n\n            console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set \"mesh.frustumCulled\" to \"false\".', this);\n\n            this.boundingBox.set(\n                new Vector3(-Infinity, -Infinity, -Infinity),\n                new Vector3(+Infinity, +Infinity, +Infinity)\n            );\n\n            return;\n\n        }\n\n        if (position !== undefined) {\n\n            this.boundingBox.setFromBufferAttribute(position);\n\n            // process morph attributes if present\n\n            if (morphAttributesPosition) {\n\n                for (let i = 0, il = morphAttributesPosition.length; i < il; i++) {\n\n                    const morphAttribute = morphAttributesPosition[i];\n                    _box$2.setFromBufferAttribute(morphAttribute);\n\n                    if (this.morphTargetsRelative) {\n\n                        _vector$4.addVectors(this.boundingBox.min, _box$2.min);\n                        this.boundingBox.expandByPoint(_vector$4);\n\n                        _vector$4.addVectors(this.boundingBox.max, _box$2.max);\n                        this.boundingBox.expandByPoint(_vector$4);\n\n                    } else {\n\n                        this.boundingBox.expandByPoint(_box$2.min);\n                        this.boundingBox.expandByPoint(_box$2.max);\n\n                    }\n\n                }\n\n            }\n\n        } else {\n\n            this.boundingBox.makeEmpty();\n\n        }\n\n        if (isNaN(this.boundingBox.min.x) || isNaN(this.boundingBox.min.y) || isNaN(this.boundingBox.min.z)) {\n\n            console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.', this);\n\n        }\n\n    },\n\n    computeBoundingSphere: function() {\n\n        if (this.boundingSphere === null) {\n\n            this.boundingSphere = new Sphere();\n\n        }\n\n        const position = this.attributes.position;\n        const morphAttributesPosition = this.morphAttributes.position;\n\n        if (position && position.isGLBufferAttribute) {\n\n            console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set \"mesh.frustumCulled\" to \"false\".', this);\n\n            this.boundingSphere.set(new Vector3(), Infinity);\n\n            return;\n\n        }\n\n        if (position) {\n\n            // first, find the center of the bounding sphere\n\n            const center = this.boundingSphere.center;\n\n            _box$2.setFromBufferAttribute(position);\n\n            // process morph attributes if present\n\n            if (morphAttributesPosition) {\n\n                for (let i = 0, il = morphAttributesPosition.length; i < il; i++) {\n\n                    const morphAttribute = morphAttributesPosition[i];\n                    _boxMorphTargets.setFromBufferAttribute(morphAttribute);\n\n                    if (this.morphTargetsRelative) {\n\n                        _vector$4.addVectors(_box$2.min, _boxMorphTargets.min);\n                        _box$2.expandByPoint(_vector$4);\n\n                        _vector$4.addVectors(_box$2.max, _boxMorphTargets.max);\n                        _box$2.expandByPoint(_vector$4);\n\n                    } else {\n\n                        _box$2.expandByPoint(_boxMorphTargets.min);\n                        _box$2.expandByPoint(_boxMorphTargets.max);\n\n                    }\n\n                }\n\n            }\n\n            _box$2.getCenter(center);\n\n            // second, try to find a boundingSphere with a radius smaller than the\n            // boundingSphere of the boundingBox: sqrt(3) smaller in the best case\n\n            let maxRadiusSq = 0;\n\n            for (let i = 0, il = position.count; i < il; i++) {\n\n                _vector$4.fromBufferAttribute(position, i);\n\n                maxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(_vector$4));\n\n            }\n\n            // process morph attributes if present\n\n            if (morphAttributesPosition) {\n\n                for (let i = 0, il = morphAttributesPosition.length; i < il; i++) {\n\n                    const morphAttribute = morphAttributesPosition[i];\n                    const morphTargetsRelative = this.morphTargetsRelative;\n\n                    for (let j = 0, jl = morphAttribute.count; j < jl; j++) {\n\n                        _vector$4.fromBufferAttribute(morphAttribute, j);\n\n                        if (morphTargetsRelative) {\n\n                            _offset.fromBufferAttribute(position, j);\n                            _vector$4.add(_offset);\n\n                        }\n\n                        maxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(_vector$4));\n\n                    }\n\n                }\n\n            }\n\n            this.boundingSphere.radius = Math.sqrt(maxRadiusSq);\n\n            if (isNaN(this.boundingSphere.radius)) {\n\n                console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.', this);\n\n            }\n\n        }\n\n    },\n\n    computeFaceNormals: function() {\n\n        // backwards compatibility\n\n    },\n\n    computeVertexNormals: function() {\n\n        const index = this.index;\n        const positionAttribute = this.getAttribute('position');\n\n        if (positionAttribute !== undefined) {\n\n            let normalAttribute = this.getAttribute('normal');\n\n            if (normalAttribute === undefined) {\n\n                normalAttribute = new BufferAttribute(new Float32Array(positionAttribute.count * 3), 3);\n                this.setAttribute('normal', normalAttribute);\n\n            } else {\n\n                // reset existing normals to zero\n\n                for (let i = 0, il = normalAttribute.count; i < il; i++) {\n\n                    normalAttribute.setXYZ(i, 0, 0, 0);\n\n                }\n\n            }\n\n            const pA = new Vector3(),\n                pB = new Vector3(),\n                pC = new Vector3();\n            const nA = new Vector3(),\n                nB = new Vector3(),\n                nC = new Vector3();\n            const cb = new Vector3(),\n                ab = new Vector3();\n\n            // indexed elements\n\n            if (index) {\n\n                for (let i = 0, il = index.count; i < il; i += 3) {\n\n                    const vA = index.getX(i + 0);\n                    const vB = index.getX(i + 1);\n                    const vC = index.getX(i + 2);\n\n                    pA.fromBufferAttribute(positionAttribute, vA);\n                    pB.fromBufferAttribute(positionAttribute, vB);\n                    pC.fromBufferAttribute(positionAttribute, vC);\n\n                    cb.subVectors(pC, pB);\n                    ab.subVectors(pA, pB);\n                    cb.cross(ab);\n\n                    nA.fromBufferAttribute(normalAttribute, vA);\n                    nB.fromBufferAttribute(normalAttribute, vB);\n                    nC.fromBufferAttribute(normalAttribute, vC);\n\n                    nA.add(cb);\n                    nB.add(cb);\n                    nC.add(cb);\n\n                    normalAttribute.setXYZ(vA, nA.x, nA.y, nA.z);\n                    normalAttribute.setXYZ(vB, nB.x, nB.y, nB.z);\n                    normalAttribute.setXYZ(vC, nC.x, nC.y, nC.z);\n\n                }\n\n            } else {\n\n                // non-indexed elements (unconnected triangle soup)\n\n                for (let i = 0, il = positionAttribute.count; i < il; i += 3) {\n\n                    pA.fromBufferAttribute(positionAttribute, i + 0);\n                    pB.fromBufferAttribute(positionAttribute, i + 1);\n                    pC.fromBufferAttribute(positionAttribute, i + 2);\n\n                    cb.subVectors(pC, pB);\n                    ab.subVectors(pA, pB);\n                    cb.cross(ab);\n\n                    normalAttribute.setXYZ(i + 0, cb.x, cb.y, cb.z);\n                    normalAttribute.setXYZ(i + 1, cb.x, cb.y, cb.z);\n                    normalAttribute.setXYZ(i + 2, cb.x, cb.y, cb.z);\n\n                }\n\n            }\n\n            this.normalizeNormals();\n\n            normalAttribute.needsUpdate = true;\n\n        }\n\n    },\n\n    merge: function(geometry, offset) {\n\n        if (!(geometry && geometry.isBufferGeometry)) {\n\n            console.error('THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.', geometry);\n            return;\n\n        }\n\n        if (offset === undefined) {\n\n            offset = 0;\n\n            console.warn(\n                'THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. ' +\n                'Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge.'\n            );\n\n        }\n\n        const attributes = this.attributes;\n\n        for (const key in attributes) {\n\n            if (geometry.attributes[key] === undefined) continue;\n\n            const attribute1 = attributes[key];\n            const attributeArray1 = attribute1.array;\n\n            const attribute2 = geometry.attributes[key];\n            const attributeArray2 = attribute2.array;\n\n            const attributeOffset = attribute2.itemSize * offset;\n            const length = Math.min(attributeArray2.length, attributeArray1.length - attributeOffset);\n\n            for (let i = 0, j = attributeOffset; i < length; i++, j++) {\n\n                attributeArray1[j] = attributeArray2[i];\n\n            }\n\n        }\n\n        return this;\n\n    },\n\n    normalizeNormals: function() {\n\n        const normals = this.attributes.normal;\n\n        for (let i = 0, il = normals.count; i < il; i++) {\n\n            _vector$4.fromBufferAttribute(normals, i);\n\n            _vector$4.normalize();\n\n            normals.setXYZ(i, _vector$4.x, _vector$4.y, _vector$4.z);\n\n        }\n\n    },\n\n    toNonIndexed: function() {\n\n        function convertBufferAttribute(attribute, indices) {\n\n            const array = attribute.array;\n            const itemSize = attribute.itemSize;\n            const normalized = attribute.normalized;\n\n            const array2 = new array.constructor(indices.length * itemSize);\n\n            let index = 0,\n                index2 = 0;\n\n            for (let i = 0, l = indices.length; i < l; i++) {\n\n                index = indices[i] * itemSize;\n\n                for (let j = 0; j < itemSize; j++) {\n\n                    array2[index2++] = array[index++];\n\n                }\n\n            }\n\n            return new BufferAttribute(array2, itemSize, normalized);\n\n        }\n\n        //\n\n        if (this.index === null) {\n\n            console.warn('THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.');\n            return this;\n\n        }\n\n        const geometry2 = new BufferGeometry();\n\n        const indices = this.index.array;\n        const attributes = this.attributes;\n\n        // attributes\n\n        for (const name in attributes) {\n\n            const attribute = attributes[name];\n\n            const newAttribute = convertBufferAttribute(attribute, indices);\n\n            geometry2.setAttribute(name, newAttribute);\n\n        }\n\n        // morph attributes\n\n        const morphAttributes = this.morphAttributes;\n\n        for (const name in morphAttributes) {\n\n            const morphArray = [];\n            const morphAttribute = morphAttributes[name]; // morphAttribute: array of Float32BufferAttributes\n\n            for (let i = 0, il = morphAttribute.length; i < il; i++) {\n\n                const attribute = morphAttribute[i];\n\n                const newAttribute = convertBufferAttribute(attribute, indices);\n\n                morphArray.push(newAttribute);\n\n            }\n\n            geometry2.morphAttributes[name] = morphArray;\n\n        }\n\n        geometry2.morphTargetsRelative = this.morphTargetsRelative;\n\n        // groups\n\n        const groups = this.groups;\n\n        for (let i = 0, l = groups.length; i < l; i++) {\n\n            const group = groups[i];\n            geometry2.addGroup(group.start, group.count, group.materialIndex);\n\n        }\n\n        return geometry2;\n\n    },\n\n    toJSON: function() {\n\n        const data = {\n            metadata: {\n                version: 4.5,\n                type: 'BufferGeometry',\n                generator: 'BufferGeometry.toJSON'\n            }\n        };\n\n        // standard BufferGeometry serialization\n\n        data.uuid = this.uuid;\n        data.type = this.type;\n        if (this.name !== '') data.name = this.name;\n        if (Object.keys(this.userData).length > 0) data.userData = this.userData;\n\n        if (this.parameters !== undefined) {\n\n            const parameters = this.parameters;\n\n            for (const key in parameters) {\n\n                if (parameters[key] !== undefined) data[key] = parameters[key];\n\n            }\n\n            return data;\n\n        }\n\n        data.data = {\n            attributes: {}\n        };\n\n        const index = this.index;\n\n        if (index !== null) {\n\n            data.data.index = {\n                type: index.array.constructor.name,\n                array: Array.prototype.slice.call(index.array)\n            };\n\n        }\n\n        const attributes = this.attributes;\n\n        for (const key in attributes) {\n\n            const attribute = attributes[key];\n\n            const attributeData = attribute.toJSON(data.data);\n\n            if (attribute.name !== '') attributeData.name = attribute.name;\n\n            data.data.attributes[key] = attributeData;\n\n        }\n\n        const morphAttributes = {};\n        let hasMorphAttributes = false;\n\n        for (const key in this.morphAttributes) {\n\n            const attributeArray = this.morphAttributes[key];\n\n            const array = [];\n\n            for (let i = 0, il = attributeArray.length; i < il; i++) {\n\n                const attribute = attributeArray[i];\n\n                const attributeData = attribute.toJSON(data.data);\n\n                if (attribute.name !== '') attributeData.name = attribute.name;\n\n                array.push(attributeData);\n\n            }\n\n            if (array.length > 0) {\n\n                morphAttributes[key] = array;\n\n                hasMorphAttributes = true;\n\n            }\n\n        }\n\n        if (hasMorphAttributes) {\n\n            data.data.morphAttributes = morphAttributes;\n            data.data.morphTargetsRelative = this.morphTargetsRelative;\n\n        }\n\n        const groups = this.groups;\n\n        if (groups.length > 0) {\n\n            data.data.groups = JSON.parse(JSON.stringify(groups));\n\n        }\n\n        const boundingSphere = this.boundingSphere;\n\n        if (boundingSphere !== null) {\n\n            data.data.boundingSphere = {\n                center: boundingSphere.center.toArray(),\n                radius: boundingSphere.radius\n            };\n\n        }\n\n        return data;\n\n    },\n\n    clone: function() {\n\n        /*\n         // Handle primitives\n\n         const parameters = this.parameters;\n\n         if ( parameters !== undefined ) {\n\n         const values = [];\n\n         for ( const key in parameters ) {\n\n         values.push( parameters[ key ] );\n\n         }\n\n         const geometry = Object.create( this.constructor.prototype );\n         this.constructor.apply( geometry, values );\n         return geometry;\n\n         }\n\n         return new this.constructor().copy( this );\n         */\n\n        return new BufferGeometry().copy(this);\n\n    },\n\n    copy: function(source) {\n\n        // reset\n\n        this.index = null;\n        this.attributes = {};\n        this.morphAttributes = {};\n        this.groups = [];\n        this.boundingBox = null;\n        this.boundingSphere = null;\n\n        // used for storing cloned, shared data\n\n        const data = {};\n\n        // name\n\n        this.name = source.name;\n\n        // index\n\n        const index = source.index;\n\n        if (index !== null) {\n\n            this.setIndex(index.clone(data));\n\n        }\n\n        // attributes\n\n        const attributes = source.attributes;\n\n        for (const name in attributes) {\n\n            const attribute = attributes[name];\n            this.setAttribute(name, attribute.clone(data));\n\n        }\n\n        // morph attributes\n\n        const morphAttributes = source.morphAttributes;\n\n        for (const name in morphAttributes) {\n\n            const array = [];\n            const morphAttribute = morphAttributes[name]; // morphAttribute: array of Float32BufferAttributes\n\n            for (let i = 0, l = morphAttribute.length; i < l; i++) {\n\n                array.push(morphAttribute[i].clone(data));\n\n            }\n\n            this.morphAttributes[name] = array;\n\n        }\n\n        this.morphTargetsRelative = source.morphTargetsRelative;\n\n        // groups\n\n        const groups = source.groups;\n\n        for (let i = 0, l = groups.length; i < l; i++) {\n\n            const group = groups[i];\n            this.addGroup(group.start, group.count, group.materialIndex);\n\n        }\n\n        // bounding box\n\n        const boundingBox = source.boundingBox;\n\n        if (boundingBox !== null) {\n\n            this.boundingBox = boundingBox.clone();\n\n        }\n\n        // bounding sphere\n\n        const boundingSphere = source.boundingSphere;\n\n        if (boundingSphere !== null) {\n\n            this.boundingSphere = boundingSphere.clone();\n\n        }\n\n        // draw range\n\n        this.drawRange.start = source.drawRange.start;\n        this.drawRange.count = source.drawRange.count;\n\n        // user data\n\n        this.userData = source.userData;\n\n        return this;\n\n    },\n\n    dispose: function() {\n\n        this.dispatchEvent({\n            type: 'dispose'\n        });\n\n    }\n\n});\n\nconst _inverseMatrix = new Matrix4();\nconst _ray = new Ray();\nconst _sphere = new Sphere();\n\nconst _vA = new Vector3();\nconst _vB = new Vector3();\nconst _vC = new Vector3();\n\nconst _tempA = new Vector3();\nconst _tempB = new Vector3();\nconst _tempC = new Vector3();\n\nconst _morphA = new Vector3();\nconst _morphB = new Vector3();\nconst _morphC = new Vector3();\n\nconst _uvA = new Vector2();\nconst _uvB = new Vector2();\nconst _uvC = new Vector2();\n\nconst _intersectionPoint = new Vector3();\nconst _intersectionPointWorld = new Vector3();\n\nfunction Mesh(geometry, material) {\n\n    Object3D.call(this);\n\n    this.type = 'Mesh';\n\n    this.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n    this.material = material !== undefined ? material : new MeshBasicMaterial();\n\n    this.updateMorphTargets();\n\n}\n\nMesh.prototype = Object.assign(Object.create(Object3D.prototype), {\n\n    constructor: Mesh,\n\n    isMesh: true,\n\n    copy: function(source) {\n\n        Object3D.prototype.copy.call(this, source);\n\n        if (source.morphTargetInfluences !== undefined) {\n\n            this.morphTargetInfluences = source.morphTargetInfluences.slice();\n\n        }\n\n        if (source.morphTargetDictionary !== undefined) {\n\n            this.morphTargetDictionary = Object.assign({}, source.morphTargetDictionary);\n\n        }\n\n        this.material = source.material;\n        this.geometry = source.geometry;\n\n        return this;\n\n    },\n\n    updateMorphTargets: function() {\n\n        const geometry = this.geometry;\n\n        if (geometry.isBufferGeometry) {\n\n            const morphAttributes = geometry.morphAttributes;\n            const keys = Object.keys(morphAttributes);\n\n            if (keys.length > 0) {\n\n                const morphAttribute = morphAttributes[keys[0]];\n\n                if (morphAttribute !== undefined) {\n\n                    this.morphTargetInfluences = [];\n                    this.morphTargetDictionary = {};\n\n                    for (let m = 0, ml = morphAttribute.length; m < ml; m++) {\n\n                        const name = morphAttribute[m].name || String(m);\n\n                        this.morphTargetInfluences.push(0);\n                        this.morphTargetDictionary[name] = m;\n\n                    }\n\n                }\n\n            }\n\n        } else {\n\n            const morphTargets = geometry.morphTargets;\n\n            if (morphTargets !== undefined && morphTargets.length > 0) {\n\n                console.error('THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.');\n\n            }\n\n        }\n\n    },\n\n    raycast: function(raycaster, intersects) {\n\n        const geometry = this.geometry;\n        const material = this.material;\n        const matrixWorld = this.matrixWorld;\n\n        if (material === undefined) return;\n\n        // Checking boundingSphere distance to ray\n\n        if (geometry.boundingSphere === null) geometry.computeBoundingSphere();\n\n        _sphere.copy(geometry.boundingSphere);\n        _sphere.applyMatrix4(matrixWorld);\n\n        if (raycaster.ray.intersectsSphere(_sphere) === false) return;\n\n        //\n\n        _inverseMatrix.getInverse(matrixWorld);\n        _ray.copy(raycaster.ray).applyMatrix4(_inverseMatrix);\n\n        // Check boundingBox before continuing\n\n        if (geometry.boundingBox !== null) {\n\n            if (_ray.intersectsBox(geometry.boundingBox) === false) return;\n\n        }\n\n        let intersection;\n\n        if (geometry.isBufferGeometry) {\n\n            const index = geometry.index;\n            const position = geometry.attributes.position;\n            const morphPosition = geometry.morphAttributes.position;\n            const morphTargetsRelative = geometry.morphTargetsRelative;\n            const uv = geometry.attributes.uv;\n            const uv2 = geometry.attributes.uv2;\n            const groups = geometry.groups;\n            const drawRange = geometry.drawRange;\n\n            if (index !== null) {\n\n                // indexed buffer geometry\n\n                if (Array.isArray(material)) {\n\n                    for (let i = 0, il = groups.length; i < il; i++) {\n\n                        const group = groups[i];\n                        const groupMaterial = material[group.materialIndex];\n\n                        const start = Math.max(group.start, drawRange.start);\n                        const end = Math.min((group.start + group.count), (drawRange.start + drawRange.count));\n\n                        for (let j = start, jl = end; j < jl; j += 3) {\n\n                            const a = index.getX(j);\n                            const b = index.getX(j + 1);\n                            const c = index.getX(j + 2);\n\n                            intersection = checkBufferGeometryIntersection(this, groupMaterial, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c);\n\n                            if (intersection) {\n\n                                intersection.faceIndex = Math.floor(j / 3); // triangle number in indexed buffer semantics\n                                intersection.face.materialIndex = group.materialIndex;\n                                intersects.push(intersection);\n\n                            }\n\n                        }\n\n                    }\n\n                } else {\n\n                    const start = Math.max(0, drawRange.start);\n                    const end = Math.min(index.count, (drawRange.start + drawRange.count));\n\n                    for (let i = start, il = end; i < il; i += 3) {\n\n                        const a = index.getX(i);\n                        const b = index.getX(i + 1);\n                        const c = index.getX(i + 2);\n\n                        intersection = checkBufferGeometryIntersection(this, material, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c);\n\n                        if (intersection) {\n\n                            intersection.faceIndex = Math.floor(i / 3); // triangle number in indexed buffer semantics\n                            intersects.push(intersection);\n\n                        }\n\n                    }\n\n                }\n\n            } else if (position !== undefined) {\n\n                // non-indexed buffer geometry\n\n                if (Array.isArray(material)) {\n\n                    for (let i = 0, il = groups.length; i < il; i++) {\n\n                        const group = groups[i];\n                        const groupMaterial = material[group.materialIndex];\n\n                        const start = Math.max(group.start, drawRange.start);\n                        const end = Math.min((group.start + group.count), (drawRange.start + drawRange.count));\n\n                        for (let j = start, jl = end; j < jl; j += 3) {\n\n                            const a = j;\n                            const b = j + 1;\n                            const c = j + 2;\n\n                            intersection = checkBufferGeometryIntersection(this, groupMaterial, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c);\n\n                            if (intersection) {\n\n                                intersection.faceIndex = Math.floor(j / 3); // triangle number in non-indexed buffer semantics\n                                intersection.face.materialIndex = group.materialIndex;\n                                intersects.push(intersection);\n\n                            }\n\n                        }\n\n                    }\n\n                } else {\n\n                    const start = Math.max(0, drawRange.start);\n                    const end = Math.min(position.count, (drawRange.start + drawRange.count));\n\n                    for (let i = start, il = end; i < il; i += 3) {\n\n                        const a = i;\n                        const b = i + 1;\n                        const c = i + 2;\n\n                        intersection = checkBufferGeometryIntersection(this, material, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c);\n\n                        if (intersection) {\n\n                            intersection.faceIndex = Math.floor(i / 3); // triangle number in non-indexed buffer semantics\n                            intersects.push(intersection);\n\n                        }\n\n                    }\n\n                }\n\n            }\n\n        } else if (geometry.isGeometry) {\n\n            const isMultiMaterial = Array.isArray(material);\n\n            const vertices = geometry.vertices;\n            const faces = geometry.faces;\n            let uvs;\n\n            const faceVertexUvs = geometry.faceVertexUvs[0];\n            if (faceVertexUvs.length > 0) uvs = faceVertexUvs;\n\n            for (let f = 0, fl = faces.length; f < fl; f++) {\n\n                const face = faces[f];\n                const faceMaterial = isMultiMaterial ? material[face.materialIndex] : material;\n\n                if (faceMaterial === undefined) continue;\n\n                const fvA = vertices[face.a];\n                const fvB = vertices[face.b];\n                const fvC = vertices[face.c];\n\n                intersection = checkIntersection(this, faceMaterial, raycaster, _ray, fvA, fvB, fvC, _intersectionPoint);\n\n                if (intersection) {\n\n                    if (uvs && uvs[f]) {\n\n                        const uvs_f = uvs[f];\n                        _uvA.copy(uvs_f[0]);\n                        _uvB.copy(uvs_f[1]);\n                        _uvC.copy(uvs_f[2]);\n\n                        intersection.uv = Triangle.getUV(_intersectionPoint, fvA, fvB, fvC, _uvA, _uvB, _uvC, new Vector2());\n\n                    }\n\n                    intersection.face = face;\n                    intersection.faceIndex = f;\n                    intersects.push(intersection);\n\n                }\n\n            }\n\n        }\n\n    }\n\n});\n\nfunction checkIntersection(object, material, raycaster, ray, pA, pB, pC, point) {\n\n    let intersect;\n\n    if (material.side === BackSide) {\n\n        intersect = ray.intersectTriangle(pC, pB, pA, true, point);\n\n    } else {\n\n        intersect = ray.intersectTriangle(pA, pB, pC, material.side !== DoubleSide, point);\n\n    }\n\n    if (intersect === null) return null;\n\n    _intersectionPointWorld.copy(point);\n    _intersectionPointWorld.applyMatrix4(object.matrixWorld);\n\n    const distance = raycaster.ray.origin.distanceTo(_intersectionPointWorld);\n\n    if (distance < raycaster.near || distance > raycaster.far) return null;\n\n    return {\n        distance: distance,\n        point: _intersectionPointWorld.clone(),\n        object: object\n    };\n\n}\n\nfunction checkBufferGeometryIntersection(object, material, raycaster, ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c) {\n\n    _vA.fromBufferAttribute(position, a);\n    _vB.fromBufferAttribute(position, b);\n    _vC.fromBufferAttribute(position, c);\n\n    const morphInfluences = object.morphTargetInfluences;\n\n    if (material.morphTargets && morphPosition && morphInfluences) {\n\n        _morphA.set(0, 0, 0);\n        _morphB.set(0, 0, 0);\n        _morphC.set(0, 0, 0);\n\n        for (let i = 0, il = morphPosition.length; i < il; i++) {\n\n            const influence = morphInfluences[i];\n            const morphAttribute = morphPosition[i];\n\n            if (influence === 0) continue;\n\n            _tempA.fromBufferAttribute(morphAttribute, a);\n            _tempB.fromBufferAttribute(morphAttribute, b);\n            _tempC.fromBufferAttribute(morphAttribute, c);\n\n            if (morphTargetsRelative) {\n\n                _morphA.addScaledVector(_tempA, influence);\n                _morphB.addScaledVector(_tempB, influence);\n                _morphC.addScaledVector(_tempC, influence);\n\n            } else {\n\n                _morphA.addScaledVector(_tempA.sub(_vA), influence);\n                _morphB.addScaledVector(_tempB.sub(_vB), influence);\n                _morphC.addScaledVector(_tempC.sub(_vC), influence);\n\n            }\n\n        }\n\n        _vA.add(_morphA);\n        _vB.add(_morphB);\n        _vC.add(_morphC);\n\n    }\n\n    if (object.isSkinnedMesh) {\n\n        object.boneTransform(a, _vA);\n        object.boneTransform(b, _vB);\n        object.boneTransform(c, _vC);\n\n    }\n\n    const intersection = checkIntersection(object, material, raycaster, ray, _vA, _vB, _vC, _intersectionPoint);\n\n    if (intersection) {\n\n        if (uv) {\n\n            _uvA.fromBufferAttribute(uv, a);\n            _uvB.fromBufferAttribute(uv, b);\n            _uvC.fromBufferAttribute(uv, c);\n\n            intersection.uv = Triangle.getUV(_intersectionPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2());\n\n        }\n\n        if (uv2) {\n\n            _uvA.fromBufferAttribute(uv2, a);\n            _uvB.fromBufferAttribute(uv2, b);\n            _uvC.fromBufferAttribute(uv2, c);\n\n            intersection.uv2 = Triangle.getUV(_intersectionPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2());\n\n        }\n\n        const face = new Face3(a, b, c);\n        Triangle.getNormal(_vA, _vB, _vC, face.normal);\n\n        intersection.face = face;\n\n    }\n\n    return intersection;\n\n}\n\nclass BoxBufferGeometry extends BufferGeometry {\n\n    constructor(width = 1, height = 1, depth = 1, widthSegments = 1, heightSegments = 1, depthSegments = 1) {\n\n        super();\n\n        this.type = 'BoxBufferGeometry';\n\n        this.parameters = {\n            width: width,\n            height: height,\n            depth: depth,\n            widthSegments: widthSegments,\n            heightSegments: heightSegments,\n            depthSegments: depthSegments\n        };\n\n        const scope = this;\n\n        // segments\n\n        widthSegments = Math.floor(widthSegments);\n        heightSegments = Math.floor(heightSegments);\n        depthSegments = Math.floor(depthSegments);\n\n        // buffers\n\n        const indices = [];\n        const vertices = [];\n        const normals = [];\n        const uvs = [];\n\n        // helper variables\n\n        let numberOfVertices = 0;\n        let groupStart = 0;\n\n        // build each side of the box geometry\n\n        buildPlane('z', 'y', 'x', -1, -1, depth, height, width, depthSegments, heightSegments, 0); // px\n        buildPlane('z', 'y', 'x', 1, -1, depth, height, -width, depthSegments, heightSegments, 1); // nx\n        buildPlane('x', 'z', 'y', 1, 1, width, depth, height, widthSegments, depthSegments, 2); // py\n        buildPlane('x', 'z', 'y', 1, -1, width, depth, -height, widthSegments, depthSegments, 3); // ny\n        buildPlane('x', 'y', 'z', 1, -1, width, height, depth, widthSegments, heightSegments, 4); // pz\n        buildPlane('x', 'y', 'z', -1, -1, width, height, -depth, widthSegments, heightSegments, 5); // nz\n\n        // build geometry\n\n        this.setIndex(indices);\n        this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n        this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n        this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n        function buildPlane(u, v, w, udir, vdir, width, height, depth, gridX, gridY, materialIndex) {\n\n            const segmentWidth = width / gridX;\n            const segmentHeight = height / gridY;\n\n            const widthHalf = width / 2;\n            const heightHalf = height / 2;\n            const depthHalf = depth / 2;\n\n            const gridX1 = gridX + 1;\n            const gridY1 = gridY + 1;\n\n            let vertexCounter = 0;\n            let groupCount = 0;\n\n            const vector = new Vector3();\n\n            // generate vertices, normals and uvs\n\n            for (let iy = 0; iy < gridY1; iy++) {\n\n                const y = iy * segmentHeight - heightHalf;\n\n                for (let ix = 0; ix < gridX1; ix++) {\n\n                    const x = ix * segmentWidth - widthHalf;\n\n                    // set values to correct vector component\n\n                    vector[u] = x * udir;\n                    vector[v] = y * vdir;\n                    vector[w] = depthHalf;\n\n                    // now apply vector to vertex buffer\n\n                    vertices.push(vector.x, vector.y, vector.z);\n\n                    // set values to correct vector component\n\n                    vector[u] = 0;\n                    vector[v] = 0;\n                    vector[w] = depth > 0 ? 1 : -1;\n\n                    // now apply vector to normal buffer\n\n                    normals.push(vector.x, vector.y, vector.z);\n\n                    // uvs\n\n                    uvs.push(ix / gridX);\n                    uvs.push(1 - (iy / gridY));\n\n                    // counters\n\n                    vertexCounter += 1;\n\n                }\n\n            }\n\n            // indices\n\n            // 1. you need three indices to draw a single face\n            // 2. a single segment consists of two faces\n            // 3. so we need to generate six (2*3) indices per segment\n\n            for (let iy = 0; iy < gridY; iy++) {\n\n                for (let ix = 0; ix < gridX; ix++) {\n\n                    const a = numberOfVertices + ix + gridX1 * iy;\n                    const b = numberOfVertices + ix + gridX1 * (iy + 1);\n                    const c = numberOfVertices + (ix + 1) + gridX1 * (iy + 1);\n                    const d = numberOfVertices + (ix + 1) + gridX1 * iy;\n\n                    // faces\n\n                    indices.push(a, b, d);\n                    indices.push(b, c, d);\n\n                    // increase counter\n\n                    groupCount += 6;\n\n                }\n\n            }\n\n            // add a group to the geometry. this will ensure multi material support\n\n            scope.addGroup(groupStart, groupCount, materialIndex);\n\n            // calculate new start value for groups\n\n            groupStart += groupCount;\n\n            // update total number of vertices\n\n            numberOfVertices += vertexCounter;\n\n        }\n\n    }\n\n}\n\n/**\n * Uniform Utilities\n */\n\nfunction cloneUniforms(src) {\n\n    const dst = {};\n\n    for (const u in src) {\n\n        dst[u] = {};\n\n        for (const p in src[u]) {\n\n            const property = src[u][p];\n\n            if (property && (property.isColor ||\n                    property.isMatrix3 || property.isMatrix4 ||\n                    property.isVector2 || property.isVector3 || property.isVector4 ||\n                    property.isTexture)) {\n\n                dst[u][p] = property.clone();\n\n            } else if (Array.isArray(property)) {\n\n                dst[u][p] = property.slice();\n\n            } else {\n\n                dst[u][p] = property;\n\n            }\n\n        }\n\n    }\n\n    return dst;\n\n}\n\nfunction mergeUniforms(uniforms) {\n\n    const merged = {};\n\n    for (let u = 0; u < uniforms.length; u++) {\n\n        const tmp = cloneUniforms(uniforms[u]);\n\n        for (const p in tmp) {\n\n            merged[p] = tmp[p];\n\n        }\n\n    }\n\n    return merged;\n\n}\n\n// Legacy\n\nconst UniformsUtils = {\n    clone: cloneUniforms,\n    merge: mergeUniforms\n};\n\nvar default_vertex = \"void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\";\n\nvar default_fragment = \"void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}\";\n\n/**\n * parameters = {\n *  defines: { \"label\" : \"value\" },\n *  uniforms: { \"parameter1\": { value: 1.0 }, \"parameter2\": { value2: 2 } },\n *\n *  fragmentShader: <string>,\n *  vertexShader: <string>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  lights: <bool>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction ShaderMaterial(parameters) {\n\n    Material.call(this);\n\n    this.type = 'ShaderMaterial';\n\n    this.defines = {};\n    this.uniforms = {};\n\n    this.vertexShader = default_vertex;\n    this.fragmentShader = default_fragment;\n\n    this.linewidth = 1;\n\n    this.wireframe = false;\n    this.wireframeLinewidth = 1;\n\n    this.fog = false; // set to use scene fog\n    this.lights = false; // set to use scene lights\n    this.clipping = false; // set to use user-defined clipping planes\n\n    this.skinning = false; // set to use skinning attribute streams\n    this.morphTargets = false; // set to use morph targets\n    this.morphNormals = false; // set to use morph normals\n\n    this.extensions = {\n        derivatives: false, // set to use derivatives\n        fragDepth: false, // set to use fragment depth values\n        drawBuffers: false, // set to use draw buffers\n        shaderTextureLOD: false // set to use shader texture LOD\n    };\n\n    // When rendered geometry doesn't include these attributes but the material does,\n    // use these default values in WebGL. This avoids errors when buffer data is missing.\n    this.defaultAttributeValues = {\n        'color': [1, 1, 1],\n        'uv': [0, 0],\n        'uv2': [0, 0]\n    };\n\n    this.index0AttributeName = undefined;\n    this.uniformsNeedUpdate = false;\n\n    this.glslVersion = null;\n\n    if (parameters !== undefined) {\n\n        if (parameters.attributes !== undefined) {\n\n            console.error('THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.');\n\n        }\n\n        this.setValues(parameters);\n\n    }\n\n}\n\nShaderMaterial.prototype = Object.create(Material.prototype);\nShaderMaterial.prototype.constructor = ShaderMaterial;\n\nShaderMaterial.prototype.isShaderMaterial = true;\n\nShaderMaterial.prototype.copy = function(source) {\n\n    Material.prototype.copy.call(this, source);\n\n    this.fragmentShader = source.fragmentShader;\n    this.vertexShader = source.vertexShader;\n\n    this.uniforms = cloneUniforms(source.uniforms);\n\n    this.defines = Object.assign({}, source.defines);\n\n    this.wireframe = source.wireframe;\n    this.wireframeLinewidth = source.wireframeLinewidth;\n\n    this.lights = source.lights;\n    this.clipping = source.clipping;\n\n    this.skinning = source.skinning;\n\n    this.morphTargets = source.morphTargets;\n    this.morphNormals = source.morphNormals;\n\n    this.extensions = Object.assign({}, source.extensions);\n\n    this.glslVersion = source.glslVersion;\n\n    return this;\n\n};\n\nShaderMaterial.prototype.toJSON = function(meta) {\n\n    const data = Material.prototype.toJSON.call(this, meta);\n\n    data.glslVersion = this.glslVersion;\n    data.uniforms = {};\n\n    for (const name in this.uniforms) {\n\n        const uniform = this.uniforms[name];\n        const value = uniform.value;\n\n        if (value && value.isTexture) {\n\n            data.uniforms[name] = {\n                type: 't',\n                value: value.toJSON(meta).uuid\n            };\n\n        } else if (value && value.isColor) {\n\n            data.uniforms[name] = {\n                type: 'c',\n                value: value.getHex()\n            };\n\n        } else if (value && value.isVector2) {\n\n            data.uniforms[name] = {\n                type: 'v2',\n                value: value.toArray()\n            };\n\n        } else if (value && value.isVector3) {\n\n            data.uniforms[name] = {\n                type: 'v3',\n                value: value.toArray()\n            };\n\n        } else if (value && value.isVector4) {\n\n            data.uniforms[name] = {\n                type: 'v4',\n                value: value.toArray()\n            };\n\n        } else if (value && value.isMatrix3) {\n\n            data.uniforms[name] = {\n                type: 'm3',\n                value: value.toArray()\n            };\n\n        } else if (value && value.isMatrix4) {\n\n            data.uniforms[name] = {\n                type: 'm4',\n                value: value.toArray()\n            };\n\n        } else {\n\n            data.uniforms[name] = {\n                value: value\n            };\n\n            // note: the array variants v2v, v3v, v4v, m4v and tv are not supported so far\n\n        }\n\n    }\n\n    if (Object.keys(this.defines).length > 0) data.defines = this.defines;\n\n    data.vertexShader = this.vertexShader;\n    data.fragmentShader = this.fragmentShader;\n\n    const extensions = {};\n\n    for (const key in this.extensions) {\n\n        if (this.extensions[key] === true) extensions[key] = true;\n\n    }\n\n    if (Object.keys(extensions).length > 0) data.extensions = extensions;\n\n    return data;\n\n};\n\nfunction Camera() {\n\n    Object3D.call(this);\n\n    this.type = 'Camera';\n\n    this.matrixWorldInverse = new Matrix4();\n\n    this.projectionMatrix = new Matrix4();\n    this.projectionMatrixInverse = new Matrix4();\n\n}\n\nCamera.prototype = Object.assign(Object.create(Object3D.prototype), {\n\n    constructor: Camera,\n\n    isCamera: true,\n\n    copy: function(source, recursive) {\n\n        Object3D.prototype.copy.call(this, source, recursive);\n\n        this.matrixWorldInverse.copy(source.matrixWorldInverse);\n\n        this.projectionMatrix.copy(source.projectionMatrix);\n        this.projectionMatrixInverse.copy(source.projectionMatrixInverse);\n\n        return this;\n\n    },\n\n    getWorldDirection: function(target) {\n\n        if (target === undefined) {\n\n            console.warn('THREE.Camera: .getWorldDirection() target is now required');\n            target = new Vector3();\n\n        }\n\n        this.updateWorldMatrix(true, false);\n\n        const e = this.matrixWorld.elements;\n\n        return target.set(-e[8], -e[9], -e[10]).normalize();\n\n    },\n\n    updateMatrixWorld: function(force) {\n\n        Object3D.prototype.updateMatrixWorld.call(this, force);\n\n        this.matrixWorldInverse.getInverse(this.matrixWorld);\n\n    },\n\n    updateWorldMatrix: function(updateParents, updateChildren) {\n\n        Object3D.prototype.updateWorldMatrix.call(this, updateParents, updateChildren);\n\n        this.matrixWorldInverse.getInverse(this.matrixWorld);\n\n    },\n\n    clone: function() {\n\n        return new this.constructor().copy(this);\n\n    }\n\n});\n\nfunction PerspectiveCamera(fov, aspect, near, far) {\n\n    Camera.call(this);\n\n    this.type = 'PerspectiveCamera';\n\n    this.fov = fov !== undefined ? fov : 50;\n    this.zoom = 1;\n\n    this.near = near !== undefined ? near : 0.1;\n    this.far = far !== undefined ? far : 2000;\n    this.focus = 10;\n\n    this.aspect = aspect !== undefined ? aspect : 1;\n    this.view = null;\n\n    this.filmGauge = 35; // width of the film (default in millimeters)\n    this.filmOffset = 0; // horizontal film offset (same unit as gauge)\n\n    this.updateProjectionMatrix();\n\n}\n\nPerspectiveCamera.prototype = Object.assign(Object.create(Camera.prototype), {\n\n    constructor: PerspectiveCamera,\n\n    isPerspectiveCamera: true,\n\n    copy: function(source, recursive) {\n\n        Camera.prototype.copy.call(this, source, recursive);\n\n        this.fov = source.fov;\n        this.zoom = source.zoom;\n\n        this.near = source.near;\n        this.far = source.far;\n        this.focus = source.focus;\n\n        this.aspect = source.aspect;\n        this.view = source.view === null ? null : Object.assign({}, source.view);\n\n        this.filmGauge = source.filmGauge;\n        this.filmOffset = source.filmOffset;\n\n        return this;\n\n    },\n\n    /**\n     * Sets the FOV by focal length in respect to the current .filmGauge.\n     *\n     * The default film gauge is 35, so that the focal length can be specified for\n     * a 35mm (full frame) camera.\n     *\n     * Values for focal length and film gauge must have the same unit.\n     */\n    setFocalLength: function(focalLength) {\n\n        // see http://www.bobatkins.com/photography/technical/field_of_view.html\n        const vExtentSlope = 0.5 * this.getFilmHeight() / focalLength;\n\n        this.fov = MathUtils.RAD2DEG * 2 * Math.atan(vExtentSlope);\n        this.updateProjectionMatrix();\n\n    },\n\n    /**\n     * Calculates the focal length from the current .fov and .filmGauge.\n     */\n    getFocalLength: function() {\n\n        const vExtentSlope = Math.tan(MathUtils.DEG2RAD * 0.5 * this.fov);\n\n        return 0.5 * this.getFilmHeight() / vExtentSlope;\n\n    },\n\n    getEffectiveFOV: function() {\n\n        return MathUtils.RAD2DEG * 2 * Math.atan(\n            Math.tan(MathUtils.DEG2RAD * 0.5 * this.fov) / this.zoom);\n\n    },\n\n    getFilmWidth: function() {\n\n        // film not completely covered in portrait format (aspect < 1)\n        return this.filmGauge * Math.min(this.aspect, 1);\n\n    },\n\n    getFilmHeight: function() {\n\n        // film not completely covered in landscape format (aspect > 1)\n        return this.filmGauge / Math.max(this.aspect, 1);\n\n    },\n\n    /**\n     * Sets an offset in a larger frustum. This is useful for multi-window or\n     * multi-monitor/multi-machine setups.\n     *\n     * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\n     * the monitors are in grid like this\n     *\n     *   +---+---+---+\n     *   | A | B | C |\n     *   +---+---+---+\n     *   | D | E | F |\n     *   +---+---+---+\n     *\n     * then for each monitor you would call it like this\n     *\n     *   const w = 1920;\n     *   const h = 1080;\n     *   const fullWidth = w * 3;\n     *   const fullHeight = h * 2;\n     *\n     *   --A--\n     *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\n     *   --B--\n     *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\n     *   --C--\n     *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\n     *   --D--\n     *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\n     *   --E--\n     *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\n     *   --F--\n     *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\n     *\n     *   Note there is no reason monitors have to be the same size or in a grid.\n     */\n    setViewOffset: function(fullWidth, fullHeight, x, y, width, height) {\n\n        this.aspect = fullWidth / fullHeight;\n\n        if (this.view === null) {\n\n            this.view = {\n                enabled: true,\n                fullWidth: 1,\n                fullHeight: 1,\n                offsetX: 0,\n                offsetY: 0,\n                width: 1,\n                height: 1\n            };\n\n        }\n\n        this.view.enabled = true;\n        this.view.fullWidth = fullWidth;\n        this.view.fullHeight = fullHeight;\n        this.view.offsetX = x;\n        this.view.offsetY = y;\n        this.view.width = width;\n        this.view.height = height;\n\n        this.updateProjectionMatrix();\n\n    },\n\n    clearViewOffset: function() {\n\n        if (this.view !== null) {\n\n            this.view.enabled = false;\n\n        }\n\n        this.updateProjectionMatrix();\n\n    },\n\n    updateProjectionMatrix: function() {\n\n        const near = this.near;\n        let top = near * Math.tan(MathUtils.DEG2RAD * 0.5 * this.fov) / this.zoom;\n        let height = 2 * top;\n        let width = this.aspect * height;\n        let left = -0.5 * width;\n        const view = this.view;\n\n        if (this.view !== null && this.view.enabled) {\n\n            const fullWidth = view.fullWidth,\n                fullHeight = view.fullHeight;\n\n            left += view.offsetX * width / fullWidth;\n            top -= view.offsetY * height / fullHeight;\n            width *= view.width / fullWidth;\n            height *= view.height / fullHeight;\n\n        }\n\n        const skew = this.filmOffset;\n        if (skew !== 0) left += near * skew / this.getFilmWidth();\n\n        this.projectionMatrix.makePerspective(left, left + width, top, top - height, near, this.far);\n\n        this.projectionMatrixInverse.getInverse(this.projectionMatrix);\n\n    },\n\n    toJSON: function(meta) {\n\n        const data = Object3D.prototype.toJSON.call(this, meta);\n\n        data.object.fov = this.fov;\n        data.object.zoom = this.zoom;\n\n        data.object.near = this.near;\n        data.object.far = this.far;\n        data.object.focus = this.focus;\n\n        data.object.aspect = this.aspect;\n\n        if (this.view !== null) data.object.view = Object.assign({}, this.view);\n\n        data.object.filmGauge = this.filmGauge;\n        data.object.filmOffset = this.filmOffset;\n\n        return data;\n\n    }\n\n});\n\nconst fov = 90,\n    aspect = 1;\n\nfunction CubeCamera(near, far, renderTarget) {\n\n    Object3D.call(this);\n\n    this.type = 'CubeCamera';\n\n    if (renderTarget.isWebGLCubeRenderTarget !== true) {\n\n        console.error('THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.');\n        return;\n\n    }\n\n    this.renderTarget = renderTarget;\n\n    const cameraPX = new PerspectiveCamera(fov, aspect, near, far);\n    cameraPX.layers = this.layers;\n    cameraPX.up.set(0, -1, 0);\n    cameraPX.lookAt(new Vector3(1, 0, 0));\n    this.add(cameraPX);\n\n    const cameraNX = new PerspectiveCamera(fov, aspect, near, far);\n    cameraNX.layers = this.layers;\n    cameraNX.up.set(0, -1, 0);\n    cameraNX.lookAt(new Vector3(-1, 0, 0));\n    this.add(cameraNX);\n\n    const cameraPY = new PerspectiveCamera(fov, aspect, near, far);\n    cameraPY.layers = this.layers;\n    cameraPY.up.set(0, 0, 1);\n    cameraPY.lookAt(new Vector3(0, 1, 0));\n    this.add(cameraPY);\n\n    const cameraNY = new PerspectiveCamera(fov, aspect, near, far);\n    cameraNY.layers = this.layers;\n    cameraNY.up.set(0, 0, -1);\n    cameraNY.lookAt(new Vector3(0, -1, 0));\n    this.add(cameraNY);\n\n    const cameraPZ = new PerspectiveCamera(fov, aspect, near, far);\n    cameraPZ.layers = this.layers;\n    cameraPZ.up.set(0, -1, 0);\n    cameraPZ.lookAt(new Vector3(0, 0, 1));\n    this.add(cameraPZ);\n\n    const cameraNZ = new PerspectiveCamera(fov, aspect, near, far);\n    cameraNZ.layers = this.layers;\n    cameraNZ.up.set(0, -1, 0);\n    cameraNZ.lookAt(new Vector3(0, 0, -1));\n    this.add(cameraNZ);\n\n    this.update = function(renderer, scene) {\n\n        if (this.parent === null) this.updateMatrixWorld();\n\n        const currentXrEnabled = renderer.xr.enabled;\n        const currentRenderTarget = renderer.getRenderTarget();\n\n        renderer.xr.enabled = false;\n\n        const generateMipmaps = renderTarget.texture.generateMipmaps;\n\n        renderTarget.texture.generateMipmaps = false;\n\n        renderer.setRenderTarget(renderTarget, 0);\n        renderer.render(scene, cameraPX);\n\n        renderer.setRenderTarget(renderTarget, 1);\n        renderer.render(scene, cameraNX);\n\n        renderer.setRenderTarget(renderTarget, 2);\n        renderer.render(scene, cameraPY);\n\n        renderer.setRenderTarget(renderTarget, 3);\n        renderer.render(scene, cameraNY);\n\n        renderer.setRenderTarget(renderTarget, 4);\n        renderer.render(scene, cameraPZ);\n\n        renderTarget.texture.generateMipmaps = generateMipmaps;\n\n        renderer.setRenderTarget(renderTarget, 5);\n        renderer.render(scene, cameraNZ);\n\n        renderer.setRenderTarget(currentRenderTarget);\n\n        renderer.xr.enabled = currentXrEnabled;\n\n    };\n\n}\n\nCubeCamera.prototype = Object.create(Object3D.prototype);\nCubeCamera.prototype.constructor = CubeCamera;\n\nfunction CubeTexture(images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding) {\n\n    images = images !== undefined ? images : [];\n    mapping = mapping !== undefined ? mapping : CubeReflectionMapping;\n    format = format !== undefined ? format : RGBFormat;\n\n    Texture.call(this, images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding);\n\n    this.flipY = false;\n\n    // Why CubeTexture._needsFlipEnvMap is necessary:\n    //\n    // By convention -- likely based on the RenderMan spec from the 1990's -- cube maps are specified by WebGL (and three.js)\n    // in a coordinate system in which positive-x is to the right when looking up the positive-z axis -- in other words,\n    // in a left-handed coordinate system. By continuing this convention, preexisting cube maps continued to render correctly.\n\n    // three.js uses a right-handed coordinate system. So environment maps used in three.js appear to have px and nx swapped\n    // and the flag _needsFlipEnvMap controls this conversion. The flip is not required (and thus _needsFlipEnvMap is set to false)\n    // when using WebGLCubeRenderTarget.texture as a cube texture.\n\n    this._needsFlipEnvMap = true;\n\n}\n\nCubeTexture.prototype = Object.create(Texture.prototype);\nCubeTexture.prototype.constructor = CubeTexture;\n\nCubeTexture.prototype.isCubeTexture = true;\n\nObject.defineProperty(CubeTexture.prototype, 'images', {\n\n    get: function() {\n\n        return this.image;\n\n    },\n\n    set: function(value) {\n\n        this.image = value;\n\n    }\n\n});\n\nfunction WebGLCubeRenderTarget(size, options, dummy) {\n\n    if (Number.isInteger(options)) {\n\n        console.warn('THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )');\n\n        options = dummy;\n\n    }\n\n    WebGLRenderTarget.call(this, size, size, options);\n\n    options = options || {};\n\n    this.texture = new CubeTexture(undefined, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding);\n\n    this.texture._needsFlipEnvMap = false;\n\n}\n\nWebGLCubeRenderTarget.prototype = Object.create(WebGLRenderTarget.prototype);\nWebGLCubeRenderTarget.prototype.constructor = WebGLCubeRenderTarget;\n\nWebGLCubeRenderTarget.prototype.isWebGLCubeRenderTarget = true;\n\nWebGLCubeRenderTarget.prototype.fromEquirectangularTexture = function(renderer, texture) {\n\n    this.texture.type = texture.type;\n    this.texture.format = RGBAFormat; // see #18859\n    this.texture.encoding = texture.encoding;\n\n    this.texture.generateMipmaps = texture.generateMipmaps;\n    this.texture.minFilter = texture.minFilter;\n    this.texture.magFilter = texture.magFilter;\n\n    const shader = {\n\n        uniforms: {\n            tEquirect: {\n                value: null\n            },\n        },\n\n        vertexShader: /* glsl */ `\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t#include <begin_vertex>\n\t\t\t\t#include <project_vertex>\n\n\t\t\t}\n\t\t`,\n\n        fragmentShader: /* glsl */ `\n\n\t\t\tuniform sampler2D tEquirect;\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t}\n\t\t`\n    };\n\n    const geometry = new BoxBufferGeometry(5, 5, 5);\n\n    const material = new ShaderMaterial({\n\n        name: 'CubemapFromEquirect',\n\n        uniforms: cloneUniforms(shader.uniforms),\n        vertexShader: shader.vertexShader,\n        fragmentShader: shader.fragmentShader,\n        side: BackSide,\n        blending: NoBlending\n\n    });\n\n    material.uniforms.tEquirect.value = texture;\n\n    const mesh = new Mesh(geometry, material);\n\n    const currentMinFilter = texture.minFilter;\n\n    // Avoid blurred poles\n    if (texture.minFilter === LinearMipmapLinearFilter) texture.minFilter = LinearFilter;\n\n    const camera = new CubeCamera(1, 10, this);\n    camera.update(renderer, mesh);\n\n    texture.minFilter = currentMinFilter;\n\n    mesh.geometry.dispose();\n    mesh.material.dispose();\n\n    return this;\n\n};\n\nWebGLCubeRenderTarget.prototype.clear = function(renderer, color, depth, stencil) {\n\n    const currentRenderTarget = renderer.getRenderTarget();\n\n    for (let i = 0; i < 6; i++) {\n\n        renderer.setRenderTarget(this, i);\n\n        renderer.clear(color, depth, stencil);\n\n    }\n\n    renderer.setRenderTarget(currentRenderTarget);\n\n};\n\nfunction DataTexture(data, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding) {\n\n    Texture.call(this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding);\n\n    this.image = {\n        data: data || null,\n        width: width || 1,\n        height: height || 1\n    };\n\n    this.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n    this.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n    this.generateMipmaps = false;\n    this.flipY = false;\n    this.unpackAlignment = 1;\n\n    this.needsUpdate = true;\n\n}\n\nDataTexture.prototype = Object.create(Texture.prototype);\nDataTexture.prototype.constructor = DataTexture;\n\nDataTexture.prototype.isDataTexture = true;\n\nconst _sphere$1 = /*@__PURE__*/ new Sphere();\nconst _vector$5 = /*@__PURE__*/ new Vector3();\n\nclass Frustum {\n\n    constructor(p0, p1, p2, p3, p4, p5) {\n\n        this.planes = [\n\n            (p0 !== undefined) ? p0 : new Plane(),\n            (p1 !== undefined) ? p1 : new Plane(),\n            (p2 !== undefined) ? p2 : new Plane(),\n            (p3 !== undefined) ? p3 : new Plane(),\n            (p4 !== undefined) ? p4 : new Plane(),\n            (p5 !== undefined) ? p5 : new Plane()\n\n        ];\n\n    }\n\n    set(p0, p1, p2, p3, p4, p5) {\n\n        const planes = this.planes;\n\n        planes[0].copy(p0);\n        planes[1].copy(p1);\n        planes[2].copy(p2);\n        planes[3].copy(p3);\n        planes[4].copy(p4);\n        planes[5].copy(p5);\n\n        return this;\n\n    }\n\n    clone() {\n\n        return new this.constructor().copy(this);\n\n    }\n\n    copy(frustum) {\n\n        const planes = this.planes;\n\n        for (let i = 0; i < 6; i++) {\n\n            planes[i].copy(frustum.planes[i]);\n\n        }\n\n        return this;\n\n    }\n\n    setFromProjectionMatrix(m) {\n\n        const planes = this.planes;\n        const me = m.elements;\n        const me0 = me[0],\n            me1 = me[1],\n            me2 = me[2],\n            me3 = me[3];\n        const me4 = me[4],\n            me5 = me[5],\n            me6 = me[6],\n            me7 = me[7];\n        const me8 = me[8],\n            me9 = me[9],\n            me10 = me[10],\n            me11 = me[11];\n        const me12 = me[12],\n            me13 = me[13],\n            me14 = me[14],\n            me15 = me[15];\n\n        planes[0].setComponents(me3 - me0, me7 - me4, me11 - me8, me15 - me12).normalize();\n        planes[1].setComponents(me3 + me0, me7 + me4, me11 + me8, me15 + me12).normalize();\n        planes[2].setComponents(me3 + me1, me7 + me5, me11 + me9, me15 + me13).normalize();\n        planes[3].setComponents(me3 - me1, me7 - me5, me11 - me9, me15 - me13).normalize();\n        planes[4].setComponents(me3 - me2, me7 - me6, me11 - me10, me15 - me14).normalize();\n        planes[5].setComponents(me3 + me2, me7 + me6, me11 + me10, me15 + me14).normalize();\n\n        return this;\n\n    }\n\n    intersectsObject(object) {\n\n        const geometry = object.geometry;\n\n        if (geometry.boundingSphere === null) geometry.computeBoundingSphere();\n\n        _sphere$1.copy(geometry.boundingSphere).applyMatrix4(object.matrixWorld);\n\n        return this.intersectsSphere(_sphere$1);\n\n    }\n\n    intersectsSprite(sprite) {\n\n        _sphere$1.center.set(0, 0, 0);\n        _sphere$1.radius = 0.7071067811865476;\n        _sphere$1.applyMatrix4(sprite.matrixWorld);\n\n        return this.intersectsSphere(_sphere$1);\n\n    }\n\n    intersectsSphere(sphere) {\n\n        const planes = this.planes;\n        const center = sphere.center;\n        const negRadius = -sphere.radius;\n\n        for (let i = 0; i < 6; i++) {\n\n            const distance = planes[i].distanceToPoint(center);\n\n            if (distance < negRadius) {\n\n                return false;\n\n            }\n\n        }\n\n        return true;\n\n    }\n\n    intersectsBox(box) {\n\n        const planes = this.planes;\n\n        for (let i = 0; i < 6; i++) {\n\n            const plane = planes[i];\n\n            // corner at max distance\n\n            _vector$5.x = plane.normal.x > 0 ? box.max.x : box.min.x;\n            _vector$5.y = plane.normal.y > 0 ? box.max.y : box.min.y;\n            _vector$5.z = plane.normal.z > 0 ? box.max.z : box.min.z;\n\n            if (plane.distanceToPoint(_vector$5) < 0) {\n\n                return false;\n\n            }\n\n        }\n\n        return true;\n\n    }\n\n    containsPoint(point) {\n\n        const planes = this.planes;\n\n        for (let i = 0; i < 6; i++) {\n\n            if (planes[i].distanceToPoint(point) < 0) {\n\n                return false;\n\n            }\n\n        }\n\n        return true;\n\n    }\n\n}\n\nfunction WebGLAnimation() {\n\n    let context = null;\n    let isAnimating = false;\n    let animationLoop = null;\n    let requestId = null;\n\n    function onAnimationFrame(time, frame) {\n\n        animationLoop(time, frame);\n\n        requestId = context.requestAnimationFrame(onAnimationFrame);\n\n    }\n\n    return {\n\n        start: function() {\n\n            if (isAnimating === true) return;\n            if (animationLoop === null) return;\n\n            requestId = context.requestAnimationFrame(onAnimationFrame);\n\n            isAnimating = true;\n\n        },\n\n        stop: function() {\n\n            context.cancelAnimationFrame(requestId);\n\n            isAnimating = false;\n\n        },\n\n        setAnimationLoop: function(callback) {\n\n            animationLoop = callback;\n\n        },\n\n        setContext: function(value) {\n\n            context = value;\n\n        }\n\n    };\n\n}\n\nfunction WebGLAttributes(gl, capabilities) {\n\n    const isWebGL2 = capabilities.isWebGL2;\n\n    const buffers = new WeakMap();\n\n    function createBuffer(attribute, bufferType) {\n\n        const array = attribute.array;\n        const usage = attribute.usage;\n\n        const buffer = gl.createBuffer();\n\n        gl.bindBuffer(bufferType, buffer);\n        gl.bufferData(bufferType, array, usage);\n\n        attribute.onUploadCallback();\n\n        let type = 5126;\n\n        if (array instanceof Float32Array) {\n\n            type = 5126;\n\n        } else if (array instanceof Float64Array) {\n\n            console.warn('THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.');\n\n        } else if (array instanceof Uint16Array) {\n\n            type = 5123;\n\n        } else if (array instanceof Int16Array) {\n\n            type = 5122;\n\n        } else if (array instanceof Uint32Array) {\n\n            type = 5125;\n\n        } else if (array instanceof Int32Array) {\n\n            type = 5124;\n\n        } else if (array instanceof Int8Array) {\n\n            type = 5120;\n\n        } else if (array instanceof Uint8Array) {\n\n            type = 5121;\n\n        }\n\n        return {\n            buffer: buffer,\n            type: type,\n            bytesPerElement: array.BYTES_PER_ELEMENT,\n            version: attribute.version\n        };\n\n    }\n\n    function updateBuffer(buffer, attribute, bufferType) {\n\n        const array = attribute.array;\n        const updateRange = attribute.updateRange;\n\n        gl.bindBuffer(bufferType, buffer);\n\n        if (updateRange.count === -1) {\n\n            // Not using update ranges\n\n            gl.bufferSubData(bufferType, 0, array);\n\n        } else {\n\n            if (isWebGL2) {\n\n                gl.bufferSubData(bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n                    array, updateRange.offset, updateRange.count);\n\n            } else {\n\n                gl.bufferSubData(bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n                    array.subarray(updateRange.offset, updateRange.offset + updateRange.count));\n\n            }\n\n            updateRange.count = -1; // reset range\n\n        }\n\n    }\n\n    //\n\n    function get(attribute) {\n\n        if (attribute.isInterleavedBufferAttribute) attribute = attribute.data;\n\n        return buffers.get(attribute);\n\n    }\n\n    function remove(attribute) {\n\n        if (attribute.isInterleavedBufferAttribute) attribute = attribute.data;\n\n        const data = buffers.get(attribute);\n\n        if (data) {\n\n            gl.deleteBuffer(data.buffer);\n\n            buffers.delete(attribute);\n\n        }\n\n    }\n\n    function update(attribute, bufferType) {\n\n        if (attribute.isGLBufferAttribute) {\n\n            var cached = buffers.get(attribute);\n\n            if (!cached || cached.version < attribute.version) {\n\n                buffers.set(attribute, {\n                    buffer: attribute.buffer,\n                    type: attribute.type,\n                    bytesPerElement: attribute.elementSize,\n                    version: attribute.version\n                });\n\n            }\n\n            return;\n\n        }\n\n        if (attribute.isInterleavedBufferAttribute) attribute = attribute.data;\n\n        const data = buffers.get(attribute);\n\n        if (data === undefined) {\n\n            buffers.set(attribute, createBuffer(attribute, bufferType));\n\n        } else if (data.version < attribute.version) {\n\n            updateBuffer(data.buffer, attribute, bufferType);\n\n            data.version = attribute.version;\n\n        }\n\n    }\n\n    return {\n\n        get: get,\n        remove: remove,\n        update: update\n\n    };\n\n}\n\nclass PlaneBufferGeometry extends BufferGeometry {\n\n    constructor(width, height, widthSegments, heightSegments) {\n\n        super();\n        this.type = 'PlaneBufferGeometry';\n\n        this.parameters = {\n            width: width,\n            height: height,\n            widthSegments: widthSegments,\n            heightSegments: heightSegments\n        };\n\n        width = width || 1;\n        height = height || 1;\n\n        const width_half = width / 2;\n        const height_half = height / 2;\n\n        const gridX = Math.floor(widthSegments) || 1;\n        const gridY = Math.floor(heightSegments) || 1;\n\n        const gridX1 = gridX + 1;\n        const gridY1 = gridY + 1;\n\n        const segment_width = width / gridX;\n        const segment_height = height / gridY;\n\n        // buffers\n\n        const indices = [];\n        const vertices = [];\n        const normals = [];\n        const uvs = [];\n\n        // generate vertices, normals and uvs\n\n        for (let iy = 0; iy < gridY1; iy++) {\n\n            const y = iy * segment_height - height_half;\n\n            for (let ix = 0; ix < gridX1; ix++) {\n\n                const x = ix * segment_width - width_half;\n\n                vertices.push(x, -y, 0);\n\n                normals.push(0, 0, 1);\n\n                uvs.push(ix / gridX);\n                uvs.push(1 - (iy / gridY));\n\n            }\n\n        }\n\n        // indices\n\n        for (let iy = 0; iy < gridY; iy++) {\n\n            for (let ix = 0; ix < gridX; ix++) {\n\n                const a = ix + gridX1 * iy;\n                const b = ix + gridX1 * (iy + 1);\n                const c = (ix + 1) + gridX1 * (iy + 1);\n                const d = (ix + 1) + gridX1 * iy;\n\n                // faces\n\n                indices.push(a, b, d);\n                indices.push(b, c, d);\n\n            }\n\n        }\n\n        // build geometry\n\n        this.setIndex(indices);\n        this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n        this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n        this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n    }\n\n}\n\nvar alphamap_fragment = \"#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\";\n\nvar alphamap_pars_fragment = \"#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\nvar alphatest_fragment = \"#ifdef ALPHATEST\\n\\tif ( diffuseColor.a < ALPHATEST ) discard;\\n#endif\";\n\nvar aomap_fragment = \"#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\\n\\t#endif\\n#endif\";\n\nvar aomap_pars_fragment = \"#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif\";\n\nvar begin_vertex = \"vec3 transformed = vec3( position );\";\n\nvar beginnormal_vertex = \"vec3 objectNormal = vec3( normal );\\n#ifdef USE_TANGENT\\n\\tvec3 objectTangent = vec3( tangent.xyz );\\n#endif\";\n\nvar bsdfs = \"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\\n}\\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\tif( cutoffDistance > 0.0 ) {\\n\\t\\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t}\\n\\treturn distanceFalloff;\\n#else\\n\\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\\n\\t\\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n\\t}\\n\\treturn 1.0;\\n#endif\\n}\\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\\n\\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\\n}\\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\\n\\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\\n\\treturn Fr * fresnel + F0;\\n}\\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\treturn 1.0 / ( gl * gv );\\n}\\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\\n\\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( G * D );\\n}\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\n\\tconst float LUT_SIZE = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\\n\\tfloat dotNV = saturate( dot( N, V ) );\\n\\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\n\\tfloat l = length( f );\\n\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\n}\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\n\\tfloat x = dot( v1, v2 );\\n\\tfloat y = abs( x );\\n\\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\\n\\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\\n\\tfloat v = a / b;\\n\\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\\n\\treturn cross( v1, v2 ) * theta_sintheta;\\n}\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\n\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\n\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\n\\tvec3 lightNormal = cross( v1, v2 );\\n\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\\n\\tvec3 T1, T2;\\n\\tT1 = normalize( V - N * dot( V, N ) );\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\\n\\tvec3 coords[ 4 ];\\n\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\n\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\n\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\n\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\n\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\n\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\n\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\n\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\n\\tvec3 vectorFormFactor = vec3( 0.0 );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\n\\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\\n\\treturn vec3( result );\\n}\\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\treturn specularColor * brdf.x + brdf.y;\\n}\\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\tvec3 FssEss = F * brdf.x + brdf.y;\\n\\tfloat Ess = brdf.x + brdf.y;\\n\\tfloat Ems = 1.0 - Ess;\\n\\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\\n\\tsingleScatter += FssEss;\\n\\tmultiScatter += Fms * Ems;\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\\n\\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\\n}\\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\\n\\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\\n}\\n#if defined( USE_SHEEN )\\nfloat D_Charlie(float roughness, float NoH) {\\n\\tfloat invAlpha = 1.0 / roughness;\\n\\tfloat cos2h = NoH * NoH;\\n\\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\\n}\\nfloat V_Neubelt(float NoV, float NoL) {\\n\\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\\n}\\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\\n\\tvec3 N = geometry.normal;\\n\\tvec3 V = geometry.viewDir;\\n\\tvec3 H = normalize( V + L );\\n\\tfloat dotNH = saturate( dot( N, H ) );\\n\\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\\n}\\n#endif\";\n\nvar bumpmap_pars_fragment = \"#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\\n\\t\\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\\n\\t\\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 );\\n\\t\\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\";\n\nvar clipping_planes_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvec4 plane;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\\n\\t\\tplane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\\n\\t\\t\\tplane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t\\tif ( clipped ) discard;\\n\\t#endif\\n#endif\";\n\nvar clipping_planes_pars_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvarying vec3 vClipPosition;\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\";\n\nvar clipping_planes_pars_vertex = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvarying vec3 vClipPosition;\\n#endif\";\n\nvar clipping_planes_vertex = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvClipPosition = - mvPosition.xyz;\\n#endif\";\n\nvar color_fragment = \"#ifdef USE_COLOR\\n\\tdiffuseColor.rgb *= vColor;\\n#endif\";\n\nvar color_pars_fragment = \"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_pars_vertex = \"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_vertex = \"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\\n\\tvColor = vec3( 1.0 );\\n#endif\\n#ifdef USE_COLOR\\n\\tvColor.xyz *= color.xyz;\\n#endif\\n#ifdef USE_INSTANCING_COLOR\\n\\tvColor.xyz *= instanceColor.xyz;\\n#endif\";\n\nvar common = \"#define PI 3.141592653589793\\n#define PI2 6.283185307179586\\n#define PI_HALF 1.5707963267948966\\n#define RECIPROCAL_PI 0.3183098861837907\\n#define RECIPROCAL_PI2 0.15915494309189535\\n#define EPSILON 1e-6\\n#ifndef saturate\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract(sin(sn) * c);\\n}\\n#ifdef HIGH_PRECISION\\n\\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\\n#else\\n\\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\\n\\tfloat precisionSafeLength( vec3 v ) {\\n\\t\\tfloat maxComponent = max3( abs( v ) );\\n\\t\\treturn length( v / maxComponent ) * maxComponent;\\n\\t}\\n#endif\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal;\\n#endif\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\tfloat distance = dot( planeNormal, point - pointOnPlane );\\n\\treturn - distance * planeNormal + point;\\n}\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\n}\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\\n}\\nmat3 transposeMat3( const in mat3 m ) {\\n\\tmat3 tmp;\\n\\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\\n\\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\\n\\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\\n\\treturn tmp;\\n}\\nfloat linearToRelativeLuminance( const in vec3 color ) {\\n\\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\\n\\treturn dot( weights, color.rgb );\\n}\\nbool isPerspectiveMatrix( mat4 m ) {\\n\\treturn m[ 2 ][ 3 ] == - 1.0;\\n}\\nvec2 equirectUv( in vec3 dir ) {\\n\\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\treturn vec2( u, v );\\n}\";\n\nvar cube_uv_reflection_fragment = \"#ifdef ENVMAP_TYPE_CUBE_UV\\n\\t#define cubeUV_maxMipLevel 8.0\\n\\t#define cubeUV_minMipLevel 4.0\\n\\t#define cubeUV_maxTileSize 256.0\\n\\t#define cubeUV_minTileSize 16.0\\n\\tfloat getFace( vec3 direction ) {\\n\\t\\tvec3 absDirection = abs( direction );\\n\\t\\tfloat face = - 1.0;\\n\\t\\tif ( absDirection.x > absDirection.z ) {\\n\\t\\t\\tif ( absDirection.x > absDirection.y )\\n\\t\\t\\t\\tface = direction.x > 0.0 ? 0.0 : 3.0;\\n\\t\\t\\telse\\n\\t\\t\\t\\tface = direction.y > 0.0 ? 1.0 : 4.0;\\n\\t\\t} else {\\n\\t\\t\\tif ( absDirection.z > absDirection.y )\\n\\t\\t\\t\\tface = direction.z > 0.0 ? 2.0 : 5.0;\\n\\t\\t\\telse\\n\\t\\t\\t\\tface = direction.y > 0.0 ? 1.0 : 4.0;\\n\\t\\t}\\n\\t\\treturn face;\\n\\t}\\n\\tvec2 getUV( vec3 direction, float face ) {\\n\\t\\tvec2 uv;\\n\\t\\tif ( face == 0.0 ) {\\n\\t\\t\\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\\n\\t\\t} else if ( face == 1.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\\n\\t\\t} else if ( face == 2.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\\n\\t\\t} else if ( face == 3.0 ) {\\n\\t\\t\\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\\n\\t\\t} else if ( face == 4.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\\n\\t\\t} else {\\n\\t\\t\\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\\n\\t\\t}\\n\\t\\treturn 0.5 * ( uv + 1.0 );\\n\\t}\\n\\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\\n\\t\\tfloat face = getFace( direction );\\n\\t\\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\\n\\t\\tmipInt = max( mipInt, cubeUV_minMipLevel );\\n\\t\\tfloat faceSize = exp2( mipInt );\\n\\t\\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\\n\\t\\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\\n\\t\\tvec2 f = fract( uv );\\n\\t\\tuv += 0.5 - f;\\n\\t\\tif ( face > 2.0 ) {\\n\\t\\t\\tuv.y += faceSize;\\n\\t\\t\\tface -= 3.0;\\n\\t\\t}\\n\\t\\tuv.x += face * faceSize;\\n\\t\\tif ( mipInt < cubeUV_maxMipLevel ) {\\n\\t\\t\\tuv.y += 2.0 * cubeUV_maxTileSize;\\n\\t\\t}\\n\\t\\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\\n\\t\\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\\n\\t\\tuv *= texelSize;\\n\\t\\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tuv.x += texelSize;\\n\\t\\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tuv.y += texelSize;\\n\\t\\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tuv.x -= texelSize;\\n\\t\\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tvec3 tm = mix( tl, tr, f.x );\\n\\t\\tvec3 bm = mix( bl, br, f.x );\\n\\t\\treturn mix( tm, bm, f.y );\\n\\t}\\n\\t#define r0 1.0\\n\\t#define v0 0.339\\n\\t#define m0 - 2.0\\n\\t#define r1 0.8\\n\\t#define v1 0.276\\n\\t#define m1 - 1.0\\n\\t#define r4 0.4\\n\\t#define v4 0.046\\n\\t#define m4 2.0\\n\\t#define r5 0.305\\n\\t#define v5 0.016\\n\\t#define m5 3.0\\n\\t#define r6 0.21\\n\\t#define v6 0.0038\\n\\t#define m6 4.0\\n\\tfloat roughnessToMip( float roughness ) {\\n\\t\\tfloat mip = 0.0;\\n\\t\\tif ( roughness >= r1 ) {\\n\\t\\t\\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\\n\\t\\t} else if ( roughness >= r4 ) {\\n\\t\\t\\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\\n\\t\\t} else if ( roughness >= r5 ) {\\n\\t\\t\\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\\n\\t\\t} else if ( roughness >= r6 ) {\\n\\t\\t\\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\\n\\t\\t} else {\\n\\t\\t\\tmip = - 2.0 * log2( 1.16 * roughness );\\t\\t}\\n\\t\\treturn mip;\\n\\t}\\n\\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\\n\\t\\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\\n\\t\\tfloat mipF = fract( mip );\\n\\t\\tfloat mipInt = floor( mip );\\n\\t\\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\\n\\t\\tif ( mipF == 0.0 ) {\\n\\t\\t\\treturn vec4( color0, 1.0 );\\n\\t\\t} else {\\n\\t\\t\\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\\n\\t\\t\\treturn vec4( mix( color0, color1, mipF ), 1.0 );\\n\\t\\t}\\n\\t}\\n#endif\";\n\nvar defaultnormal_vertex = \"vec3 transformedNormal = objectNormal;\\n#ifdef USE_INSTANCING\\n\\tmat3 m = mat3( instanceMatrix );\\n\\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\\n\\ttransformedNormal = m * transformedNormal;\\n#endif\\ntransformedNormal = normalMatrix * transformedNormal;\\n#ifdef FLIP_SIDED\\n\\ttransformedNormal = - transformedNormal;\\n#endif\\n#ifdef USE_TANGENT\\n\\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#ifdef FLIP_SIDED\\n\\t\\ttransformedTangent = - transformedTangent;\\n\\t#endif\\n#endif\";\n\nvar displacementmap_pars_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\";\n\nvar displacementmap_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\\n#endif\";\n\nvar emissivemap_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\";\n\nvar emissivemap_pars_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\";\n\nvar encodings_fragment = \"gl_FragColor = linearToOutputTexel( gl_FragColor );\";\n\nvar encodings_pars_fragment = \"\\nvec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\\n}\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\\n}\\nvec4 sRGBToLinear( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\\n}\\nvec4 RGBEToLinear( in vec4 value ) {\\n\\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\n}\\nvec4 LinearToRGBE( in vec4 value ) {\\n\\tfloat maxComponent = max( max( value.r, value.g ), value.b );\\n\\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\n\\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\n}\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\\n}\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\\n\\tM = ceil( M * 255.0 ) / 255.0;\\n\\treturn vec4( value.rgb / ( M * maxRange ), M );\\n}\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\n}\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat D = max( maxRange / maxRGB, 1.0 );\\n\\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\\n\\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\n}\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\nvec4 LinearToLogLuv( in vec4 value ) {\\n\\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\\n\\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\\n\\tvec4 vResult;\\n\\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\n\\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\n\\tvResult.w = fract( Le );\\n\\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\\n\\treturn vResult;\\n}\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\nvec4 LogLuvToLinear( in vec4 value ) {\\n\\tfloat Le = value.z * 255.0 + value.w;\\n\\tvec3 Xp_Y_XYZp;\\n\\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\\n\\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\n\\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\n\\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\\n\\treturn vec4( max( vRGB, 0.0 ), 1.0 );\\n}\";\n\nvar envmap_fragment = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvec3 cameraToFrag;\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\t#ifndef ENVMAP_TYPE_CUBE_UV\\n\\t\\tenvColor = envMapTexelToLinear( envColor );\\n\\t#endif\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\";\n\nvar envmap_common_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float envMapIntensity;\\n\\tuniform float flipEnvMap;\\n\\tuniform int maxMipLevel;\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\t\\n#endif\";\n\nvar envmap_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float reflectivity;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\";\n\nvar envmap_pars_vertex = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\t\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\";\n\nvar envmap_vertex = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex;\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\n\nvar fog_vertex = \"#ifdef USE_FOG\\n\\tfogDepth = - mvPosition.z;\\n#endif\";\n\nvar fog_pars_vertex = \"#ifdef USE_FOG\\n\\tvarying float fogDepth;\\n#endif\";\n\nvar fog_fragment = \"#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\";\n\nvar fog_pars_fragment = \"#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float fogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\";\n\nvar gradientmap_pars_fragment = \"#ifdef USE_GRADIENTMAP\\n\\tuniform sampler2D gradientMap;\\n#endif\\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\tfloat dotNL = dot( normal, lightDirection );\\n\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t#ifdef USE_GRADIENTMAP\\n\\t\\treturn texture2D( gradientMap, coord ).rgb;\\n\\t#else\\n\\t\\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\n\\t#endif\\n}\";\n\nvar lightmap_fragment = \"#ifdef USE_LIGHTMAP\\n\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n#endif\";\n\nvar lightmap_pars_fragment = \"#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif\";\n\nvar lights_lambert_vertex = \"vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\nvIndirectFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n\\tvIndirectBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\\n#ifdef DOUBLE_SIDED\\n\\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\\n\\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_DIR_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\";\n\nvar lights_pars_begin = \"uniform bool receiveShadow;\\nuniform vec3 ambientLightColor;\\nuniform vec3 lightProbe[ 9 ];\\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\\n\\tfloat x = normal.x, y = normal.y, z = normal.z;\\n\\tvec3 result = shCoefficients[ 0 ] * 0.886227;\\n\\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\\n\\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\\n\\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\\n\\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\\n\\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\\n\\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\\n\\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\\n\\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\\n\\treturn result;\\n}\\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\\n\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\\n\\treturn irradiance;\\n}\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treturn irradiance;\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tdirectLight.color = directionalLight.color;\\n\\t\\tdirectLight.direction = directionalLight.direction;\\n\\t\\tdirectLight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tdirectLight.color = pointLight.color;\\n\\t\\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tfloat angleCos = dot( directLight.direction, spotLight.direction );\\n\\t\\tif ( angleCos > spotLight.coneCos ) {\\n\\t\\t\\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\t\\tdirectLight.color = spotLight.color;\\n\\t\\t\\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tdirectLight.visible = true;\\n\\t\\t} else {\\n\\t\\t\\tdirectLight.color = vec3( 0.0 );\\n\\t\\t\\tdirectLight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltc_1;\\tuniform sampler2D ltc_2;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\n\\t\\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tirradiance *= PI;\\n\\t\\t#endif\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\";\n\nvar envmap_physical_pars_fragment = \"#if defined( USE_ENVMAP )\\n\\t#ifdef ENVMAP_MODE_REFRACTION\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n\\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\\n\\t\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\\n\\t\\t#else\\n\\t\\t\\tvec4 envMapColor = vec4( 0.0 );\\n\\t\\t#endif\\n\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t}\\n\\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\\n\\t\\tfloat maxMIPLevelScalar = float( maxMIPLevel );\\n\\t\\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\\n\\t\\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\\n\\t\\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\\n\\t}\\n\\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( -viewDir, normal );\\n\\t\\t\\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\\n\\t\\t#endif\\n\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\\n\\t\\t#endif\\n\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t}\\n#endif\";\n\nvar lights_toon_fragment = \"ToonMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\";\n\nvar lights_toon_pars_fragment = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct ToonMaterial {\\n\\tvec3 diffuseColor;\\n};\\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Toon\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Toon\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\nvar lights_phong_fragment = \"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\";\n\nvar lights_phong_pars_fragment = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct BlinnPhongMaterial {\\n\\tvec3 diffuseColor;\\n\\tvec3 specularColor;\\n\\tfloat specularShininess;\\n\\tfloat specularStrength;\\n};\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\nvar lights_physical_fragment = \"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\\n#ifdef REFLECTIVITY\\n\\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\\n#endif\\n#ifdef CLEARCOAT\\n\\tmaterial.clearcoat = clearcoat;\\n\\tmaterial.clearcoatRoughness = clearcoatRoughness;\\n\\t#ifdef USE_CLEARCOATMAP\\n\\t\\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\\n\\t#endif\\n\\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\t\\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\\n\\t#endif\\n\\tmaterial.clearcoat = saturate( material.clearcoat );\\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\\n\\tmaterial.clearcoatRoughness += geometryRoughness;\\n\\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\\n#endif\\n#ifdef USE_SHEEN\\n\\tmaterial.sheenColor = sheen;\\n#endif\";\n\nvar lights_physical_pars_fragment = \"struct PhysicalMaterial {\\n\\tvec3 diffuseColor;\\n\\tfloat specularRoughness;\\n\\tvec3 specularColor;\\n#ifdef CLEARCOAT\\n\\tfloat clearcoat;\\n\\tfloat clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tvec3 sheenColor;\\n#endif\\n};\\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\\n\\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\\n}\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = material.specularRoughness;\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tvec4 t1 = texture2D( ltc_1, uv );\\n\\t\\tvec4 t2 = texture2D( ltc_2, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3( t1.x, 0, t1.y ),\\n\\t\\t\\tvec3(    0, 1,    0 ),\\n\\t\\t\\tvec3( t1.z, 0, t1.w )\\n\\t\\t);\\n\\t\\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\\n\\t\\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\\n\\t\\tvec3 ccIrradiance = ccDotNL * directLight.color;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tccIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t\\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\\n\\t\\t\\tmaterial.specularRoughness,\\n\\t\\t\\tdirectLight.direction,\\n\\t\\t\\tgeometry,\\n\\t\\t\\tmaterial.sheenColor\\n\\t\\t);\\n\\t#else\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\\n\\t#endif\\n\\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t\\tfloat ccDotNL = ccDotNV;\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\tfloat clearcoatInv = 1.0 - clearcoatDHR;\\n\\tvec3 singleScattering = vec3( 0.0 );\\n\\tvec3 multiScattering = vec3( 0.0 );\\n\\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\\n\\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\\n\\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\\n\\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\\n\\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\\n\\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\";\n\nvar lights_fragment_begin = \"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\\n#ifdef CLEARCOAT\\n\\tgeometry.clearcoatNormal = clearcoatNormal;\\n#endif\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\\n\\t\\tpointLightShadow = pointLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\\n\\t\\tspotLightShadow = spotLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\\n\\t\\tdirectionalLightShadow = directionalLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 iblIrradiance = vec3( 0.0 );\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t#endif\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tvec3 radiance = vec3( 0.0 );\\n\\tvec3 clearcoatRadiance = vec3( 0.0 );\\n#endif\";\n\nvar lights_fragment_maps = \"#if defined( RE_IndirectDiffuse )\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\t\\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tlightMapIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\\n\\t#endif\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\\n\\t#ifdef CLEARCOAT\\n\\t\\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\\n\\t#endif\\n#endif\";\n\nvar lights_fragment_end = \"#if defined( RE_IndirectDiffuse )\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\\n#endif\";\n\nvar logdepthbuf_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\\n#endif\";\n\nvar logdepthbuf_pars_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tuniform float logDepthBufFC;\\n\\tvarying float vFragDepth;\\n\\tvarying float vIsPerspective;\\n#endif\";\n\nvar logdepthbuf_pars_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t\\tvarying float vIsPerspective;\\n\\t#else\\n\\t\\tuniform float logDepthBufFC;\\n\\t#endif\\n#endif\";\n\nvar logdepthbuf_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t\\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\\n\\t#else\\n\\t\\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\\n\\t\\t\\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\\n\\t\\t\\tgl_Position.z *= gl_Position.w;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\nvar map_fragment = \"#ifdef USE_MAP\\n\\tvec4 texelColor = texture2D( map, vUv );\\n\\ttexelColor = mapTexelToLinear( texelColor );\\n\\tdiffuseColor *= texelColor;\\n#endif\";\n\nvar map_pars_fragment = \"#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\";\n\nvar map_particle_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\\n#endif\\n#ifdef USE_MAP\\n\\tvec4 mapTexel = texture2D( map, uv );\\n\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\\n#endif\";\n\nvar map_particle_pars_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tuniform mat3 uvTransform;\\n#endif\\n#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\nvar metalnessmap_fragment = \"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.b;\\n#endif\";\n\nvar metalnessmap_pars_fragment = \"#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif\";\n\nvar morphnormal_vertex = \"#ifdef USE_MORPHNORMALS\\n\\tobjectNormal *= morphTargetBaseInfluence;\\n\\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\\n\\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\\n\\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\\n\\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\\n#endif\";\n\nvar morphtarget_pars_vertex = \"#ifdef USE_MORPHTARGETS\\n\\tuniform float morphTargetBaseInfluence;\\n\\t#ifndef USE_MORPHNORMALS\\n\\t\\tuniform float morphTargetInfluences[ 8 ];\\n\\t#else\\n\\t\\tuniform float morphTargetInfluences[ 4 ];\\n\\t#endif\\n#endif\";\n\nvar morphtarget_vertex = \"#ifdef USE_MORPHTARGETS\\n\\ttransformed *= morphTargetBaseInfluence;\\n\\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\\n\\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\\n\\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\\n\\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\\n\\t#ifndef USE_MORPHNORMALS\\n\\t\\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\\n\\t\\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\\n\\t\\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\\n\\t\\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\\n\\t#endif\\n#endif\";\n\nvar normal_fragment_begin = \"#ifdef FLAT_SHADED\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t#endif\\n\\t#ifdef USE_TANGENT\\n\\t\\tvec3 tangent = normalize( vTangent );\\n\\t\\tvec3 bitangent = normalize( vBitangent );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t\\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t#endif\\n\\t\\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\\n\\t\\t\\tmat3 vTBN = mat3( tangent, bitangent, normal );\\n\\t\\t#endif\\n\\t#endif\\n#endif\\nvec3 geometryNormal = normal;\";\n\nvar normal_fragment_maps = \"#ifdef OBJECTSPACE_NORMALMAP\\n\\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t#ifdef FLIP_SIDED\\n\\t\\tnormal = - normal;\\n\\t#endif\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t#endif\\n\\tnormal = normalize( normalMatrix * normal );\\n#elif defined( TANGENTSPACE_NORMALMAP )\\n\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tmapN.xy *= normalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tnormal = normalize( vTBN * mapN );\\n\\t#else\\n\\t\\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\\n\\t#endif\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\\n#endif\";\n\nvar normalmap_pars_fragment = \"#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n#endif\\n#ifdef OBJECTSPACE_NORMALMAP\\n\\tuniform mat3 normalMatrix;\\n#endif\\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\\n\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\\n\\t\\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\\n\\t\\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\\n\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\\n\\t\\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\\n\\t\\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\\n\\t\\tvec3 N = normalize( surf_norm );\\n\\t\\tmat3 tsn = mat3( S, T, N );\\n\\t\\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\treturn normalize( tsn * mapN );\\n\\t}\\n#endif\";\n\nvar clearcoat_normal_fragment_begin = \"#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal = geometryNormal;\\n#endif\";\n\nvar clearcoat_normal_fragment_maps = \"#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tclearcoatMapN.xy *= clearcoatNormalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\\n\\t#else\\n\\t\\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\\n\\t#endif\\n#endif\";\n\nvar clearcoat_pars_fragment = \"#ifdef USE_CLEARCOATMAP\\n\\tuniform sampler2D clearcoatMap;\\n#endif\\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\tuniform sampler2D clearcoatRoughnessMap;\\n#endif\\n#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tuniform sampler2D clearcoatNormalMap;\\n\\tuniform vec2 clearcoatNormalScale;\\n#endif\";\n\nvar packing = \"vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 2.0 * rgb.xyz - 1.0;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nvec4 pack2HalfToRGBA( vec2 v ) {\\n\\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\\n\\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\\n}\\nvec2 unpackRGBATo2Half( vec4 v ) {\\n\\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\";\n\nvar premultiplied_alpha_fragment = \"#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\";\n\nvar project_vertex = \"vec4 mvPosition = vec4( transformed, 1.0 );\\n#ifdef USE_INSTANCING\\n\\tmvPosition = instanceMatrix * mvPosition;\\n#endif\\nmvPosition = modelViewMatrix * mvPosition;\\ngl_Position = projectionMatrix * mvPosition;\";\n\nvar dithering_fragment = \"#ifdef DITHERING\\n\\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\\n#endif\";\n\nvar dithering_pars_fragment = \"#ifdef DITHERING\\n\\tvec3 dithering( vec3 color ) {\\n\\t\\tfloat grid_position = rand( gl_FragCoord.xy );\\n\\t\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\n\\t\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\n\\t\\treturn color + dither_shift_RGB;\\n\\t}\\n#endif\";\n\nvar roughnessmap_fragment = \"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.g;\\n#endif\";\n\nvar roughnessmap_pars_fragment = \"#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif\";\n\nvar shadowmap_pars_fragment = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\\n\\t\\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\\n\\t}\\n\\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\\n\\t\\tfloat occlusion = 1.0;\\n\\t\\tvec2 distribution = texture2DDistribution( shadow, uv );\\n\\t\\tfloat hard_shadow = step( compare , distribution.x );\\n\\t\\tif (hard_shadow != 1.0 ) {\\n\\t\\t\\tfloat distance = compare - distribution.x ;\\n\\t\\t\\tfloat variance = max( 0.00000, distribution.y * distribution.y );\\n\\t\\t\\tfloat softness_probability = variance / (variance + distance * distance );\\t\\t\\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\\t\\t\\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\\n\\t\\t}\\n\\t\\treturn occlusion;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tfloat shadow = 1.0;\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx2 = dx0 / 2.0;\\n\\t\\t\\tfloat dy2 = dy0 / 2.0;\\n\\t\\t\\tfloat dx3 = dx1 / 2.0;\\n\\t\\t\\tfloat dy3 = dy1 / 2.0;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 17.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx = texelSize.x;\\n\\t\\t\\tfloat dy = texelSize.y;\\n\\t\\t\\tvec2 uv = shadowCoord.xy;\\n\\t\\t\\tvec2 f = fract( uv * shadowMapSize + 0.5 );\\n\\t\\t\\tuv -= f * texelSize;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t  f.x ),\\n\\t\\t\\t\\t\\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t  f.x ),\\n\\t\\t\\t\\t\\t f.y )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#else\\n\\t\\t\\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn shadow;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\\t\\tdp += shadowBias;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\nvar shadowmap_pars_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n#endif\";\n\nvar shadowmap_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\tvec4 shadowWorldPosition;\\n\\t#endif\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n#endif\";\n\nvar shadowmask_pars_fragment = \"float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tspotLight = spotLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tpointLight = pointLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\";\n\nvar skinbase_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\";\n\nvar skinning_pars_vertex = \"#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\t#ifdef BONE_TEXTURE\\n\\t\\tuniform highp sampler2D boneTexture;\\n\\t\\tuniform int boneTextureSize;\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tfloat j = i * 4.0;\\n\\t\\t\\tfloat x = mod( j, float( boneTextureSize ) );\\n\\t\\t\\tfloat y = floor( j / float( boneTextureSize ) );\\n\\t\\t\\tfloat dx = 1.0 / float( boneTextureSize );\\n\\t\\t\\tfloat dy = 1.0 / float( boneTextureSize );\\n\\t\\t\\ty = dy * ( y + 0.5 );\\n\\t\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#else\\n\\t\\tuniform mat4 boneMatrices[ MAX_BONES ];\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tmat4 bone = boneMatrices[ int(i) ];\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\nvar skinning_vertex = \"#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\ttransformed = ( bindMatrixInverse * skinned ).xyz;\\n#endif\";\n\nvar skinnormal_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n\\t#ifdef USE_TANGENT\\n\\t\\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#endif\\n#endif\";\n\nvar specularmap_fragment = \"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif\";\n\nvar specularmap_pars_fragment = \"#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif\";\n\nvar tonemapping_fragment = \"#if defined( TONE_MAPPING )\\n\\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\";\n\nvar tonemapping_pars_fragment = \"#ifndef saturate\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\nuniform float toneMappingExposure;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\nvec3 RRTAndODTFit( vec3 v ) {\\n\\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\\n\\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\\n\\treturn a / b;\\n}\\nvec3 ACESFilmicToneMapping( vec3 color ) {\\n\\tconst mat3 ACESInputMat = mat3(\\n\\t\\tvec3( 0.59719, 0.07600, 0.02840 ),\\t\\tvec3( 0.35458, 0.90834, 0.13383 ),\\n\\t\\tvec3( 0.04823, 0.01566, 0.83777 )\\n\\t);\\n\\tconst mat3 ACESOutputMat = mat3(\\n\\t\\tvec3(  1.60475, -0.10208, -0.00327 ),\\t\\tvec3( -0.53108,  1.10813, -0.07276 ),\\n\\t\\tvec3( -0.07367, -0.00605,  1.07602 )\\n\\t);\\n\\tcolor *= toneMappingExposure / 0.6;\\n\\tcolor = ACESInputMat * color;\\n\\tcolor = RRTAndODTFit( color );\\n\\tcolor = ACESOutputMat * color;\\n\\treturn saturate( color );\\n}\\nvec3 CustomToneMapping( vec3 color ) { return color; }\";\n\nvar transmissionmap_fragment = \"#ifdef USE_TRANSMISSIONMAP\\n\\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\\n#endif\";\n\nvar transmissionmap_pars_fragment = \"#ifdef USE_TRANSMISSIONMAP\\n\\tuniform sampler2D transmissionMap;\\n#endif\";\n\nvar uv_pars_fragment = \"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\\n\\tvarying vec2 vUv;\\n#endif\";\n\nvar uv_pars_vertex = \"#ifdef USE_UV\\n\\t#ifdef UVS_VERTEX_ONLY\\n\\t\\tvec2 vUv;\\n\\t#else\\n\\t\\tvarying vec2 vUv;\\n\\t#endif\\n\\tuniform mat3 uvTransform;\\n#endif\";\n\nvar uv_vertex = \"#ifdef USE_UV\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n#endif\";\n\nvar uv2_pars_fragment = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif\";\n\nvar uv2_pars_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n\\tuniform mat3 uv2Transform;\\n#endif\";\n\nvar uv2_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\\n#endif\";\n\nvar worldpos_vertex = \"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\\n\\tvec4 worldPosition = vec4( transformed, 1.0 );\\n\\t#ifdef USE_INSTANCING\\n\\t\\tworldPosition = instanceMatrix * worldPosition;\\n\\t#endif\\n\\tworldPosition = modelMatrix * worldPosition;\\n#endif\";\n\nvar background_frag = \"uniform sampler2D t2D;\\nvarying vec2 vUv;\\nvoid main() {\\n\\tvec4 texColor = texture2D( t2D, vUv );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar background_vert = \"varying vec2 vUv;\\nuniform mat3 uvTransform;\\nvoid main() {\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n\\tgl_Position = vec4( position.xy, 1.0, 1.0 );\\n}\";\n\nvar cube_frag = \"#include <envmap_common_pars_fragment>\\nuniform float opacity;\\nvarying vec3 vWorldDirection;\\n#include <cube_uv_reflection_fragment>\\nvoid main() {\\n\\tvec3 vReflect = vWorldDirection;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = envColor;\\n\\tgl_FragColor.a *= opacity;\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar cube_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\tgl_Position.z = gl_Position.w;\\n}\";\n\nvar depth_frag = \"#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( fragCoordZ );\\n\\t#endif\\n}\";\n\nvar depth_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvHighPrecisionZW = gl_Position.zw;\\n}\";\n\nvar distanceRGBA_frag = \"#define DISTANCE\\nuniform vec3 referencePosition;\\nuniform float nearDistance;\\nuniform float farDistance;\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\tfloat dist = length( vWorldPosition - referencePosition );\\n\\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\\n\\tdist = saturate( dist );\\n\\tgl_FragColor = packDepthToRGBA( dist );\\n}\";\n\nvar distanceRGBA_vert = \"#define DISTANCE\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition.xyz;\\n}\";\n\nvar equirect_frag = \"uniform sampler2D tEquirect;\\nvarying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldDirection );\\n\\tvec2 sampleUV = equirectUv( direction );\\n\\tvec4 texColor = texture2D( tEquirect, sampleUV );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar equirect_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\";\n\nvar linedashed_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\nvar linedashed_vert = \"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\tvLineDistance = scale * lineDistance;\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshbasic_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\n\\t\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\t\\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include <aomap_fragment>\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshbasic_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_ENVMAP\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshlambert_frag = \"uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <emissivemap_fragment>\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vIndirectFront;\\n\\t#endif\\n\\t#include <lightmap_fragment>\\n\\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\t#else\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\t#endif\\n\\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshlambert_vert = \"#define LAMBERT\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshmatcap_frag = \"#define MATCAP\\nuniform vec3 diffuse;\\nuniform float opacity;\\nuniform sampler2D matcap;\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tvec3 viewDir = normalize( vViewPosition );\\n\\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\\n\\tvec3 y = cross( viewDir, x );\\n\\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\\n\\t#ifdef USE_MATCAP\\n\\t\\tvec4 matcapColor = texture2D( matcap, uv );\\n\\t\\tmatcapColor = matcapTexelToLinear( matcapColor );\\n\\t#else\\n\\t\\tvec4 matcapColor = vec4( 1.0 );\\n\\t#endif\\n\\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshmatcap_vert = \"#define MATCAP\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <color_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#ifndef FLAT_SHADED\\n\\t\\tvNormal = normalize( transformedNormal );\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n}\";\n\nvar meshtoon_frag = \"#define TOON\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_toon_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_toon_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshtoon_vert = \"#define TOON\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshphong_frag = \"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshphong_vert = \"#define PHONG\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshphysical_frag = \"#define STANDARD\\n#ifdef PHYSICAL\\n\\t#define REFLECTIVITY\\n\\t#define CLEARCOAT\\n\\t#define TRANSMISSION\\n#endif\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifdef TRANSMISSION\\n\\tuniform float transmission;\\n#endif\\n#ifdef REFLECTIVITY\\n\\tuniform float reflectivity;\\n#endif\\n#ifdef CLEARCOAT\\n\\tuniform float clearcoat;\\n\\tuniform float clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tuniform vec3 sheen;\\n#endif\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <transmissionmap_pars_fragment>\\n#include <bsdfs>\\n#include <cube_uv_reflection_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_physical_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <lights_pars_begin>\\n#include <lights_physical_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <clearcoat_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#ifdef TRANSMISSION\\n\\t\\tfloat totalTransmission = transmission;\\n\\t#endif\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <clearcoat_normal_fragment_begin>\\n\\t#include <clearcoat_normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <transmissionmap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#ifdef TRANSMISSION\\n\\t\\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\\n\\t#endif\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshphysical_vert = \"#define STANDARD\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar normal_frag = \"#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n}\";\n\nvar normal_vert = \"#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\";\n\nvar points_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\nvar points_vert = \"uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\tgl_PointSize = size;\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar shadow_frag = \"uniform vec3 color;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar shadow_vert = \"#include <common>\\n#include <fog_pars_vertex>\\n#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar sprite_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar sprite_vert = \"uniform float rotation;\\nuniform vec2 center;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\tvec2 scale;\\n\\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\\n\\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\\n\\t#ifndef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) scale *= - mvPosition.z;\\n\\t#endif\\n\\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\\n\\tvec2 rotatedPosition;\\n\\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\\n\\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\\n\\tmvPosition.xy += rotatedPosition;\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst ShaderChunk = {\n    alphamap_fragment: alphamap_fragment,\n    alphamap_pars_fragment: alphamap_pars_fragment,\n    alphatest_fragment: alphatest_fragment,\n    aomap_fragment: aomap_fragment,\n    aomap_pars_fragment: aomap_pars_fragment,\n    begin_vertex: begin_vertex,\n    beginnormal_vertex: beginnormal_vertex,\n    bsdfs: bsdfs,\n    bumpmap_pars_fragment: bumpmap_pars_fragment,\n    clipping_planes_fragment: clipping_planes_fragment,\n    clipping_planes_pars_fragment: clipping_planes_pars_fragment,\n    clipping_planes_pars_vertex: clipping_planes_pars_vertex,\n    clipping_planes_vertex: clipping_planes_vertex,\n    color_fragment: color_fragment,\n    color_pars_fragment: color_pars_fragment,\n    color_pars_vertex: color_pars_vertex,\n    color_vertex: color_vertex,\n    common: common,\n    cube_uv_reflection_fragment: cube_uv_reflection_fragment,\n    defaultnormal_vertex: defaultnormal_vertex,\n    displacementmap_pars_vertex: displacementmap_pars_vertex,\n    displacementmap_vertex: displacementmap_vertex,\n    emissivemap_fragment: emissivemap_fragment,\n    emissivemap_pars_fragment: emissivemap_pars_fragment,\n    encodings_fragment: encodings_fragment,\n    encodings_pars_fragment: encodings_pars_fragment,\n    envmap_fragment: envmap_fragment,\n    envmap_common_pars_fragment: envmap_common_pars_fragment,\n    envmap_pars_fragment: envmap_pars_fragment,\n    envmap_pars_vertex: envmap_pars_vertex,\n    envmap_physical_pars_fragment: envmap_physical_pars_fragment,\n    envmap_vertex: envmap_vertex,\n    fog_vertex: fog_vertex,\n    fog_pars_vertex: fog_pars_vertex,\n    fog_fragment: fog_fragment,\n    fog_pars_fragment: fog_pars_fragment,\n    gradientmap_pars_fragment: gradientmap_pars_fragment,\n    lightmap_fragment: lightmap_fragment,\n    lightmap_pars_fragment: lightmap_pars_fragment,\n    lights_lambert_vertex: lights_lambert_vertex,\n    lights_pars_begin: lights_pars_begin,\n    lights_toon_fragment: lights_toon_fragment,\n    lights_toon_pars_fragment: lights_toon_pars_fragment,\n    lights_phong_fragment: lights_phong_fragment,\n    lights_phong_pars_fragment: lights_phong_pars_fragment,\n    lights_physical_fragment: lights_physical_fragment,\n    lights_physical_pars_fragment: lights_physical_pars_fragment,\n    lights_fragment_begin: lights_fragment_begin,\n    lights_fragment_maps: lights_fragment_maps,\n    lights_fragment_end: lights_fragment_end,\n    logdepthbuf_fragment: logdepthbuf_fragment,\n    logdepthbuf_pars_fragment: logdepthbuf_pars_fragment,\n    logdepthbuf_pars_vertex: logdepthbuf_pars_vertex,\n    logdepthbuf_vertex: logdepthbuf_vertex,\n    map_fragment: map_fragment,\n    map_pars_fragment: map_pars_fragment,\n    map_particle_fragment: map_particle_fragment,\n    map_particle_pars_fragment: map_particle_pars_fragment,\n    metalnessmap_fragment: metalnessmap_fragment,\n    metalnessmap_pars_fragment: metalnessmap_pars_fragment,\n    morphnormal_vertex: morphnormal_vertex,\n    morphtarget_pars_vertex: morphtarget_pars_vertex,\n    morphtarget_vertex: morphtarget_vertex,\n    normal_fragment_begin: normal_fragment_begin,\n    normal_fragment_maps: normal_fragment_maps,\n    normalmap_pars_fragment: normalmap_pars_fragment,\n    clearcoat_normal_fragment_begin: clearcoat_normal_fragment_begin,\n    clearcoat_normal_fragment_maps: clearcoat_normal_fragment_maps,\n    clearcoat_pars_fragment: clearcoat_pars_fragment,\n    packing: packing,\n    premultiplied_alpha_fragment: premultiplied_alpha_fragment,\n    project_vertex: project_vertex,\n    dithering_fragment: dithering_fragment,\n    dithering_pars_fragment: dithering_pars_fragment,\n    roughnessmap_fragment: roughnessmap_fragment,\n    roughnessmap_pars_fragment: roughnessmap_pars_fragment,\n    shadowmap_pars_fragment: shadowmap_pars_fragment,\n    shadowmap_pars_vertex: shadowmap_pars_vertex,\n    shadowmap_vertex: shadowmap_vertex,\n    shadowmask_pars_fragment: shadowmask_pars_fragment,\n    skinbase_vertex: skinbase_vertex,\n    skinning_pars_vertex: skinning_pars_vertex,\n    skinning_vertex: skinning_vertex,\n    skinnormal_vertex: skinnormal_vertex,\n    specularmap_fragment: specularmap_fragment,\n    specularmap_pars_fragment: specularmap_pars_fragment,\n    tonemapping_fragment: tonemapping_fragment,\n    tonemapping_pars_fragment: tonemapping_pars_fragment,\n    transmissionmap_fragment: transmissionmap_fragment,\n    transmissionmap_pars_fragment: transmissionmap_pars_fragment,\n    uv_pars_fragment: uv_pars_fragment,\n    uv_pars_vertex: uv_pars_vertex,\n    uv_vertex: uv_vertex,\n    uv2_pars_fragment: uv2_pars_fragment,\n    uv2_pars_vertex: uv2_pars_vertex,\n    uv2_vertex: uv2_vertex,\n    worldpos_vertex: worldpos_vertex,\n\n    background_frag: background_frag,\n    background_vert: background_vert,\n    cube_frag: cube_frag,\n    cube_vert: cube_vert,\n    depth_frag: depth_frag,\n    depth_vert: depth_vert,\n    distanceRGBA_frag: distanceRGBA_frag,\n    distanceRGBA_vert: distanceRGBA_vert,\n    equirect_frag: equirect_frag,\n    equirect_vert: equirect_vert,\n    linedashed_frag: linedashed_frag,\n    linedashed_vert: linedashed_vert,\n    meshbasic_frag: meshbasic_frag,\n    meshbasic_vert: meshbasic_vert,\n    meshlambert_frag: meshlambert_frag,\n    meshlambert_vert: meshlambert_vert,\n    meshmatcap_frag: meshmatcap_frag,\n    meshmatcap_vert: meshmatcap_vert,\n    meshtoon_frag: meshtoon_frag,\n    meshtoon_vert: meshtoon_vert,\n    meshphong_frag: meshphong_frag,\n    meshphong_vert: meshphong_vert,\n    meshphysical_frag: meshphysical_frag,\n    meshphysical_vert: meshphysical_vert,\n    normal_frag: normal_frag,\n    normal_vert: normal_vert,\n    points_frag: points_frag,\n    points_vert: points_vert,\n    shadow_frag: shadow_frag,\n    shadow_vert: shadow_vert,\n    sprite_frag: sprite_frag,\n    sprite_vert: sprite_vert\n};\n\n/**\n * Uniforms library for shared webgl shaders\n */\n\nconst UniformsLib = {\n\n    common: {\n\n        diffuse: {\n            value: new Color(0xeeeeee)\n        },\n        opacity: {\n            value: 1.0\n        },\n\n        map: {\n            value: null\n        },\n        uvTransform: {\n            value: new Matrix3()\n        },\n        uv2Transform: {\n            value: new Matrix3()\n        },\n\n        alphaMap: {\n            value: null\n        },\n\n    },\n\n    specularmap: {\n\n        specularMap: {\n            value: null\n        },\n\n    },\n\n    envmap: {\n\n        envMap: {\n            value: null\n        },\n        flipEnvMap: {\n            value: -1\n        },\n        reflectivity: {\n            value: 1.0\n        },\n        refractionRatio: {\n            value: 0.98\n        },\n        maxMipLevel: {\n            value: 0\n        }\n\n    },\n\n    aomap: {\n\n        aoMap: {\n            value: null\n        },\n        aoMapIntensity: {\n            value: 1\n        }\n\n    },\n\n    lightmap: {\n\n        lightMap: {\n            value: null\n        },\n        lightMapIntensity: {\n            value: 1\n        }\n\n    },\n\n    emissivemap: {\n\n        emissiveMap: {\n            value: null\n        }\n\n    },\n\n    bumpmap: {\n\n        bumpMap: {\n            value: null\n        },\n        bumpScale: {\n            value: 1\n        }\n\n    },\n\n    normalmap: {\n\n        normalMap: {\n            value: null\n        },\n        normalScale: {\n            value: new Vector2(1, 1)\n        }\n\n    },\n\n    displacementmap: {\n\n        displacementMap: {\n            value: null\n        },\n        displacementScale: {\n            value: 1\n        },\n        displacementBias: {\n            value: 0\n        }\n\n    },\n\n    roughnessmap: {\n\n        roughnessMap: {\n            value: null\n        }\n\n    },\n\n    metalnessmap: {\n\n        metalnessMap: {\n            value: null\n        }\n\n    },\n\n    gradientmap: {\n\n        gradientMap: {\n            value: null\n        }\n\n    },\n\n    fog: {\n\n        fogDensity: {\n            value: 0.00025\n        },\n        fogNear: {\n            value: 1\n        },\n        fogFar: {\n            value: 2000\n        },\n        fogColor: {\n            value: new Color(0xffffff)\n        }\n\n    },\n\n    lights: {\n\n        ambientLightColor: {\n            value: []\n        },\n\n        lightProbe: {\n            value: []\n        },\n\n        directionalLights: {\n            value: [],\n            properties: {\n                direction: {},\n                color: {}\n            }\n        },\n\n        directionalLightShadows: {\n            value: [],\n            properties: {\n                shadowBias: {},\n                shadowNormalBias: {},\n                shadowRadius: {},\n                shadowMapSize: {}\n            }\n        },\n\n        directionalShadowMap: {\n            value: []\n        },\n        directionalShadowMatrix: {\n            value: []\n        },\n\n        spotLights: {\n            value: [],\n            properties: {\n                color: {},\n                position: {},\n                direction: {},\n                distance: {},\n                coneCos: {},\n                penumbraCos: {},\n                decay: {}\n            }\n        },\n\n        spotLightShadows: {\n            value: [],\n            properties: {\n                shadowBias: {},\n                shadowNormalBias: {},\n                shadowRadius: {},\n                shadowMapSize: {}\n            }\n        },\n\n        spotShadowMap: {\n            value: []\n        },\n        spotShadowMatrix: {\n            value: []\n        },\n\n        pointLights: {\n            value: [],\n            properties: {\n                color: {},\n                position: {},\n                decay: {},\n                distance: {}\n            }\n        },\n\n        pointLightShadows: {\n            value: [],\n            properties: {\n                shadowBias: {},\n                shadowNormalBias: {},\n                shadowRadius: {},\n                shadowMapSize: {},\n                shadowCameraNear: {},\n                shadowCameraFar: {}\n            }\n        },\n\n        pointShadowMap: {\n            value: []\n        },\n        pointShadowMatrix: {\n            value: []\n        },\n\n        hemisphereLights: {\n            value: [],\n            properties: {\n                direction: {},\n                skyColor: {},\n                groundColor: {}\n            }\n        },\n\n        // TODO (abelnation): RectAreaLight BRDF data needs to be moved from example to main src\n        rectAreaLights: {\n            value: [],\n            properties: {\n                color: {},\n                position: {},\n                width: {},\n                height: {}\n            }\n        },\n\n        ltc_1: {\n            value: null\n        },\n        ltc_2: {\n            value: null\n        }\n\n    },\n\n    points: {\n\n        diffuse: {\n            value: new Color(0xeeeeee)\n        },\n        opacity: {\n            value: 1.0\n        },\n        size: {\n            value: 1.0\n        },\n        scale: {\n            value: 1.0\n        },\n        map: {\n            value: null\n        },\n        alphaMap: {\n            value: null\n        },\n        uvTransform: {\n            value: new Matrix3()\n        }\n\n    },\n\n    sprite: {\n\n        diffuse: {\n            value: new Color(0xeeeeee)\n        },\n        opacity: {\n            value: 1.0\n        },\n        center: {\n            value: new Vector2(0.5, 0.5)\n        },\n        rotation: {\n            value: 0.0\n        },\n        map: {\n            value: null\n        },\n        alphaMap: {\n            value: null\n        },\n        uvTransform: {\n            value: new Matrix3()\n        }\n\n    }\n\n};\n\nconst ShaderLib = {\n\n    basic: {\n\n        uniforms: mergeUniforms([\n            UniformsLib.common,\n            UniformsLib.specularmap,\n            UniformsLib.envmap,\n            UniformsLib.aomap,\n            UniformsLib.lightmap,\n            UniformsLib.fog\n        ]),\n\n        vertexShader: ShaderChunk.meshbasic_vert,\n        fragmentShader: ShaderChunk.meshbasic_frag\n\n    },\n\n    lambert: {\n\n        uniforms: mergeUniforms([\n            UniformsLib.common,\n            UniformsLib.specularmap,\n            UniformsLib.envmap,\n            UniformsLib.aomap,\n            UniformsLib.lightmap,\n            UniformsLib.emissivemap,\n            UniformsLib.fog,\n            UniformsLib.lights,\n            {\n                emissive: {\n                    value: new Color(0x000000)\n                }\n            }\n        ]),\n\n        vertexShader: ShaderChunk.meshlambert_vert,\n        fragmentShader: ShaderChunk.meshlambert_frag\n\n    },\n\n    phong: {\n\n        uniforms: mergeUniforms([\n            UniformsLib.common,\n            UniformsLib.specularmap,\n            UniformsLib.envmap,\n            UniformsLib.aomap,\n            UniformsLib.lightmap,\n            UniformsLib.emissivemap,\n            UniformsLib.bumpmap,\n            UniformsLib.normalmap,\n            UniformsLib.displacementmap,\n            UniformsLib.fog,\n            UniformsLib.lights,\n            {\n                emissive: {\n                    value: new Color(0x000000)\n                },\n                specular: {\n                    value: new Color(0x111111)\n                },\n                shininess: {\n                    value: 30\n                }\n            }\n        ]),\n\n        vertexShader: ShaderChunk.meshphong_vert,\n        fragmentShader: ShaderChunk.meshphong_frag\n\n    },\n\n    standard: {\n\n        uniforms: mergeUniforms([\n            UniformsLib.common,\n            UniformsLib.envmap,\n            UniformsLib.aomap,\n            UniformsLib.lightmap,\n            UniformsLib.emissivemap,\n            UniformsLib.bumpmap,\n            UniformsLib.normalmap,\n            UniformsLib.displacementmap,\n            UniformsLib.roughnessmap,\n            UniformsLib.metalnessmap,\n            UniformsLib.fog,\n            UniformsLib.lights,\n            {\n                emissive: {\n                    value: new Color(0x000000)\n                },\n                roughness: {\n                    value: 1.0\n                },\n                metalness: {\n                    value: 0.0\n                },\n                envMapIntensity: {\n                    value: 1\n                } // temporary\n            }\n        ]),\n\n        vertexShader: ShaderChunk.meshphysical_vert,\n        fragmentShader: ShaderChunk.meshphysical_frag\n\n    },\n\n    toon: {\n\n        uniforms: mergeUniforms([\n            UniformsLib.common,\n            UniformsLib.aomap,\n            UniformsLib.lightmap,\n            UniformsLib.emissivemap,\n            UniformsLib.bumpmap,\n            UniformsLib.normalmap,\n            UniformsLib.displacementmap,\n            UniformsLib.gradientmap,\n            UniformsLib.fog,\n            UniformsLib.lights,\n            {\n                emissive: {\n                    value: new Color(0x000000)\n                }\n            }\n        ]),\n\n        vertexShader: ShaderChunk.meshtoon_vert,\n        fragmentShader: ShaderChunk.meshtoon_frag\n\n    },\n\n    matcap: {\n\n        uniforms: mergeUniforms([\n            UniformsLib.common,\n            UniformsLib.bumpmap,\n            UniformsLib.normalmap,\n            UniformsLib.displacementmap,\n            UniformsLib.fog,\n            {\n                matcap: {\n                    value: null\n                }\n            }\n        ]),\n\n        vertexShader: ShaderChunk.meshmatcap_vert,\n        fragmentShader: ShaderChunk.meshmatcap_frag\n\n    },\n\n    points: {\n\n        uniforms: mergeUniforms([\n            UniformsLib.points,\n            UniformsLib.fog\n        ]),\n\n        vertexShader: ShaderChunk.points_vert,\n        fragmentShader: ShaderChunk.points_frag\n\n    },\n\n    dashed: {\n\n        uniforms: mergeUniforms([\n            UniformsLib.common,\n            UniformsLib.fog,\n            {\n                scale: {\n                    value: 1\n                },\n                dashSize: {\n                    value: 1\n                },\n                totalSize: {\n                    value: 2\n                }\n            }\n        ]),\n\n        vertexShader: ShaderChunk.linedashed_vert,\n        fragmentShader: ShaderChunk.linedashed_frag\n\n    },\n\n    depth: {\n\n        uniforms: mergeUniforms([\n            UniformsLib.common,\n            UniformsLib.displacementmap\n        ]),\n\n        vertexShader: ShaderChunk.depth_vert,\n        fragmentShader: ShaderChunk.depth_frag\n\n    },\n\n    normal: {\n\n        uniforms: mergeUniforms([\n            UniformsLib.common,\n            UniformsLib.bumpmap,\n            UniformsLib.normalmap,\n            UniformsLib.displacementmap,\n            {\n                opacity: {\n                    value: 1.0\n                }\n            }\n        ]),\n\n        vertexShader: ShaderChunk.normal_vert,\n        fragmentShader: ShaderChunk.normal_frag\n\n    },\n\n    sprite: {\n\n        uniforms: mergeUniforms([\n            UniformsLib.sprite,\n            UniformsLib.fog\n        ]),\n\n        vertexShader: ShaderChunk.sprite_vert,\n        fragmentShader: ShaderChunk.sprite_frag\n\n    },\n\n    background: {\n\n        uniforms: {\n            uvTransform: {\n                value: new Matrix3()\n            },\n            t2D: {\n                value: null\n            },\n        },\n\n        vertexShader: ShaderChunk.background_vert,\n        fragmentShader: ShaderChunk.background_frag\n\n    },\n    /* -------------------------------------------------------------------------\n    //\tCube map shader\n     ------------------------------------------------------------------------- */\n\n    cube: {\n\n        uniforms: mergeUniforms([\n            UniformsLib.envmap,\n            {\n                opacity: {\n                    value: 1.0\n                }\n            }\n        ]),\n\n        vertexShader: ShaderChunk.cube_vert,\n        fragmentShader: ShaderChunk.cube_frag\n\n    },\n\n    equirect: {\n\n        uniforms: {\n            tEquirect: {\n                value: null\n            },\n        },\n\n        vertexShader: ShaderChunk.equirect_vert,\n        fragmentShader: ShaderChunk.equirect_frag\n\n    },\n\n    distanceRGBA: {\n\n        uniforms: mergeUniforms([\n            UniformsLib.common,\n            UniformsLib.displacementmap,\n            {\n                referencePosition: {\n                    value: new Vector3()\n                },\n                nearDistance: {\n                    value: 1\n                },\n                farDistance: {\n                    value: 1000\n                }\n            }\n        ]),\n\n        vertexShader: ShaderChunk.distanceRGBA_vert,\n        fragmentShader: ShaderChunk.distanceRGBA_frag\n\n    },\n\n    shadow: {\n\n        uniforms: mergeUniforms([\n            UniformsLib.lights,\n            UniformsLib.fog,\n            {\n                color: {\n                    value: new Color(0x00000)\n                },\n                opacity: {\n                    value: 1.0\n                }\n            },\n        ]),\n\n        vertexShader: ShaderChunk.shadow_vert,\n        fragmentShader: ShaderChunk.shadow_frag\n\n    }\n\n};\n\nShaderLib.physical = {\n\n    uniforms: mergeUniforms([\n        ShaderLib.standard.uniforms,\n        {\n            clearcoat: {\n                value: 0\n            },\n            clearcoatMap: {\n                value: null\n            },\n            clearcoatRoughness: {\n                value: 0\n            },\n            clearcoatRoughnessMap: {\n                value: null\n            },\n            clearcoatNormalScale: {\n                value: new Vector2(1, 1)\n            },\n            clearcoatNormalMap: {\n                value: null\n            },\n            sheen: {\n                value: new Color(0x000000)\n            },\n            transmission: {\n                value: 0\n            },\n            transmissionMap: {\n                value: null\n            },\n        }\n    ]),\n\n    vertexShader: ShaderChunk.meshphysical_vert,\n    fragmentShader: ShaderChunk.meshphysical_frag\n\n};\n\nfunction WebGLBackground(renderer, cubemaps, state, objects, premultipliedAlpha) {\n\n    const clearColor = new Color(0x000000);\n    let clearAlpha = 0;\n\n    let planeMesh;\n    let boxMesh;\n\n    let currentBackground = null;\n    let currentBackgroundVersion = 0;\n    let currentTonemapping = null;\n\n    function render(renderList, scene, camera, forceClear) {\n\n        let background = scene.isScene === true ? scene.background : null;\n\n        if (background && background.isTexture) {\n\n            background = cubemaps.get(background);\n\n        }\n\n        // Ignore background in AR\n        // TODO: Reconsider this.\n\n        const xr = renderer.xr;\n        const session = xr.getSession && xr.getSession();\n\n        if (session && session.environmentBlendMode === 'additive') {\n\n            background = null;\n\n        }\n\n        if (background === null) {\n\n            setClear(clearColor, clearAlpha);\n\n        } else if (background && background.isColor) {\n\n            setClear(background, 1);\n            forceClear = true;\n\n        }\n\n        if (renderer.autoClear || forceClear) {\n\n            renderer.clear(renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil);\n\n        }\n\n        if (background && (background.isCubeTexture || background.isWebGLCubeRenderTarget || background.mapping === CubeUVReflectionMapping)) {\n\n            if (boxMesh === undefined) {\n\n                boxMesh = new Mesh(\n                    new BoxBufferGeometry(1, 1, 1),\n                    new ShaderMaterial({\n                        name: 'BackgroundCubeMaterial',\n                        uniforms: cloneUniforms(ShaderLib.cube.uniforms),\n                        vertexShader: ShaderLib.cube.vertexShader,\n                        fragmentShader: ShaderLib.cube.fragmentShader,\n                        side: BackSide,\n                        depthTest: false,\n                        depthWrite: false,\n                        fog: false\n                    })\n                );\n\n                boxMesh.geometry.deleteAttribute('normal');\n                boxMesh.geometry.deleteAttribute('uv');\n\n                boxMesh.onBeforeRender = function(renderer, scene, camera) {\n\n                    this.matrixWorld.copyPosition(camera.matrixWorld);\n\n                };\n\n                // enable code injection for non-built-in material\n                Object.defineProperty(boxMesh.material, 'envMap', {\n\n                    get: function() {\n\n                        return this.uniforms.envMap.value;\n\n                    }\n\n                });\n\n                objects.update(boxMesh);\n\n            }\n\n            if (background.isWebGLCubeRenderTarget) {\n\n                // TODO Deprecate\n\n                background = background.texture;\n\n            }\n\n            boxMesh.material.uniforms.envMap.value = background;\n            boxMesh.material.uniforms.flipEnvMap.value = (background.isCubeTexture && background._needsFlipEnvMap) ? -1 : 1;\n\n            if (currentBackground !== background ||\n                currentBackgroundVersion !== background.version ||\n                currentTonemapping !== renderer.toneMapping) {\n\n                boxMesh.material.needsUpdate = true;\n\n                currentBackground = background;\n                currentBackgroundVersion = background.version;\n                currentTonemapping = renderer.toneMapping;\n\n            }\n\n            // push to the pre-sorted opaque render list\n            renderList.unshift(boxMesh, boxMesh.geometry, boxMesh.material, 0, 0, null);\n\n        } else if (background && background.isTexture) {\n\n            if (planeMesh === undefined) {\n\n                planeMesh = new Mesh(\n                    new PlaneBufferGeometry(2, 2),\n                    new ShaderMaterial({\n                        name: 'BackgroundMaterial',\n                        uniforms: cloneUniforms(ShaderLib.background.uniforms),\n                        vertexShader: ShaderLib.background.vertexShader,\n                        fragmentShader: ShaderLib.background.fragmentShader,\n                        side: FrontSide,\n                        depthTest: false,\n                        depthWrite: false,\n                        fog: false\n                    })\n                );\n\n                planeMesh.geometry.deleteAttribute('normal');\n\n                // enable code injection for non-built-in material\n                Object.defineProperty(planeMesh.material, 'map', {\n\n                    get: function() {\n\n                        return this.uniforms.t2D.value;\n\n                    }\n\n                });\n\n                objects.update(planeMesh);\n\n            }\n\n            planeMesh.material.uniforms.t2D.value = background;\n\n            if (background.matrixAutoUpdate === true) {\n\n                background.updateMatrix();\n\n            }\n\n            planeMesh.material.uniforms.uvTransform.value.copy(background.matrix);\n\n            if (currentBackground !== background ||\n                currentBackgroundVersion !== background.version ||\n                currentTonemapping !== renderer.toneMapping) {\n\n                planeMesh.material.needsUpdate = true;\n\n                currentBackground = background;\n                currentBackgroundVersion = background.version;\n                currentTonemapping = renderer.toneMapping;\n\n            }\n\n\n            // push to the pre-sorted opaque render list\n            renderList.unshift(planeMesh, planeMesh.geometry, planeMesh.material, 0, 0, null);\n\n        }\n\n    }\n\n    function setClear(color, alpha) {\n\n        state.buffers.color.setClear(color.r, color.g, color.b, alpha, premultipliedAlpha);\n\n    }\n\n    return {\n\n        getClearColor: function() {\n\n            return clearColor;\n\n        },\n        setClearColor: function(color, alpha) {\n\n            clearColor.set(color);\n            clearAlpha = alpha !== undefined ? alpha : 1;\n            setClear(clearColor, clearAlpha);\n\n        },\n        getClearAlpha: function() {\n\n            return clearAlpha;\n\n        },\n        setClearAlpha: function(alpha) {\n\n            clearAlpha = alpha;\n            setClear(clearColor, clearAlpha);\n\n        },\n        render: render\n\n    };\n\n}\n\nfunction WebGLBindingStates(gl, extensions, attributes, capabilities) {\n\n    const maxVertexAttributes = gl.getParameter(34921);\n\n    const extension = capabilities.isWebGL2 ? null : extensions.get('OES_vertex_array_object');\n    const vaoAvailable = capabilities.isWebGL2 || extension !== null;\n\n    const bindingStates = {};\n\n    const defaultState = createBindingState(null);\n    let currentState = defaultState;\n\n    function setup(object, material, program, geometry, index) {\n\n        let updateBuffers = false;\n\n        if (vaoAvailable) {\n\n            const state = getBindingState(geometry, program, material);\n\n            if (currentState !== state) {\n\n                currentState = state;\n                bindVertexArrayObject(currentState.object);\n\n            }\n\n            updateBuffers = needsUpdate(geometry, index);\n\n            if (updateBuffers) saveCache(geometry, index);\n\n        } else {\n\n            const wireframe = (material.wireframe === true);\n\n            if (currentState.geometry !== geometry.id ||\n                currentState.program !== program.id ||\n                currentState.wireframe !== wireframe) {\n\n                currentState.geometry = geometry.id;\n                currentState.program = program.id;\n                currentState.wireframe = wireframe;\n\n                updateBuffers = true;\n\n            }\n\n        }\n\n        if (object.isInstancedMesh === true) {\n\n            updateBuffers = true;\n\n        }\n\n        if (index !== null) {\n\n            attributes.update(index, 34963);\n\n        }\n\n        if (updateBuffers) {\n\n            setupVertexAttributes(object, material, program, geometry);\n\n            if (index !== null) {\n\n                gl.bindBuffer(34963, attributes.get(index).buffer);\n\n            }\n\n        }\n\n    }\n\n    function createVertexArrayObject() {\n\n        if (capabilities.isWebGL2) return gl.createVertexArray();\n\n        return extension.createVertexArrayOES();\n\n    }\n\n    function bindVertexArrayObject(vao) {\n\n        if (capabilities.isWebGL2) return gl.bindVertexArray(vao);\n\n        return extension.bindVertexArrayOES(vao);\n\n    }\n\n    function deleteVertexArrayObject(vao) {\n\n        if (capabilities.isWebGL2) return gl.deleteVertexArray(vao);\n\n        return extension.deleteVertexArrayOES(vao);\n\n    }\n\n    function getBindingState(geometry, program, material) {\n\n        const wireframe = (material.wireframe === true);\n\n        let programMap = bindingStates[geometry.id];\n\n        if (programMap === undefined) {\n\n            programMap = {};\n            bindingStates[geometry.id] = programMap;\n\n        }\n\n        let stateMap = programMap[program.id];\n\n        if (stateMap === undefined) {\n\n            stateMap = {};\n            programMap[program.id] = stateMap;\n\n        }\n\n        let state = stateMap[wireframe];\n\n        if (state === undefined) {\n\n            state = createBindingState(createVertexArrayObject());\n            stateMap[wireframe] = state;\n\n        }\n\n        return state;\n\n    }\n\n    function createBindingState(vao) {\n\n        const newAttributes = [];\n        const enabledAttributes = [];\n        const attributeDivisors = [];\n\n        for (let i = 0; i < maxVertexAttributes; i++) {\n\n            newAttributes[i] = 0;\n            enabledAttributes[i] = 0;\n            attributeDivisors[i] = 0;\n\n        }\n\n        return {\n\n            // for backward compatibility on non-VAO support browser\n            geometry: null,\n            program: null,\n            wireframe: false,\n\n            newAttributes: newAttributes,\n            enabledAttributes: enabledAttributes,\n            attributeDivisors: attributeDivisors,\n            object: vao,\n            attributes: {},\n            index: null\n\n        };\n\n    }\n\n    function needsUpdate(geometry, index) {\n\n        const cachedAttributes = currentState.attributes;\n        const geometryAttributes = geometry.attributes;\n\n        if (Object.keys(cachedAttributes).length !== Object.keys(geometryAttributes).length) return true;\n\n        for (const key in geometryAttributes) {\n\n            const cachedAttribute = cachedAttributes[key];\n            const geometryAttribute = geometryAttributes[key];\n\n            if (cachedAttribute === undefined) return true;\n\n            if (cachedAttribute.attribute !== geometryAttribute) return true;\n\n            if (cachedAttribute.data !== geometryAttribute.data) return true;\n\n        }\n\n        if (currentState.index !== index) return true;\n\n        return false;\n\n    }\n\n    function saveCache(geometry, index) {\n\n        const cache = {};\n        const attributes = geometry.attributes;\n\n        for (const key in attributes) {\n\n            const attribute = attributes[key];\n\n            const data = {};\n            data.attribute = attribute;\n\n            if (attribute.data) {\n\n                data.data = attribute.data;\n\n            }\n\n            cache[key] = data;\n\n        }\n\n        currentState.attributes = cache;\n\n        currentState.index = index;\n\n    }\n\n    function initAttributes() {\n\n        const newAttributes = currentState.newAttributes;\n\n        for (let i = 0, il = newAttributes.length; i < il; i++) {\n\n            newAttributes[i] = 0;\n\n        }\n\n    }\n\n    function enableAttribute(attribute) {\n\n        enableAttributeAndDivisor(attribute, 0);\n\n    }\n\n    function enableAttributeAndDivisor(attribute, meshPerAttribute) {\n\n        const newAttributes = currentState.newAttributes;\n        const enabledAttributes = currentState.enabledAttributes;\n        const attributeDivisors = currentState.attributeDivisors;\n\n        newAttributes[attribute] = 1;\n\n        if (enabledAttributes[attribute] === 0) {\n\n            gl.enableVertexAttribArray(attribute);\n            enabledAttributes[attribute] = 1;\n\n        }\n\n        if (attributeDivisors[attribute] !== meshPerAttribute) {\n\n            const extension = capabilities.isWebGL2 ? gl : extensions.get('ANGLE_instanced_arrays');\n\n            extension[capabilities.isWebGL2 ? 'vertexAttribDivisor' : 'vertexAttribDivisorANGLE'](attribute, meshPerAttribute);\n            attributeDivisors[attribute] = meshPerAttribute;\n\n        }\n\n    }\n\n    function disableUnusedAttributes() {\n\n        const newAttributes = currentState.newAttributes;\n        const enabledAttributes = currentState.enabledAttributes;\n\n        for (let i = 0, il = enabledAttributes.length; i < il; i++) {\n\n            if (enabledAttributes[i] !== newAttributes[i]) {\n\n                gl.disableVertexAttribArray(i);\n                enabledAttributes[i] = 0;\n\n            }\n\n        }\n\n    }\n\n    function vertexAttribPointer(index, size, type, normalized, stride, offset) {\n\n        if (capabilities.isWebGL2 === true && (type === 5124 || type === 5125)) {\n\n            gl.vertexAttribIPointer(index, size, type, stride, offset);\n\n        } else {\n\n            gl.vertexAttribPointer(index, size, type, normalized, stride, offset);\n\n        }\n\n    }\n\n    function setupVertexAttributes(object, material, program, geometry) {\n\n        if (capabilities.isWebGL2 === false && (object.isInstancedMesh || geometry.isInstancedBufferGeometry)) {\n\n            if (extensions.get('ANGLE_instanced_arrays') === null) return;\n\n        }\n\n        initAttributes();\n\n        const geometryAttributes = geometry.attributes;\n\n        const programAttributes = program.getAttributes();\n\n        const materialDefaultAttributeValues = material.defaultAttributeValues;\n\n        for (const name in programAttributes) {\n\n            const programAttribute = programAttributes[name];\n\n            if (programAttribute >= 0) {\n\n                const geometryAttribute = geometryAttributes[name];\n\n                if (geometryAttribute !== undefined) {\n\n                    const normalized = geometryAttribute.normalized;\n                    const size = geometryAttribute.itemSize;\n\n                    const attribute = attributes.get(geometryAttribute);\n\n                    // TODO Attribute may not be available on context restore\n\n                    if (attribute === undefined) continue;\n\n                    const buffer = attribute.buffer;\n                    const type = attribute.type;\n                    const bytesPerElement = attribute.bytesPerElement;\n\n                    if (geometryAttribute.isInterleavedBufferAttribute) {\n\n                        const data = geometryAttribute.data;\n                        const stride = data.stride;\n                        const offset = geometryAttribute.offset;\n\n                        if (data && data.isInstancedInterleavedBuffer) {\n\n                            enableAttributeAndDivisor(programAttribute, data.meshPerAttribute);\n\n                            if (geometry._maxInstanceCount === undefined) {\n\n                                geometry._maxInstanceCount = data.meshPerAttribute * data.count;\n\n                            }\n\n                        } else {\n\n                            enableAttribute(programAttribute);\n\n                        }\n\n                        gl.bindBuffer(34962, buffer);\n                        vertexAttribPointer(programAttribute, size, type, normalized, stride * bytesPerElement, offset * bytesPerElement);\n\n                    } else {\n\n                        if (geometryAttribute.isInstancedBufferAttribute) {\n\n                            enableAttributeAndDivisor(programAttribute, geometryAttribute.meshPerAttribute);\n\n                            if (geometry._maxInstanceCount === undefined) {\n\n                                geometry._maxInstanceCount = geometryAttribute.meshPerAttribute * geometryAttribute.count;\n\n                            }\n\n                        } else {\n\n                            enableAttribute(programAttribute);\n\n                        }\n\n                        gl.bindBuffer(34962, buffer);\n                        vertexAttribPointer(programAttribute, size, type, normalized, 0, 0);\n\n                    }\n\n                } else if (name === 'instanceMatrix') {\n\n                    const attribute = attributes.get(object.instanceMatrix);\n\n                    // TODO Attribute may not be available on context restore\n\n                    if (attribute === undefined) continue;\n\n                    const buffer = attribute.buffer;\n                    const type = attribute.type;\n\n                    enableAttributeAndDivisor(programAttribute + 0, 1);\n                    enableAttributeAndDivisor(programAttribute + 1, 1);\n                    enableAttributeAndDivisor(programAttribute + 2, 1);\n                    enableAttributeAndDivisor(programAttribute + 3, 1);\n\n                    gl.bindBuffer(34962, buffer);\n\n                    gl.vertexAttribPointer(programAttribute + 0, 4, type, false, 64, 0);\n                    gl.vertexAttribPointer(programAttribute + 1, 4, type, false, 64, 16);\n                    gl.vertexAttribPointer(programAttribute + 2, 4, type, false, 64, 32);\n                    gl.vertexAttribPointer(programAttribute + 3, 4, type, false, 64, 48);\n\n                } else if (name === 'instanceColor') {\n\n                    const attribute = attributes.get(object.instanceColor);\n\n                    // TODO Attribute may not be available on context restore\n\n                    if (attribute === undefined) continue;\n\n                    const buffer = attribute.buffer;\n                    const type = attribute.type;\n\n                    enableAttributeAndDivisor(programAttribute, 1);\n\n                    gl.bindBuffer(34962, buffer);\n\n                    gl.vertexAttribPointer(programAttribute, 3, type, false, 12, 0);\n\n                } else if (materialDefaultAttributeValues !== undefined) {\n\n                    const value = materialDefaultAttributeValues[name];\n\n                    if (value !== undefined) {\n\n                        switch (value.length) {\n\n                            case 2:\n                                gl.vertexAttrib2fv(programAttribute, value);\n                                break;\n\n                            case 3:\n                                gl.vertexAttrib3fv(programAttribute, value);\n                                break;\n\n                            case 4:\n                                gl.vertexAttrib4fv(programAttribute, value);\n                                break;\n\n                            default:\n                                gl.vertexAttrib1fv(programAttribute, value);\n\n                        }\n\n                    }\n\n                }\n\n            }\n\n        }\n\n        disableUnusedAttributes();\n\n    }\n\n    function dispose() {\n\n        reset();\n\n        for (const geometryId in bindingStates) {\n\n            const programMap = bindingStates[geometryId];\n\n            for (const programId in programMap) {\n\n                const stateMap = programMap[programId];\n\n                for (const wireframe in stateMap) {\n\n                    deleteVertexArrayObject(stateMap[wireframe].object);\n\n                    delete stateMap[wireframe];\n\n                }\n\n                delete programMap[programId];\n\n            }\n\n            delete bindingStates[geometryId];\n\n        }\n\n    }\n\n    function releaseStatesOfGeometry(geometry) {\n\n        if (bindingStates[geometry.id] === undefined) return;\n\n        const programMap = bindingStates[geometry.id];\n\n        for (const programId in programMap) {\n\n            const stateMap = programMap[programId];\n\n            for (const wireframe in stateMap) {\n\n                deleteVertexArrayObject(stateMap[wireframe].object);\n\n                delete stateMap[wireframe];\n\n            }\n\n            delete programMap[programId];\n\n        }\n\n        delete bindingStates[geometry.id];\n\n    }\n\n    function releaseStatesOfProgram(program) {\n\n        for (const geometryId in bindingStates) {\n\n            const programMap = bindingStates[geometryId];\n\n            if (programMap[program.id] === undefined) continue;\n\n            const stateMap = programMap[program.id];\n\n            for (const wireframe in stateMap) {\n\n                deleteVertexArrayObject(stateMap[wireframe].object);\n\n                delete stateMap[wireframe];\n\n            }\n\n            delete programMap[program.id];\n\n        }\n\n    }\n\n    function reset() {\n\n        resetDefaultState();\n\n        if (currentState === defaultState) return;\n\n        currentState = defaultState;\n        bindVertexArrayObject(currentState.object);\n\n    }\n\n    // for backward-compatilibity\n\n    function resetDefaultState() {\n\n        defaultState.geometry = null;\n        defaultState.program = null;\n        defaultState.wireframe = false;\n\n    }\n\n    return {\n\n        setup: setup,\n        reset: reset,\n        resetDefaultState: resetDefaultState,\n        dispose: dispose,\n        releaseStatesOfGeometry: releaseStatesOfGeometry,\n        releaseStatesOfProgram: releaseStatesOfProgram,\n\n        initAttributes: initAttributes,\n        enableAttribute: enableAttribute,\n        disableUnusedAttributes: disableUnusedAttributes\n\n    };\n\n}\n\nfunction WebGLBufferRenderer(gl, extensions, info, capabilities) {\n\n    const isWebGL2 = capabilities.isWebGL2;\n\n    let mode;\n\n    function setMode(value) {\n\n        mode = value;\n\n    }\n\n    function render(start, count) {\n\n        gl.drawArrays(mode, start, count);\n\n        info.update(count, mode, 1);\n\n    }\n\n    function renderInstances(start, count, primcount) {\n\n        if (primcount === 0) return;\n\n        let extension, methodName;\n\n        if (isWebGL2) {\n\n            extension = gl;\n            methodName = 'drawArraysInstanced';\n\n        } else {\n\n            extension = extensions.get('ANGLE_instanced_arrays');\n            methodName = 'drawArraysInstancedANGLE';\n\n            if (extension === null) {\n\n                console.error('THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.');\n                return;\n\n            }\n\n        }\n\n        extension[methodName](mode, start, count, primcount);\n\n        info.update(count, mode, primcount);\n\n    }\n\n    //\n\n    this.setMode = setMode;\n    this.render = render;\n    this.renderInstances = renderInstances;\n\n}\n\nfunction WebGLCapabilities(gl, extensions, parameters) {\n\n    let maxAnisotropy;\n\n    function getMaxAnisotropy() {\n\n        if (maxAnisotropy !== undefined) return maxAnisotropy;\n\n        const extension = extensions.get('EXT_texture_filter_anisotropic');\n\n        if (extension !== null) {\n\n            maxAnisotropy = gl.getParameter(extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT);\n\n        } else {\n\n            maxAnisotropy = 0;\n\n        }\n\n        return maxAnisotropy;\n\n    }\n\n    function getMaxPrecision(precision) {\n\n        if (precision === 'highp') {\n\n            if (gl.getShaderPrecisionFormat(35633, 36338).precision > 0 &&\n                gl.getShaderPrecisionFormat(35632, 36338).precision > 0) {\n\n                return 'highp';\n\n            }\n\n            precision = 'mediump';\n\n        }\n\n        if (precision === 'mediump') {\n\n            if (gl.getShaderPrecisionFormat(35633, 36337).precision > 0 &&\n                gl.getShaderPrecisionFormat(35632, 36337).precision > 0) {\n\n                return 'mediump';\n\n            }\n\n        }\n\n        return 'lowp';\n\n    }\n\n    /* eslint-disable no-undef */\n    const isWebGL2 = (typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext) ||\n        (typeof WebGL2ComputeRenderingContext !== 'undefined' && gl instanceof WebGL2ComputeRenderingContext);\n    /* eslint-enable no-undef */\n\n    let precision = parameters.precision !== undefined ? parameters.precision : 'highp';\n    const maxPrecision = getMaxPrecision(precision);\n\n    if (maxPrecision !== precision) {\n\n        console.warn('THREE.WebGLRenderer:', precision, 'not supported, using', maxPrecision, 'instead.');\n        precision = maxPrecision;\n\n    }\n\n    const logarithmicDepthBuffer = parameters.logarithmicDepthBuffer === true;\n\n    const maxTextures = gl.getParameter(34930);\n    const maxVertexTextures = gl.getParameter(35660);\n    const maxTextureSize = gl.getParameter(3379);\n    const maxCubemapSize = gl.getParameter(34076);\n\n    const maxAttributes = gl.getParameter(34921);\n    const maxVertexUniforms = gl.getParameter(36347);\n    const maxVaryings = gl.getParameter(36348);\n    const maxFragmentUniforms = gl.getParameter(36349);\n\n    const vertexTextures = maxVertexTextures > 0;\n    const floatFragmentTextures = isWebGL2 || !!extensions.get('OES_texture_float');\n    const floatVertexTextures = vertexTextures && floatFragmentTextures;\n\n    const maxSamples = isWebGL2 ? gl.getParameter(36183) : 0;\n\n    return {\n\n        isWebGL2: isWebGL2,\n\n        getMaxAnisotropy: getMaxAnisotropy,\n        getMaxPrecision: getMaxPrecision,\n\n        precision: precision,\n        logarithmicDepthBuffer: logarithmicDepthBuffer,\n\n        maxTextures: maxTextures,\n        maxVertexTextures: maxVertexTextures,\n        maxTextureSize: maxTextureSize,\n        maxCubemapSize: maxCubemapSize,\n\n        maxAttributes: maxAttributes,\n        maxVertexUniforms: maxVertexUniforms,\n        maxVaryings: maxVaryings,\n        maxFragmentUniforms: maxFragmentUniforms,\n\n        vertexTextures: vertexTextures,\n        floatFragmentTextures: floatFragmentTextures,\n        floatVertexTextures: floatVertexTextures,\n\n        maxSamples: maxSamples\n\n    };\n\n}\n\nfunction WebGLClipping(properties) {\n\n    const scope = this;\n\n    let globalState = null,\n        numGlobalPlanes = 0,\n        localClippingEnabled = false,\n        renderingShadows = false;\n\n    const plane = new Plane(),\n        viewNormalMatrix = new Matrix3(),\n\n        uniform = {\n            value: null,\n            needsUpdate: false\n        };\n\n    this.uniform = uniform;\n    this.numPlanes = 0;\n    this.numIntersection = 0;\n\n    this.init = function(planes, enableLocalClipping, camera) {\n\n        const enabled =\n            planes.length !== 0 ||\n            enableLocalClipping ||\n            // enable state of previous frame - the clipping code has to\n            // run another frame in order to reset the state:\n            numGlobalPlanes !== 0 ||\n            localClippingEnabled;\n\n        localClippingEnabled = enableLocalClipping;\n\n        globalState = projectPlanes(planes, camera, 0);\n        numGlobalPlanes = planes.length;\n\n        return enabled;\n\n    };\n\n    this.beginShadows = function() {\n\n        renderingShadows = true;\n        projectPlanes(null);\n\n    };\n\n    this.endShadows = function() {\n\n        renderingShadows = false;\n        resetGlobalState();\n\n    };\n\n    this.setState = function(material, camera, useCache) {\n\n        const planes = material.clippingPlanes,\n            clipIntersection = material.clipIntersection,\n            clipShadows = material.clipShadows;\n\n        const materialProperties = properties.get(material);\n\n        if (!localClippingEnabled || planes === null || planes.length === 0 || renderingShadows && !clipShadows) {\n\n            // there's no local clipping\n\n            if (renderingShadows) {\n\n                // there's no global clipping\n\n                projectPlanes(null);\n\n            } else {\n\n                resetGlobalState();\n\n            }\n\n        } else {\n\n            const nGlobal = renderingShadows ? 0 : numGlobalPlanes,\n                lGlobal = nGlobal * 4;\n\n            let dstArray = materialProperties.clippingState || null;\n\n            uniform.value = dstArray; // ensure unique state\n\n            dstArray = projectPlanes(planes, camera, lGlobal, useCache);\n\n            for (let i = 0; i !== lGlobal; ++i) {\n\n                dstArray[i] = globalState[i];\n\n            }\n\n            materialProperties.clippingState = dstArray;\n            this.numIntersection = clipIntersection ? this.numPlanes : 0;\n            this.numPlanes += nGlobal;\n\n        }\n\n\n    };\n\n    function resetGlobalState() {\n\n        if (uniform.value !== globalState) {\n\n            uniform.value = globalState;\n            uniform.needsUpdate = numGlobalPlanes > 0;\n\n        }\n\n        scope.numPlanes = numGlobalPlanes;\n        scope.numIntersection = 0;\n\n    }\n\n    function projectPlanes(planes, camera, dstOffset, skipTransform) {\n\n        const nPlanes = planes !== null ? planes.length : 0;\n        let dstArray = null;\n\n        if (nPlanes !== 0) {\n\n            dstArray = uniform.value;\n\n            if (skipTransform !== true || dstArray === null) {\n\n                const flatSize = dstOffset + nPlanes * 4,\n                    viewMatrix = camera.matrixWorldInverse;\n\n                viewNormalMatrix.getNormalMatrix(viewMatrix);\n\n                if (dstArray === null || dstArray.length < flatSize) {\n\n                    dstArray = new Float32Array(flatSize);\n\n                }\n\n                for (let i = 0, i4 = dstOffset; i !== nPlanes; ++i, i4 += 4) {\n\n                    plane.copy(planes[i]).applyMatrix4(viewMatrix, viewNormalMatrix);\n\n                    plane.normal.toArray(dstArray, i4);\n                    dstArray[i4 + 3] = plane.constant;\n\n                }\n\n            }\n\n            uniform.value = dstArray;\n            uniform.needsUpdate = true;\n\n        }\n\n        scope.numPlanes = nPlanes;\n        scope.numIntersection = 0;\n\n        return dstArray;\n\n    }\n\n}\n\nfunction WebGLCubeMaps(renderer) {\n\n    let cubemaps = new WeakMap();\n\n    function mapTextureMapping(texture, mapping) {\n\n        if (mapping === EquirectangularReflectionMapping) {\n\n            texture.mapping = CubeReflectionMapping;\n\n        } else if (mapping === EquirectangularRefractionMapping) {\n\n            texture.mapping = CubeRefractionMapping;\n\n        }\n\n        return texture;\n\n    }\n\n    function get(texture) {\n\n        if (texture && texture.isTexture) {\n\n            const mapping = texture.mapping;\n\n            if (mapping === EquirectangularReflectionMapping || mapping === EquirectangularRefractionMapping) {\n\n                if (cubemaps.has(texture)) {\n\n                    const cubemap = cubemaps.get(texture).texture;\n                    return mapTextureMapping(cubemap, texture.mapping);\n\n                } else {\n\n                    const image = texture.image;\n\n                    if (image && image.height > 0) {\n\n                        const currentRenderList = renderer.getRenderList();\n                        const currentRenderTarget = renderer.getRenderTarget();\n                        const currentRenderState = renderer.getRenderState();\n\n                        const renderTarget = new WebGLCubeRenderTarget(image.height / 2);\n                        renderTarget.fromEquirectangularTexture(renderer, texture);\n                        cubemaps.set(texture, renderTarget);\n\n                        renderer.setRenderTarget(currentRenderTarget);\n                        renderer.setRenderList(currentRenderList);\n                        renderer.setRenderState(currentRenderState);\n\n                        texture.addEventListener('dispose', onTextureDispose);\n\n                        return mapTextureMapping(renderTarget.texture, texture.mapping);\n\n                    } else {\n\n                        // image not yet ready. try the conversion next frame\n\n                        return null;\n\n                    }\n\n                }\n\n            }\n\n        }\n\n        return texture;\n\n    }\n\n    function onTextureDispose(event) {\n\n        const texture = event.target;\n\n        texture.removeEventListener('dispose', onTextureDispose);\n\n        const cubemap = cubemaps.get(texture);\n\n        if (cubemap !== undefined) {\n\n            cubemaps.delete(texture);\n            cubemap.dispose();\n\n        }\n\n    }\n\n    function dispose() {\n\n        cubemaps = new WeakMap();\n\n    }\n\n    return {\n        get: get,\n        dispose: dispose\n    };\n\n}\n\nfunction WebGLExtensions(gl) {\n\n    const extensions = {};\n\n    return {\n\n        has: function(name) {\n\n            if (extensions[name] !== undefined) {\n\n                return extensions[name] !== null;\n\n            }\n\n            let extension;\n\n            switch (name) {\n\n                case 'WEBGL_depth_texture':\n                    extension = gl.getExtension('WEBGL_depth_texture') || gl.getExtension('MOZ_WEBGL_depth_texture') || gl.getExtension('WEBKIT_WEBGL_depth_texture');\n                    break;\n\n                case 'EXT_texture_filter_anisotropic':\n                    extension = gl.getExtension('EXT_texture_filter_anisotropic') || gl.getExtension('MOZ_EXT_texture_filter_anisotropic') || gl.getExtension('WEBKIT_EXT_texture_filter_anisotropic');\n                    break;\n\n                case 'WEBGL_compressed_texture_s3tc':\n                    extension = gl.getExtension('WEBGL_compressed_texture_s3tc') || gl.getExtension('MOZ_WEBGL_compressed_texture_s3tc') || gl.getExtension('WEBKIT_WEBGL_compressed_texture_s3tc');\n                    break;\n\n                case 'WEBGL_compressed_texture_pvrtc':\n                    extension = gl.getExtension('WEBGL_compressed_texture_pvrtc') || gl.getExtension('WEBKIT_WEBGL_compressed_texture_pvrtc');\n                    break;\n\n                default:\n                    extension = gl.getExtension(name);\n\n            }\n\n            extensions[name] = extension;\n\n            return extension !== null;\n\n        },\n\n        get: function(name) {\n\n            if (!this.has(name)) {\n\n                console.warn('THREE.WebGLRenderer: ' + name + ' extension not supported.');\n\n            }\n\n            return extensions[name];\n\n        }\n\n    };\n\n}\n\nfunction WebGLGeometries(gl, attributes, info, bindingStates) {\n\n    const geometries = new WeakMap();\n    const wireframeAttributes = new WeakMap();\n\n    function onGeometryDispose(event) {\n\n        const geometry = event.target;\n        const buffergeometry = geometries.get(geometry);\n\n        if (buffergeometry.index !== null) {\n\n            attributes.remove(buffergeometry.index);\n\n        }\n\n        for (const name in buffergeometry.attributes) {\n\n            attributes.remove(buffergeometry.attributes[name]);\n\n        }\n\n        geometry.removeEventListener('dispose', onGeometryDispose);\n\n        geometries.delete(geometry);\n\n        const attribute = wireframeAttributes.get(buffergeometry);\n\n        if (attribute) {\n\n            attributes.remove(attribute);\n            wireframeAttributes.delete(buffergeometry);\n\n        }\n\n        bindingStates.releaseStatesOfGeometry(buffergeometry);\n\n        if (geometry.isInstancedBufferGeometry === true) {\n\n            delete geometry._maxInstanceCount;\n\n        }\n\n        //\n\n        info.memory.geometries--;\n\n    }\n\n    function get(object, geometry) {\n\n        let buffergeometry = geometries.get(geometry);\n\n        if (buffergeometry) return buffergeometry;\n\n        geometry.addEventListener('dispose', onGeometryDispose);\n\n        if (geometry.isBufferGeometry) {\n\n            buffergeometry = geometry;\n\n        } else if (geometry.isGeometry) {\n\n            if (geometry._bufferGeometry === undefined) {\n\n                geometry._bufferGeometry = new BufferGeometry().setFromObject(object);\n\n            }\n\n            buffergeometry = geometry._bufferGeometry;\n\n        }\n\n        geometries.set(geometry, buffergeometry);\n\n        info.memory.geometries++;\n\n        return buffergeometry;\n\n    }\n\n    function update(geometry) {\n\n        const geometryAttributes = geometry.attributes;\n\n        // Updating index buffer in VAO now. See WebGLBindingStates.\n\n        for (const name in geometryAttributes) {\n\n            attributes.update(geometryAttributes[name], 34962);\n\n        }\n\n        // morph targets\n\n        const morphAttributes = geometry.morphAttributes;\n\n        for (const name in morphAttributes) {\n\n            const array = morphAttributes[name];\n\n            for (let i = 0, l = array.length; i < l; i++) {\n\n                attributes.update(array[i], 34962);\n\n            }\n\n        }\n\n    }\n\n    function updateWireframeAttribute(geometry) {\n\n        const indices = [];\n\n        const geometryIndex = geometry.index;\n        const geometryPosition = geometry.attributes.position;\n        let version = 0;\n\n        if (geometryIndex !== null) {\n\n            const array = geometryIndex.array;\n            version = geometryIndex.version;\n\n            for (let i = 0, l = array.length; i < l; i += 3) {\n\n                const a = array[i + 0];\n                const b = array[i + 1];\n                const c = array[i + 2];\n\n                indices.push(a, b, b, c, c, a);\n\n            }\n\n        } else {\n\n            const array = geometryPosition.array;\n            version = geometryPosition.version;\n\n            for (let i = 0, l = (array.length / 3) - 1; i < l; i += 3) {\n\n                const a = i + 0;\n                const b = i + 1;\n                const c = i + 2;\n\n                indices.push(a, b, b, c, c, a);\n\n            }\n\n        }\n\n        const attribute = new(arrayMax(indices) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute)(indices, 1);\n        attribute.version = version;\n\n        // Updating index buffer in VAO now. See WebGLBindingStates\n\n        //\n\n        const previousAttribute = wireframeAttributes.get(geometry);\n\n        if (previousAttribute) attributes.remove(previousAttribute);\n\n        //\n\n        wireframeAttributes.set(geometry, attribute);\n\n    }\n\n    function getWireframeAttribute(geometry) {\n\n        const currentAttribute = wireframeAttributes.get(geometry);\n\n        if (currentAttribute) {\n\n            const geometryIndex = geometry.index;\n\n            if (geometryIndex !== null) {\n\n                // if the attribute is obsolete, create a new one\n\n                if (currentAttribute.version < geometryIndex.version) {\n\n                    updateWireframeAttribute(geometry);\n\n                }\n\n            }\n\n        } else {\n\n            updateWireframeAttribute(geometry);\n\n        }\n\n        return wireframeAttributes.get(geometry);\n\n    }\n\n    return {\n\n        get: get,\n        update: update,\n\n        getWireframeAttribute: getWireframeAttribute\n\n    };\n\n}\n\nfunction WebGLIndexedBufferRenderer(gl, extensions, info, capabilities) {\n\n    const isWebGL2 = capabilities.isWebGL2;\n\n    let mode;\n\n    function setMode(value) {\n\n        mode = value;\n\n    }\n\n    let type, bytesPerElement;\n\n    function setIndex(value) {\n\n        type = value.type;\n        bytesPerElement = value.bytesPerElement;\n\n    }\n\n    function render(start, count) {\n\n        gl.drawElements(mode, count, type, start * bytesPerElement);\n\n        info.update(count, mode, 1);\n\n    }\n\n    function renderInstances(start, count, primcount) {\n\n        if (primcount === 0) return;\n\n        let extension, methodName;\n\n        if (isWebGL2) {\n\n            extension = gl;\n            methodName = 'drawElementsInstanced';\n\n        } else {\n\n            extension = extensions.get('ANGLE_instanced_arrays');\n            methodName = 'drawElementsInstancedANGLE';\n\n            if (extension === null) {\n\n                console.error('THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.');\n                return;\n\n            }\n\n        }\n\n        extension[methodName](mode, count, type, start * bytesPerElement, primcount);\n\n        info.update(count, mode, primcount);\n\n    }\n\n    //\n\n    this.setMode = setMode;\n    this.setIndex = setIndex;\n    this.render = render;\n    this.renderInstances = renderInstances;\n\n}\n\nfunction WebGLInfo(gl) {\n\n    const memory = {\n        geometries: 0,\n        textures: 0\n    };\n\n    const render = {\n        frame: 0,\n        calls: 0,\n        triangles: 0,\n        points: 0,\n        lines: 0\n    };\n\n    function update(count, mode, instanceCount) {\n\n        render.calls++;\n\n        switch (mode) {\n\n            case 4:\n                render.triangles += instanceCount * (count / 3);\n                break;\n\n            case 1:\n                render.lines += instanceCount * (count / 2);\n                break;\n\n            case 3:\n                render.lines += instanceCount * (count - 1);\n                break;\n\n            case 2:\n                render.lines += instanceCount * count;\n                break;\n\n            case 0:\n                render.points += instanceCount * count;\n                break;\n\n            default:\n                console.error('THREE.WebGLInfo: Unknown draw mode:', mode);\n                break;\n\n        }\n\n    }\n\n    function reset() {\n\n        render.frame++;\n        render.calls = 0;\n        render.triangles = 0;\n        render.points = 0;\n        render.lines = 0;\n\n    }\n\n    return {\n        memory: memory,\n        render: render,\n        programs: null,\n        autoReset: true,\n        reset: reset,\n        update: update\n    };\n\n}\n\nfunction numericalSort(a, b) {\n\n    return a[0] - b[0];\n\n}\n\nfunction absNumericalSort(a, b) {\n\n    return Math.abs(b[1]) - Math.abs(a[1]);\n\n}\n\nfunction WebGLMorphtargets(gl) {\n\n    const influencesList = {};\n    const morphInfluences = new Float32Array(8);\n\n    const workInfluences = [];\n\n    for (let i = 0; i < 8; i++) {\n\n        workInfluences[i] = [i, 0];\n\n    }\n\n    function update(object, geometry, material, program) {\n\n        const objectInfluences = object.morphTargetInfluences;\n\n        // When object doesn't have morph target influences defined, we treat it as a 0-length array\n        // This is important to make sure we set up morphTargetBaseInfluence / morphTargetInfluences\n\n        const length = objectInfluences === undefined ? 0 : objectInfluences.length;\n\n        let influences = influencesList[geometry.id];\n\n        if (influences === undefined) {\n\n            // initialise list\n\n            influences = [];\n\n            for (let i = 0; i < length; i++) {\n\n                influences[i] = [i, 0];\n\n            }\n\n            influencesList[geometry.id] = influences;\n\n        }\n\n        // Collect influences\n\n        for (let i = 0; i < length; i++) {\n\n            const influence = influences[i];\n\n            influence[0] = i;\n            influence[1] = objectInfluences[i];\n\n        }\n\n        influences.sort(absNumericalSort);\n\n        for (let i = 0; i < 8; i++) {\n\n            if (i < length && influences[i][1]) {\n\n                workInfluences[i][0] = influences[i][0];\n                workInfluences[i][1] = influences[i][1];\n\n            } else {\n\n                workInfluences[i][0] = Number.MAX_SAFE_INTEGER;\n                workInfluences[i][1] = 0;\n\n            }\n\n        }\n\n        workInfluences.sort(numericalSort);\n\n        const morphTargets = material.morphTargets && geometry.morphAttributes.position;\n        const morphNormals = material.morphNormals && geometry.morphAttributes.normal;\n\n        let morphInfluencesSum = 0;\n\n        for (let i = 0; i < 8; i++) {\n\n            const influence = workInfluences[i];\n            const index = influence[0];\n            const value = influence[1];\n\n            if (index !== Number.MAX_SAFE_INTEGER && value) {\n\n                if (morphTargets && geometry.getAttribute('morphTarget' + i) !== morphTargets[index]) {\n\n                    geometry.setAttribute('morphTarget' + i, morphTargets[index]);\n\n                }\n\n                if (morphNormals && geometry.getAttribute('morphNormal' + i) !== morphNormals[index]) {\n\n                    geometry.setAttribute('morphNormal' + i, morphNormals[index]);\n\n                }\n\n                morphInfluences[i] = value;\n                morphInfluencesSum += value;\n\n            } else {\n\n                if (morphTargets && geometry.getAttribute('morphTarget' + i) !== undefined) {\n\n                    geometry.deleteAttribute('morphTarget' + i);\n\n                }\n\n                if (morphNormals && geometry.getAttribute('morphNormal' + i) !== undefined) {\n\n                    geometry.deleteAttribute('morphNormal' + i);\n\n                }\n\n                morphInfluences[i] = 0;\n\n            }\n\n        }\n\n        // GLSL shader uses formula baseinfluence * base + sum(target * influence)\n        // This allows us to switch between absolute morphs and relative morphs without changing shader code\n        // When baseinfluence = 1 - sum(influence), the above is equivalent to sum((target - base) * influence)\n        const morphBaseInfluence = geometry.morphTargetsRelative ? 1 : 1 - morphInfluencesSum;\n\n        program.getUniforms().setValue(gl, 'morphTargetBaseInfluence', morphBaseInfluence);\n        program.getUniforms().setValue(gl, 'morphTargetInfluences', morphInfluences);\n\n    }\n\n    return {\n\n        update: update\n\n    };\n\n}\n\nfunction WebGLObjects(gl, geometries, attributes, info) {\n\n    let updateMap = new WeakMap();\n\n    function update(object) {\n\n        const frame = info.render.frame;\n\n        const geometry = object.geometry;\n        const buffergeometry = geometries.get(object, geometry);\n\n        // Update once per frame\n\n        if (updateMap.get(buffergeometry) !== frame) {\n\n            if (geometry.isGeometry) {\n\n                buffergeometry.updateFromObject(object);\n\n            }\n\n            geometries.update(buffergeometry);\n\n            updateMap.set(buffergeometry, frame);\n\n        }\n\n        if (object.isInstancedMesh) {\n\n            attributes.update(object.instanceMatrix, 34962);\n\n            if (object.instanceColor !== null) {\n\n                attributes.update(object.instanceColor, 34962);\n\n            }\n\n        }\n\n        return buffergeometry;\n\n    }\n\n    function dispose() {\n\n        updateMap = new WeakMap();\n\n    }\n\n    return {\n\n        update: update,\n        dispose: dispose\n\n    };\n\n}\n\nfunction DataTexture2DArray(data, width, height, depth) {\n\n    Texture.call(this, null);\n\n    this.image = {\n        data: data || null,\n        width: width || 1,\n        height: height || 1,\n        depth: depth || 1\n    };\n\n    this.magFilter = NearestFilter;\n    this.minFilter = NearestFilter;\n\n    this.wrapR = ClampToEdgeWrapping;\n\n    this.generateMipmaps = false;\n    this.flipY = false;\n\n    this.needsUpdate = true;\n\n}\n\nDataTexture2DArray.prototype = Object.create(Texture.prototype);\nDataTexture2DArray.prototype.constructor = DataTexture2DArray;\nDataTexture2DArray.prototype.isDataTexture2DArray = true;\n\nfunction DataTexture3D(data, width, height, depth) {\n\n    // We're going to add .setXXX() methods for setting properties later.\n    // Users can still set in DataTexture3D directly.\n    //\n    //\tconst texture = new THREE.DataTexture3D( data, width, height, depth );\n    // \ttexture.anisotropy = 16;\n    //\n    // See #14839\n\n    Texture.call(this, null);\n\n    this.image = {\n        data: data || null,\n        width: width || 1,\n        height: height || 1,\n        depth: depth || 1\n    };\n\n    this.magFilter = NearestFilter;\n    this.minFilter = NearestFilter;\n\n    this.wrapR = ClampToEdgeWrapping;\n\n    this.generateMipmaps = false;\n    this.flipY = false;\n\n    this.needsUpdate = true;\n\n\n}\n\nDataTexture3D.prototype = Object.create(Texture.prototype);\nDataTexture3D.prototype.constructor = DataTexture3D;\nDataTexture3D.prototype.isDataTexture3D = true;\n\n/**\n * Uniforms of a program.\n * Those form a tree structure with a special top-level container for the root,\n * which you get by calling 'new WebGLUniforms( gl, program )'.\n *\n *\n * Properties of inner nodes including the top-level container:\n *\n * .seq - array of nested uniforms\n * .map - nested uniforms by name\n *\n *\n * Methods of all nodes except the top-level container:\n *\n * .setValue( gl, value, [textures] )\n *\n * \t\tuploads a uniform value(s)\n *  \tthe 'textures' parameter is needed for sampler uniforms\n *\n *\n * Static methods of the top-level container (textures factorizations):\n *\n * .upload( gl, seq, values, textures )\n *\n * \t\tsets uniforms in 'seq' to 'values[id].value'\n *\n * .seqWithValue( seq, values ) : filteredSeq\n *\n * \t\tfilters 'seq' entries with corresponding entry in values\n *\n *\n * Methods of the top-level container (textures factorizations):\n *\n * .setValue( gl, name, value, textures )\n *\n * \t\tsets uniform with  name 'name' to 'value'\n *\n * .setOptional( gl, obj, prop )\n *\n * \t\tlike .set for an optional property of the object\n *\n */\n\nconst emptyTexture = new Texture();\nconst emptyTexture2dArray = new DataTexture2DArray();\nconst emptyTexture3d = new DataTexture3D();\nconst emptyCubeTexture = new CubeTexture();\n\n// --- Utilities ---\n\n// Array Caches (provide typed arrays for temporary by size)\n\nconst arrayCacheF32 = [];\nconst arrayCacheI32 = [];\n\n// Float32Array caches used for uploading Matrix uniforms\n\nconst mat4array = new Float32Array(16);\nconst mat3array = new Float32Array(9);\nconst mat2array = new Float32Array(4);\n\n// Flattening for arrays of vectors and matrices\n\nfunction flatten(array, nBlocks, blockSize) {\n\n    const firstElem = array[0];\n\n    if (firstElem <= 0 || firstElem > 0) return array;\n    // unoptimized: ! isNaN( firstElem )\n    // see http://jacksondunstan.com/articles/983\n\n    const n = nBlocks * blockSize;\n    let r = arrayCacheF32[n];\n\n    if (r === undefined) {\n\n        r = new Float32Array(n);\n        arrayCacheF32[n] = r;\n\n    }\n\n    if (nBlocks !== 0) {\n\n        firstElem.toArray(r, 0);\n\n        for (let i = 1, offset = 0; i !== nBlocks; ++i) {\n\n            offset += blockSize;\n            array[i].toArray(r, offset);\n\n        }\n\n    }\n\n    return r;\n\n}\n\nfunction arraysEqual(a, b) {\n\n    if (a.length !== b.length) return false;\n\n    for (let i = 0, l = a.length; i < l; i++) {\n\n        if (a[i] !== b[i]) return false;\n\n    }\n\n    return true;\n\n}\n\nfunction copyArray(a, b) {\n\n    for (let i = 0, l = b.length; i < l; i++) {\n\n        a[i] = b[i];\n\n    }\n\n}\n\n// Texture unit allocation\n\nfunction allocTexUnits(textures, n) {\n\n    let r = arrayCacheI32[n];\n\n    if (r === undefined) {\n\n        r = new Int32Array(n);\n        arrayCacheI32[n] = r;\n\n    }\n\n    for (let i = 0; i !== n; ++i) {\n\n        r[i] = textures.allocateTextureUnit();\n\n    }\n\n    return r;\n\n}\n\n// --- Setters ---\n\n// Note: Defining these methods externally, because they come in a bunch\n// and this way their names minify.\n\n// Single scalar\n\nfunction setValueV1f(gl, v) {\n\n    const cache = this.cache;\n\n    if (cache[0] === v) return;\n\n    gl.uniform1f(this.addr, v);\n\n    cache[0] = v;\n\n}\n\n// Single float vector (from flat array or THREE.VectorN)\n\nfunction setValueV2f(gl, v) {\n\n    const cache = this.cache;\n\n    if (v.x !== undefined) {\n\n        if (cache[0] !== v.x || cache[1] !== v.y) {\n\n            gl.uniform2f(this.addr, v.x, v.y);\n\n            cache[0] = v.x;\n            cache[1] = v.y;\n\n        }\n\n    } else {\n\n        if (arraysEqual(cache, v)) return;\n\n        gl.uniform2fv(this.addr, v);\n\n        copyArray(cache, v);\n\n    }\n\n}\n\nfunction setValueV3f(gl, v) {\n\n    const cache = this.cache;\n\n    if (v.x !== undefined) {\n\n        if (cache[0] !== v.x || cache[1] !== v.y || cache[2] !== v.z) {\n\n            gl.uniform3f(this.addr, v.x, v.y, v.z);\n\n            cache[0] = v.x;\n            cache[1] = v.y;\n            cache[2] = v.z;\n\n        }\n\n    } else if (v.r !== undefined) {\n\n        if (cache[0] !== v.r || cache[1] !== v.g || cache[2] !== v.b) {\n\n            gl.uniform3f(this.addr, v.r, v.g, v.b);\n\n            cache[0] = v.r;\n            cache[1] = v.g;\n            cache[2] = v.b;\n\n        }\n\n    } else {\n\n        if (arraysEqual(cache, v)) return;\n\n        gl.uniform3fv(this.addr, v);\n\n        copyArray(cache, v);\n\n    }\n\n}\n\nfunction setValueV4f(gl, v) {\n\n    const cache = this.cache;\n\n    if (v.x !== undefined) {\n\n        if (cache[0] !== v.x || cache[1] !== v.y || cache[2] !== v.z || cache[3] !== v.w) {\n\n            gl.uniform4f(this.addr, v.x, v.y, v.z, v.w);\n\n            cache[0] = v.x;\n            cache[1] = v.y;\n            cache[2] = v.z;\n            cache[3] = v.w;\n\n        }\n\n    } else {\n\n        if (arraysEqual(cache, v)) return;\n\n        gl.uniform4fv(this.addr, v);\n\n        copyArray(cache, v);\n\n    }\n\n}\n\n// Single matrix (from flat array or MatrixN)\n\nfunction setValueM2(gl, v) {\n\n    const cache = this.cache;\n    const elements = v.elements;\n\n    if (elements === undefined) {\n\n        if (arraysEqual(cache, v)) return;\n\n        gl.uniformMatrix2fv(this.addr, false, v);\n\n        copyArray(cache, v);\n\n    } else {\n\n        if (arraysEqual(cache, elements)) return;\n\n        mat2array.set(elements);\n\n        gl.uniformMatrix2fv(this.addr, false, mat2array);\n\n        copyArray(cache, elements);\n\n    }\n\n}\n\nfunction setValueM3(gl, v) {\n\n    const cache = this.cache;\n    const elements = v.elements;\n\n    if (elements === undefined) {\n\n        if (arraysEqual(cache, v)) return;\n\n        gl.uniformMatrix3fv(this.addr, false, v);\n\n        copyArray(cache, v);\n\n    } else {\n\n        if (arraysEqual(cache, elements)) return;\n\n        mat3array.set(elements);\n\n        gl.uniformMatrix3fv(this.addr, false, mat3array);\n\n        copyArray(cache, elements);\n\n    }\n\n}\n\nfunction setValueM4(gl, v) {\n\n    const cache = this.cache;\n    const elements = v.elements;\n\n    if (elements === undefined) {\n\n        if (arraysEqual(cache, v)) return;\n\n        gl.uniformMatrix4fv(this.addr, false, v);\n\n        copyArray(cache, v);\n\n    } else {\n\n        if (arraysEqual(cache, elements)) return;\n\n        mat4array.set(elements);\n\n        gl.uniformMatrix4fv(this.addr, false, mat4array);\n\n        copyArray(cache, elements);\n\n    }\n\n}\n\n// Single texture (2D / Cube)\n\nfunction setValueT1(gl, v, textures) {\n\n    const cache = this.cache;\n    const unit = textures.allocateTextureUnit();\n\n    if (cache[0] !== unit) {\n\n        gl.uniform1i(this.addr, unit);\n        cache[0] = unit;\n\n    }\n\n    textures.safeSetTexture2D(v || emptyTexture, unit);\n\n}\n\nfunction setValueT2DArray1(gl, v, textures) {\n\n    const cache = this.cache;\n    const unit = textures.allocateTextureUnit();\n\n    if (cache[0] !== unit) {\n\n        gl.uniform1i(this.addr, unit);\n        cache[0] = unit;\n\n    }\n\n    textures.setTexture2DArray(v || emptyTexture2dArray, unit);\n\n}\n\nfunction setValueT3D1(gl, v, textures) {\n\n    const cache = this.cache;\n    const unit = textures.allocateTextureUnit();\n\n    if (cache[0] !== unit) {\n\n        gl.uniform1i(this.addr, unit);\n        cache[0] = unit;\n\n    }\n\n    textures.setTexture3D(v || emptyTexture3d, unit);\n\n}\n\nfunction setValueT6(gl, v, textures) {\n\n    const cache = this.cache;\n    const unit = textures.allocateTextureUnit();\n\n    if (cache[0] !== unit) {\n\n        gl.uniform1i(this.addr, unit);\n        cache[0] = unit;\n\n    }\n\n    textures.safeSetTextureCube(v || emptyCubeTexture, unit);\n\n}\n\n// Integer / Boolean vectors or arrays thereof (always flat arrays)\n\nfunction setValueV1i(gl, v) {\n\n    const cache = this.cache;\n\n    if (cache[0] === v) return;\n\n    gl.uniform1i(this.addr, v);\n\n    cache[0] = v;\n\n}\n\nfunction setValueV2i(gl, v) {\n\n    const cache = this.cache;\n\n    if (arraysEqual(cache, v)) return;\n\n    gl.uniform2iv(this.addr, v);\n\n    copyArray(cache, v);\n\n}\n\nfunction setValueV3i(gl, v) {\n\n    const cache = this.cache;\n\n    if (arraysEqual(cache, v)) return;\n\n    gl.uniform3iv(this.addr, v);\n\n    copyArray(cache, v);\n\n}\n\nfunction setValueV4i(gl, v) {\n\n    const cache = this.cache;\n\n    if (arraysEqual(cache, v)) return;\n\n    gl.uniform4iv(this.addr, v);\n\n    copyArray(cache, v);\n\n}\n\n// uint\n\nfunction setValueV1ui(gl, v) {\n\n    const cache = this.cache;\n\n    if (cache[0] === v) return;\n\n    gl.uniform1ui(this.addr, v);\n\n    cache[0] = v;\n\n}\n\n// Helper to pick the right setter for the singular case\n\nfunction getSingularSetter(type) {\n\n    switch (type) {\n\n        case 0x1406:\n            return setValueV1f; // FLOAT\n        case 0x8b50:\n            return setValueV2f; // _VEC2\n        case 0x8b51:\n            return setValueV3f; // _VEC3\n        case 0x8b52:\n            return setValueV4f; // _VEC4\n\n        case 0x8b5a:\n            return setValueM2; // _MAT2\n        case 0x8b5b:\n            return setValueM3; // _MAT3\n        case 0x8b5c:\n            return setValueM4; // _MAT4\n\n        case 0x1404:\n        case 0x8b56:\n            return setValueV1i; // INT, BOOL\n        case 0x8b53:\n        case 0x8b57:\n            return setValueV2i; // _VEC2\n        case 0x8b54:\n        case 0x8b58:\n            return setValueV3i; // _VEC3\n        case 0x8b55:\n        case 0x8b59:\n            return setValueV4i; // _VEC4\n\n        case 0x1405:\n            return setValueV1ui; // UINT\n\n        case 0x8b5e: // SAMPLER_2D\n        case 0x8d66: // SAMPLER_EXTERNAL_OES\n        case 0x8dca: // INT_SAMPLER_2D\n        case 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n        case 0x8b62: // SAMPLER_2D_SHADOW\n            return setValueT1;\n\n        case 0x8b5f: // SAMPLER_3D\n        case 0x8dcb: // INT_SAMPLER_3D\n        case 0x8dd3: // UNSIGNED_INT_SAMPLER_3D\n            return setValueT3D1;\n\n        case 0x8b60: // SAMPLER_CUBE\n        case 0x8dcc: // INT_SAMPLER_CUBE\n        case 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n        case 0x8dc5: // SAMPLER_CUBE_SHADOW\n            return setValueT6;\n\n        case 0x8dc1: // SAMPLER_2D_ARRAY\n        case 0x8dcf: // INT_SAMPLER_2D_ARRAY\n        case 0x8dd7: // UNSIGNED_INT_SAMPLER_2D_ARRAY\n        case 0x8dc4: // SAMPLER_2D_ARRAY_SHADOW\n            return setValueT2DArray1;\n\n    }\n\n}\n\n// Array of scalars\nfunction setValueV1fArray(gl, v) {\n\n    gl.uniform1fv(this.addr, v);\n\n}\n\n// Integer / Boolean vectors or arrays thereof (always flat arrays)\nfunction setValueV1iArray(gl, v) {\n\n    gl.uniform1iv(this.addr, v);\n\n}\n\nfunction setValueV2iArray(gl, v) {\n\n    gl.uniform2iv(this.addr, v);\n\n}\n\nfunction setValueV3iArray(gl, v) {\n\n    gl.uniform3iv(this.addr, v);\n\n}\n\nfunction setValueV4iArray(gl, v) {\n\n    gl.uniform4iv(this.addr, v);\n\n}\n\n\n// Array of vectors (flat or from THREE classes)\n\nfunction setValueV2fArray(gl, v) {\n\n    const data = flatten(v, this.size, 2);\n\n    gl.uniform2fv(this.addr, data);\n\n}\n\nfunction setValueV3fArray(gl, v) {\n\n    const data = flatten(v, this.size, 3);\n\n    gl.uniform3fv(this.addr, data);\n\n}\n\nfunction setValueV4fArray(gl, v) {\n\n    const data = flatten(v, this.size, 4);\n\n    gl.uniform4fv(this.addr, data);\n\n}\n\n// Array of matrices (flat or from THREE clases)\n\nfunction setValueM2Array(gl, v) {\n\n    const data = flatten(v, this.size, 4);\n\n    gl.uniformMatrix2fv(this.addr, false, data);\n\n}\n\nfunction setValueM3Array(gl, v) {\n\n    const data = flatten(v, this.size, 9);\n\n    gl.uniformMatrix3fv(this.addr, false, data);\n\n}\n\nfunction setValueM4Array(gl, v) {\n\n    const data = flatten(v, this.size, 16);\n\n    gl.uniformMatrix4fv(this.addr, false, data);\n\n}\n\n// Array of textures (2D / Cube)\n\nfunction setValueT1Array(gl, v, textures) {\n\n    const n = v.length;\n\n    const units = allocTexUnits(textures, n);\n\n    gl.uniform1iv(this.addr, units);\n\n    for (let i = 0; i !== n; ++i) {\n\n        textures.safeSetTexture2D(v[i] || emptyTexture, units[i]);\n\n    }\n\n}\n\nfunction setValueT6Array(gl, v, textures) {\n\n    const n = v.length;\n\n    const units = allocTexUnits(textures, n);\n\n    gl.uniform1iv(this.addr, units);\n\n    for (let i = 0; i !== n; ++i) {\n\n        textures.safeSetTextureCube(v[i] || emptyCubeTexture, units[i]);\n\n    }\n\n}\n\n// Helper to pick the right setter for a pure (bottom-level) array\n\nfunction getPureArraySetter(type) {\n\n    switch (type) {\n\n        case 0x1406:\n            return setValueV1fArray; // FLOAT\n        case 0x8b50:\n            return setValueV2fArray; // _VEC2\n        case 0x8b51:\n            return setValueV3fArray; // _VEC3\n        case 0x8b52:\n            return setValueV4fArray; // _VEC4\n\n        case 0x8b5a:\n            return setValueM2Array; // _MAT2\n        case 0x8b5b:\n            return setValueM3Array; // _MAT3\n        case 0x8b5c:\n            return setValueM4Array; // _MAT4\n\n        case 0x1404:\n        case 0x8b56:\n            return setValueV1iArray; // INT, BOOL\n        case 0x8b53:\n        case 0x8b57:\n            return setValueV2iArray; // _VEC2\n        case 0x8b54:\n        case 0x8b58:\n            return setValueV3iArray; // _VEC3\n        case 0x8b55:\n        case 0x8b59:\n            return setValueV4iArray; // _VEC4\n\n        case 0x8b5e: // SAMPLER_2D\n        case 0x8d66: // SAMPLER_EXTERNAL_OES\n        case 0x8dca: // INT_SAMPLER_2D\n        case 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n        case 0x8b62: // SAMPLER_2D_SHADOW\n            return setValueT1Array;\n\n        case 0x8b60: // SAMPLER_CUBE\n        case 0x8dcc: // INT_SAMPLER_CUBE\n        case 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n        case 0x8dc5: // SAMPLER_CUBE_SHADOW\n            return setValueT6Array;\n\n    }\n\n}\n\n// --- Uniform Classes ---\n\nfunction SingleUniform(id, activeInfo, addr) {\n\n    this.id = id;\n    this.addr = addr;\n    this.cache = [];\n    this.setValue = getSingularSetter(activeInfo.type);\n\n    // this.path = activeInfo.name; // DEBUG\n\n}\n\nfunction PureArrayUniform(id, activeInfo, addr) {\n\n    this.id = id;\n    this.addr = addr;\n    this.cache = [];\n    this.size = activeInfo.size;\n    this.setValue = getPureArraySetter(activeInfo.type);\n\n    // this.path = activeInfo.name; // DEBUG\n\n}\n\nPureArrayUniform.prototype.updateCache = function(data) {\n\n    const cache = this.cache;\n\n    if (data instanceof Float32Array && cache.length !== data.length) {\n\n        this.cache = new Float32Array(data.length);\n\n    }\n\n    copyArray(cache, data);\n\n};\n\nfunction StructuredUniform(id) {\n\n    this.id = id;\n\n    this.seq = [];\n    this.map = {};\n\n}\n\nStructuredUniform.prototype.setValue = function(gl, value, textures) {\n\n    const seq = this.seq;\n\n    for (let i = 0, n = seq.length; i !== n; ++i) {\n\n        const u = seq[i];\n        u.setValue(gl, value[u.id], textures);\n\n    }\n\n};\n\n// --- Top-level ---\n\n// Parser - builds up the property tree from the path strings\n\nconst RePathPart = /([\\w\\d_]+)(\\])?(\\[|\\.)?/g;\n\n// extracts\n// \t- the identifier (member name or array index)\n//  - followed by an optional right bracket (found when array index)\n//  - followed by an optional left bracket or dot (type of subscript)\n//\n// Note: These portions can be read in a non-overlapping fashion and\n// allow straightforward parsing of the hierarchy that WebGL encodes\n// in the uniform names.\n\nfunction addUniform(container, uniformObject) {\n\n    container.seq.push(uniformObject);\n    container.map[uniformObject.id] = uniformObject;\n\n}\n\nfunction parseUniform(activeInfo, addr, container) {\n\n    const path = activeInfo.name,\n        pathLength = path.length;\n\n    // reset RegExp object, because of the early exit of a previous run\n    RePathPart.lastIndex = 0;\n\n    while (true) {\n\n        const match = RePathPart.exec(path),\n            matchEnd = RePathPart.lastIndex;\n\n        let id = match[1];\n        const idIsIndex = match[2] === ']',\n            subscript = match[3];\n\n        if (idIsIndex) id = id | 0; // convert to integer\n\n        if (subscript === undefined || subscript === '[' && matchEnd + 2 === pathLength) {\n\n            // bare name or \"pure\" bottom-level array \"[0]\" suffix\n\n            addUniform(container, subscript === undefined ?\n                new SingleUniform(id, activeInfo, addr) :\n                new PureArrayUniform(id, activeInfo, addr));\n\n            break;\n\n        } else {\n\n            // step into inner node / create it in case it doesn't exist\n\n            const map = container.map;\n            let next = map[id];\n\n            if (next === undefined) {\n\n                next = new StructuredUniform(id);\n                addUniform(container, next);\n\n            }\n\n            container = next;\n\n        }\n\n    }\n\n}\n\n// Root Container\n\nfunction WebGLUniforms(gl, program) {\n\n    this.seq = [];\n    this.map = {};\n\n    const n = gl.getProgramParameter(program, 35718);\n\n    for (let i = 0; i < n; ++i) {\n\n        const info = gl.getActiveUniform(program, i),\n            addr = gl.getUniformLocation(program, info.name);\n\n        parseUniform(info, addr, this);\n\n    }\n\n}\n\nWebGLUniforms.prototype.setValue = function(gl, name, value, textures) {\n\n    const u = this.map[name];\n\n    if (u !== undefined) u.setValue(gl, value, textures);\n\n};\n\nWebGLUniforms.prototype.setOptional = function(gl, object, name) {\n\n    const v = object[name];\n\n    if (v !== undefined) this.setValue(gl, name, v);\n\n};\n\n\n// Static interface\n\nWebGLUniforms.upload = function(gl, seq, values, textures) {\n\n    for (let i = 0, n = seq.length; i !== n; ++i) {\n\n        const u = seq[i],\n            v = values[u.id];\n\n        if (v.needsUpdate !== false) {\n\n            // note: always updating when .needsUpdate is undefined\n            u.setValue(gl, v.value, textures);\n\n        }\n\n    }\n\n};\n\nWebGLUniforms.seqWithValue = function(seq, values) {\n\n    const r = [];\n\n    for (let i = 0, n = seq.length; i !== n; ++i) {\n\n        const u = seq[i];\n        if (u.id in values) r.push(u);\n\n    }\n\n    return r;\n\n};\n\nfunction WebGLShader(gl, type, string) {\n\n    const shader = gl.createShader(type);\n\n    gl.shaderSource(shader, string);\n    gl.compileShader(shader);\n\n    return shader;\n\n}\n\nlet programIdCount = 0;\n\nfunction addLineNumbers(string) {\n\n    const lines = string.split('\\n');\n\n    for (let i = 0; i < lines.length; i++) {\n\n        lines[i] = (i + 1) + ': ' + lines[i];\n\n    }\n\n    return lines.join('\\n');\n\n}\n\nfunction getEncodingComponents(encoding) {\n\n    switch (encoding) {\n\n        case LinearEncoding:\n            return ['Linear', '( value )'];\n        case sRGBEncoding:\n            return ['sRGB', '( value )'];\n        case RGBEEncoding:\n            return ['RGBE', '( value )'];\n        case RGBM7Encoding:\n            return ['RGBM', '( value, 7.0 )'];\n        case RGBM16Encoding:\n            return ['RGBM', '( value, 16.0 )'];\n        case RGBDEncoding:\n            return ['RGBD', '( value, 256.0 )'];\n        case GammaEncoding:\n            return ['Gamma', '( value, float( GAMMA_FACTOR ) )'];\n        case LogLuvEncoding:\n            return ['LogLuv', '( value )'];\n        default:\n            console.warn('THREE.WebGLProgram: Unsupported encoding:', encoding);\n            return ['Linear', '( value )'];\n\n    }\n\n}\n\nfunction getShaderErrors(gl, shader, type) {\n\n    const status = gl.getShaderParameter(shader, 35713);\n    const log = gl.getShaderInfoLog(shader).trim();\n\n    if (status && log === '') return '';\n\n    // --enable-privileged-webgl-extension\n    // console.log( '**' + type + '**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );\n\n    const source = gl.getShaderSource(shader);\n\n    return 'THREE.WebGLShader: gl.getShaderInfoLog() ' + type + '\\n' + log + addLineNumbers(source);\n\n}\n\nfunction getTexelDecodingFunction(functionName, encoding) {\n\n    const components = getEncodingComponents(encoding);\n    return 'vec4 ' + functionName + '( vec4 value ) { return ' + components[0] + 'ToLinear' + components[1] + '; }';\n\n}\n\nfunction getTexelEncodingFunction(functionName, encoding) {\n\n    const components = getEncodingComponents(encoding);\n    return 'vec4 ' + functionName + '( vec4 value ) { return LinearTo' + components[0] + components[1] + '; }';\n\n}\n\nfunction getToneMappingFunction(functionName, toneMapping) {\n\n    let toneMappingName;\n\n    switch (toneMapping) {\n\n        case LinearToneMapping:\n            toneMappingName = 'Linear';\n            break;\n\n        case ReinhardToneMapping:\n            toneMappingName = 'Reinhard';\n            break;\n\n        case CineonToneMapping:\n            toneMappingName = 'OptimizedCineon';\n            break;\n\n        case ACESFilmicToneMapping:\n            toneMappingName = 'ACESFilmic';\n            break;\n\n        case CustomToneMapping:\n            toneMappingName = 'Custom';\n            break;\n\n        default:\n            console.warn('THREE.WebGLProgram: Unsupported toneMapping:', toneMapping);\n            toneMappingName = 'Linear';\n\n    }\n\n    return 'vec3 ' + functionName + '( vec3 color ) { return ' + toneMappingName + 'ToneMapping( color ); }';\n\n}\n\nfunction generateExtensions(parameters) {\n\n    const chunks = [\n        (parameters.extensionDerivatives || parameters.envMapCubeUV || parameters.bumpMap || parameters.tangentSpaceNormalMap || parameters.clearcoatNormalMap || parameters.flatShading || parameters.shaderID === 'physical') ? '#extension GL_OES_standard_derivatives : enable' : '',\n        (parameters.extensionFragDepth || parameters.logarithmicDepthBuffer) && parameters.rendererExtensionFragDepth ? '#extension GL_EXT_frag_depth : enable' : '',\n        (parameters.extensionDrawBuffers && parameters.rendererExtensionDrawBuffers) ? '#extension GL_EXT_draw_buffers : require' : '',\n        (parameters.extensionShaderTextureLOD || parameters.envMap) && parameters.rendererExtensionShaderTextureLod ? '#extension GL_EXT_shader_texture_lod : enable' : ''\n    ];\n\n    return chunks.filter(filterEmptyLine).join('\\n');\n\n}\n\nfunction generateDefines(defines) {\n\n    const chunks = [];\n\n    for (const name in defines) {\n\n        const value = defines[name];\n\n        if (value === false) continue;\n\n        chunks.push('#define ' + name + ' ' + value);\n\n    }\n\n    return chunks.join('\\n');\n\n}\n\nfunction fetchAttributeLocations(gl, program) {\n\n    const attributes = {};\n\n    const n = gl.getProgramParameter(program, 35721);\n\n    for (let i = 0; i < n; i++) {\n\n        const info = gl.getActiveAttrib(program, i);\n        const name = info.name;\n\n        // console.log( 'THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:', name, i );\n\n        attributes[name] = gl.getAttribLocation(program, name);\n\n    }\n\n    return attributes;\n\n}\n\nfunction filterEmptyLine(string) {\n\n    return string !== '';\n\n}\n\nfunction replaceLightNums(string, parameters) {\n\n    return string\n        .replace(/NUM_DIR_LIGHTS/g, parameters.numDirLights)\n        .replace(/NUM_SPOT_LIGHTS/g, parameters.numSpotLights)\n        .replace(/NUM_RECT_AREA_LIGHTS/g, parameters.numRectAreaLights)\n        .replace(/NUM_POINT_LIGHTS/g, parameters.numPointLights)\n        .replace(/NUM_HEMI_LIGHTS/g, parameters.numHemiLights)\n        .replace(/NUM_DIR_LIGHT_SHADOWS/g, parameters.numDirLightShadows)\n        .replace(/NUM_SPOT_LIGHT_SHADOWS/g, parameters.numSpotLightShadows)\n        .replace(/NUM_POINT_LIGHT_SHADOWS/g, parameters.numPointLightShadows);\n\n}\n\nfunction replaceClippingPlaneNums(string, parameters) {\n\n    return string\n        .replace(/NUM_CLIPPING_PLANES/g, parameters.numClippingPlanes)\n        .replace(/UNION_CLIPPING_PLANES/g, (parameters.numClippingPlanes - parameters.numClipIntersection));\n\n}\n\n// Resolve Includes\n\nconst includePattern = /^[ \\t]*#include +<([\\w\\d./]+)>/gm;\n\nfunction resolveIncludes(string) {\n\n    return string.replace(includePattern, includeReplacer);\n\n}\n\nfunction includeReplacer(match, include) {\n\n    const string = ShaderChunk[include];\n\n    if (string === undefined) {\n\n        throw new Error('Can not resolve #include <' + include + '>');\n\n    }\n\n    return resolveIncludes(string);\n\n}\n\n// Unroll Loops\n\nconst deprecatedUnrollLoopPattern = /#pragma unroll_loop[\\s]+?for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g;\nconst unrollLoopPattern = /#pragma unroll_loop_start\\s+for\\s*\\(\\s*int\\s+i\\s*=\\s*(\\d+)\\s*;\\s*i\\s*<\\s*(\\d+)\\s*;\\s*i\\s*\\+\\+\\s*\\)\\s*{([\\s\\S]+?)}\\s+#pragma unroll_loop_end/g;\n\nfunction unrollLoops(string) {\n\n    return string\n        .replace(unrollLoopPattern, loopReplacer)\n        .replace(deprecatedUnrollLoopPattern, deprecatedLoopReplacer);\n\n}\n\nfunction deprecatedLoopReplacer(match, start, end, snippet) {\n\n    console.warn('WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead.');\n    return loopReplacer(match, start, end, snippet);\n\n}\n\nfunction loopReplacer(match, start, end, snippet) {\n\n    let string = '';\n\n    for (let i = parseInt(start); i < parseInt(end); i++) {\n\n        string += snippet\n            .replace(/\\[\\s*i\\s*\\]/g, '[ ' + i + ' ]')\n            .replace(/UNROLLED_LOOP_INDEX/g, i);\n\n    }\n\n    return string;\n\n}\n\n//\n\nfunction generatePrecision(parameters) {\n\n    let precisionstring = \"precision \" + parameters.precision + \" float;\\nprecision \" + parameters.precision + \" int;\";\n\n    if (parameters.precision === \"highp\") {\n\n        precisionstring += \"\\n#define HIGH_PRECISION\";\n\n    } else if (parameters.precision === \"mediump\") {\n\n        precisionstring += \"\\n#define MEDIUM_PRECISION\";\n\n    } else if (parameters.precision === \"lowp\") {\n\n        precisionstring += \"\\n#define LOW_PRECISION\";\n\n    }\n\n    return precisionstring;\n\n}\n\nfunction generateShadowMapTypeDefine(parameters) {\n\n    let shadowMapTypeDefine = 'SHADOWMAP_TYPE_BASIC';\n\n    if (parameters.shadowMapType === PCFShadowMap) {\n\n        shadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF';\n\n    } else if (parameters.shadowMapType === PCFSoftShadowMap) {\n\n        shadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF_SOFT';\n\n    } else if (parameters.shadowMapType === VSMShadowMap) {\n\n        shadowMapTypeDefine = 'SHADOWMAP_TYPE_VSM';\n\n    }\n\n    return shadowMapTypeDefine;\n\n}\n\nfunction generateEnvMapTypeDefine(parameters) {\n\n    let envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\n    if (parameters.envMap) {\n\n        switch (parameters.envMapMode) {\n\n            case CubeReflectionMapping:\n            case CubeRefractionMapping:\n                envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n                break;\n\n            case CubeUVReflectionMapping:\n            case CubeUVRefractionMapping:\n                envMapTypeDefine = 'ENVMAP_TYPE_CUBE_UV';\n                break;\n\n        }\n\n    }\n\n    return envMapTypeDefine;\n\n}\n\nfunction generateEnvMapModeDefine(parameters) {\n\n    let envMapModeDefine = 'ENVMAP_MODE_REFLECTION';\n\n    if (parameters.envMap) {\n\n        switch (parameters.envMapMode) {\n\n            case CubeRefractionMapping:\n            case CubeUVRefractionMapping:\n\n                envMapModeDefine = 'ENVMAP_MODE_REFRACTION';\n                break;\n\n        }\n\n    }\n\n    return envMapModeDefine;\n\n}\n\nfunction generateEnvMapBlendingDefine(parameters) {\n\n    let envMapBlendingDefine = 'ENVMAP_BLENDING_NONE';\n\n    if (parameters.envMap) {\n\n        switch (parameters.combine) {\n\n            case MultiplyOperation:\n                envMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n                break;\n\n            case MixOperation:\n                envMapBlendingDefine = 'ENVMAP_BLENDING_MIX';\n                break;\n\n            case AddOperation:\n                envMapBlendingDefine = 'ENVMAP_BLENDING_ADD';\n                break;\n\n        }\n\n    }\n\n    return envMapBlendingDefine;\n\n}\n\nfunction WebGLProgram(renderer, cacheKey, parameters, bindingStates) {\n\n    const gl = renderer.getContext();\n\n    const defines = parameters.defines;\n\n    let vertexShader = parameters.vertexShader;\n    let fragmentShader = parameters.fragmentShader;\n\n    const shadowMapTypeDefine = generateShadowMapTypeDefine(parameters);\n    const envMapTypeDefine = generateEnvMapTypeDefine(parameters);\n    const envMapModeDefine = generateEnvMapModeDefine(parameters);\n    const envMapBlendingDefine = generateEnvMapBlendingDefine(parameters);\n\n\n    const gammaFactorDefine = (renderer.gammaFactor > 0) ? renderer.gammaFactor : 1.0;\n\n    const customExtensions = parameters.isWebGL2 ? '' : generateExtensions(parameters);\n\n    const customDefines = generateDefines(defines);\n\n    const program = gl.createProgram();\n\n    let prefixVertex, prefixFragment;\n    let versionString = parameters.glslVersion ? '#version ' + parameters.glslVersion + \"\\n\" : '';\n\n    if (parameters.isRawShaderMaterial) {\n\n        prefixVertex = [\n\n            customDefines\n\n        ].filter(filterEmptyLine).join('\\n');\n\n        if (prefixVertex.length > 0) {\n\n            prefixVertex += '\\n';\n\n        }\n\n        prefixFragment = [\n\n            customExtensions,\n            customDefines\n\n        ].filter(filterEmptyLine).join('\\n');\n\n        if (prefixFragment.length > 0) {\n\n            prefixFragment += '\\n';\n\n        }\n\n    } else {\n\n        prefixVertex = [\n\n            generatePrecision(parameters),\n\n            '#define SHADER_NAME ' + parameters.shaderName,\n\n            customDefines,\n\n            parameters.instancing ? '#define USE_INSTANCING' : '',\n            parameters.instancingColor ? '#define USE_INSTANCING_COLOR' : '',\n\n            parameters.supportsVertexTextures ? '#define VERTEX_TEXTURES' : '',\n\n            '#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n            '#define MAX_BONES ' + parameters.maxBones,\n            (parameters.useFog && parameters.fog) ? '#define USE_FOG' : '',\n            (parameters.useFog && parameters.fogExp2) ? '#define FOG_EXP2' : '',\n\n            parameters.map ? '#define USE_MAP' : '',\n            parameters.envMap ? '#define USE_ENVMAP' : '',\n            parameters.envMap ? '#define ' + envMapModeDefine : '',\n            parameters.lightMap ? '#define USE_LIGHTMAP' : '',\n            parameters.aoMap ? '#define USE_AOMAP' : '',\n            parameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n            parameters.bumpMap ? '#define USE_BUMPMAP' : '',\n            parameters.normalMap ? '#define USE_NORMALMAP' : '',\n            (parameters.normalMap && parameters.objectSpaceNormalMap) ? '#define OBJECTSPACE_NORMALMAP' : '',\n            (parameters.normalMap && parameters.tangentSpaceNormalMap) ? '#define TANGENTSPACE_NORMALMAP' : '',\n\n            parameters.clearcoatMap ? '#define USE_CLEARCOATMAP' : '',\n            parameters.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '',\n            parameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\n            parameters.displacementMap && parameters.supportsVertexTextures ? '#define USE_DISPLACEMENTMAP' : '',\n            parameters.specularMap ? '#define USE_SPECULARMAP' : '',\n            parameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n            parameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n            parameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n            parameters.transmissionMap ? '#define USE_TRANSMISSIONMAP' : '',\n\n            parameters.vertexTangents ? '#define USE_TANGENT' : '',\n            parameters.vertexColors ? '#define USE_COLOR' : '',\n            parameters.vertexUvs ? '#define USE_UV' : '',\n            parameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '',\n\n            parameters.flatShading ? '#define FLAT_SHADED' : '',\n\n            parameters.skinning ? '#define USE_SKINNING' : '',\n            parameters.useVertexTexture ? '#define BONE_TEXTURE' : '',\n\n            parameters.morphTargets ? '#define USE_MORPHTARGETS' : '',\n            parameters.morphNormals && parameters.flatShading === false ? '#define USE_MORPHNORMALS' : '',\n            parameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n            parameters.flipSided ? '#define FLIP_SIDED' : '',\n\n            parameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n            parameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n            parameters.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '',\n\n            parameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n            (parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n            'uniform mat4 modelMatrix;',\n            'uniform mat4 modelViewMatrix;',\n            'uniform mat4 projectionMatrix;',\n            'uniform mat4 viewMatrix;',\n            'uniform mat3 normalMatrix;',\n            'uniform vec3 cameraPosition;',\n            'uniform bool isOrthographic;',\n\n            '#ifdef USE_INSTANCING',\n\n            '\tattribute mat4 instanceMatrix;',\n\n            '#endif',\n\n            '#ifdef USE_INSTANCING_COLOR',\n\n            '\tattribute vec3 instanceColor;',\n\n            '#endif',\n\n            'attribute vec3 position;',\n            'attribute vec3 normal;',\n            'attribute vec2 uv;',\n\n            '#ifdef USE_TANGENT',\n\n            '\tattribute vec4 tangent;',\n\n            '#endif',\n\n            '#ifdef USE_COLOR',\n\n            '\tattribute vec3 color;',\n\n            '#endif',\n\n            '#ifdef USE_MORPHTARGETS',\n\n            '\tattribute vec3 morphTarget0;',\n            '\tattribute vec3 morphTarget1;',\n            '\tattribute vec3 morphTarget2;',\n            '\tattribute vec3 morphTarget3;',\n\n            '\t#ifdef USE_MORPHNORMALS',\n\n            '\t\tattribute vec3 morphNormal0;',\n            '\t\tattribute vec3 morphNormal1;',\n            '\t\tattribute vec3 morphNormal2;',\n            '\t\tattribute vec3 morphNormal3;',\n\n            '\t#else',\n\n            '\t\tattribute vec3 morphTarget4;',\n            '\t\tattribute vec3 morphTarget5;',\n            '\t\tattribute vec3 morphTarget6;',\n            '\t\tattribute vec3 morphTarget7;',\n\n            '\t#endif',\n\n            '#endif',\n\n            '#ifdef USE_SKINNING',\n\n            '\tattribute vec4 skinIndex;',\n            '\tattribute vec4 skinWeight;',\n\n            '#endif',\n\n            '\\n'\n\n        ].filter(filterEmptyLine).join('\\n');\n\n        prefixFragment = [\n\n            customExtensions,\n\n            generatePrecision(parameters),\n\n            '#define SHADER_NAME ' + parameters.shaderName,\n\n            customDefines,\n\n            parameters.alphaTest ? '#define ALPHATEST ' + parameters.alphaTest + (parameters.alphaTest % 1 ? '' : '.0') : '', // add '.0' if integer\n\n            '#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n            (parameters.useFog && parameters.fog) ? '#define USE_FOG' : '',\n            (parameters.useFog && parameters.fogExp2) ? '#define FOG_EXP2' : '',\n\n            parameters.map ? '#define USE_MAP' : '',\n            parameters.matcap ? '#define USE_MATCAP' : '',\n            parameters.envMap ? '#define USE_ENVMAP' : '',\n            parameters.envMap ? '#define ' + envMapTypeDefine : '',\n            parameters.envMap ? '#define ' + envMapModeDefine : '',\n            parameters.envMap ? '#define ' + envMapBlendingDefine : '',\n            parameters.lightMap ? '#define USE_LIGHTMAP' : '',\n            parameters.aoMap ? '#define USE_AOMAP' : '',\n            parameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n            parameters.bumpMap ? '#define USE_BUMPMAP' : '',\n            parameters.normalMap ? '#define USE_NORMALMAP' : '',\n            (parameters.normalMap && parameters.objectSpaceNormalMap) ? '#define OBJECTSPACE_NORMALMAP' : '',\n            (parameters.normalMap && parameters.tangentSpaceNormalMap) ? '#define TANGENTSPACE_NORMALMAP' : '',\n            parameters.clearcoatMap ? '#define USE_CLEARCOATMAP' : '',\n            parameters.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '',\n            parameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\n            parameters.specularMap ? '#define USE_SPECULARMAP' : '',\n            parameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n            parameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n            parameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\n            parameters.sheen ? '#define USE_SHEEN' : '',\n            parameters.transmissionMap ? '#define USE_TRANSMISSIONMAP' : '',\n\n            parameters.vertexTangents ? '#define USE_TANGENT' : '',\n            parameters.vertexColors || parameters.instancingColor ? '#define USE_COLOR' : '',\n            parameters.vertexUvs ? '#define USE_UV' : '',\n            parameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '',\n\n            parameters.gradientMap ? '#define USE_GRADIENTMAP' : '',\n\n            parameters.flatShading ? '#define FLAT_SHADED' : '',\n\n            parameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n            parameters.flipSided ? '#define FLIP_SIDED' : '',\n\n            parameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n            parameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n            parameters.premultipliedAlpha ? '#define PREMULTIPLIED_ALPHA' : '',\n\n            parameters.physicallyCorrectLights ? '#define PHYSICALLY_CORRECT_LIGHTS' : '',\n\n            parameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n            (parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n            ((parameters.extensionShaderTextureLOD || parameters.envMap) && parameters.rendererExtensionShaderTextureLod) ? '#define TEXTURE_LOD_EXT' : '',\n\n            'uniform mat4 viewMatrix;',\n            'uniform vec3 cameraPosition;',\n            'uniform bool isOrthographic;',\n\n            (parameters.toneMapping !== NoToneMapping) ? '#define TONE_MAPPING' : '',\n            (parameters.toneMapping !== NoToneMapping) ? ShaderChunk['tonemapping_pars_fragment'] : '', // this code is required here because it is used by the toneMapping() function defined below\n            (parameters.toneMapping !== NoToneMapping) ? getToneMappingFunction('toneMapping', parameters.toneMapping) : '',\n\n            parameters.dithering ? '#define DITHERING' : '',\n\n            ShaderChunk['encodings_pars_fragment'], // this code is required here because it is used by the various encoding/decoding function defined below\n            parameters.map ? getTexelDecodingFunction('mapTexelToLinear', parameters.mapEncoding) : '',\n            parameters.matcap ? getTexelDecodingFunction('matcapTexelToLinear', parameters.matcapEncoding) : '',\n            parameters.envMap ? getTexelDecodingFunction('envMapTexelToLinear', parameters.envMapEncoding) : '',\n            parameters.emissiveMap ? getTexelDecodingFunction('emissiveMapTexelToLinear', parameters.emissiveMapEncoding) : '',\n            parameters.lightMap ? getTexelDecodingFunction('lightMapTexelToLinear', parameters.lightMapEncoding) : '',\n            getTexelEncodingFunction('linearToOutputTexel', parameters.outputEncoding),\n\n            parameters.depthPacking ? '#define DEPTH_PACKING ' + parameters.depthPacking : '',\n\n            '\\n'\n\n        ].filter(filterEmptyLine).join('\\n');\n\n    }\n\n    vertexShader = resolveIncludes(vertexShader);\n    vertexShader = replaceLightNums(vertexShader, parameters);\n    vertexShader = replaceClippingPlaneNums(vertexShader, parameters);\n\n    fragmentShader = resolveIncludes(fragmentShader);\n    fragmentShader = replaceLightNums(fragmentShader, parameters);\n    fragmentShader = replaceClippingPlaneNums(fragmentShader, parameters);\n\n    vertexShader = unrollLoops(vertexShader);\n    fragmentShader = unrollLoops(fragmentShader);\n\n    if (parameters.isWebGL2 && parameters.isRawShaderMaterial !== true) {\n\n        // GLSL 3.0 conversion for built-in materials and ShaderMaterial\n\n        versionString = '#version 300 es\\n';\n\n        prefixVertex = [\n            '#define attribute in',\n            '#define varying out',\n            '#define texture2D texture'\n        ].join('\\n') + '\\n' + prefixVertex;\n\n        prefixFragment = [\n            '#define varying in',\n            (parameters.glslVersion === GLSL3) ? '' : 'out highp vec4 pc_fragColor;',\n            (parameters.glslVersion === GLSL3) ? '' : '#define gl_FragColor pc_fragColor',\n            '#define gl_FragDepthEXT gl_FragDepth',\n            '#define texture2D texture',\n            '#define textureCube texture',\n            '#define texture2DProj textureProj',\n            '#define texture2DLodEXT textureLod',\n            '#define texture2DProjLodEXT textureProjLod',\n            '#define textureCubeLodEXT textureLod',\n            '#define texture2DGradEXT textureGrad',\n            '#define texture2DProjGradEXT textureProjGrad',\n            '#define textureCubeGradEXT textureGrad'\n        ].join('\\n') + '\\n' + prefixFragment;\n\n    }\n\n    const vertexGlsl = versionString + prefixVertex + vertexShader;\n    const fragmentGlsl = versionString + prefixFragment + fragmentShader;\n\n    // console.log( '*VERTEX*', vertexGlsl );\n    // console.log( '*FRAGMENT*', fragmentGlsl );\n\n    const glVertexShader = WebGLShader(gl, 35633, vertexGlsl);\n    const glFragmentShader = WebGLShader(gl, 35632, fragmentGlsl);\n\n    gl.attachShader(program, glVertexShader);\n    gl.attachShader(program, glFragmentShader);\n\n    // Force a particular attribute to index 0.\n\n    if (parameters.index0AttributeName !== undefined) {\n\n        gl.bindAttribLocation(program, 0, parameters.index0AttributeName);\n\n    } else if (parameters.morphTargets === true) {\n\n        // programs with morphTargets displace position out of attribute 0\n        gl.bindAttribLocation(program, 0, 'position');\n\n    }\n\n    gl.linkProgram(program);\n\n    // check for link errors\n    if (renderer.debug.checkShaderErrors) {\n\n        const programLog = gl.getProgramInfoLog(program).trim();\n        const vertexLog = gl.getShaderInfoLog(glVertexShader).trim();\n        const fragmentLog = gl.getShaderInfoLog(glFragmentShader).trim();\n\n        let runnable = true;\n        let haveDiagnostics = true;\n\n        if (gl.getProgramParameter(program, 35714) === false) {\n\n            runnable = false;\n\n            const vertexErrors = getShaderErrors(gl, glVertexShader, 'vertex');\n            const fragmentErrors = getShaderErrors(gl, glFragmentShader, 'fragment');\n\n            console.error('THREE.WebGLProgram: shader error: ', gl.getError(), '35715', gl.getProgramParameter(program, 35715), 'gl.getProgramInfoLog', programLog, vertexErrors, fragmentErrors);\n\n        } else if (programLog !== '') {\n\n            console.warn('THREE.WebGLProgram: gl.getProgramInfoLog()', programLog);\n\n        } else if (vertexLog === '' || fragmentLog === '') {\n\n            haveDiagnostics = false;\n\n        }\n\n        if (haveDiagnostics) {\n\n            this.diagnostics = {\n\n                runnable: runnable,\n\n                programLog: programLog,\n\n                vertexShader: {\n\n                    log: vertexLog,\n                    prefix: prefixVertex\n\n                },\n\n                fragmentShader: {\n\n                    log: fragmentLog,\n                    prefix: prefixFragment\n\n                }\n\n            };\n\n        }\n\n    }\n\n    // Clean up\n\n    // Crashes in iOS9 and iOS10. #18402\n    // gl.detachShader( program, glVertexShader );\n    // gl.detachShader( program, glFragmentShader );\n\n    gl.deleteShader(glVertexShader);\n    gl.deleteShader(glFragmentShader);\n\n    // set up caching for uniform locations\n\n    let cachedUniforms;\n\n    this.getUniforms = function() {\n\n        if (cachedUniforms === undefined) {\n\n            cachedUniforms = new WebGLUniforms(gl, program);\n\n        }\n\n        return cachedUniforms;\n\n    };\n\n    // set up caching for attribute locations\n\n    let cachedAttributes;\n\n    this.getAttributes = function() {\n\n        if (cachedAttributes === undefined) {\n\n            cachedAttributes = fetchAttributeLocations(gl, program);\n\n        }\n\n        return cachedAttributes;\n\n    };\n\n    // free resource\n\n    this.destroy = function() {\n\n        bindingStates.releaseStatesOfProgram(this);\n\n        gl.deleteProgram(program);\n        this.program = undefined;\n\n    };\n\n    //\n\n    this.name = parameters.shaderName;\n    this.id = programIdCount++;\n    this.cacheKey = cacheKey;\n    this.usedTimes = 1;\n    this.program = program;\n    this.vertexShader = glVertexShader;\n    this.fragmentShader = glFragmentShader;\n\n    return this;\n\n}\n\nfunction WebGLPrograms(renderer, cubemaps, extensions, capabilities, bindingStates, clipping) {\n\n    const programs = [];\n\n    const isWebGL2 = capabilities.isWebGL2;\n    const logarithmicDepthBuffer = capabilities.logarithmicDepthBuffer;\n    const floatVertexTextures = capabilities.floatVertexTextures;\n    const maxVertexUniforms = capabilities.maxVertexUniforms;\n    const vertexTextures = capabilities.vertexTextures;\n\n    let precision = capabilities.precision;\n\n    const shaderIDs = {\n        MeshDepthMaterial: 'depth',\n        MeshDistanceMaterial: 'distanceRGBA',\n        MeshNormalMaterial: 'normal',\n        MeshBasicMaterial: 'basic',\n        MeshLambertMaterial: 'lambert',\n        MeshPhongMaterial: 'phong',\n        MeshToonMaterial: 'toon',\n        MeshStandardMaterial: 'physical',\n        MeshPhysicalMaterial: 'physical',\n        MeshMatcapMaterial: 'matcap',\n        LineBasicMaterial: 'basic',\n        LineDashedMaterial: 'dashed',\n        PointsMaterial: 'points',\n        ShadowMaterial: 'shadow',\n        SpriteMaterial: 'sprite'\n    };\n\n    const parameterNames = [\n        \"precision\", \"isWebGL2\", \"supportsVertexTextures\", \"outputEncoding\", \"instancing\", \"instancingColor\",\n        \"map\", \"mapEncoding\", \"matcap\", \"matcapEncoding\", \"envMap\", \"envMapMode\", \"envMapEncoding\", \"envMapCubeUV\",\n        \"lightMap\", \"lightMapEncoding\", \"aoMap\", \"emissiveMap\", \"emissiveMapEncoding\", \"bumpMap\", \"normalMap\", \"objectSpaceNormalMap\", \"tangentSpaceNormalMap\", \"clearcoatMap\", \"clearcoatRoughnessMap\", \"clearcoatNormalMap\", \"displacementMap\", \"specularMap\",\n        \"roughnessMap\", \"metalnessMap\", \"gradientMap\",\n        \"alphaMap\", \"combine\", \"vertexColors\", \"vertexTangents\", \"vertexUvs\", \"uvsVertexOnly\", \"fog\", \"useFog\", \"fogExp2\",\n        \"flatShading\", \"sizeAttenuation\", \"logarithmicDepthBuffer\", \"skinning\",\n        \"maxBones\", \"useVertexTexture\", \"morphTargets\", \"morphNormals\",\n        \"maxMorphTargets\", \"maxMorphNormals\", \"premultipliedAlpha\",\n        \"numDirLights\", \"numPointLights\", \"numSpotLights\", \"numHemiLights\", \"numRectAreaLights\",\n        \"numDirLightShadows\", \"numPointLightShadows\", \"numSpotLightShadows\",\n        \"shadowMapEnabled\", \"shadowMapType\", \"toneMapping\", 'physicallyCorrectLights',\n        \"alphaTest\", \"doubleSided\", \"flipSided\", \"numClippingPlanes\", \"numClipIntersection\", \"depthPacking\", \"dithering\",\n        \"sheen\", \"transmissionMap\"\n    ];\n\n    function getMaxBones(object) {\n\n        const skeleton = object.skeleton;\n        const bones = skeleton.bones;\n\n        if (floatVertexTextures) {\n\n            return 1024;\n\n        } else {\n\n            // default for when object is not specified\n            // ( for example when prebuilding shader to be used with multiple objects )\n            //\n            //  - leave some extra space for other uniforms\n            //  - limit here is ANGLE's 254 max uniform vectors\n            //    (up to 54 should be safe)\n\n            const nVertexUniforms = maxVertexUniforms;\n            const nVertexMatrices = Math.floor((nVertexUniforms - 20) / 4);\n\n            const maxBones = Math.min(nVertexMatrices, bones.length);\n\n            if (maxBones < bones.length) {\n\n                console.warn('THREE.WebGLRenderer: Skeleton has ' + bones.length + ' bones. This GPU supports ' + maxBones + '.');\n                return 0;\n\n            }\n\n            return maxBones;\n\n        }\n\n    }\n\n    function getTextureEncodingFromMap(map) {\n\n        let encoding;\n\n        if (!map) {\n\n            encoding = LinearEncoding;\n\n        } else if (map.isTexture) {\n\n            encoding = map.encoding;\n\n        } else if (map.isWebGLRenderTarget) {\n\n            console.warn(\"THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.\");\n            encoding = map.texture.encoding;\n\n        }\n\n        return encoding;\n\n    }\n\n    function getParameters(material, lights, shadows, scene, object) {\n\n        const fog = scene.fog;\n        const environment = material.isMeshStandardMaterial ? scene.environment : null;\n\n        const envMap = cubemaps.get(material.envMap || environment);\n\n        const shaderID = shaderIDs[material.type];\n\n        // heuristics to create shader parameters according to lights in the scene\n        // (not to blow over maxLights budget)\n\n        const maxBones = object.isSkinnedMesh ? getMaxBones(object) : 0;\n\n        if (material.precision !== null) {\n\n            precision = capabilities.getMaxPrecision(material.precision);\n\n            if (precision !== material.precision) {\n\n                console.warn('THREE.WebGLProgram.getParameters:', material.precision, 'not supported, using', precision, 'instead.');\n\n            }\n\n        }\n\n        let vertexShader, fragmentShader;\n\n        if (shaderID) {\n\n            const shader = ShaderLib[shaderID];\n\n            vertexShader = shader.vertexShader;\n            fragmentShader = shader.fragmentShader;\n\n        } else {\n\n            vertexShader = material.vertexShader;\n            fragmentShader = material.fragmentShader;\n\n        }\n\n        const currentRenderTarget = renderer.getRenderTarget();\n\n        const parameters = {\n\n            isWebGL2: isWebGL2,\n\n            shaderID: shaderID,\n            shaderName: material.type,\n\n            vertexShader: vertexShader,\n            fragmentShader: fragmentShader,\n            defines: material.defines,\n\n            isRawShaderMaterial: material.isRawShaderMaterial === true,\n            glslVersion: material.glslVersion,\n\n            precision: precision,\n\n            instancing: object.isInstancedMesh === true,\n            instancingColor: object.isInstancedMesh === true && object.instanceColor !== null,\n\n            supportsVertexTextures: vertexTextures,\n            outputEncoding: (currentRenderTarget !== null) ? getTextureEncodingFromMap(currentRenderTarget.texture) : renderer.outputEncoding,\n            map: !!material.map,\n            mapEncoding: getTextureEncodingFromMap(material.map),\n            matcap: !!material.matcap,\n            matcapEncoding: getTextureEncodingFromMap(material.matcap),\n            envMap: !!envMap,\n            envMapMode: envMap && envMap.mapping,\n            envMapEncoding: getTextureEncodingFromMap(envMap),\n            envMapCubeUV: (!!envMap) && ((envMap.mapping === CubeUVReflectionMapping) || (envMap.mapping === CubeUVRefractionMapping)),\n            lightMap: !!material.lightMap,\n            lightMapEncoding: getTextureEncodingFromMap(material.lightMap),\n            aoMap: !!material.aoMap,\n            emissiveMap: !!material.emissiveMap,\n            emissiveMapEncoding: getTextureEncodingFromMap(material.emissiveMap),\n            bumpMap: !!material.bumpMap,\n            normalMap: !!material.normalMap,\n            objectSpaceNormalMap: material.normalMapType === ObjectSpaceNormalMap,\n            tangentSpaceNormalMap: material.normalMapType === TangentSpaceNormalMap,\n            clearcoatMap: !!material.clearcoatMap,\n            clearcoatRoughnessMap: !!material.clearcoatRoughnessMap,\n            clearcoatNormalMap: !!material.clearcoatNormalMap,\n            displacementMap: !!material.displacementMap,\n            roughnessMap: !!material.roughnessMap,\n            metalnessMap: !!material.metalnessMap,\n            specularMap: !!material.specularMap,\n            alphaMap: !!material.alphaMap,\n\n            gradientMap: !!material.gradientMap,\n\n            sheen: !!material.sheen,\n\n            transmissionMap: !!material.transmissionMap,\n\n            combine: material.combine,\n\n            vertexTangents: (material.normalMap && material.vertexTangents),\n            vertexColors: material.vertexColors,\n            vertexUvs: !!material.map || !!material.bumpMap || !!material.normalMap || !!material.specularMap || !!material.alphaMap || !!material.emissiveMap || !!material.roughnessMap || !!material.metalnessMap || !!material.clearcoatMap || !!material.clearcoatRoughnessMap || !!material.clearcoatNormalMap || !!material.displacementMap || !!material.transmissionMap,\n            uvsVertexOnly: !(!!material.map || !!material.bumpMap || !!material.normalMap || !!material.specularMap || !!material.alphaMap || !!material.emissiveMap || !!material.roughnessMap || !!material.metalnessMap || !!material.clearcoatNormalMap || !!material.transmissionMap) && !!material.displacementMap,\n\n            fog: !!fog,\n            useFog: material.fog,\n            fogExp2: (fog && fog.isFogExp2),\n\n            flatShading: material.flatShading,\n\n            sizeAttenuation: material.sizeAttenuation,\n            logarithmicDepthBuffer: logarithmicDepthBuffer,\n\n            skinning: material.skinning && maxBones > 0,\n            maxBones: maxBones,\n            useVertexTexture: floatVertexTextures,\n\n            morphTargets: material.morphTargets,\n            morphNormals: material.morphNormals,\n            maxMorphTargets: renderer.maxMorphTargets,\n            maxMorphNormals: renderer.maxMorphNormals,\n\n            numDirLights: lights.directional.length,\n            numPointLights: lights.point.length,\n            numSpotLights: lights.spot.length,\n            numRectAreaLights: lights.rectArea.length,\n            numHemiLights: lights.hemi.length,\n\n            numDirLightShadows: lights.directionalShadowMap.length,\n            numPointLightShadows: lights.pointShadowMap.length,\n            numSpotLightShadows: lights.spotShadowMap.length,\n\n            numClippingPlanes: clipping.numPlanes,\n            numClipIntersection: clipping.numIntersection,\n\n            dithering: material.dithering,\n\n            shadowMapEnabled: renderer.shadowMap.enabled && shadows.length > 0,\n            shadowMapType: renderer.shadowMap.type,\n\n            toneMapping: material.toneMapped ? renderer.toneMapping : NoToneMapping,\n            physicallyCorrectLights: renderer.physicallyCorrectLights,\n\n            premultipliedAlpha: material.premultipliedAlpha,\n\n            alphaTest: material.alphaTest,\n            doubleSided: material.side === DoubleSide,\n            flipSided: material.side === BackSide,\n\n            depthPacking: (material.depthPacking !== undefined) ? material.depthPacking : false,\n\n            index0AttributeName: material.index0AttributeName,\n\n            extensionDerivatives: material.extensions && material.extensions.derivatives,\n            extensionFragDepth: material.extensions && material.extensions.fragDepth,\n            extensionDrawBuffers: material.extensions && material.extensions.drawBuffers,\n            extensionShaderTextureLOD: material.extensions && material.extensions.shaderTextureLOD,\n\n            rendererExtensionFragDepth: isWebGL2 || extensions.has('EXT_frag_depth'),\n            rendererExtensionDrawBuffers: isWebGL2 || extensions.has('WEBGL_draw_buffers'),\n            rendererExtensionShaderTextureLod: isWebGL2 || extensions.has('EXT_shader_texture_lod'),\n\n            customProgramCacheKey: material.customProgramCacheKey()\n\n        };\n\n        return parameters;\n\n    }\n\n    function getProgramCacheKey(parameters) {\n\n        const array = [];\n\n        if (parameters.shaderID) {\n\n            array.push(parameters.shaderID);\n\n        } else {\n\n            array.push(parameters.fragmentShader);\n            array.push(parameters.vertexShader);\n\n        }\n\n        if (parameters.defines !== undefined) {\n\n            for (const name in parameters.defines) {\n\n                array.push(name);\n                array.push(parameters.defines[name]);\n\n            }\n\n        }\n\n        if (parameters.isRawShaderMaterial === false) {\n\n            for (let i = 0; i < parameterNames.length; i++) {\n\n                array.push(parameters[parameterNames[i]]);\n\n            }\n\n            array.push(renderer.outputEncoding);\n            array.push(renderer.gammaFactor);\n\n        }\n\n        array.push(parameters.customProgramCacheKey);\n\n        return array.join();\n\n    }\n\n    function getUniforms(material) {\n\n        const shaderID = shaderIDs[material.type];\n        let uniforms;\n\n        if (shaderID) {\n\n            const shader = ShaderLib[shaderID];\n            uniforms = UniformsUtils.clone(shader.uniforms);\n\n        } else {\n\n            uniforms = material.uniforms;\n\n        }\n\n        return uniforms;\n\n    }\n\n    function acquireProgram(parameters, cacheKey) {\n\n        let program;\n\n        // Check if code has been already compiled\n        for (let p = 0, pl = programs.length; p < pl; p++) {\n\n            const preexistingProgram = programs[p];\n\n            if (preexistingProgram.cacheKey === cacheKey) {\n\n                program = preexistingProgram;\n                ++program.usedTimes;\n\n                break;\n\n            }\n\n        }\n\n        if (program === undefined) {\n\n            program = new WebGLProgram(renderer, cacheKey, parameters, bindingStates);\n            programs.push(program);\n\n        }\n\n        return program;\n\n    }\n\n    function releaseProgram(program) {\n\n        if (--program.usedTimes === 0) {\n\n            // Remove from unordered set\n            const i = programs.indexOf(program);\n            programs[i] = programs[programs.length - 1];\n            programs.pop();\n\n            // Free WebGL resources\n            program.destroy();\n\n        }\n\n    }\n\n    return {\n        getParameters: getParameters,\n        getProgramCacheKey: getProgramCacheKey,\n        getUniforms: getUniforms,\n        acquireProgram: acquireProgram,\n        releaseProgram: releaseProgram,\n        // Exposed for resource monitoring & error feedback via renderer.info:\n        programs: programs\n    };\n\n}\n\nfunction WebGLProperties() {\n\n    let properties = new WeakMap();\n\n    function get(object) {\n\n        let map = properties.get(object);\n\n        if (map === undefined) {\n\n            map = {};\n            properties.set(object, map);\n\n        }\n\n        return map;\n\n    }\n\n    function remove(object) {\n\n        properties.delete(object);\n\n    }\n\n    function update(object, key, value) {\n\n        properties.get(object)[key] = value;\n\n    }\n\n    function dispose() {\n\n        properties = new WeakMap();\n\n    }\n\n    return {\n        get: get,\n        remove: remove,\n        update: update,\n        dispose: dispose\n    };\n\n}\n\nfunction painterSortStable(a, b) {\n\n    if (a.groupOrder !== b.groupOrder) {\n\n        return a.groupOrder - b.groupOrder;\n\n    } else if (a.renderOrder !== b.renderOrder) {\n\n        return a.renderOrder - b.renderOrder;\n\n    } else if (a.program !== b.program) {\n\n        return a.program.id - b.program.id;\n\n    } else if (a.material.id !== b.material.id) {\n\n        return a.material.id - b.material.id;\n\n    } else if (a.z !== b.z) {\n\n        return a.z - b.z;\n\n    } else {\n\n        return a.id - b.id;\n\n    }\n\n}\n\nfunction reversePainterSortStable(a, b) {\n\n    if (a.groupOrder !== b.groupOrder) {\n\n        return a.groupOrder - b.groupOrder;\n\n    } else if (a.renderOrder !== b.renderOrder) {\n\n        return a.renderOrder - b.renderOrder;\n\n    } else if (a.z !== b.z) {\n\n        return b.z - a.z;\n\n    } else {\n\n        return a.id - b.id;\n\n    }\n\n}\n\n\nfunction WebGLRenderList(properties) {\n\n    const renderItems = [];\n    let renderItemsIndex = 0;\n\n    const opaque = [];\n    const transparent = [];\n\n    const defaultProgram = {\n        id: -1\n    };\n\n    function init() {\n\n        renderItemsIndex = 0;\n\n        opaque.length = 0;\n        transparent.length = 0;\n\n    }\n\n    function getNextRenderItem(object, geometry, material, groupOrder, z, group) {\n\n        let renderItem = renderItems[renderItemsIndex];\n        const materialProperties = properties.get(material);\n\n        if (renderItem === undefined) {\n\n            renderItem = {\n                id: object.id,\n                object: object,\n                geometry: geometry,\n                material: material,\n                program: materialProperties.program || defaultProgram,\n                groupOrder: groupOrder,\n                renderOrder: object.renderOrder,\n                z: z,\n                group: group\n            };\n\n            renderItems[renderItemsIndex] = renderItem;\n\n        } else {\n\n            renderItem.id = object.id;\n            renderItem.object = object;\n            renderItem.geometry = geometry;\n            renderItem.material = material;\n            renderItem.program = materialProperties.program || defaultProgram;\n            renderItem.groupOrder = groupOrder;\n            renderItem.renderOrder = object.renderOrder;\n            renderItem.z = z;\n            renderItem.group = group;\n\n        }\n\n        renderItemsIndex++;\n\n        return renderItem;\n\n    }\n\n    function push(object, geometry, material, groupOrder, z, group) {\n\n        const renderItem = getNextRenderItem(object, geometry, material, groupOrder, z, group);\n\n        (material.transparent === true ? transparent : opaque).push(renderItem);\n\n    }\n\n    function unshift(object, geometry, material, groupOrder, z, group) {\n\n        const renderItem = getNextRenderItem(object, geometry, material, groupOrder, z, group);\n\n        (material.transparent === true ? transparent : opaque).unshift(renderItem);\n\n    }\n\n    function sort(customOpaqueSort, customTransparentSort) {\n\n        if (opaque.length > 1) opaque.sort(customOpaqueSort || painterSortStable);\n        if (transparent.length > 1) transparent.sort(customTransparentSort || reversePainterSortStable);\n\n    }\n\n    function finish() {\n\n        // Clear references from inactive renderItems in the list\n\n        for (let i = renderItemsIndex, il = renderItems.length; i < il; i++) {\n\n            const renderItem = renderItems[i];\n\n            if (renderItem.id === null) break;\n\n            renderItem.id = null;\n            renderItem.object = null;\n            renderItem.geometry = null;\n            renderItem.material = null;\n            renderItem.program = null;\n            renderItem.group = null;\n\n        }\n\n    }\n\n    return {\n\n        opaque: opaque,\n        transparent: transparent,\n\n        init: init,\n        push: push,\n        unshift: unshift,\n        finish: finish,\n\n        sort: sort\n    };\n\n}\n\nfunction WebGLRenderLists(properties) {\n\n    let lists = new WeakMap();\n\n    function get(scene, camera) {\n\n        const cameras = lists.get(scene);\n        let list;\n\n        if (cameras === undefined) {\n\n            list = new WebGLRenderList(properties);\n            lists.set(scene, new WeakMap());\n            lists.get(scene).set(camera, list);\n\n        } else {\n\n            list = cameras.get(camera);\n            if (list === undefined) {\n\n                list = new WebGLRenderList(properties);\n                cameras.set(camera, list);\n\n            }\n\n        }\n\n        return list;\n\n    }\n\n    function dispose() {\n\n        lists = new WeakMap();\n\n    }\n\n    return {\n        get: get,\n        dispose: dispose\n    };\n\n}\n\nfunction UniformsCache() {\n\n    const lights = {};\n\n    return {\n\n        get: function(light) {\n\n            if (lights[light.id] !== undefined) {\n\n                return lights[light.id];\n\n            }\n\n            let uniforms;\n\n            switch (light.type) {\n\n                case 'DirectionalLight':\n                    uniforms = {\n                        direction: new Vector3(),\n                        color: new Color()\n                    };\n                    break;\n\n                case 'SpotLight':\n                    uniforms = {\n                        position: new Vector3(),\n                        direction: new Vector3(),\n                        color: new Color(),\n                        distance: 0,\n                        coneCos: 0,\n                        penumbraCos: 0,\n                        decay: 0\n                    };\n                    break;\n\n                case 'PointLight':\n                    uniforms = {\n                        position: new Vector3(),\n                        color: new Color(),\n                        distance: 0,\n                        decay: 0\n                    };\n                    break;\n\n                case 'HemisphereLight':\n                    uniforms = {\n                        direction: new Vector3(),\n                        skyColor: new Color(),\n                        groundColor: new Color()\n                    };\n                    break;\n\n                case 'RectAreaLight':\n                    uniforms = {\n                        color: new Color(),\n                        position: new Vector3(),\n                        halfWidth: new Vector3(),\n                        halfHeight: new Vector3()\n                    };\n                    break;\n\n            }\n\n            lights[light.id] = uniforms;\n\n            return uniforms;\n\n        }\n\n    };\n\n}\n\nfunction ShadowUniformsCache() {\n\n    const lights = {};\n\n    return {\n\n        get: function(light) {\n\n            if (lights[light.id] !== undefined) {\n\n                return lights[light.id];\n\n            }\n\n            let uniforms;\n\n            switch (light.type) {\n\n                case 'DirectionalLight':\n                    uniforms = {\n                        shadowBias: 0,\n                        shadowNormalBias: 0,\n                        shadowRadius: 1,\n                        shadowMapSize: new Vector2()\n                    };\n                    break;\n\n                case 'SpotLight':\n                    uniforms = {\n                        shadowBias: 0,\n                        shadowNormalBias: 0,\n                        shadowRadius: 1,\n                        shadowMapSize: new Vector2()\n                    };\n                    break;\n\n                case 'PointLight':\n                    uniforms = {\n                        shadowBias: 0,\n                        shadowNormalBias: 0,\n                        shadowRadius: 1,\n                        shadowMapSize: new Vector2(),\n                        shadowCameraNear: 1,\n                        shadowCameraFar: 1000\n                    };\n                    break;\n\n                    // TODO (abelnation): set RectAreaLight shadow uniforms\n\n            }\n\n            lights[light.id] = uniforms;\n\n            return uniforms;\n\n        }\n\n    };\n\n}\n\n\n\nlet nextVersion = 0;\n\nfunction shadowCastingLightsFirst(lightA, lightB) {\n\n    return (lightB.castShadow ? 1 : 0) - (lightA.castShadow ? 1 : 0);\n\n}\n\nfunction WebGLLights(extensions, capabilities) {\n\n    const cache = new UniformsCache();\n\n    const shadowCache = ShadowUniformsCache();\n\n    const state = {\n\n        version: 0,\n\n        hash: {\n            directionalLength: -1,\n            pointLength: -1,\n            spotLength: -1,\n            rectAreaLength: -1,\n            hemiLength: -1,\n\n            numDirectionalShadows: -1,\n            numPointShadows: -1,\n            numSpotShadows: -1\n        },\n\n        ambient: [0, 0, 0],\n        probe: [],\n        directional: [],\n        directionalShadow: [],\n        directionalShadowMap: [],\n        directionalShadowMatrix: [],\n        spot: [],\n        spotShadow: [],\n        spotShadowMap: [],\n        spotShadowMatrix: [],\n        rectArea: [],\n        rectAreaLTC1: null,\n        rectAreaLTC2: null,\n        point: [],\n        pointShadow: [],\n        pointShadowMap: [],\n        pointShadowMatrix: [],\n        hemi: []\n\n    };\n\n    for (let i = 0; i < 9; i++) state.probe.push(new Vector3());\n\n    const vector3 = new Vector3();\n    const matrix4 = new Matrix4();\n    const matrix42 = new Matrix4();\n\n    function setup(lights, shadows, camera) {\n\n        let r = 0,\n            g = 0,\n            b = 0;\n\n        for (let i = 0; i < 9; i++) state.probe[i].set(0, 0, 0);\n\n        let directionalLength = 0;\n        let pointLength = 0;\n        let spotLength = 0;\n        let rectAreaLength = 0;\n        let hemiLength = 0;\n\n        let numDirectionalShadows = 0;\n        let numPointShadows = 0;\n        let numSpotShadows = 0;\n\n        const viewMatrix = camera.matrixWorldInverse;\n\n        lights.sort(shadowCastingLightsFirst);\n\n        for (let i = 0, l = lights.length; i < l; i++) {\n\n            const light = lights[i];\n\n            const color = light.color;\n            const intensity = light.intensity;\n            const distance = light.distance;\n\n            const shadowMap = (light.shadow && light.shadow.map) ? light.shadow.map.texture : null;\n\n            if (light.isAmbientLight) {\n\n                r += color.r * intensity;\n                g += color.g * intensity;\n                b += color.b * intensity;\n\n            } else if (light.isLightProbe) {\n\n                for (let j = 0; j < 9; j++) {\n\n                    state.probe[j].addScaledVector(light.sh.coefficients[j], intensity);\n\n                }\n\n            } else if (light.isDirectionalLight) {\n\n                const uniforms = cache.get(light);\n\n                uniforms.color.copy(light.color).multiplyScalar(light.intensity);\n                uniforms.direction.setFromMatrixPosition(light.matrixWorld);\n                vector3.setFromMatrixPosition(light.target.matrixWorld);\n                uniforms.direction.sub(vector3);\n                uniforms.direction.transformDirection(viewMatrix);\n\n                if (light.castShadow) {\n\n                    const shadow = light.shadow;\n\n                    const shadowUniforms = shadowCache.get(light);\n\n                    shadowUniforms.shadowBias = shadow.bias;\n                    shadowUniforms.shadowNormalBias = shadow.normalBias;\n                    shadowUniforms.shadowRadius = shadow.radius;\n                    shadowUniforms.shadowMapSize = shadow.mapSize;\n\n                    state.directionalShadow[directionalLength] = shadowUniforms;\n                    state.directionalShadowMap[directionalLength] = shadowMap;\n                    state.directionalShadowMatrix[directionalLength] = light.shadow.matrix;\n\n                    numDirectionalShadows++;\n\n                }\n\n                state.directional[directionalLength] = uniforms;\n\n                directionalLength++;\n\n            } else if (light.isSpotLight) {\n\n                const uniforms = cache.get(light);\n\n                uniforms.position.setFromMatrixPosition(light.matrixWorld);\n                uniforms.position.applyMatrix4(viewMatrix);\n\n                uniforms.color.copy(color).multiplyScalar(intensity);\n                uniforms.distance = distance;\n\n                uniforms.direction.setFromMatrixPosition(light.matrixWorld);\n                vector3.setFromMatrixPosition(light.target.matrixWorld);\n                uniforms.direction.sub(vector3);\n                uniforms.direction.transformDirection(viewMatrix);\n\n                uniforms.coneCos = Math.cos(light.angle);\n                uniforms.penumbraCos = Math.cos(light.angle * (1 - light.penumbra));\n                uniforms.decay = light.decay;\n\n                if (light.castShadow) {\n\n                    const shadow = light.shadow;\n\n                    const shadowUniforms = shadowCache.get(light);\n\n                    shadowUniforms.shadowBias = shadow.bias;\n                    shadowUniforms.shadowNormalBias = shadow.normalBias;\n                    shadowUniforms.shadowRadius = shadow.radius;\n                    shadowUniforms.shadowMapSize = shadow.mapSize;\n\n                    state.spotShadow[spotLength] = shadowUniforms;\n                    state.spotShadowMap[spotLength] = shadowMap;\n                    state.spotShadowMatrix[spotLength] = light.shadow.matrix;\n\n                    numSpotShadows++;\n\n                }\n\n                state.spot[spotLength] = uniforms;\n\n                spotLength++;\n\n            } else if (light.isRectAreaLight) {\n\n                const uniforms = cache.get(light);\n\n                // (a) intensity is the total visible light emitted\n                //uniforms.color.copy( color ).multiplyScalar( intensity / ( light.width * light.height * Math.PI ) );\n\n                // (b) intensity is the brightness of the light\n                uniforms.color.copy(color).multiplyScalar(intensity);\n\n                uniforms.position.setFromMatrixPosition(light.matrixWorld);\n                uniforms.position.applyMatrix4(viewMatrix);\n\n                // extract local rotation of light to derive width/height half vectors\n                matrix42.identity();\n                matrix4.copy(light.matrixWorld);\n                matrix4.premultiply(viewMatrix);\n                matrix42.extractRotation(matrix4);\n\n                uniforms.halfWidth.set(light.width * 0.5, 0.0, 0.0);\n                uniforms.halfHeight.set(0.0, light.height * 0.5, 0.0);\n\n                uniforms.halfWidth.applyMatrix4(matrix42);\n                uniforms.halfHeight.applyMatrix4(matrix42);\n\n                // TODO (abelnation): RectAreaLight distance?\n                // uniforms.distance = distance;\n\n                state.rectArea[rectAreaLength] = uniforms;\n\n                rectAreaLength++;\n\n            } else if (light.isPointLight) {\n\n                const uniforms = cache.get(light);\n\n                uniforms.position.setFromMatrixPosition(light.matrixWorld);\n                uniforms.position.applyMatrix4(viewMatrix);\n\n                uniforms.color.copy(light.color).multiplyScalar(light.intensity);\n                uniforms.distance = light.distance;\n                uniforms.decay = light.decay;\n\n                if (light.castShadow) {\n\n                    const shadow = light.shadow;\n\n                    const shadowUniforms = shadowCache.get(light);\n\n                    shadowUniforms.shadowBias = shadow.bias;\n                    shadowUniforms.shadowNormalBias = shadow.normalBias;\n                    shadowUniforms.shadowRadius = shadow.radius;\n                    shadowUniforms.shadowMapSize = shadow.mapSize;\n                    shadowUniforms.shadowCameraNear = shadow.camera.near;\n                    shadowUniforms.shadowCameraFar = shadow.camera.far;\n\n                    state.pointShadow[pointLength] = shadowUniforms;\n                    state.pointShadowMap[pointLength] = shadowMap;\n                    state.pointShadowMatrix[pointLength] = light.shadow.matrix;\n\n                    numPointShadows++;\n\n                }\n\n                state.point[pointLength] = uniforms;\n\n                pointLength++;\n\n            } else if (light.isHemisphereLight) {\n\n                const uniforms = cache.get(light);\n\n                uniforms.direction.setFromMatrixPosition(light.matrixWorld);\n                uniforms.direction.transformDirection(viewMatrix);\n                uniforms.direction.normalize();\n\n                uniforms.skyColor.copy(light.color).multiplyScalar(intensity);\n                uniforms.groundColor.copy(light.groundColor).multiplyScalar(intensity);\n\n                state.hemi[hemiLength] = uniforms;\n\n                hemiLength++;\n\n            }\n\n        }\n\n        if (rectAreaLength > 0) {\n\n            if (capabilities.isWebGL2) {\n\n                // WebGL 2\n\n                state.rectAreaLTC1 = UniformsLib.LTC_FLOAT_1;\n                state.rectAreaLTC2 = UniformsLib.LTC_FLOAT_2;\n\n            } else {\n\n                // WebGL 1\n\n                if (extensions.has('OES_texture_float_linear') === true) {\n\n                    state.rectAreaLTC1 = UniformsLib.LTC_FLOAT_1;\n                    state.rectAreaLTC2 = UniformsLib.LTC_FLOAT_2;\n\n                } else if (extensions.has('OES_texture_half_float_linear') === true) {\n\n                    state.rectAreaLTC1 = UniformsLib.LTC_HALF_1;\n                    state.rectAreaLTC2 = UniformsLib.LTC_HALF_2;\n\n                } else {\n\n                    console.error('THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.');\n\n                }\n\n            }\n\n        }\n\n        state.ambient[0] = r;\n        state.ambient[1] = g;\n        state.ambient[2] = b;\n\n        const hash = state.hash;\n\n        if (hash.directionalLength !== directionalLength ||\n            hash.pointLength !== pointLength ||\n            hash.spotLength !== spotLength ||\n            hash.rectAreaLength !== rectAreaLength ||\n            hash.hemiLength !== hemiLength ||\n            hash.numDirectionalShadows !== numDirectionalShadows ||\n            hash.numPointShadows !== numPointShadows ||\n            hash.numSpotShadows !== numSpotShadows) {\n\n            state.directional.length = directionalLength;\n            state.spot.length = spotLength;\n            state.rectArea.length = rectAreaLength;\n            state.point.length = pointLength;\n            state.hemi.length = hemiLength;\n\n            state.directionalShadow.length = numDirectionalShadows;\n            state.directionalShadowMap.length = numDirectionalShadows;\n            state.pointShadow.length = numPointShadows;\n            state.pointShadowMap.length = numPointShadows;\n            state.spotShadow.length = numSpotShadows;\n            state.spotShadowMap.length = numSpotShadows;\n            state.directionalShadowMatrix.length = numDirectionalShadows;\n            state.pointShadowMatrix.length = numPointShadows;\n            state.spotShadowMatrix.length = numSpotShadows;\n\n            hash.directionalLength = directionalLength;\n            hash.pointLength = pointLength;\n            hash.spotLength = spotLength;\n            hash.rectAreaLength = rectAreaLength;\n            hash.hemiLength = hemiLength;\n\n            hash.numDirectionalShadows = numDirectionalShadows;\n            hash.numPointShadows = numPointShadows;\n            hash.numSpotShadows = numSpotShadows;\n\n            state.version = nextVersion++;\n\n        }\n\n    }\n\n    return {\n        setup: setup,\n        state: state\n    };\n\n}\n\nfunction WebGLRenderState(extensions, capabilities) {\n\n    const lights = new WebGLLights(extensions, capabilities);\n\n    const lightsArray = [];\n    const shadowsArray = [];\n\n    function init() {\n\n        lightsArray.length = 0;\n        shadowsArray.length = 0;\n\n    }\n\n    function pushLight(light) {\n\n        lightsArray.push(light);\n\n    }\n\n    function pushShadow(shadowLight) {\n\n        shadowsArray.push(shadowLight);\n\n    }\n\n    function setupLights(camera) {\n\n        lights.setup(lightsArray, shadowsArray, camera);\n\n    }\n\n    const state = {\n        lightsArray: lightsArray,\n        shadowsArray: shadowsArray,\n\n        lights: lights\n    };\n\n    return {\n        init: init,\n        state: state,\n        setupLights: setupLights,\n\n        pushLight: pushLight,\n        pushShadow: pushShadow\n    };\n\n}\n\nfunction WebGLRenderStates(extensions, capabilities) {\n\n    let renderStates = new WeakMap();\n\n    function get(scene, camera) {\n\n        let renderState;\n\n        if (renderStates.has(scene) === false) {\n\n            renderState = new WebGLRenderState(extensions, capabilities);\n            renderStates.set(scene, new WeakMap());\n            renderStates.get(scene).set(camera, renderState);\n\n        } else {\n\n            if (renderStates.get(scene).has(camera) === false) {\n\n                renderState = new WebGLRenderState(extensions, capabilities);\n                renderStates.get(scene).set(camera, renderState);\n\n            } else {\n\n                renderState = renderStates.get(scene).get(camera);\n\n            }\n\n        }\n\n        return renderState;\n\n    }\n\n    function dispose() {\n\n        renderStates = new WeakMap();\n\n    }\n\n    return {\n        get: get,\n        dispose: dispose\n    };\n\n}\n\n/**\n * parameters = {\n *\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n * }\n */\n\nfunction MeshDepthMaterial(parameters) {\n\n    Material.call(this);\n\n    this.type = 'MeshDepthMaterial';\n\n    this.depthPacking = BasicDepthPacking;\n\n    this.skinning = false;\n    this.morphTargets = false;\n\n    this.map = null;\n\n    this.alphaMap = null;\n\n    this.displacementMap = null;\n    this.displacementScale = 1;\n    this.displacementBias = 0;\n\n    this.wireframe = false;\n    this.wireframeLinewidth = 1;\n\n    this.fog = false;\n\n    this.setValues(parameters);\n\n}\n\nMeshDepthMaterial.prototype = Object.create(Material.prototype);\nMeshDepthMaterial.prototype.constructor = MeshDepthMaterial;\n\nMeshDepthMaterial.prototype.isMeshDepthMaterial = true;\n\nMeshDepthMaterial.prototype.copy = function(source) {\n\n    Material.prototype.copy.call(this, source);\n\n    this.depthPacking = source.depthPacking;\n\n    this.skinning = source.skinning;\n    this.morphTargets = source.morphTargets;\n\n    this.map = source.map;\n\n    this.alphaMap = source.alphaMap;\n\n    this.displacementMap = source.displacementMap;\n    this.displacementScale = source.displacementScale;\n    this.displacementBias = source.displacementBias;\n\n    this.wireframe = source.wireframe;\n    this.wireframeLinewidth = source.wireframeLinewidth;\n\n    return this;\n\n};\n\n/**\n * parameters = {\n *\n *  referencePosition: <float>,\n *  nearDistance: <float>,\n *  farDistance: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>\n *\n * }\n */\n\nfunction MeshDistanceMaterial(parameters) {\n\n    Material.call(this);\n\n    this.type = 'MeshDistanceMaterial';\n\n    this.referencePosition = new Vector3();\n    this.nearDistance = 1;\n    this.farDistance = 1000;\n\n    this.skinning = false;\n    this.morphTargets = false;\n\n    this.map = null;\n\n    this.alphaMap = null;\n\n    this.displacementMap = null;\n    this.displacementScale = 1;\n    this.displacementBias = 0;\n\n    this.fog = false;\n\n    this.setValues(parameters);\n\n}\n\nMeshDistanceMaterial.prototype = Object.create(Material.prototype);\nMeshDistanceMaterial.prototype.constructor = MeshDistanceMaterial;\n\nMeshDistanceMaterial.prototype.isMeshDistanceMaterial = true;\n\nMeshDistanceMaterial.prototype.copy = function(source) {\n\n    Material.prototype.copy.call(this, source);\n\n    this.referencePosition.copy(source.referencePosition);\n    this.nearDistance = source.nearDistance;\n    this.farDistance = source.farDistance;\n\n    this.skinning = source.skinning;\n    this.morphTargets = source.morphTargets;\n\n    this.map = source.map;\n\n    this.alphaMap = source.alphaMap;\n\n    this.displacementMap = source.displacementMap;\n    this.displacementScale = source.displacementScale;\n    this.displacementBias = source.displacementBias;\n\n    return this;\n\n};\n\nvar vsm_frag = \"uniform sampler2D shadow_pass;\\nuniform vec2 resolution;\\nuniform float radius;\\n#include <packing>\\nvoid main() {\\n\\tfloat mean = 0.0;\\n\\tfloat squared_mean = 0.0;\\n\\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\\n\\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\\n\\t\\t#ifdef HORIZONAL_PASS\\n\\t\\t\\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\\n\\t\\t\\tmean += distribution.x;\\n\\t\\t\\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\\n\\t\\t#else\\n\\t\\t\\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\\n\\t\\t\\tmean += depth;\\n\\t\\t\\tsquared_mean += depth * depth;\\n\\t\\t#endif\\n\\t}\\n\\tmean = mean * HALF_SAMPLE_RATE;\\n\\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\\n\\tfloat std_dev = sqrt( squared_mean - mean * mean );\\n\\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\\n}\";\n\nvar vsm_vert = \"void main() {\\n\\tgl_Position = vec4( position, 1.0 );\\n}\";\n\nfunction WebGLShadowMap(_renderer, _objects, maxTextureSize) {\n\n    let _frustum = new Frustum();\n\n    const _shadowMapSize = new Vector2(),\n        _viewportSize = new Vector2(),\n\n        _viewport = new Vector4(),\n\n        _depthMaterials = [],\n        _distanceMaterials = [],\n\n        _materialCache = {};\n\n    const shadowSide = {\n        0: BackSide,\n        1: FrontSide,\n        2: DoubleSide\n    };\n\n    const shadowMaterialVertical = new ShaderMaterial({\n\n        defines: {\n            SAMPLE_RATE: 2.0 / 8.0,\n            HALF_SAMPLE_RATE: 1.0 / 8.0\n        },\n\n        uniforms: {\n            shadow_pass: {\n                value: null\n            },\n            resolution: {\n                value: new Vector2()\n            },\n            radius: {\n                value: 4.0\n            }\n        },\n\n        vertexShader: vsm_vert,\n\n        fragmentShader: vsm_frag\n\n    });\n\n    const shadowMaterialHorizonal = shadowMaterialVertical.clone();\n    shadowMaterialHorizonal.defines.HORIZONAL_PASS = 1;\n\n    const fullScreenTri = new BufferGeometry();\n    fullScreenTri.setAttribute(\n        \"position\",\n        new BufferAttribute(\n            new Float32Array([-1, -1, 0.5, 3, -1, 0.5, -1, 3, 0.5]),\n            3\n        )\n    );\n\n    const fullScreenMesh = new Mesh(fullScreenTri, shadowMaterialVertical);\n\n    const scope = this;\n\n    this.enabled = false;\n\n    this.autoUpdate = true;\n    this.needsUpdate = false;\n\n    this.type = PCFShadowMap;\n\n    this.render = function(lights, scene, camera) {\n\n        if (scope.enabled === false) return;\n        if (scope.autoUpdate === false && scope.needsUpdate === false) return;\n\n        if (lights.length === 0) return;\n\n        const currentRenderTarget = _renderer.getRenderTarget();\n        const activeCubeFace = _renderer.getActiveCubeFace();\n        const activeMipmapLevel = _renderer.getActiveMipmapLevel();\n\n        const _state = _renderer.state;\n\n        // Set GL state for depth map.\n        _state.setBlending(NoBlending);\n        _state.buffers.color.setClear(1, 1, 1, 1);\n        _state.buffers.depth.setTest(true);\n        _state.setScissorTest(false);\n\n        // render depth map\n\n        for (let i = 0, il = lights.length; i < il; i++) {\n\n            const light = lights[i];\n            const shadow = light.shadow;\n\n            if (shadow === undefined) {\n\n                console.warn('THREE.WebGLShadowMap:', light, 'has no shadow.');\n                continue;\n\n            }\n\n            if (shadow.autoUpdate === false && shadow.needsUpdate === false) continue;\n\n            _shadowMapSize.copy(shadow.mapSize);\n\n            const shadowFrameExtents = shadow.getFrameExtents();\n\n            _shadowMapSize.multiply(shadowFrameExtents);\n\n            _viewportSize.copy(shadow.mapSize);\n\n            if (_shadowMapSize.x > maxTextureSize || _shadowMapSize.y > maxTextureSize) {\n\n                if (_shadowMapSize.x > maxTextureSize) {\n\n                    _viewportSize.x = Math.floor(maxTextureSize / shadowFrameExtents.x);\n                    _shadowMapSize.x = _viewportSize.x * shadowFrameExtents.x;\n                    shadow.mapSize.x = _viewportSize.x;\n\n                }\n\n                if (_shadowMapSize.y > maxTextureSize) {\n\n                    _viewportSize.y = Math.floor(maxTextureSize / shadowFrameExtents.y);\n                    _shadowMapSize.y = _viewportSize.y * shadowFrameExtents.y;\n                    shadow.mapSize.y = _viewportSize.y;\n\n                }\n\n            }\n\n            if (shadow.map === null && !shadow.isPointLightShadow && this.type === VSMShadowMap) {\n\n                const pars = {\n                    minFilter: LinearFilter,\n                    magFilter: LinearFilter,\n                    format: RGBAFormat\n                };\n\n                shadow.map = new WebGLRenderTarget(_shadowMapSize.x, _shadowMapSize.y, pars);\n                shadow.map.texture.name = light.name + \".shadowMap\";\n\n                shadow.mapPass = new WebGLRenderTarget(_shadowMapSize.x, _shadowMapSize.y, pars);\n\n                shadow.camera.updateProjectionMatrix();\n\n            }\n\n            if (shadow.map === null) {\n\n                const pars = {\n                    minFilter: NearestFilter,\n                    magFilter: NearestFilter,\n                    format: RGBAFormat\n                };\n\n                shadow.map = new WebGLRenderTarget(_shadowMapSize.x, _shadowMapSize.y, pars);\n                shadow.map.texture.name = light.name + \".shadowMap\";\n\n                shadow.camera.updateProjectionMatrix();\n\n            }\n\n            _renderer.setRenderTarget(shadow.map);\n            _renderer.clear();\n\n            const viewportCount = shadow.getViewportCount();\n\n            for (let vp = 0; vp < viewportCount; vp++) {\n\n                const viewport = shadow.getViewport(vp);\n\n                _viewport.set(\n                    _viewportSize.x * viewport.x,\n                    _viewportSize.y * viewport.y,\n                    _viewportSize.x * viewport.z,\n                    _viewportSize.y * viewport.w\n                );\n\n                _state.viewport(_viewport);\n\n                shadow.updateMatrices(light, vp);\n\n                _frustum = shadow.getFrustum();\n\n                renderObject(scene, camera, shadow.camera, light, this.type);\n\n            }\n\n            // do blur pass for VSM\n\n            if (!shadow.isPointLightShadow && this.type === VSMShadowMap) {\n\n                VSMPass(shadow, camera);\n\n            }\n\n            shadow.needsUpdate = false;\n\n        }\n\n        scope.needsUpdate = false;\n\n        _renderer.setRenderTarget(currentRenderTarget, activeCubeFace, activeMipmapLevel);\n\n    };\n\n    function VSMPass(shadow, camera) {\n\n        const geometry = _objects.update(fullScreenMesh);\n\n        // vertical pass\n\n        shadowMaterialVertical.uniforms.shadow_pass.value = shadow.map.texture;\n        shadowMaterialVertical.uniforms.resolution.value = shadow.mapSize;\n        shadowMaterialVertical.uniforms.radius.value = shadow.radius;\n        _renderer.setRenderTarget(shadow.mapPass);\n        _renderer.clear();\n        _renderer.renderBufferDirect(camera, null, geometry, shadowMaterialVertical, fullScreenMesh, null);\n\n        // horizonal pass\n\n        shadowMaterialHorizonal.uniforms.shadow_pass.value = shadow.mapPass.texture;\n        shadowMaterialHorizonal.uniforms.resolution.value = shadow.mapSize;\n        shadowMaterialHorizonal.uniforms.radius.value = shadow.radius;\n        _renderer.setRenderTarget(shadow.map);\n        _renderer.clear();\n        _renderer.renderBufferDirect(camera, null, geometry, shadowMaterialHorizonal, fullScreenMesh, null);\n\n    }\n\n    function getDepthMaterialVariant(useMorphing, useSkinning, useInstancing) {\n\n        const index = useMorphing << 0 | useSkinning << 1 | useInstancing << 2;\n\n        let material = _depthMaterials[index];\n\n        if (material === undefined) {\n\n            material = new MeshDepthMaterial({\n\n                depthPacking: RGBADepthPacking,\n\n                morphTargets: useMorphing,\n                skinning: useSkinning\n\n            });\n\n            _depthMaterials[index] = material;\n\n        }\n\n        return material;\n\n    }\n\n    function getDistanceMaterialVariant(useMorphing, useSkinning, useInstancing) {\n\n        const index = useMorphing << 0 | useSkinning << 1 | useInstancing << 2;\n\n        let material = _distanceMaterials[index];\n\n        if (material === undefined) {\n\n            material = new MeshDistanceMaterial({\n\n                morphTargets: useMorphing,\n                skinning: useSkinning\n\n            });\n\n            _distanceMaterials[index] = material;\n\n        }\n\n        return material;\n\n    }\n\n    function getDepthMaterial(object, geometry, material, light, shadowCameraNear, shadowCameraFar, type) {\n\n        let result = null;\n\n        let getMaterialVariant = getDepthMaterialVariant;\n        let customMaterial = object.customDepthMaterial;\n\n        if (light.isPointLight === true) {\n\n            getMaterialVariant = getDistanceMaterialVariant;\n            customMaterial = object.customDistanceMaterial;\n\n        }\n\n        if (customMaterial === undefined) {\n\n            let useMorphing = false;\n\n            if (material.morphTargets === true) {\n\n                useMorphing = geometry.morphAttributes && geometry.morphAttributes.position && geometry.morphAttributes.position.length > 0;\n\n            }\n\n            let useSkinning = false;\n\n            if (object.isSkinnedMesh === true) {\n\n                if (material.skinning === true) {\n\n                    useSkinning = true;\n\n                } else {\n\n                    console.warn('THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:', object);\n\n                }\n\n            }\n\n            const useInstancing = object.isInstancedMesh === true;\n\n            result = getMaterialVariant(useMorphing, useSkinning, useInstancing);\n\n        } else {\n\n            result = customMaterial;\n\n        }\n\n        if (_renderer.localClippingEnabled &&\n            material.clipShadows === true &&\n            material.clippingPlanes.length !== 0) {\n\n            // in this case we need a unique material instance reflecting the\n            // appropriate state\n\n            const keyA = result.uuid,\n                keyB = material.uuid;\n\n            let materialsForVariant = _materialCache[keyA];\n\n            if (materialsForVariant === undefined) {\n\n                materialsForVariant = {};\n                _materialCache[keyA] = materialsForVariant;\n\n            }\n\n            let cachedMaterial = materialsForVariant[keyB];\n\n            if (cachedMaterial === undefined) {\n\n                cachedMaterial = result.clone();\n                materialsForVariant[keyB] = cachedMaterial;\n\n            }\n\n            result = cachedMaterial;\n\n        }\n\n        result.visible = material.visible;\n        result.wireframe = material.wireframe;\n\n        if (type === VSMShadowMap) {\n\n            result.side = (material.shadowSide !== null) ? material.shadowSide : material.side;\n\n        } else {\n\n            result.side = (material.shadowSide !== null) ? material.shadowSide : shadowSide[material.side];\n\n        }\n\n        result.clipShadows = material.clipShadows;\n        result.clippingPlanes = material.clippingPlanes;\n        result.clipIntersection = material.clipIntersection;\n\n        result.wireframeLinewidth = material.wireframeLinewidth;\n        result.linewidth = material.linewidth;\n\n        if (light.isPointLight === true && result.isMeshDistanceMaterial === true) {\n\n            result.referencePosition.setFromMatrixPosition(light.matrixWorld);\n            result.nearDistance = shadowCameraNear;\n            result.farDistance = shadowCameraFar;\n\n        }\n\n        return result;\n\n    }\n\n    function renderObject(object, camera, shadowCamera, light, type) {\n\n        if (object.visible === false) return;\n\n        const visible = object.layers.test(camera.layers);\n\n        if (visible && (object.isMesh || object.isLine || object.isPoints)) {\n\n            if ((object.castShadow || (object.receiveShadow && type === VSMShadowMap)) && (!object.frustumCulled || _frustum.intersectsObject(object))) {\n\n                object.modelViewMatrix.multiplyMatrices(shadowCamera.matrixWorldInverse, object.matrixWorld);\n\n                const geometry = _objects.update(object);\n                const material = object.material;\n\n                if (Array.isArray(material)) {\n\n                    const groups = geometry.groups;\n\n                    for (let k = 0, kl = groups.length; k < kl; k++) {\n\n                        const group = groups[k];\n                        const groupMaterial = material[group.materialIndex];\n\n                        if (groupMaterial && groupMaterial.visible) {\n\n                            const depthMaterial = getDepthMaterial(object, geometry, groupMaterial, light, shadowCamera.near, shadowCamera.far, type);\n\n                            _renderer.renderBufferDirect(shadowCamera, null, geometry, depthMaterial, object, group);\n\n                        }\n\n                    }\n\n                } else if (material.visible) {\n\n                    const depthMaterial = getDepthMaterial(object, geometry, material, light, shadowCamera.near, shadowCamera.far, type);\n\n                    _renderer.renderBufferDirect(shadowCamera, null, geometry, depthMaterial, object, null);\n\n                }\n\n            }\n\n        }\n\n        const children = object.children;\n\n        for (let i = 0, l = children.length; i < l; i++) {\n\n            renderObject(children[i], camera, shadowCamera, light, type);\n\n        }\n\n    }\n\n}\n\nfunction WebGLState(gl, extensions, capabilities) {\n\n    const isWebGL2 = capabilities.isWebGL2;\n\n    function ColorBuffer() {\n\n        let locked = false;\n\n        const color = new Vector4();\n        let currentColorMask = null;\n        const currentColorClear = new Vector4(0, 0, 0, 0);\n\n        return {\n\n            setMask: function(colorMask) {\n\n                if (currentColorMask !== colorMask && !locked) {\n\n                    gl.colorMask(colorMask, colorMask, colorMask, colorMask);\n                    currentColorMask = colorMask;\n\n                }\n\n            },\n\n            setLocked: function(lock) {\n\n                locked = lock;\n\n            },\n\n            setClear: function(r, g, b, a, premultipliedAlpha) {\n\n                if (premultipliedAlpha === true) {\n\n                    r *= a;\n                    g *= a;\n                    b *= a;\n\n                }\n\n                color.set(r, g, b, a);\n\n                if (currentColorClear.equals(color) === false) {\n\n                    gl.clearColor(r, g, b, a);\n                    currentColorClear.copy(color);\n\n                }\n\n            },\n\n            reset: function() {\n\n                locked = false;\n\n                currentColorMask = null;\n                currentColorClear.set(-1, 0, 0, 0); // set to invalid state\n\n            }\n\n        };\n\n    }\n\n    function DepthBuffer() {\n\n        let locked = false;\n\n        let currentDepthMask = null;\n        let currentDepthFunc = null;\n        let currentDepthClear = null;\n\n        return {\n\n            setTest: function(depthTest) {\n\n                if (depthTest) {\n\n                    enable(2929);\n\n                } else {\n\n                    disable(2929);\n\n                }\n\n            },\n\n            setMask: function(depthMask) {\n\n                if (currentDepthMask !== depthMask && !locked) {\n\n                    gl.depthMask(depthMask);\n                    currentDepthMask = depthMask;\n\n                }\n\n            },\n\n            setFunc: function(depthFunc) {\n\n                if (currentDepthFunc !== depthFunc) {\n\n                    if (depthFunc) {\n\n                        switch (depthFunc) {\n\n                            case NeverDepth:\n\n                                gl.depthFunc(512);\n                                break;\n\n                            case AlwaysDepth:\n\n                                gl.depthFunc(519);\n                                break;\n\n                            case LessDepth:\n\n                                gl.depthFunc(513);\n                                break;\n\n                            case LessEqualDepth:\n\n                                gl.depthFunc(515);\n                                break;\n\n                            case EqualDepth:\n\n                                gl.depthFunc(514);\n                                break;\n\n                            case GreaterEqualDepth:\n\n                                gl.depthFunc(518);\n                                break;\n\n                            case GreaterDepth:\n\n                                gl.depthFunc(516);\n                                break;\n\n                            case NotEqualDepth:\n\n                                gl.depthFunc(517);\n                                break;\n\n                            default:\n\n                                gl.depthFunc(515);\n\n                        }\n\n                    } else {\n\n                        gl.depthFunc(515);\n\n                    }\n\n                    currentDepthFunc = depthFunc;\n\n                }\n\n            },\n\n            setLocked: function(lock) {\n\n                locked = lock;\n\n            },\n\n            setClear: function(depth) {\n\n                if (currentDepthClear !== depth) {\n\n                    gl.clearDepth(depth);\n                    currentDepthClear = depth;\n\n                }\n\n            },\n\n            reset: function() {\n\n                locked = false;\n\n                currentDepthMask = null;\n                currentDepthFunc = null;\n                currentDepthClear = null;\n\n            }\n\n        };\n\n    }\n\n    function StencilBuffer() {\n\n        let locked = false;\n\n        let currentStencilMask = null;\n        let currentStencilFunc = null;\n        let currentStencilRef = null;\n        let currentStencilFuncMask = null;\n        let currentStencilFail = null;\n        let currentStencilZFail = null;\n        let currentStencilZPass = null;\n        let currentStencilClear = null;\n\n        return {\n\n            setTest: function(stencilTest) {\n\n                if (!locked) {\n\n                    if (stencilTest) {\n\n                        enable(2960);\n\n                    } else {\n\n                        disable(2960);\n\n                    }\n\n                }\n\n            },\n\n            setMask: function(stencilMask) {\n\n                if (currentStencilMask !== stencilMask && !locked) {\n\n                    gl.stencilMask(stencilMask);\n                    currentStencilMask = stencilMask;\n\n                }\n\n            },\n\n            setFunc: function(stencilFunc, stencilRef, stencilMask) {\n\n                if (currentStencilFunc !== stencilFunc ||\n                    currentStencilRef !== stencilRef ||\n                    currentStencilFuncMask !== stencilMask) {\n\n                    gl.stencilFunc(stencilFunc, stencilRef, stencilMask);\n\n                    currentStencilFunc = stencilFunc;\n                    currentStencilRef = stencilRef;\n                    currentStencilFuncMask = stencilMask;\n\n                }\n\n            },\n\n            setOp: function(stencilFail, stencilZFail, stencilZPass) {\n\n                if (currentStencilFail !== stencilFail ||\n                    currentStencilZFail !== stencilZFail ||\n                    currentStencilZPass !== stencilZPass) {\n\n                    gl.stencilOp(stencilFail, stencilZFail, stencilZPass);\n\n                    currentStencilFail = stencilFail;\n                    currentStencilZFail = stencilZFail;\n                    currentStencilZPass = stencilZPass;\n\n                }\n\n            },\n\n            setLocked: function(lock) {\n\n                locked = lock;\n\n            },\n\n            setClear: function(stencil) {\n\n                if (currentStencilClear !== stencil) {\n\n                    gl.clearStencil(stencil);\n                    currentStencilClear = stencil;\n\n                }\n\n            },\n\n            reset: function() {\n\n                locked = false;\n\n                currentStencilMask = null;\n                currentStencilFunc = null;\n                currentStencilRef = null;\n                currentStencilFuncMask = null;\n                currentStencilFail = null;\n                currentStencilZFail = null;\n                currentStencilZPass = null;\n                currentStencilClear = null;\n\n            }\n\n        };\n\n    }\n\n    //\n\n    const colorBuffer = new ColorBuffer();\n    const depthBuffer = new DepthBuffer();\n    const stencilBuffer = new StencilBuffer();\n\n    let enabledCapabilities = {};\n\n    let currentProgram = null;\n\n    let currentBlendingEnabled = null;\n    let currentBlending = null;\n    let currentBlendEquation = null;\n    let currentBlendSrc = null;\n    let currentBlendDst = null;\n    let currentBlendEquationAlpha = null;\n    let currentBlendSrcAlpha = null;\n    let currentBlendDstAlpha = null;\n    let currentPremultipledAlpha = false;\n\n    let currentFlipSided = null;\n    let currentCullFace = null;\n\n    let currentLineWidth = null;\n\n    let currentPolygonOffsetFactor = null;\n    let currentPolygonOffsetUnits = null;\n\n    const maxTextures = gl.getParameter(35661);\n\n    let lineWidthAvailable = false;\n    let version = 0;\n    const glVersion = gl.getParameter(7938);\n\n    if (glVersion.indexOf('WebGL') !== -1) {\n\n        version = parseFloat(/^WebGL\\ ([0-9])/.exec(glVersion)[1]);\n        lineWidthAvailable = (version >= 1.0);\n\n    } else if (glVersion.indexOf('OpenGL ES') !== -1) {\n\n        version = parseFloat(/^OpenGL\\ ES\\ ([0-9])/.exec(glVersion)[1]);\n        lineWidthAvailable = (version >= 2.0);\n\n    }\n\n    let currentTextureSlot = null;\n    let currentBoundTextures = {};\n\n    const currentScissor = new Vector4();\n    const currentViewport = new Vector4();\n\n    function createTexture(type, target, count) {\n\n        const data = new Uint8Array(4); // 4 is required to match default unpack alignment of 4.\n        const texture = gl.createTexture();\n\n        gl.bindTexture(type, texture);\n        gl.texParameteri(type, 10241, 9728);\n        gl.texParameteri(type, 10240, 9728);\n\n        for (let i = 0; i < count; i++) {\n\n            gl.texImage2D(target + i, 0, 6408, 1, 1, 0, 6408, 5121, data);\n\n        }\n\n        return texture;\n\n    }\n\n    const emptyTextures = {};\n    emptyTextures[3553] = createTexture(3553, 3553, 1);\n    emptyTextures[34067] = createTexture(34067, 34069, 6);\n\n    // init\n\n    colorBuffer.setClear(0, 0, 0, 1);\n    depthBuffer.setClear(1);\n    stencilBuffer.setClear(0);\n\n    enable(2929);\n    depthBuffer.setFunc(LessEqualDepth);\n\n    setFlipSided(false);\n    setCullFace(CullFaceBack);\n    enable(2884);\n\n    setBlending(NoBlending);\n\n    //\n\n    function enable(id) {\n\n        if (enabledCapabilities[id] !== true) {\n\n            gl.enable(id);\n            enabledCapabilities[id] = true;\n\n        }\n\n    }\n\n    function disable(id) {\n\n        if (enabledCapabilities[id] !== false) {\n\n            gl.disable(id);\n            enabledCapabilities[id] = false;\n\n        }\n\n    }\n\n    function useProgram(program) {\n\n        if (currentProgram !== program) {\n\n            gl.useProgram(program);\n\n            currentProgram = program;\n\n            return true;\n\n        }\n\n        return false;\n\n    }\n\n    const equationToGL = {\n        [AddEquation]: 32774,\n        [SubtractEquation]: 32778,\n        [ReverseSubtractEquation]: 32779\n    };\n\n    if (isWebGL2) {\n\n        equationToGL[MinEquation] = 32775;\n        equationToGL[MaxEquation] = 32776;\n\n    } else {\n\n        const extension = extensions.get('EXT_blend_minmax');\n\n        if (extension !== null) {\n\n            equationToGL[MinEquation] = extension.MIN_EXT;\n            equationToGL[MaxEquation] = extension.MAX_EXT;\n\n        }\n\n    }\n\n    const factorToGL = {\n        [ZeroFactor]: 0,\n        [OneFactor]: 1,\n        [SrcColorFactor]: 768,\n        [SrcAlphaFactor]: 770,\n        [SrcAlphaSaturateFactor]: 776,\n        [DstColorFactor]: 774,\n        [DstAlphaFactor]: 772,\n        [OneMinusSrcColorFactor]: 769,\n        [OneMinusSrcAlphaFactor]: 771,\n        [OneMinusDstColorFactor]: 775,\n        [OneMinusDstAlphaFactor]: 773\n    };\n\n    function setBlending(blending, blendEquation, blendSrc, blendDst, blendEquationAlpha, blendSrcAlpha, blendDstAlpha, premultipliedAlpha) {\n\n        if (blending === NoBlending) {\n\n            if (currentBlendingEnabled) {\n\n                disable(3042);\n                currentBlendingEnabled = false;\n\n            }\n\n            return;\n\n        }\n\n        if (!currentBlendingEnabled) {\n\n            enable(3042);\n            currentBlendingEnabled = true;\n\n        }\n\n        if (blending !== CustomBlending) {\n\n            if (blending !== currentBlending || premultipliedAlpha !== currentPremultipledAlpha) {\n\n                if (currentBlendEquation !== AddEquation || currentBlendEquationAlpha !== AddEquation) {\n\n                    gl.blendEquation(32774);\n\n                    currentBlendEquation = AddEquation;\n                    currentBlendEquationAlpha = AddEquation;\n\n                }\n\n                if (premultipliedAlpha) {\n\n                    switch (blending) {\n\n                        case NormalBlending:\n                            gl.blendFuncSeparate(1, 771, 1, 771);\n                            break;\n\n                        case AdditiveBlending:\n                            gl.blendFunc(1, 1);\n                            break;\n\n                        case SubtractiveBlending:\n                            gl.blendFuncSeparate(0, 0, 769, 771);\n                            break;\n\n                        case MultiplyBlending:\n                            gl.blendFuncSeparate(0, 768, 0, 770);\n                            break;\n\n                        default:\n                            console.error('THREE.WebGLState: Invalid blending: ', blending);\n                            break;\n\n                    }\n\n                } else {\n\n                    switch (blending) {\n\n                        case NormalBlending:\n                            gl.blendFuncSeparate(770, 771, 1, 771);\n                            break;\n\n                        case AdditiveBlending:\n                            gl.blendFunc(770, 1);\n                            break;\n\n                        case SubtractiveBlending:\n                            gl.blendFunc(0, 769);\n                            break;\n\n                        case MultiplyBlending:\n                            gl.blendFunc(0, 768);\n                            break;\n\n                        default:\n                            console.error('THREE.WebGLState: Invalid blending: ', blending);\n                            break;\n\n                    }\n\n                }\n\n                currentBlendSrc = null;\n                currentBlendDst = null;\n                currentBlendSrcAlpha = null;\n                currentBlendDstAlpha = null;\n\n                currentBlending = blending;\n                currentPremultipledAlpha = premultipliedAlpha;\n\n            }\n\n            return;\n\n        }\n\n        // custom blending\n\n        blendEquationAlpha = blendEquationAlpha || blendEquation;\n        blendSrcAlpha = blendSrcAlpha || blendSrc;\n        blendDstAlpha = blendDstAlpha || blendDst;\n\n        if (blendEquation !== currentBlendEquation || blendEquationAlpha !== currentBlendEquationAlpha) {\n\n            gl.blendEquationSeparate(equationToGL[blendEquation], equationToGL[blendEquationAlpha]);\n\n            currentBlendEquation = blendEquation;\n            currentBlendEquationAlpha = blendEquationAlpha;\n\n        }\n\n        if (blendSrc !== currentBlendSrc || blendDst !== currentBlendDst || blendSrcAlpha !== currentBlendSrcAlpha || blendDstAlpha !== currentBlendDstAlpha) {\n\n            gl.blendFuncSeparate(factorToGL[blendSrc], factorToGL[blendDst], factorToGL[blendSrcAlpha], factorToGL[blendDstAlpha]);\n\n            currentBlendSrc = blendSrc;\n            currentBlendDst = blendDst;\n            currentBlendSrcAlpha = blendSrcAlpha;\n            currentBlendDstAlpha = blendDstAlpha;\n\n        }\n\n        currentBlending = blending;\n        currentPremultipledAlpha = null;\n\n    }\n\n    function setMaterial(material, frontFaceCW) {\n\n        material.side === DoubleSide ?\n            disable(2884) :\n            enable(2884);\n\n        let flipSided = (material.side === BackSide);\n        if (frontFaceCW) flipSided = !flipSided;\n\n        setFlipSided(flipSided);\n\n        (material.blending === NormalBlending && material.transparent === false) ?\n        setBlending(NoBlending): setBlending(material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha);\n\n        depthBuffer.setFunc(material.depthFunc);\n        depthBuffer.setTest(material.depthTest);\n        depthBuffer.setMask(material.depthWrite);\n        colorBuffer.setMask(material.colorWrite);\n\n        const stencilWrite = material.stencilWrite;\n        stencilBuffer.setTest(stencilWrite);\n        if (stencilWrite) {\n\n            stencilBuffer.setMask(material.stencilWriteMask);\n            stencilBuffer.setFunc(material.stencilFunc, material.stencilRef, material.stencilFuncMask);\n            stencilBuffer.setOp(material.stencilFail, material.stencilZFail, material.stencilZPass);\n\n        }\n\n        setPolygonOffset(material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits);\n\n    }\n\n    //\n\n    function setFlipSided(flipSided) {\n\n        if (currentFlipSided !== flipSided) {\n\n            if (flipSided) {\n\n                gl.frontFace(2304);\n\n            } else {\n\n                gl.frontFace(2305);\n\n            }\n\n            currentFlipSided = flipSided;\n\n        }\n\n    }\n\n    function setCullFace(cullFace) {\n\n        if (cullFace !== CullFaceNone) {\n\n            enable(2884);\n\n            if (cullFace !== currentCullFace) {\n\n                if (cullFace === CullFaceBack) {\n\n                    gl.cullFace(1029);\n\n                } else if (cullFace === CullFaceFront) {\n\n                    gl.cullFace(1028);\n\n                } else {\n\n                    gl.cullFace(1032);\n\n                }\n\n            }\n\n        } else {\n\n            disable(2884);\n\n        }\n\n        currentCullFace = cullFace;\n\n    }\n\n    function setLineWidth(width) {\n\n        if (width !== currentLineWidth) {\n\n            if (lineWidthAvailable) gl.lineWidth(width);\n\n            currentLineWidth = width;\n\n        }\n\n    }\n\n    function setPolygonOffset(polygonOffset, factor, units) {\n\n        if (polygonOffset) {\n\n            enable(32823);\n\n            if (currentPolygonOffsetFactor !== factor || currentPolygonOffsetUnits !== units) {\n\n                gl.polygonOffset(factor, units);\n\n                currentPolygonOffsetFactor = factor;\n                currentPolygonOffsetUnits = units;\n\n            }\n\n        } else {\n\n            disable(32823);\n\n        }\n\n    }\n\n    function setScissorTest(scissorTest) {\n\n        if (scissorTest) {\n\n            enable(3089);\n\n        } else {\n\n            disable(3089);\n\n        }\n\n    }\n\n    // texture\n\n    function activeTexture(webglSlot) {\n\n        if (webglSlot === undefined) webglSlot = 33984 + maxTextures - 1;\n\n        if (currentTextureSlot !== webglSlot) {\n\n            gl.activeTexture(webglSlot);\n            currentTextureSlot = webglSlot;\n\n        }\n\n    }\n\n    function bindTexture(webglType, webglTexture) {\n\n        if (currentTextureSlot === null) {\n\n            activeTexture();\n\n        }\n\n        let boundTexture = currentBoundTextures[currentTextureSlot];\n\n        if (boundTexture === undefined) {\n\n            boundTexture = {\n                type: undefined,\n                texture: undefined\n            };\n            currentBoundTextures[currentTextureSlot] = boundTexture;\n\n        }\n\n        if (boundTexture.type !== webglType || boundTexture.texture !== webglTexture) {\n\n            gl.bindTexture(webglType, webglTexture || emptyTextures[webglType]);\n\n            boundTexture.type = webglType;\n            boundTexture.texture = webglTexture;\n\n        }\n\n    }\n\n    function unbindTexture() {\n\n        const boundTexture = currentBoundTextures[currentTextureSlot];\n\n        if (boundTexture !== undefined && boundTexture.type !== undefined) {\n\n            gl.bindTexture(boundTexture.type, null);\n\n            boundTexture.type = undefined;\n            boundTexture.texture = undefined;\n\n        }\n\n    }\n\n    function compressedTexImage2D() {\n\n        try {\n\n            gl.compressedTexImage2D.apply(gl, arguments);\n\n        } catch (error) {\n\n            console.error('THREE.WebGLState:', error);\n\n        }\n\n    }\n\n    function texImage2D() {\n\n        try {\n\n            gl.texImage2D.apply(gl, arguments);\n\n        } catch (error) {\n\n            console.error('THREE.WebGLState:', error);\n\n        }\n\n    }\n\n    function texImage3D() {\n\n        try {\n\n            gl.texImage3D.apply(gl, arguments);\n\n        } catch (error) {\n\n            console.error('THREE.WebGLState:', error);\n\n        }\n\n    }\n\n    //\n\n    function scissor(scissor) {\n\n        if (currentScissor.equals(scissor) === false) {\n\n            gl.scissor(scissor.x, scissor.y, scissor.z, scissor.w);\n            currentScissor.copy(scissor);\n\n        }\n\n    }\n\n    function viewport(viewport) {\n\n        if (currentViewport.equals(viewport) === false) {\n\n            gl.viewport(viewport.x, viewport.y, viewport.z, viewport.w);\n            currentViewport.copy(viewport);\n\n        }\n\n    }\n\n    //\n\n    function reset() {\n\n        enabledCapabilities = {};\n\n        currentTextureSlot = null;\n        currentBoundTextures = {};\n\n        currentProgram = null;\n\n        currentBlending = null;\n\n        currentFlipSided = null;\n        currentCullFace = null;\n\n        colorBuffer.reset();\n        depthBuffer.reset();\n        stencilBuffer.reset();\n\n    }\n\n    return {\n\n        buffers: {\n            color: colorBuffer,\n            depth: depthBuffer,\n            stencil: stencilBuffer\n        },\n\n        enable: enable,\n        disable: disable,\n\n        useProgram: useProgram,\n\n        setBlending: setBlending,\n        setMaterial: setMaterial,\n\n        setFlipSided: setFlipSided,\n        setCullFace: setCullFace,\n\n        setLineWidth: setLineWidth,\n        setPolygonOffset: setPolygonOffset,\n\n        setScissorTest: setScissorTest,\n\n        activeTexture: activeTexture,\n        bindTexture: bindTexture,\n        unbindTexture: unbindTexture,\n        compressedTexImage2D: compressedTexImage2D,\n        texImage2D: texImage2D,\n        texImage3D: texImage3D,\n\n        scissor: scissor,\n        viewport: viewport,\n\n        reset: reset\n\n    };\n\n}\n\nfunction WebGLTextures(_gl, extensions, state, properties, capabilities, utils, info) {\n\n    const isWebGL2 = capabilities.isWebGL2;\n    const maxTextures = capabilities.maxTextures;\n    const maxCubemapSize = capabilities.maxCubemapSize;\n    const maxTextureSize = capabilities.maxTextureSize;\n    const maxSamples = capabilities.maxSamples;\n\n    const _videoTextures = new WeakMap();\n    let _canvas;\n\n    // cordova iOS (as of 5.0) still uses UIWebView, which provides OffscreenCanvas,\n    // also OffscreenCanvas.getContext(\"webgl\"), but not OffscreenCanvas.getContext(\"2d\")!\n    // Some implementations may only implement OffscreenCanvas partially (e.g. lacking 2d).\n\n    let useOffscreenCanvas = false;\n\n    try {\n\n        useOffscreenCanvas = typeof OffscreenCanvas !== 'undefined' &&\n            (new OffscreenCanvas(1, 1).getContext(\"2d\")) !== null;\n\n    } catch (err) {\n\n        // Ignore any errors\n\n    }\n\n    function createCanvas(width, height) {\n\n        // Use OffscreenCanvas when available. Specially needed in web workers\n\n        return useOffscreenCanvas ?\n            new OffscreenCanvas(width, height) :\n            document.createElementNS('http://www.w3.org/1999/xhtml', 'canvas');\n\n    }\n\n    function resizeImage(image, needsPowerOfTwo, needsNewCanvas, maxSize) {\n\n        let scale = 1;\n\n        // handle case if texture exceeds max size\n\n        if (image.width > maxSize || image.height > maxSize) {\n\n            scale = maxSize / Math.max(image.width, image.height);\n\n        }\n\n        // only perform resize if necessary\n\n        if (scale < 1 || needsPowerOfTwo === true) {\n\n            // only perform resize for certain image types\n\n            if ((typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement) ||\n                (typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement) ||\n                (typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap)) {\n\n                const floor = needsPowerOfTwo ? MathUtils.floorPowerOfTwo : Math.floor;\n\n                const width = floor(scale * image.width);\n                const height = floor(scale * image.height);\n\n                if (_canvas === undefined) _canvas = createCanvas(width, height);\n\n                // cube textures can't reuse the same canvas\n\n                const canvas = needsNewCanvas ? createCanvas(width, height) : _canvas;\n\n                canvas.width = width;\n                canvas.height = height;\n\n                const context = canvas.getContext('2d');\n                context.drawImage(image, 0, 0, width, height);\n\n                console.warn('THREE.WebGLRenderer: Texture has been resized from (' + image.width + 'x' + image.height + ') to (' + width + 'x' + height + ').');\n\n                return canvas;\n\n            } else {\n\n                if ('data' in image) {\n\n                    console.warn('THREE.WebGLRenderer: Image in DataTexture is too big (' + image.width + 'x' + image.height + ').');\n\n                }\n\n                return image;\n\n            }\n\n        }\n\n        return image;\n\n    }\n\n    function isPowerOfTwo(image) {\n\n        return MathUtils.isPowerOfTwo(image.width) && MathUtils.isPowerOfTwo(image.height);\n\n    }\n\n    function textureNeedsPowerOfTwo(texture) {\n\n        if (isWebGL2) return false;\n\n        return (texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping) ||\n            (texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter);\n\n    }\n\n    function textureNeedsGenerateMipmaps(texture, supportsMips) {\n\n        return texture.generateMipmaps && supportsMips &&\n            texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;\n\n    }\n\n    function generateMipmap(target, texture, width, height) {\n\n        _gl.generateMipmap(target);\n\n        const textureProperties = properties.get(texture);\n\n        // Note: Math.log( x ) * Math.LOG2E used instead of Math.log2( x ) which is not supported by IE11\n        textureProperties.__maxMipLevel = Math.log(Math.max(width, height)) * Math.LOG2E;\n\n    }\n\n    function getInternalFormat(internalFormatName, glFormat, glType) {\n\n        if (isWebGL2 === false) return glFormat;\n\n        if (internalFormatName !== null) {\n\n            if (_gl[internalFormatName] !== undefined) return _gl[internalFormatName];\n\n            console.warn('THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format \\'' + internalFormatName + '\\'');\n\n        }\n\n        let internalFormat = glFormat;\n\n        if (glFormat === 6403) {\n\n            if (glType === 5126) internalFormat = 33326;\n            if (glType === 5131) internalFormat = 33325;\n            if (glType === 5121) internalFormat = 33321;\n\n        }\n\n        if (glFormat === 6407) {\n\n            if (glType === 5126) internalFormat = 34837;\n            if (glType === 5131) internalFormat = 34843;\n            if (glType === 5121) internalFormat = 32849;\n\n        }\n\n        if (glFormat === 6408) {\n\n            if (glType === 5126) internalFormat = 34836;\n            if (glType === 5131) internalFormat = 34842;\n            if (glType === 5121) internalFormat = 32856;\n\n        }\n\n        if (internalFormat === 33325 || internalFormat === 33326 ||\n            internalFormat === 34842 || internalFormat === 34836) {\n\n            extensions.get('EXT_color_buffer_float');\n\n        }\n\n        return internalFormat;\n\n    }\n\n    // Fallback filters for non-power-of-2 textures\n\n    function filterFallback(f) {\n\n        if (f === NearestFilter || f === NearestMipmapNearestFilter || f === NearestMipmapLinearFilter) {\n\n            return 9728;\n\n        }\n\n        return 9729;\n\n    }\n\n    //\n\n    function onTextureDispose(event) {\n\n        const texture = event.target;\n\n        texture.removeEventListener('dispose', onTextureDispose);\n\n        deallocateTexture(texture);\n\n        if (texture.isVideoTexture) {\n\n            _videoTextures.delete(texture);\n\n        }\n\n        info.memory.textures--;\n\n    }\n\n    function onRenderTargetDispose(event) {\n\n        const renderTarget = event.target;\n\n        renderTarget.removeEventListener('dispose', onRenderTargetDispose);\n\n        deallocateRenderTarget(renderTarget);\n\n        info.memory.textures--;\n\n    }\n\n    //\n\n    function deallocateTexture(texture) {\n\n        const textureProperties = properties.get(texture);\n\n        if (textureProperties.__webglInit === undefined) return;\n\n        _gl.deleteTexture(textureProperties.__webglTexture);\n\n        properties.remove(texture);\n\n    }\n\n    function deallocateRenderTarget(renderTarget) {\n\n        const renderTargetProperties = properties.get(renderTarget);\n        const textureProperties = properties.get(renderTarget.texture);\n\n        if (!renderTarget) return;\n\n        if (textureProperties.__webglTexture !== undefined) {\n\n            _gl.deleteTexture(textureProperties.__webglTexture);\n\n        }\n\n        if (renderTarget.depthTexture) {\n\n            renderTarget.depthTexture.dispose();\n\n        }\n\n        if (renderTarget.isWebGLCubeRenderTarget) {\n\n            for (let i = 0; i < 6; i++) {\n\n                _gl.deleteFramebuffer(renderTargetProperties.__webglFramebuffer[i]);\n                if (renderTargetProperties.__webglDepthbuffer) _gl.deleteRenderbuffer(renderTargetProperties.__webglDepthbuffer[i]);\n\n            }\n\n        } else {\n\n            _gl.deleteFramebuffer(renderTargetProperties.__webglFramebuffer);\n            if (renderTargetProperties.__webglDepthbuffer) _gl.deleteRenderbuffer(renderTargetProperties.__webglDepthbuffer);\n            if (renderTargetProperties.__webglMultisampledFramebuffer) _gl.deleteFramebuffer(renderTargetProperties.__webglMultisampledFramebuffer);\n            if (renderTargetProperties.__webglColorRenderbuffer) _gl.deleteRenderbuffer(renderTargetProperties.__webglColorRenderbuffer);\n            if (renderTargetProperties.__webglDepthRenderbuffer) _gl.deleteRenderbuffer(renderTargetProperties.__webglDepthRenderbuffer);\n\n        }\n\n        properties.remove(renderTarget.texture);\n        properties.remove(renderTarget);\n\n    }\n\n    //\n\n    let textureUnits = 0;\n\n    function resetTextureUnits() {\n\n        textureUnits = 0;\n\n    }\n\n    function allocateTextureUnit() {\n\n        const textureUnit = textureUnits;\n\n        if (textureUnit >= maxTextures) {\n\n            console.warn('THREE.WebGLTextures: Trying to use ' + textureUnit + ' texture units while this GPU supports only ' + maxTextures);\n\n        }\n\n        textureUnits += 1;\n\n        return textureUnit;\n\n    }\n\n    //\n\n    function setTexture2D(texture, slot) {\n\n        const textureProperties = properties.get(texture);\n\n        if (texture.isVideoTexture) updateVideoTexture(texture);\n\n        if (texture.version > 0 && textureProperties.__version !== texture.version) {\n\n            const image = texture.image;\n\n            if (image === undefined) {\n\n                console.warn('THREE.WebGLRenderer: Texture marked for update but image is undefined');\n\n            } else if (image.complete === false) {\n\n                console.warn('THREE.WebGLRenderer: Texture marked for update but image is incomplete');\n\n            } else {\n\n                uploadTexture(textureProperties, texture, slot);\n                return;\n\n            }\n\n        }\n\n        state.activeTexture(33984 + slot);\n        state.bindTexture(3553, textureProperties.__webglTexture);\n\n    }\n\n    function setTexture2DArray(texture, slot) {\n\n        const textureProperties = properties.get(texture);\n\n        if (texture.version > 0 && textureProperties.__version !== texture.version) {\n\n            uploadTexture(textureProperties, texture, slot);\n            return;\n\n        }\n\n        state.activeTexture(33984 + slot);\n        state.bindTexture(35866, textureProperties.__webglTexture);\n\n    }\n\n    function setTexture3D(texture, slot) {\n\n        const textureProperties = properties.get(texture);\n\n        if (texture.version > 0 && textureProperties.__version !== texture.version) {\n\n            uploadTexture(textureProperties, texture, slot);\n            return;\n\n        }\n\n        state.activeTexture(33984 + slot);\n        state.bindTexture(32879, textureProperties.__webglTexture);\n\n    }\n\n    function setTextureCube(texture, slot) {\n\n        const textureProperties = properties.get(texture);\n\n        if (texture.version > 0 && textureProperties.__version !== texture.version) {\n\n            uploadCubeTexture(textureProperties, texture, slot);\n            return;\n\n        }\n\n        state.activeTexture(33984 + slot);\n        state.bindTexture(34067, textureProperties.__webglTexture);\n\n    }\n\n    const wrappingToGL = {\n        [RepeatWrapping]: 10497,\n        [ClampToEdgeWrapping]: 33071,\n        [MirroredRepeatWrapping]: 33648\n    };\n\n    const filterToGL = {\n        [NearestFilter]: 9728,\n        [NearestMipmapNearestFilter]: 9984,\n        [NearestMipmapLinearFilter]: 9986,\n\n        [LinearFilter]: 9729,\n        [LinearMipmapNearestFilter]: 9985,\n        [LinearMipmapLinearFilter]: 9987\n    };\n\n    function setTextureParameters(textureType, texture, supportsMips) {\n\n        if (supportsMips) {\n\n            _gl.texParameteri(textureType, 10242, wrappingToGL[texture.wrapS]);\n            _gl.texParameteri(textureType, 10243, wrappingToGL[texture.wrapT]);\n\n            if (textureType === 32879 || textureType === 35866) {\n\n                _gl.texParameteri(textureType, 32882, wrappingToGL[texture.wrapR]);\n\n            }\n\n            _gl.texParameteri(textureType, 10240, filterToGL[texture.magFilter]);\n            _gl.texParameteri(textureType, 10241, filterToGL[texture.minFilter]);\n\n        } else {\n\n            _gl.texParameteri(textureType, 10242, 33071);\n            _gl.texParameteri(textureType, 10243, 33071);\n\n            if (textureType === 32879 || textureType === 35866) {\n\n                _gl.texParameteri(textureType, 32882, 33071);\n\n            }\n\n            if (texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping) {\n\n                console.warn('THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.');\n\n            }\n\n            _gl.texParameteri(textureType, 10240, filterFallback(texture.magFilter));\n            _gl.texParameteri(textureType, 10241, filterFallback(texture.minFilter));\n\n            if (texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter) {\n\n                console.warn('THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.');\n\n            }\n\n        }\n\n        const extension = extensions.get('EXT_texture_filter_anisotropic');\n\n        if (extension) {\n\n            if (texture.type === FloatType && extensions.get('OES_texture_float_linear') === null) return;\n            if (texture.type === HalfFloatType && (isWebGL2 || extensions.get('OES_texture_half_float_linear')) === null) return;\n\n            if (texture.anisotropy > 1 || properties.get(texture).__currentAnisotropy) {\n\n                _gl.texParameterf(textureType, extension.TEXTURE_MAX_ANISOTROPY_EXT, Math.min(texture.anisotropy, capabilities.getMaxAnisotropy()));\n                properties.get(texture).__currentAnisotropy = texture.anisotropy;\n\n            }\n\n        }\n\n    }\n\n    function initTexture(textureProperties, texture) {\n\n        if (textureProperties.__webglInit === undefined) {\n\n            textureProperties.__webglInit = true;\n\n            texture.addEventListener('dispose', onTextureDispose);\n\n            textureProperties.__webglTexture = _gl.createTexture();\n\n            info.memory.textures++;\n\n        }\n\n    }\n\n    function uploadTexture(textureProperties, texture, slot) {\n\n        let textureType = 3553;\n\n        if (texture.isDataTexture2DArray) textureType = 35866;\n        if (texture.isDataTexture3D) textureType = 32879;\n\n        initTexture(textureProperties, texture);\n\n        state.activeTexture(33984 + slot);\n        state.bindTexture(textureType, textureProperties.__webglTexture);\n\n        _gl.pixelStorei(37440, texture.flipY);\n        _gl.pixelStorei(37441, texture.premultiplyAlpha);\n        _gl.pixelStorei(3317, texture.unpackAlignment);\n\n        const needsPowerOfTwo = textureNeedsPowerOfTwo(texture) && isPowerOfTwo(texture.image) === false;\n        const image = resizeImage(texture.image, needsPowerOfTwo, false, maxTextureSize);\n\n        const supportsMips = isPowerOfTwo(image) || isWebGL2,\n            glFormat = utils.convert(texture.format);\n\n        let glType = utils.convert(texture.type),\n            glInternalFormat = getInternalFormat(texture.internalFormat, glFormat, glType);\n\n        setTextureParameters(textureType, texture, supportsMips);\n\n        let mipmap;\n        const mipmaps = texture.mipmaps;\n\n        if (texture.isDepthTexture) {\n\n            // populate depth texture with dummy data\n\n            glInternalFormat = 6402;\n\n            if (isWebGL2) {\n\n                if (texture.type === FloatType) {\n\n                    glInternalFormat = 36012;\n\n                } else if (texture.type === UnsignedIntType) {\n\n                    glInternalFormat = 33190;\n\n                } else if (texture.type === UnsignedInt248Type) {\n\n                    glInternalFormat = 35056;\n\n                } else {\n\n                    glInternalFormat = 33189; // WebGL2 requires sized internalformat for glTexImage2D\n\n                }\n\n            } else {\n\n                if (texture.type === FloatType) {\n\n                    console.error('WebGLRenderer: Floating point depth texture requires WebGL2.');\n\n                }\n\n            }\n\n            // validation checks for WebGL 1\n\n            if (texture.format === DepthFormat && glInternalFormat === 6402) {\n\n                // The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n                // DEPTH_COMPONENT and type is not UNSIGNED_SHORT or UNSIGNED_INT\n                // (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n                if (texture.type !== UnsignedShortType && texture.type !== UnsignedIntType) {\n\n                    console.warn('THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.');\n\n                    texture.type = UnsignedShortType;\n                    glType = utils.convert(texture.type);\n\n                }\n\n            }\n\n            if (texture.format === DepthStencilFormat && glInternalFormat === 6402) {\n\n                // Depth stencil textures need the DEPTH_STENCIL internal format\n                // (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n                glInternalFormat = 34041;\n\n                // The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n                // DEPTH_STENCIL and type is not UNSIGNED_INT_24_8_WEBGL.\n                // (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n                if (texture.type !== UnsignedInt248Type) {\n\n                    console.warn('THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.');\n\n                    texture.type = UnsignedInt248Type;\n                    glType = utils.convert(texture.type);\n\n                }\n\n            }\n\n            //\n\n            state.texImage2D(3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, null);\n\n        } else if (texture.isDataTexture) {\n\n            // use manually created mipmaps if available\n            // if there are no manual mipmaps\n            // set 0 level mipmap and then use GL to generate other mipmap levels\n\n            if (mipmaps.length > 0 && supportsMips) {\n\n                for (let i = 0, il = mipmaps.length; i < il; i++) {\n\n                    mipmap = mipmaps[i];\n                    state.texImage2D(3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data);\n\n                }\n\n                texture.generateMipmaps = false;\n                textureProperties.__maxMipLevel = mipmaps.length - 1;\n\n            } else {\n\n                state.texImage2D(3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, image.data);\n                textureProperties.__maxMipLevel = 0;\n\n            }\n\n        } else if (texture.isCompressedTexture) {\n\n            for (let i = 0, il = mipmaps.length; i < il; i++) {\n\n                mipmap = mipmaps[i];\n\n                if (texture.format !== RGBAFormat && texture.format !== RGBFormat) {\n\n                    if (glFormat !== null) {\n\n                        state.compressedTexImage2D(3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data);\n\n                    } else {\n\n                        console.warn('THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()');\n\n                    }\n\n                } else {\n\n                    state.texImage2D(3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data);\n\n                }\n\n            }\n\n            textureProperties.__maxMipLevel = mipmaps.length - 1;\n\n        } else if (texture.isDataTexture2DArray) {\n\n            state.texImage3D(35866, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data);\n            textureProperties.__maxMipLevel = 0;\n\n        } else if (texture.isDataTexture3D) {\n\n            state.texImage3D(32879, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data);\n            textureProperties.__maxMipLevel = 0;\n\n        } else {\n\n            // regular Texture (image, video, canvas)\n\n            // use manually created mipmaps if available\n            // if there are no manual mipmaps\n            // set 0 level mipmap and then use GL to generate other mipmap levels\n\n            if (mipmaps.length > 0 && supportsMips) {\n\n                for (let i = 0, il = mipmaps.length; i < il; i++) {\n\n                    mipmap = mipmaps[i];\n                    state.texImage2D(3553, i, glInternalFormat, glFormat, glType, mipmap);\n\n                }\n\n                texture.generateMipmaps = false;\n                textureProperties.__maxMipLevel = mipmaps.length - 1;\n\n            } else {\n\n                state.texImage2D(3553, 0, glInternalFormat, glFormat, glType, image);\n                textureProperties.__maxMipLevel = 0;\n\n            }\n\n        }\n\n        if (textureNeedsGenerateMipmaps(texture, supportsMips)) {\n\n            generateMipmap(textureType, texture, image.width, image.height);\n\n        }\n\n        textureProperties.__version = texture.version;\n\n        if (texture.onUpdate) texture.onUpdate(texture);\n\n    }\n\n    function uploadCubeTexture(textureProperties, texture, slot) {\n\n        if (texture.image.length !== 6) return;\n\n        initTexture(textureProperties, texture);\n\n        state.activeTexture(33984 + slot);\n        state.bindTexture(34067, textureProperties.__webglTexture);\n\n        _gl.pixelStorei(37440, texture.flipY);\n\n        const isCompressed = (texture && (texture.isCompressedTexture || texture.image[0].isCompressedTexture));\n        const isDataTexture = (texture.image[0] && texture.image[0].isDataTexture);\n\n        const cubeImage = [];\n\n        for (let i = 0; i < 6; i++) {\n\n            if (!isCompressed && !isDataTexture) {\n\n                cubeImage[i] = resizeImage(texture.image[i], false, true, maxCubemapSize);\n\n            } else {\n\n                cubeImage[i] = isDataTexture ? texture.image[i].image : texture.image[i];\n\n            }\n\n        }\n\n        const image = cubeImage[0],\n            supportsMips = isPowerOfTwo(image) || isWebGL2,\n            glFormat = utils.convert(texture.format),\n            glType = utils.convert(texture.type),\n            glInternalFormat = getInternalFormat(texture.internalFormat, glFormat, glType);\n\n        setTextureParameters(34067, texture, supportsMips);\n\n        let mipmaps;\n\n        if (isCompressed) {\n\n            for (let i = 0; i < 6; i++) {\n\n                mipmaps = cubeImage[i].mipmaps;\n\n                for (let j = 0; j < mipmaps.length; j++) {\n\n                    const mipmap = mipmaps[j];\n\n                    if (texture.format !== RGBAFormat && texture.format !== RGBFormat) {\n\n                        if (glFormat !== null) {\n\n                            state.compressedTexImage2D(34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data);\n\n                        } else {\n\n                            console.warn('THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()');\n\n                        }\n\n                    } else {\n\n                        state.texImage2D(34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data);\n\n                    }\n\n                }\n\n            }\n\n            textureProperties.__maxMipLevel = mipmaps.length - 1;\n\n        } else {\n\n            mipmaps = texture.mipmaps;\n\n            for (let i = 0; i < 6; i++) {\n\n                if (isDataTexture) {\n\n                    state.texImage2D(34069 + i, 0, glInternalFormat, cubeImage[i].width, cubeImage[i].height, 0, glFormat, glType, cubeImage[i].data);\n\n                    for (let j = 0; j < mipmaps.length; j++) {\n\n                        const mipmap = mipmaps[j];\n                        const mipmapImage = mipmap.image[i].image;\n\n                        state.texImage2D(34069 + i, j + 1, glInternalFormat, mipmapImage.width, mipmapImage.height, 0, glFormat, glType, mipmapImage.data);\n\n                    }\n\n                } else {\n\n                    state.texImage2D(34069 + i, 0, glInternalFormat, glFormat, glType, cubeImage[i]);\n\n                    for (let j = 0; j < mipmaps.length; j++) {\n\n                        const mipmap = mipmaps[j];\n\n                        state.texImage2D(34069 + i, j + 1, glInternalFormat, glFormat, glType, mipmap.image[i]);\n\n                    }\n\n                }\n\n            }\n\n            textureProperties.__maxMipLevel = mipmaps.length;\n\n        }\n\n        if (textureNeedsGenerateMipmaps(texture, supportsMips)) {\n\n            // We assume images for cube map have the same size.\n            generateMipmap(34067, texture, image.width, image.height);\n\n        }\n\n        textureProperties.__version = texture.version;\n\n        if (texture.onUpdate) texture.onUpdate(texture);\n\n    }\n\n    // Render targets\n\n    // Setup storage for target texture and bind it to correct framebuffer\n    function setupFrameBufferTexture(framebuffer, renderTarget, attachment, textureTarget) {\n\n        const glFormat = utils.convert(renderTarget.texture.format);\n        const glType = utils.convert(renderTarget.texture.type);\n        const glInternalFormat = getInternalFormat(renderTarget.texture.internalFormat, glFormat, glType);\n        state.texImage2D(textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null);\n        _gl.bindFramebuffer(36160, framebuffer);\n        _gl.framebufferTexture2D(36160, attachment, textureTarget, properties.get(renderTarget.texture).__webglTexture, 0);\n        _gl.bindFramebuffer(36160, null);\n\n    }\n\n    // Setup storage for internal depth/stencil buffers and bind to correct framebuffer\n    function setupRenderBufferStorage(renderbuffer, renderTarget, isMultisample) {\n\n        _gl.bindRenderbuffer(36161, renderbuffer);\n\n        if (renderTarget.depthBuffer && !renderTarget.stencilBuffer) {\n\n            let glInternalFormat = 33189;\n\n            if (isMultisample) {\n\n                const depthTexture = renderTarget.depthTexture;\n\n                if (depthTexture && depthTexture.isDepthTexture) {\n\n                    if (depthTexture.type === FloatType) {\n\n                        glInternalFormat = 36012;\n\n                    } else if (depthTexture.type === UnsignedIntType) {\n\n                        glInternalFormat = 33190;\n\n                    }\n\n                }\n\n                const samples = getRenderTargetSamples(renderTarget);\n\n                _gl.renderbufferStorageMultisample(36161, samples, glInternalFormat, renderTarget.width, renderTarget.height);\n\n            } else {\n\n                _gl.renderbufferStorage(36161, glInternalFormat, renderTarget.width, renderTarget.height);\n\n            }\n\n            _gl.framebufferRenderbuffer(36160, 36096, 36161, renderbuffer);\n\n        } else if (renderTarget.depthBuffer && renderTarget.stencilBuffer) {\n\n            if (isMultisample) {\n\n                const samples = getRenderTargetSamples(renderTarget);\n\n                _gl.renderbufferStorageMultisample(36161, samples, 35056, renderTarget.width, renderTarget.height);\n\n            } else {\n\n                _gl.renderbufferStorage(36161, 34041, renderTarget.width, renderTarget.height);\n\n            }\n\n\n            _gl.framebufferRenderbuffer(36160, 33306, 36161, renderbuffer);\n\n        } else {\n\n            const glFormat = utils.convert(renderTarget.texture.format);\n            const glType = utils.convert(renderTarget.texture.type);\n            const glInternalFormat = getInternalFormat(renderTarget.texture.internalFormat, glFormat, glType);\n\n            if (isMultisample) {\n\n                const samples = getRenderTargetSamples(renderTarget);\n\n                _gl.renderbufferStorageMultisample(36161, samples, glInternalFormat, renderTarget.width, renderTarget.height);\n\n            } else {\n\n                _gl.renderbufferStorage(36161, glInternalFormat, renderTarget.width, renderTarget.height);\n\n            }\n\n        }\n\n        _gl.bindRenderbuffer(36161, null);\n\n    }\n\n    // Setup resources for a Depth Texture for a FBO (needs an extension)\n    function setupDepthTexture(framebuffer, renderTarget) {\n\n        const isCube = (renderTarget && renderTarget.isWebGLCubeRenderTarget);\n        if (isCube) throw new Error('Depth Texture with cube render targets is not supported');\n\n        _gl.bindFramebuffer(36160, framebuffer);\n\n        if (!(renderTarget.depthTexture && renderTarget.depthTexture.isDepthTexture)) {\n\n            throw new Error('renderTarget.depthTexture must be an instance of THREE.DepthTexture');\n\n        }\n\n        // upload an empty depth texture with framebuffer size\n        if (!properties.get(renderTarget.depthTexture).__webglTexture ||\n            renderTarget.depthTexture.image.width !== renderTarget.width ||\n            renderTarget.depthTexture.image.height !== renderTarget.height) {\n\n            renderTarget.depthTexture.image.width = renderTarget.width;\n            renderTarget.depthTexture.image.height = renderTarget.height;\n            renderTarget.depthTexture.needsUpdate = true;\n\n        }\n\n        setTexture2D(renderTarget.depthTexture, 0);\n\n        const webglDepthTexture = properties.get(renderTarget.depthTexture).__webglTexture;\n\n        if (renderTarget.depthTexture.format === DepthFormat) {\n\n            _gl.framebufferTexture2D(36160, 36096, 3553, webglDepthTexture, 0);\n\n        } else if (renderTarget.depthTexture.format === DepthStencilFormat) {\n\n            _gl.framebufferTexture2D(36160, 33306, 3553, webglDepthTexture, 0);\n\n        } else {\n\n            throw new Error('Unknown depthTexture format');\n\n        }\n\n    }\n\n    // Setup GL resources for a non-texture depth buffer\n    function setupDepthRenderbuffer(renderTarget) {\n\n        const renderTargetProperties = properties.get(renderTarget);\n\n        const isCube = (renderTarget.isWebGLCubeRenderTarget === true);\n\n        if (renderTarget.depthTexture) {\n\n            if (isCube) throw new Error('target.depthTexture not supported in Cube render targets');\n\n            setupDepthTexture(renderTargetProperties.__webglFramebuffer, renderTarget);\n\n        } else {\n\n            if (isCube) {\n\n                renderTargetProperties.__webglDepthbuffer = [];\n\n                for (let i = 0; i < 6; i++) {\n\n                    _gl.bindFramebuffer(36160, renderTargetProperties.__webglFramebuffer[i]);\n                    renderTargetProperties.__webglDepthbuffer[i] = _gl.createRenderbuffer();\n                    setupRenderBufferStorage(renderTargetProperties.__webglDepthbuffer[i], renderTarget, false);\n\n                }\n\n            } else {\n\n                _gl.bindFramebuffer(36160, renderTargetProperties.__webglFramebuffer);\n                renderTargetProperties.__webglDepthbuffer = _gl.createRenderbuffer();\n                setupRenderBufferStorage(renderTargetProperties.__webglDepthbuffer, renderTarget, false);\n\n            }\n\n        }\n\n        _gl.bindFramebuffer(36160, null);\n\n    }\n\n    // Set up GL resources for the render target\n    function setupRenderTarget(renderTarget) {\n\n        const renderTargetProperties = properties.get(renderTarget);\n        const textureProperties = properties.get(renderTarget.texture);\n\n        renderTarget.addEventListener('dispose', onRenderTargetDispose);\n\n        textureProperties.__webglTexture = _gl.createTexture();\n\n        info.memory.textures++;\n\n        const isCube = (renderTarget.isWebGLCubeRenderTarget === true);\n        const isMultisample = (renderTarget.isWebGLMultisampleRenderTarget === true);\n        const supportsMips = isPowerOfTwo(renderTarget) || isWebGL2;\n\n        // Handles WebGL2 RGBFormat fallback - #18858\n\n        if (isWebGL2 && renderTarget.texture.format === RGBFormat && (renderTarget.texture.type === FloatType || renderTarget.texture.type === HalfFloatType)) {\n\n            renderTarget.texture.format = RGBAFormat;\n\n            console.warn('THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.');\n\n        }\n\n        // Setup framebuffer\n\n        if (isCube) {\n\n            renderTargetProperties.__webglFramebuffer = [];\n\n            for (let i = 0; i < 6; i++) {\n\n                renderTargetProperties.__webglFramebuffer[i] = _gl.createFramebuffer();\n\n            }\n\n        } else {\n\n            renderTargetProperties.__webglFramebuffer = _gl.createFramebuffer();\n\n            if (isMultisample) {\n\n                if (isWebGL2) {\n\n                    renderTargetProperties.__webglMultisampledFramebuffer = _gl.createFramebuffer();\n                    renderTargetProperties.__webglColorRenderbuffer = _gl.createRenderbuffer();\n\n                    _gl.bindRenderbuffer(36161, renderTargetProperties.__webglColorRenderbuffer);\n\n                    const glFormat = utils.convert(renderTarget.texture.format);\n                    const glType = utils.convert(renderTarget.texture.type);\n                    const glInternalFormat = getInternalFormat(renderTarget.texture.internalFormat, glFormat, glType);\n                    const samples = getRenderTargetSamples(renderTarget);\n                    _gl.renderbufferStorageMultisample(36161, samples, glInternalFormat, renderTarget.width, renderTarget.height);\n\n                    _gl.bindFramebuffer(36160, renderTargetProperties.__webglMultisampledFramebuffer);\n                    _gl.framebufferRenderbuffer(36160, 36064, 36161, renderTargetProperties.__webglColorRenderbuffer);\n                    _gl.bindRenderbuffer(36161, null);\n\n                    if (renderTarget.depthBuffer) {\n\n                        renderTargetProperties.__webglDepthRenderbuffer = _gl.createRenderbuffer();\n                        setupRenderBufferStorage(renderTargetProperties.__webglDepthRenderbuffer, renderTarget, true);\n\n                    }\n\n                    _gl.bindFramebuffer(36160, null);\n\n\n                } else {\n\n                    console.warn('THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.');\n\n                }\n\n            }\n\n        }\n\n        // Setup color buffer\n\n        if (isCube) {\n\n            state.bindTexture(34067, textureProperties.__webglTexture);\n            setTextureParameters(34067, renderTarget.texture, supportsMips);\n\n            for (let i = 0; i < 6; i++) {\n\n                setupFrameBufferTexture(renderTargetProperties.__webglFramebuffer[i], renderTarget, 36064, 34069 + i);\n\n            }\n\n            if (textureNeedsGenerateMipmaps(renderTarget.texture, supportsMips)) {\n\n                generateMipmap(34067, renderTarget.texture, renderTarget.width, renderTarget.height);\n\n            }\n\n            state.bindTexture(34067, null);\n\n        } else {\n\n            state.bindTexture(3553, textureProperties.__webglTexture);\n            setTextureParameters(3553, renderTarget.texture, supportsMips);\n            setupFrameBufferTexture(renderTargetProperties.__webglFramebuffer, renderTarget, 36064, 3553);\n\n            if (textureNeedsGenerateMipmaps(renderTarget.texture, supportsMips)) {\n\n                generateMipmap(3553, renderTarget.texture, renderTarget.width, renderTarget.height);\n\n            }\n\n            state.bindTexture(3553, null);\n\n        }\n\n        // Setup depth and stencil buffers\n\n        if (renderTarget.depthBuffer) {\n\n            setupDepthRenderbuffer(renderTarget);\n\n        }\n\n    }\n\n    function updateRenderTargetMipmap(renderTarget) {\n\n        const texture = renderTarget.texture;\n        const supportsMips = isPowerOfTwo(renderTarget) || isWebGL2;\n\n        if (textureNeedsGenerateMipmaps(texture, supportsMips)) {\n\n            const target = renderTarget.isWebGLCubeRenderTarget ? 34067 : 3553;\n            const webglTexture = properties.get(texture).__webglTexture;\n\n            state.bindTexture(target, webglTexture);\n            generateMipmap(target, texture, renderTarget.width, renderTarget.height);\n            state.bindTexture(target, null);\n\n        }\n\n    }\n\n    function updateMultisampleRenderTarget(renderTarget) {\n\n        if (renderTarget.isWebGLMultisampleRenderTarget) {\n\n            if (isWebGL2) {\n\n                const renderTargetProperties = properties.get(renderTarget);\n\n                _gl.bindFramebuffer(36008, renderTargetProperties.__webglMultisampledFramebuffer);\n                _gl.bindFramebuffer(36009, renderTargetProperties.__webglFramebuffer);\n\n                const width = renderTarget.width;\n                const height = renderTarget.height;\n                let mask = 16384;\n\n                if (renderTarget.depthBuffer) mask |= 256;\n                if (renderTarget.stencilBuffer) mask |= 1024;\n\n                _gl.blitFramebuffer(0, 0, width, height, 0, 0, width, height, mask, 9728);\n\n                _gl.bindFramebuffer(36160, renderTargetProperties.__webglMultisampledFramebuffer); // see #18905\n\n            } else {\n\n                console.warn('THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.');\n\n            }\n\n        }\n\n    }\n\n    function getRenderTargetSamples(renderTarget) {\n\n        return (isWebGL2 && renderTarget.isWebGLMultisampleRenderTarget) ?\n            Math.min(maxSamples, renderTarget.samples) : 0;\n\n    }\n\n    function updateVideoTexture(texture) {\n\n        const frame = info.render.frame;\n\n        // Check the last frame we updated the VideoTexture\n\n        if (_videoTextures.get(texture) !== frame) {\n\n            _videoTextures.set(texture, frame);\n            texture.update();\n\n        }\n\n    }\n\n    // backwards compatibility\n\n    let warnedTexture2D = false;\n    let warnedTextureCube = false;\n\n    function safeSetTexture2D(texture, slot) {\n\n        if (texture && texture.isWebGLRenderTarget) {\n\n            if (warnedTexture2D === false) {\n\n                console.warn(\"THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead.\");\n                warnedTexture2D = true;\n\n            }\n\n            texture = texture.texture;\n\n        }\n\n        setTexture2D(texture, slot);\n\n    }\n\n    function safeSetTextureCube(texture, slot) {\n\n        if (texture && texture.isWebGLCubeRenderTarget) {\n\n            if (warnedTextureCube === false) {\n\n                console.warn(\"THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead.\");\n                warnedTextureCube = true;\n\n            }\n\n            texture = texture.texture;\n\n        }\n\n\n        setTextureCube(texture, slot);\n\n    }\n\n    //\n\n    this.allocateTextureUnit = allocateTextureUnit;\n    this.resetTextureUnits = resetTextureUnits;\n\n    this.setTexture2D = setTexture2D;\n    this.setTexture2DArray = setTexture2DArray;\n    this.setTexture3D = setTexture3D;\n    this.setTextureCube = setTextureCube;\n    this.setupRenderTarget = setupRenderTarget;\n    this.updateRenderTargetMipmap = updateRenderTargetMipmap;\n    this.updateMultisampleRenderTarget = updateMultisampleRenderTarget;\n\n    this.safeSetTexture2D = safeSetTexture2D;\n    this.safeSetTextureCube = safeSetTextureCube;\n\n}\n\nfunction WebGLUtils(gl, extensions, capabilities) {\n\n    const isWebGL2 = capabilities.isWebGL2;\n\n    function convert(p) {\n\n        let extension;\n\n        if (p === UnsignedByteType) return 5121;\n        if (p === UnsignedShort4444Type) return 32819;\n        if (p === UnsignedShort5551Type) return 32820;\n        if (p === UnsignedShort565Type) return 33635;\n\n        if (p === ByteType) return 5120;\n        if (p === ShortType) return 5122;\n        if (p === UnsignedShortType) return 5123;\n        if (p === IntType) return 5124;\n        if (p === UnsignedIntType) return 5125;\n        if (p === FloatType) return 5126;\n\n        if (p === HalfFloatType) {\n\n            if (isWebGL2) return 5131;\n\n            extension = extensions.get('OES_texture_half_float');\n\n            if (extension !== null) {\n\n                return extension.HALF_FLOAT_OES;\n\n            } else {\n\n                return null;\n\n            }\n\n        }\n\n        if (p === AlphaFormat) return 6406;\n        if (p === RGBFormat) return 6407;\n        if (p === RGBAFormat) return 6408;\n        if (p === LuminanceFormat) return 6409;\n        if (p === LuminanceAlphaFormat) return 6410;\n        if (p === DepthFormat) return 6402;\n        if (p === DepthStencilFormat) return 34041;\n        if (p === RedFormat) return 6403;\n\n        // WebGL2 formats.\n\n        if (p === RedIntegerFormat) return 36244;\n        if (p === RGFormat) return 33319;\n        if (p === RGIntegerFormat) return 33320;\n        if (p === RGBIntegerFormat) return 36248;\n        if (p === RGBAIntegerFormat) return 36249;\n\n        if (p === RGB_S3TC_DXT1_Format || p === RGBA_S3TC_DXT1_Format ||\n            p === RGBA_S3TC_DXT3_Format || p === RGBA_S3TC_DXT5_Format) {\n\n            extension = extensions.get('WEBGL_compressed_texture_s3tc');\n\n            if (extension !== null) {\n\n                if (p === RGB_S3TC_DXT1_Format) return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;\n                if (p === RGBA_S3TC_DXT1_Format) return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;\n                if (p === RGBA_S3TC_DXT3_Format) return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n                if (p === RGBA_S3TC_DXT5_Format) return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n\n            } else {\n\n                return null;\n\n            }\n\n        }\n\n        if (p === RGB_PVRTC_4BPPV1_Format || p === RGB_PVRTC_2BPPV1_Format ||\n            p === RGBA_PVRTC_4BPPV1_Format || p === RGBA_PVRTC_2BPPV1_Format) {\n\n            extension = extensions.get('WEBGL_compressed_texture_pvrtc');\n\n            if (extension !== null) {\n\n                if (p === RGB_PVRTC_4BPPV1_Format) return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\n                if (p === RGB_PVRTC_2BPPV1_Format) return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\n                if (p === RGBA_PVRTC_4BPPV1_Format) return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\n                if (p === RGBA_PVRTC_2BPPV1_Format) return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\n\n            } else {\n\n                return null;\n\n            }\n\n        }\n\n        if (p === RGB_ETC1_Format) {\n\n            extension = extensions.get('WEBGL_compressed_texture_etc1');\n\n            if (extension !== null) {\n\n                return extension.COMPRESSED_RGB_ETC1_WEBGL;\n\n            } else {\n\n                return null;\n\n            }\n\n        }\n\n        if (p === RGB_ETC2_Format || p === RGBA_ETC2_EAC_Format) {\n\n            extension = extensions.get('WEBGL_compressed_texture_etc');\n\n            if (extension !== null) {\n\n                if (p === RGB_ETC2_Format) return extension.COMPRESSED_RGB8_ETC2;\n                if (p === RGBA_ETC2_EAC_Format) return extension.COMPRESSED_RGBA8_ETC2_EAC;\n\n            }\n\n        }\n\n        if (p === RGBA_ASTC_4x4_Format || p === RGBA_ASTC_5x4_Format || p === RGBA_ASTC_5x5_Format ||\n            p === RGBA_ASTC_6x5_Format || p === RGBA_ASTC_6x6_Format || p === RGBA_ASTC_8x5_Format ||\n            p === RGBA_ASTC_8x6_Format || p === RGBA_ASTC_8x8_Format || p === RGBA_ASTC_10x5_Format ||\n            p === RGBA_ASTC_10x6_Format || p === RGBA_ASTC_10x8_Format || p === RGBA_ASTC_10x10_Format ||\n            p === RGBA_ASTC_12x10_Format || p === RGBA_ASTC_12x12_Format ||\n            p === SRGB8_ALPHA8_ASTC_4x4_Format || p === SRGB8_ALPHA8_ASTC_5x4_Format || p === SRGB8_ALPHA8_ASTC_5x5_Format ||\n            p === SRGB8_ALPHA8_ASTC_6x5_Format || p === SRGB8_ALPHA8_ASTC_6x6_Format || p === SRGB8_ALPHA8_ASTC_8x5_Format ||\n            p === SRGB8_ALPHA8_ASTC_8x6_Format || p === SRGB8_ALPHA8_ASTC_8x8_Format || p === SRGB8_ALPHA8_ASTC_10x5_Format ||\n            p === SRGB8_ALPHA8_ASTC_10x6_Format || p === SRGB8_ALPHA8_ASTC_10x8_Format || p === SRGB8_ALPHA8_ASTC_10x10_Format ||\n            p === SRGB8_ALPHA8_ASTC_12x10_Format || p === SRGB8_ALPHA8_ASTC_12x12_Format) {\n\n            extension = extensions.get('WEBGL_compressed_texture_astc');\n\n            if (extension !== null) {\n\n                // TODO Complete?\n\n                return p;\n\n            } else {\n\n                return null;\n\n            }\n\n        }\n\n        if (p === RGBA_BPTC_Format) {\n\n            extension = extensions.get('EXT_texture_compression_bptc');\n\n            if (extension !== null) {\n\n                // TODO Complete?\n\n                return p;\n\n            } else {\n\n                return null;\n\n            }\n\n        }\n\n        if (p === UnsignedInt248Type) {\n\n            if (isWebGL2) return 34042;\n\n            extension = extensions.get('WEBGL_depth_texture');\n\n            if (extension !== null) {\n\n                return extension.UNSIGNED_INT_24_8_WEBGL;\n\n            } else {\n\n                return null;\n\n            }\n\n        }\n\n    }\n\n    return {\n        convert: convert\n    };\n\n}\n\nfunction ArrayCamera(array) {\n\n    PerspectiveCamera.call(this);\n\n    this.cameras = array || [];\n\n}\n\nArrayCamera.prototype = Object.assign(Object.create(PerspectiveCamera.prototype), {\n\n    constructor: ArrayCamera,\n\n    isArrayCamera: true\n\n});\n\nfunction Group() {\n\n    Object3D.call(this);\n\n    this.type = 'Group';\n\n}\n\nGroup.prototype = Object.assign(Object.create(Object3D.prototype), {\n\n    constructor: Group,\n\n    isGroup: true\n\n});\n\nfunction WebXRController() {\n\n    this._targetRay = null;\n    this._grip = null;\n    this._hand = null;\n\n}\n\nObject.assign(WebXRController.prototype, {\n\n    constructor: WebXRController,\n\n    getHandSpace: function() {\n\n        if (this._hand === null) {\n\n            this._hand = new Group();\n            this._hand.matrixAutoUpdate = false;\n            this._hand.visible = false;\n\n            this._hand.joints = [];\n            this._hand.inputState = {\n                pinching: false\n            };\n\n            if (window.XRHand) {\n\n                for (let i = 0; i <= window.XRHand.LITTLE_PHALANX_TIP; i++) {\n\n                    // The transform of this joint will be updated with the joint pose on each frame\n                    const joint = new Group();\n                    joint.matrixAutoUpdate = false;\n                    joint.visible = false;\n                    this._hand.joints.push(joint);\n                    // ??\n                    this._hand.add(joint);\n\n                }\n\n            }\n\n        }\n\n        return this._hand;\n\n    },\n\n    getTargetRaySpace: function() {\n\n        if (this._targetRay === null) {\n\n            this._targetRay = new Group();\n            this._targetRay.matrixAutoUpdate = false;\n            this._targetRay.visible = false;\n\n        }\n\n        return this._targetRay;\n\n    },\n\n    getGripSpace: function() {\n\n        if (this._grip === null) {\n\n            this._grip = new Group();\n            this._grip.matrixAutoUpdate = false;\n            this._grip.visible = false;\n\n        }\n\n        return this._grip;\n\n    },\n\n    dispatchEvent: function(event) {\n\n        if (this._targetRay !== null) {\n\n            this._targetRay.dispatchEvent(event);\n\n        }\n\n        if (this._grip !== null) {\n\n            this._grip.dispatchEvent(event);\n\n        }\n\n        if (this._hand !== null) {\n\n            this._hand.dispatchEvent(event);\n\n        }\n\n        return this;\n\n    },\n\n    disconnect: function(inputSource) {\n\n        this.dispatchEvent({\n            type: 'disconnected',\n            data: inputSource\n        });\n\n        if (this._targetRay !== null) {\n\n            this._targetRay.visible = false;\n\n        }\n\n        if (this._grip !== null) {\n\n            this._grip.visible = false;\n\n        }\n\n        if (this._hand !== null) {\n\n            this._hand.visible = false;\n\n        }\n\n        return this;\n\n    },\n\n    update: function(inputSource, frame, referenceSpace) {\n\n        let inputPose = null;\n        let gripPose = null;\n        let handPose = null;\n\n        const targetRay = this._targetRay;\n        const grip = this._grip;\n        const hand = this._hand;\n\n        if (inputSource) {\n\n            if (hand && inputSource.hand) {\n\n                handPose = true;\n\n                for (let i = 0; i <= window.XRHand.LITTLE_PHALANX_TIP; i++) {\n\n                    if (inputSource.hand[i]) {\n\n                        // Update the joints groups with the XRJoint poses\n                        const jointPose = frame.getJointPose(inputSource.hand[i], referenceSpace);\n                        const joint = hand.joints[i];\n\n                        if (jointPose !== null) {\n\n                            joint.matrix.fromArray(jointPose.transform.matrix);\n                            joint.matrix.decompose(joint.position, joint.rotation, joint.scale);\n                            joint.jointRadius = jointPose.radius;\n\n                        }\n\n                        joint.visible = jointPose !== null;\n\n                        // Custom events\n\n                        // Check pinch\n                        const indexTip = hand.joints[window.XRHand.INDEX_PHALANX_TIP];\n                        const thumbTip = hand.joints[window.XRHand.THUMB_PHALANX_TIP];\n                        const distance = indexTip.position.distanceTo(thumbTip.position);\n\n                        const distanceToPinch = 0.02;\n                        const threshold = 0.005;\n\n                        if (hand.inputState.pinching && distance > distanceToPinch + threshold) {\n\n                            hand.inputState.pinching = false;\n                            this.dispatchEvent({\n                                type: \"pinchend\",\n                                handedness: inputSource.handedness,\n                                target: this\n                            });\n\n                        } else if (!hand.inputState.pinching && distance <= distanceToPinch - threshold) {\n\n                            hand.inputState.pinching = true;\n                            this.dispatchEvent({\n                                type: \"pinchstart\",\n                                handedness: inputSource.handedness,\n                                target: this\n                            });\n\n                        }\n\n                    }\n\n                }\n\n            } else {\n\n                if (targetRay !== null) {\n\n                    inputPose = frame.getPose(inputSource.targetRaySpace, referenceSpace);\n\n                    if (inputPose !== null) {\n\n                        targetRay.matrix.fromArray(inputPose.transform.matrix);\n                        targetRay.matrix.decompose(targetRay.position, targetRay.rotation, targetRay.scale);\n\n                    }\n\n                }\n\n                if (grip !== null && inputSource.gripSpace) {\n\n                    gripPose = frame.getPose(inputSource.gripSpace, referenceSpace);\n\n                    if (gripPose !== null) {\n\n                        grip.matrix.fromArray(gripPose.transform.matrix);\n                        grip.matrix.decompose(grip.position, grip.rotation, grip.scale);\n\n                    }\n\n                }\n\n            }\n\n        }\n\n        if (targetRay !== null) {\n\n            targetRay.visible = (inputPose !== null);\n\n        }\n\n        if (grip !== null) {\n\n            grip.visible = (gripPose !== null);\n\n        }\n\n        if (hand !== null) {\n\n            hand.visible = (handPose !== null);\n\n        }\n\n        return this;\n\n    }\n\n});\n\nfunction WebXRManager(renderer, gl) {\n\n    const scope = this;\n\n    let session = null;\n\n    let framebufferScaleFactor = 1.0;\n\n    let referenceSpace = null;\n    let referenceSpaceType = 'local-floor';\n\n    let pose = null;\n\n    const controllers = [];\n    const inputSourcesMap = new Map();\n\n    //\n\n    const cameraL = new PerspectiveCamera();\n    cameraL.layers.enable(1);\n    cameraL.viewport = new Vector4();\n\n    const cameraR = new PerspectiveCamera();\n    cameraR.layers.enable(2);\n    cameraR.viewport = new Vector4();\n\n    const cameras = [cameraL, cameraR];\n\n    const cameraVR = new ArrayCamera();\n    cameraVR.layers.enable(1);\n    cameraVR.layers.enable(2);\n\n    let _currentDepthNear = null;\n    let _currentDepthFar = null;\n\n    //\n\n    this.enabled = false;\n\n    this.isPresenting = false;\n\n    this.getController = function(index) {\n\n        let controller = controllers[index];\n\n        if (controller === undefined) {\n\n            controller = new WebXRController();\n            controllers[index] = controller;\n\n        }\n\n        return controller.getTargetRaySpace();\n\n    };\n\n    this.getControllerGrip = function(index) {\n\n        let controller = controllers[index];\n\n        if (controller === undefined) {\n\n            controller = new WebXRController();\n            controllers[index] = controller;\n\n        }\n\n        return controller.getGripSpace();\n\n    };\n\n    this.getHand = function(index) {\n\n        let controller = controllers[index];\n\n        if (controller === undefined) {\n\n            controller = new WebXRController();\n            controllers[index] = controller;\n\n        }\n\n        return controller.getHandSpace();\n\n    };\n\n    //\n\n    function onSessionEvent(event) {\n\n        const controller = inputSourcesMap.get(event.inputSource);\n\n        if (controller) {\n\n            controller.dispatchEvent({\n                type: event.type,\n                data: event.inputSource\n            });\n\n        }\n\n    }\n\n    function onSessionEnd() {\n\n        inputSourcesMap.forEach(function(controller, inputSource) {\n\n            controller.disconnect(inputSource);\n\n        });\n\n        inputSourcesMap.clear();\n\n        //\n\n        renderer.setFramebuffer(null);\n        renderer.setRenderTarget(renderer.getRenderTarget()); // Hack #15830\n        animation.stop();\n\n        scope.isPresenting = false;\n\n        scope.dispatchEvent({\n            type: 'sessionend'\n        });\n\n    }\n\n    function onRequestReferenceSpace(value) {\n\n        referenceSpace = value;\n\n        animation.setContext(session);\n        animation.start();\n\n        scope.isPresenting = true;\n\n        scope.dispatchEvent({\n            type: 'sessionstart'\n        });\n\n    }\n\n    this.setFramebufferScaleFactor = function(value) {\n\n        framebufferScaleFactor = value;\n\n        if (scope.isPresenting === true) {\n\n            console.warn('THREE.WebXRManager: Cannot change framebuffer scale while presenting.');\n\n        }\n\n    };\n\n    this.setReferenceSpaceType = function(value) {\n\n        referenceSpaceType = value;\n\n        if (scope.isPresenting === true) {\n\n            console.warn('THREE.WebXRManager: Cannot change reference space type while presenting.');\n\n        }\n\n    };\n\n    this.getReferenceSpace = function() {\n\n        return referenceSpace;\n\n    };\n\n    this.getSession = function() {\n\n        return session;\n\n    };\n\n    this.setSession = function(value) {\n\n        session = value;\n\n        if (session !== null) {\n\n            session.addEventListener('select', onSessionEvent);\n            session.addEventListener('selectstart', onSessionEvent);\n            session.addEventListener('selectend', onSessionEvent);\n            session.addEventListener('squeeze', onSessionEvent);\n            session.addEventListener('squeezestart', onSessionEvent);\n            session.addEventListener('squeezeend', onSessionEvent);\n            session.addEventListener('end', onSessionEnd);\n\n            const attributes = gl.getContextAttributes();\n\n            if (attributes.xrCompatible !== true) {\n\n                gl.makeXRCompatible();\n\n            }\n\n            const layerInit = {\n                antialias: attributes.antialias,\n                alpha: attributes.alpha,\n                depth: attributes.depth,\n                stencil: attributes.stencil,\n                framebufferScaleFactor: framebufferScaleFactor\n            };\n\n            // eslint-disable-next-line no-undef\n            const baseLayer = new XRWebGLLayer(session, gl, layerInit);\n\n            session.updateRenderState({\n                baseLayer: baseLayer\n            });\n\n            session.requestReferenceSpace(referenceSpaceType).then(onRequestReferenceSpace);\n\n            //\n\n            session.addEventListener('inputsourceschange', updateInputSources);\n\n        }\n\n    };\n\n    function updateInputSources(event) {\n\n        const inputSources = session.inputSources;\n\n        // Assign inputSources to available controllers\n\n        for (let i = 0; i < controllers.length; i++) {\n\n            inputSourcesMap.set(inputSources[i], controllers[i]);\n\n        }\n\n        // Notify disconnected\n\n        for (let i = 0; i < event.removed.length; i++) {\n\n            const inputSource = event.removed[i];\n            const controller = inputSourcesMap.get(inputSource);\n\n            if (controller) {\n\n                controller.dispatchEvent({\n                    type: 'disconnected',\n                    data: inputSource\n                });\n                inputSourcesMap.delete(inputSource);\n\n            }\n\n        }\n\n        // Notify connected\n\n        for (let i = 0; i < event.added.length; i++) {\n\n            const inputSource = event.added[i];\n            const controller = inputSourcesMap.get(inputSource);\n\n            if (controller) {\n\n                controller.dispatchEvent({\n                    type: 'connected',\n                    data: inputSource\n                });\n\n            }\n\n        }\n\n    }\n\n    //\n\n    const cameraLPos = new Vector3();\n    const cameraRPos = new Vector3();\n\n    /**\n     * Assumes 2 cameras that are parallel and share an X-axis, and that\n     * the cameras' projection and world matrices have already been set.\n     * And that near and far planes are identical for both cameras.\n     * Visualization of this technique: https://computergraphics.stackexchange.com/a/4765\n     */\n    function setProjectionFromUnion(camera, cameraL, cameraR) {\n\n        cameraLPos.setFromMatrixPosition(cameraL.matrixWorld);\n        cameraRPos.setFromMatrixPosition(cameraR.matrixWorld);\n\n        const ipd = cameraLPos.distanceTo(cameraRPos);\n\n        const projL = cameraL.projectionMatrix.elements;\n        const projR = cameraR.projectionMatrix.elements;\n\n        // VR systems will have identical far and near planes, and\n        // most likely identical top and bottom frustum extents.\n        // Use the left camera for these values.\n        const near = projL[14] / (projL[10] - 1);\n        const far = projL[14] / (projL[10] + 1);\n        const topFov = (projL[9] + 1) / projL[5];\n        const bottomFov = (projL[9] - 1) / projL[5];\n\n        const leftFov = (projL[8] - 1) / projL[0];\n        const rightFov = (projR[8] + 1) / projR[0];\n        const left = near * leftFov;\n        const right = near * rightFov;\n\n        // Calculate the new camera's position offset from the\n        // left camera. xOffset should be roughly half `ipd`.\n        const zOffset = ipd / (-leftFov + rightFov);\n        const xOffset = zOffset * -leftFov;\n\n        // TODO: Better way to apply this offset?\n        cameraL.matrixWorld.decompose(camera.position, camera.quaternion, camera.scale);\n        camera.translateX(xOffset);\n        camera.translateZ(zOffset);\n        camera.matrixWorld.compose(camera.position, camera.quaternion, camera.scale);\n        camera.matrixWorldInverse.getInverse(camera.matrixWorld);\n\n        // Find the union of the frustum values of the cameras and scale\n        // the values so that the near plane's position does not change in world space,\n        // although must now be relative to the new union camera.\n        const near2 = near + zOffset;\n        const far2 = far + zOffset;\n        const left2 = left - xOffset;\n        const right2 = right + (ipd - xOffset);\n        const top2 = topFov * far / far2 * near2;\n        const bottom2 = bottomFov * far / far2 * near2;\n\n        camera.projectionMatrix.makePerspective(left2, right2, top2, bottom2, near2, far2);\n\n    }\n\n    function updateCamera(camera, parent) {\n\n        if (parent === null) {\n\n            camera.matrixWorld.copy(camera.matrix);\n\n        } else {\n\n            camera.matrixWorld.multiplyMatrices(parent.matrixWorld, camera.matrix);\n\n        }\n\n        camera.matrixWorldInverse.getInverse(camera.matrixWorld);\n\n    }\n\n    this.getCamera = function(camera) {\n\n        cameraVR.near = cameraR.near = cameraL.near = camera.near;\n        cameraVR.far = cameraR.far = cameraL.far = camera.far;\n\n        if (_currentDepthNear !== cameraVR.near || _currentDepthFar !== cameraVR.far) {\n\n            // Note that the new renderState won't apply until the next frame. See #18320\n\n            session.updateRenderState({\n                depthNear: cameraVR.near,\n                depthFar: cameraVR.far\n            });\n\n            _currentDepthNear = cameraVR.near;\n            _currentDepthFar = cameraVR.far;\n\n        }\n\n        const parent = camera.parent;\n        const cameras = cameraVR.cameras;\n\n        updateCamera(cameraVR, parent);\n\n        for (let i = 0; i < cameras.length; i++) {\n\n            updateCamera(cameras[i], parent);\n\n        }\n\n        // update camera and its children\n\n        camera.matrixWorld.copy(cameraVR.matrixWorld);\n\n        const children = camera.children;\n\n        for (let i = 0, l = children.length; i < l; i++) {\n\n            children[i].updateMatrixWorld(true);\n\n        }\n\n        // update projection matrix for proper view frustum culling\n\n        if (cameras.length === 2) {\n\n            setProjectionFromUnion(cameraVR, cameraL, cameraR);\n\n        } else {\n\n            // assume single camera setup (AR)\n\n            cameraVR.projectionMatrix.copy(cameraL.projectionMatrix);\n\n        }\n\n        return cameraVR;\n\n    };\n\n    // Animation Loop\n\n    let onAnimationFrameCallback = null;\n\n    function onAnimationFrame(time, frame) {\n\n        pose = frame.getViewerPose(referenceSpace);\n\n        if (pose !== null) {\n\n            const views = pose.views;\n            const baseLayer = session.renderState.baseLayer;\n\n            renderer.setFramebuffer(baseLayer.framebuffer);\n\n            let cameraVRNeedsUpdate = false;\n\n            // check if it's necessary to rebuild cameraVR's camera list\n\n            if (views.length !== cameraVR.cameras.length) {\n\n                cameraVR.cameras.length = 0;\n                cameraVRNeedsUpdate = true;\n\n            }\n\n            for (let i = 0; i < views.length; i++) {\n\n                const view = views[i];\n                const viewport = baseLayer.getViewport(view);\n\n                const camera = cameras[i];\n                camera.matrix.fromArray(view.transform.matrix);\n                camera.projectionMatrix.fromArray(view.projectionMatrix);\n                camera.viewport.set(viewport.x, viewport.y, viewport.width, viewport.height);\n\n                if (i === 0) {\n\n                    cameraVR.matrix.copy(camera.matrix);\n\n                }\n\n                if (cameraVRNeedsUpdate === true) {\n\n                    cameraVR.cameras.push(camera);\n\n                }\n\n            }\n\n        }\n\n        //\n\n        const inputSources = session.inputSources;\n\n        for (let i = 0; i < controllers.length; i++) {\n\n            const controller = controllers[i];\n            const inputSource = inputSources[i];\n\n            controller.update(inputSource, frame, referenceSpace);\n\n        }\n\n        if (onAnimationFrameCallback) onAnimationFrameCallback(time, frame);\n\n    }\n\n    const animation = new WebGLAnimation();\n    animation.setAnimationLoop(onAnimationFrame);\n\n    this.setAnimationLoop = function(callback) {\n\n        onAnimationFrameCallback = callback;\n\n    };\n\n    this.dispose = function() {};\n\n}\n\nObject.assign(WebXRManager.prototype, EventDispatcher.prototype);\n\nfunction WebGLMaterials(properties) {\n\n    function refreshFogUniforms(uniforms, fog) {\n\n        uniforms.fogColor.value.copy(fog.color);\n\n        if (fog.isFog) {\n\n            uniforms.fogNear.value = fog.near;\n            uniforms.fogFar.value = fog.far;\n\n        } else if (fog.isFogExp2) {\n\n            uniforms.fogDensity.value = fog.density;\n\n        }\n\n    }\n\n    function refreshMaterialUniforms(uniforms, material, pixelRatio, height) {\n\n        if (material.isMeshBasicMaterial) {\n\n            refreshUniformsCommon(uniforms, material);\n\n        } else if (material.isMeshLambertMaterial) {\n\n            refreshUniformsCommon(uniforms, material);\n            refreshUniformsLambert(uniforms, material);\n\n        } else if (material.isMeshToonMaterial) {\n\n            refreshUniformsCommon(uniforms, material);\n            refreshUniformsToon(uniforms, material);\n\n        } else if (material.isMeshPhongMaterial) {\n\n            refreshUniformsCommon(uniforms, material);\n            refreshUniformsPhong(uniforms, material);\n\n        } else if (material.isMeshStandardMaterial) {\n\n            refreshUniformsCommon(uniforms, material);\n\n            if (material.isMeshPhysicalMaterial) {\n\n                refreshUniformsPhysical(uniforms, material);\n\n            } else {\n\n                refreshUniformsStandard(uniforms, material);\n\n            }\n\n        } else if (material.isMeshMatcapMaterial) {\n\n            refreshUniformsCommon(uniforms, material);\n            refreshUniformsMatcap(uniforms, material);\n\n        } else if (material.isMeshDepthMaterial) {\n\n            refreshUniformsCommon(uniforms, material);\n            refreshUniformsDepth(uniforms, material);\n\n        } else if (material.isMeshDistanceMaterial) {\n\n            refreshUniformsCommon(uniforms, material);\n            refreshUniformsDistance(uniforms, material);\n\n        } else if (material.isMeshNormalMaterial) {\n\n            refreshUniformsCommon(uniforms, material);\n            refreshUniformsNormal(uniforms, material);\n\n        } else if (material.isLineBasicMaterial) {\n\n            refreshUniformsLine(uniforms, material);\n\n            if (material.isLineDashedMaterial) {\n\n                refreshUniformsDash(uniforms, material);\n\n            }\n\n        } else if (material.isPointsMaterial) {\n\n            refreshUniformsPoints(uniforms, material, pixelRatio, height);\n\n        } else if (material.isSpriteMaterial) {\n\n            refreshUniformsSprites(uniforms, material);\n\n        } else if (material.isShadowMaterial) {\n\n            uniforms.color.value.copy(material.color);\n            uniforms.opacity.value = material.opacity;\n\n        } else if (material.isShaderMaterial) {\n\n            material.uniformsNeedUpdate = false; // #15581\n\n        }\n\n    }\n\n    function refreshUniformsCommon(uniforms, material) {\n\n        uniforms.opacity.value = material.opacity;\n\n        if (material.color) {\n\n            uniforms.diffuse.value.copy(material.color);\n\n        }\n\n        if (material.emissive) {\n\n            uniforms.emissive.value.copy(material.emissive).multiplyScalar(material.emissiveIntensity);\n\n        }\n\n        if (material.map) {\n\n            uniforms.map.value = material.map;\n\n        }\n\n        if (material.alphaMap) {\n\n            uniforms.alphaMap.value = material.alphaMap;\n\n        }\n\n        if (material.specularMap) {\n\n            uniforms.specularMap.value = material.specularMap;\n\n        }\n\n        const envMap = properties.get(material).envMap;\n\n        if (envMap) {\n\n            uniforms.envMap.value = envMap;\n\n            uniforms.flipEnvMap.value = (envMap.isCubeTexture && envMap._needsFlipEnvMap) ? -1 : 1;\n\n            uniforms.reflectivity.value = material.reflectivity;\n            uniforms.refractionRatio.value = material.refractionRatio;\n\n            const maxMipLevel = properties.get(envMap).__maxMipLevel;\n\n            if (maxMipLevel !== undefined) {\n\n                uniforms.maxMipLevel.value = maxMipLevel;\n\n            }\n\n        }\n\n        if (material.lightMap) {\n\n            uniforms.lightMap.value = material.lightMap;\n            uniforms.lightMapIntensity.value = material.lightMapIntensity;\n\n        }\n\n        if (material.aoMap) {\n\n            uniforms.aoMap.value = material.aoMap;\n            uniforms.aoMapIntensity.value = material.aoMapIntensity;\n\n        }\n\n        // uv repeat and offset setting priorities\n        // 1. color map\n        // 2. specular map\n        // 3. displacementMap map\n        // 4. normal map\n        // 5. bump map\n        // 6. roughnessMap map\n        // 7. metalnessMap map\n        // 8. alphaMap map\n        // 9. emissiveMap map\n        // 10. clearcoat map\n        // 11. clearcoat normal map\n        // 12. clearcoat roughnessMap map\n\n        let uvScaleMap;\n\n        if (material.map) {\n\n            uvScaleMap = material.map;\n\n        } else if (material.specularMap) {\n\n            uvScaleMap = material.specularMap;\n\n        } else if (material.displacementMap) {\n\n            uvScaleMap = material.displacementMap;\n\n        } else if (material.normalMap) {\n\n            uvScaleMap = material.normalMap;\n\n        } else if (material.bumpMap) {\n\n            uvScaleMap = material.bumpMap;\n\n        } else if (material.roughnessMap) {\n\n            uvScaleMap = material.roughnessMap;\n\n        } else if (material.metalnessMap) {\n\n            uvScaleMap = material.metalnessMap;\n\n        } else if (material.alphaMap) {\n\n            uvScaleMap = material.alphaMap;\n\n        } else if (material.emissiveMap) {\n\n            uvScaleMap = material.emissiveMap;\n\n        } else if (material.clearcoatMap) {\n\n            uvScaleMap = material.clearcoatMap;\n\n        } else if (material.clearcoatNormalMap) {\n\n            uvScaleMap = material.clearcoatNormalMap;\n\n        } else if (material.clearcoatRoughnessMap) {\n\n            uvScaleMap = material.clearcoatRoughnessMap;\n\n        }\n\n        if (uvScaleMap !== undefined) {\n\n            // backwards compatibility\n            if (uvScaleMap.isWebGLRenderTarget) {\n\n                uvScaleMap = uvScaleMap.texture;\n\n            }\n\n            if (uvScaleMap.matrixAutoUpdate === true) {\n\n                uvScaleMap.updateMatrix();\n\n            }\n\n            uniforms.uvTransform.value.copy(uvScaleMap.matrix);\n\n        }\n\n        // uv repeat and offset setting priorities for uv2\n        // 1. ao map\n        // 2. light map\n\n        let uv2ScaleMap;\n\n        if (material.aoMap) {\n\n            uv2ScaleMap = material.aoMap;\n\n        } else if (material.lightMap) {\n\n            uv2ScaleMap = material.lightMap;\n\n        }\n\n        if (uv2ScaleMap !== undefined) {\n\n            // backwards compatibility\n            if (uv2ScaleMap.isWebGLRenderTarget) {\n\n                uv2ScaleMap = uv2ScaleMap.texture;\n\n            }\n\n            if (uv2ScaleMap.matrixAutoUpdate === true) {\n\n                uv2ScaleMap.updateMatrix();\n\n            }\n\n            uniforms.uv2Transform.value.copy(uv2ScaleMap.matrix);\n\n        }\n\n    }\n\n    function refreshUniformsLine(uniforms, material) {\n\n        uniforms.diffuse.value.copy(material.color);\n        uniforms.opacity.value = material.opacity;\n\n    }\n\n    function refreshUniformsDash(uniforms, material) {\n\n        uniforms.dashSize.value = material.dashSize;\n        uniforms.totalSize.value = material.dashSize + material.gapSize;\n        uniforms.scale.value = material.scale;\n\n    }\n\n    function refreshUniformsPoints(uniforms, material, pixelRatio, height) {\n\n        uniforms.diffuse.value.copy(material.color);\n        uniforms.opacity.value = material.opacity;\n        uniforms.size.value = material.size * pixelRatio;\n        uniforms.scale.value = height * 0.5;\n\n        if (material.map) {\n\n            uniforms.map.value = material.map;\n\n        }\n\n        if (material.alphaMap) {\n\n            uniforms.alphaMap.value = material.alphaMap;\n\n        }\n\n        // uv repeat and offset setting priorities\n        // 1. color map\n        // 2. alpha map\n\n        let uvScaleMap;\n\n        if (material.map) {\n\n            uvScaleMap = material.map;\n\n        } else if (material.alphaMap) {\n\n            uvScaleMap = material.alphaMap;\n\n        }\n\n        if (uvScaleMap !== undefined) {\n\n            if (uvScaleMap.matrixAutoUpdate === true) {\n\n                uvScaleMap.updateMatrix();\n\n            }\n\n            uniforms.uvTransform.value.copy(uvScaleMap.matrix);\n\n        }\n\n    }\n\n    function refreshUniformsSprites(uniforms, material) {\n\n        uniforms.diffuse.value.copy(material.color);\n        uniforms.opacity.value = material.opacity;\n        uniforms.rotation.value = material.rotation;\n\n        if (material.map) {\n\n            uniforms.map.value = material.map;\n\n        }\n\n        if (material.alphaMap) {\n\n            uniforms.alphaMap.value = material.alphaMap;\n\n        }\n\n        // uv repeat and offset setting priorities\n        // 1. color map\n        // 2. alpha map\n\n        let uvScaleMap;\n\n        if (material.map) {\n\n            uvScaleMap = material.map;\n\n        } else if (material.alphaMap) {\n\n            uvScaleMap = material.alphaMap;\n\n        }\n\n        if (uvScaleMap !== undefined) {\n\n            if (uvScaleMap.matrixAutoUpdate === true) {\n\n                uvScaleMap.updateMatrix();\n\n            }\n\n            uniforms.uvTransform.value.copy(uvScaleMap.matrix);\n\n        }\n\n    }\n\n    function refreshUniformsLambert(uniforms, material) {\n\n        if (material.emissiveMap) {\n\n            uniforms.emissiveMap.value = material.emissiveMap;\n\n        }\n\n    }\n\n    function refreshUniformsPhong(uniforms, material) {\n\n        uniforms.specular.value.copy(material.specular);\n        uniforms.shininess.value = Math.max(material.shininess, 1e-4); // to prevent pow( 0.0, 0.0 )\n\n        if (material.emissiveMap) {\n\n            uniforms.emissiveMap.value = material.emissiveMap;\n\n        }\n\n        if (material.bumpMap) {\n\n            uniforms.bumpMap.value = material.bumpMap;\n            uniforms.bumpScale.value = material.bumpScale;\n            if (material.side === BackSide) uniforms.bumpScale.value *= -1;\n\n        }\n\n        if (material.normalMap) {\n\n            uniforms.normalMap.value = material.normalMap;\n            uniforms.normalScale.value.copy(material.normalScale);\n            if (material.side === BackSide) uniforms.normalScale.value.negate();\n\n        }\n\n        if (material.displacementMap) {\n\n            uniforms.displacementMap.value = material.displacementMap;\n            uniforms.displacementScale.value = material.displacementScale;\n            uniforms.displacementBias.value = material.displacementBias;\n\n        }\n\n    }\n\n    function refreshUniformsToon(uniforms, material) {\n\n        if (material.gradientMap) {\n\n            uniforms.gradientMap.value = material.gradientMap;\n\n        }\n\n        if (material.emissiveMap) {\n\n            uniforms.emissiveMap.value = material.emissiveMap;\n\n        }\n\n        if (material.bumpMap) {\n\n            uniforms.bumpMap.value = material.bumpMap;\n            uniforms.bumpScale.value = material.bumpScale;\n            if (material.side === BackSide) uniforms.bumpScale.value *= -1;\n\n        }\n\n        if (material.normalMap) {\n\n            uniforms.normalMap.value = material.normalMap;\n            uniforms.normalScale.value.copy(material.normalScale);\n            if (material.side === BackSide) uniforms.normalScale.value.negate();\n\n        }\n\n        if (material.displacementMap) {\n\n            uniforms.displacementMap.value = material.displacementMap;\n            uniforms.displacementScale.value = material.displacementScale;\n            uniforms.displacementBias.value = material.displacementBias;\n\n        }\n\n    }\n\n    function refreshUniformsStandard(uniforms, material) {\n\n        uniforms.roughness.value = material.roughness;\n        uniforms.metalness.value = material.metalness;\n\n        if (material.roughnessMap) {\n\n            uniforms.roughnessMap.value = material.roughnessMap;\n\n        }\n\n        if (material.metalnessMap) {\n\n            uniforms.metalnessMap.value = material.metalnessMap;\n\n        }\n\n        if (material.emissiveMap) {\n\n            uniforms.emissiveMap.value = material.emissiveMap;\n\n        }\n\n        if (material.bumpMap) {\n\n            uniforms.bumpMap.value = material.bumpMap;\n            uniforms.bumpScale.value = material.bumpScale;\n            if (material.side === BackSide) uniforms.bumpScale.value *= -1;\n\n        }\n\n        if (material.normalMap) {\n\n            uniforms.normalMap.value = material.normalMap;\n            uniforms.normalScale.value.copy(material.normalScale);\n            if (material.side === BackSide) uniforms.normalScale.value.negate();\n\n        }\n\n        if (material.displacementMap) {\n\n            uniforms.displacementMap.value = material.displacementMap;\n            uniforms.displacementScale.value = material.displacementScale;\n            uniforms.displacementBias.value = material.displacementBias;\n\n        }\n\n        const envMap = properties.get(material).envMap;\n\n        if (envMap) {\n\n            //uniforms.envMap.value = material.envMap; // part of uniforms common\n            uniforms.envMapIntensity.value = material.envMapIntensity;\n\n        }\n\n    }\n\n    function refreshUniformsPhysical(uniforms, material) {\n\n        refreshUniformsStandard(uniforms, material);\n\n        uniforms.reflectivity.value = material.reflectivity; // also part of uniforms common\n\n        uniforms.clearcoat.value = material.clearcoat;\n        uniforms.clearcoatRoughness.value = material.clearcoatRoughness;\n        if (material.sheen) uniforms.sheen.value.copy(material.sheen);\n\n        if (material.clearcoatMap) {\n\n            uniforms.clearcoatMap.value = material.clearcoatMap;\n\n        }\n\n        if (material.clearcoatRoughnessMap) {\n\n            uniforms.clearcoatRoughnessMap.value = material.clearcoatRoughnessMap;\n\n        }\n\n        if (material.clearcoatNormalMap) {\n\n            uniforms.clearcoatNormalScale.value.copy(material.clearcoatNormalScale);\n            uniforms.clearcoatNormalMap.value = material.clearcoatNormalMap;\n\n            if (material.side === BackSide) {\n\n                uniforms.clearcoatNormalScale.value.negate();\n\n            }\n\n        }\n\n        uniforms.transmission.value = material.transmission;\n\n        if (material.transmissionMap) {\n\n            uniforms.transmissionMap.value = material.transmissionMap;\n\n        }\n\n    }\n\n    function refreshUniformsMatcap(uniforms, material) {\n\n        if (material.matcap) {\n\n            uniforms.matcap.value = material.matcap;\n\n        }\n\n        if (material.bumpMap) {\n\n            uniforms.bumpMap.value = material.bumpMap;\n            uniforms.bumpScale.value = material.bumpScale;\n            if (material.side === BackSide) uniforms.bumpScale.value *= -1;\n\n        }\n\n        if (material.normalMap) {\n\n            uniforms.normalMap.value = material.normalMap;\n            uniforms.normalScale.value.copy(material.normalScale);\n            if (material.side === BackSide) uniforms.normalScale.value.negate();\n\n        }\n\n        if (material.displacementMap) {\n\n            uniforms.displacementMap.value = material.displacementMap;\n            uniforms.displacementScale.value = material.displacementScale;\n            uniforms.displacementBias.value = material.displacementBias;\n\n        }\n\n    }\n\n    function refreshUniformsDepth(uniforms, material) {\n\n        if (material.displacementMap) {\n\n            uniforms.displacementMap.value = material.displacementMap;\n            uniforms.displacementScale.value = material.displacementScale;\n            uniforms.displacementBias.value = material.displacementBias;\n\n        }\n\n    }\n\n    function refreshUniformsDistance(uniforms, material) {\n\n        if (material.displacementMap) {\n\n            uniforms.displacementMap.value = material.displacementMap;\n            uniforms.displacementScale.value = material.displacementScale;\n            uniforms.displacementBias.value = material.displacementBias;\n\n        }\n\n        uniforms.referencePosition.value.copy(material.referencePosition);\n        uniforms.nearDistance.value = material.nearDistance;\n        uniforms.farDistance.value = material.farDistance;\n\n    }\n\n    function refreshUniformsNormal(uniforms, material) {\n\n        if (material.bumpMap) {\n\n            uniforms.bumpMap.value = material.bumpMap;\n            uniforms.bumpScale.value = material.bumpScale;\n            if (material.side === BackSide) uniforms.bumpScale.value *= -1;\n\n        }\n\n        if (material.normalMap) {\n\n            uniforms.normalMap.value = material.normalMap;\n            uniforms.normalScale.value.copy(material.normalScale);\n            if (material.side === BackSide) uniforms.normalScale.value.negate();\n\n        }\n\n        if (material.displacementMap) {\n\n            uniforms.displacementMap.value = material.displacementMap;\n            uniforms.displacementScale.value = material.displacementScale;\n            uniforms.displacementBias.value = material.displacementBias;\n\n        }\n\n    }\n\n    return {\n        refreshFogUniforms: refreshFogUniforms,\n        refreshMaterialUniforms: refreshMaterialUniforms\n    };\n\n}\n\nfunction WebGLRenderer(parameters) {\n\n    parameters = parameters || {};\n\n    const _canvas = parameters.canvas !== undefined ? parameters.canvas : document.createElementNS('http://www.w3.org/1999/xhtml', 'canvas'),\n        _context = parameters.context !== undefined ? parameters.context : null,\n\n        _alpha = parameters.alpha !== undefined ? parameters.alpha : false,\n        _depth = parameters.depth !== undefined ? parameters.depth : true,\n        _stencil = parameters.stencil !== undefined ? parameters.stencil : true,\n        _antialias = parameters.antialias !== undefined ? parameters.antialias : false,\n        _premultipliedAlpha = parameters.premultipliedAlpha !== undefined ? parameters.premultipliedAlpha : true,\n        _preserveDrawingBuffer = parameters.preserveDrawingBuffer !== undefined ? parameters.preserveDrawingBuffer : false,\n        _powerPreference = parameters.powerPreference !== undefined ? parameters.powerPreference : 'default',\n        _failIfMajorPerformanceCaveat = parameters.failIfMajorPerformanceCaveat !== undefined ? parameters.failIfMajorPerformanceCaveat : false;\n\n    let currentRenderList = null;\n    let currentRenderState = null;\n\n    // public properties\n\n    this.domElement = _canvas;\n\n    // Debug configuration container\n    this.debug = {\n\n        /**\n         * Enables error checking and reporting when shader programs are being compiled\n         * @type {boolean}\n         */\n        checkShaderErrors: true\n    };\n\n    // clearing\n\n    this.autoClear = true;\n    this.autoClearColor = true;\n    this.autoClearDepth = true;\n    this.autoClearStencil = true;\n\n    // scene graph\n\n    this.sortObjects = true;\n\n    // user-defined clipping\n\n    this.clippingPlanes = [];\n    this.localClippingEnabled = false;\n\n    // physically based shading\n\n    this.gammaFactor = 2.0; // for backwards compatibility\n    this.outputEncoding = LinearEncoding;\n\n    // physical lights\n\n    this.physicallyCorrectLights = false;\n\n    // tone mapping\n\n    this.toneMapping = NoToneMapping;\n    this.toneMappingExposure = 1.0;\n\n    // morphs\n\n    this.maxMorphTargets = 8;\n    this.maxMorphNormals = 4;\n\n    // internal properties\n\n    const _this = this;\n\n    let _isContextLost = false;\n\n    // internal state cache\n\n    let _framebuffer = null;\n\n    let _currentActiveCubeFace = 0;\n    let _currentActiveMipmapLevel = 0;\n    let _currentRenderTarget = null;\n    let _currentFramebuffer = null;\n    let _currentMaterialId = -1;\n\n    let _currentCamera = null;\n    let _currentArrayCamera = null;\n\n    const _currentViewport = new Vector4();\n    const _currentScissor = new Vector4();\n    let _currentScissorTest = null;\n\n    //\n\n    let _width = _canvas.width;\n    let _height = _canvas.height;\n\n    let _pixelRatio = 1;\n    let _opaqueSort = null;\n    let _transparentSort = null;\n\n    const _viewport = new Vector4(0, 0, _width, _height);\n    const _scissor = new Vector4(0, 0, _width, _height);\n    let _scissorTest = false;\n\n    // frustum\n\n    const _frustum = new Frustum();\n\n    // clipping\n\n    let _clippingEnabled = false;\n    let _localClippingEnabled = false;\n\n    // camera matrices cache\n\n    const _projScreenMatrix = new Matrix4();\n\n    const _vector3 = new Vector3();\n\n    const _emptyScene = {\n        background: null,\n        fog: null,\n        environment: null,\n        overrideMaterial: null,\n        isScene: true\n    };\n\n    function getTargetPixelRatio() {\n\n        return _currentRenderTarget === null ? _pixelRatio : 1;\n\n    }\n\n    // initialize\n\n    let _gl = _context;\n\n    function getContext(contextNames, contextAttributes) {\n\n        for (let i = 0; i < contextNames.length; i++) {\n\n            const contextName = contextNames[i];\n            const context = _canvas.getContext(contextName, contextAttributes);\n            if (context !== null) return context;\n\n        }\n\n        return null;\n\n    }\n\n    try {\n\n        const contextAttributes = {\n            alpha: _alpha,\n            depth: _depth,\n            stencil: _stencil,\n            antialias: _antialias,\n            premultipliedAlpha: _premultipliedAlpha,\n            preserveDrawingBuffer: _preserveDrawingBuffer,\n            powerPreference: _powerPreference,\n            failIfMajorPerformanceCaveat: _failIfMajorPerformanceCaveat\n        };\n\n        // event listeners must be registered before WebGL context is created, see #12753\n\n        _canvas.addEventListener('webglcontextlost', onContextLost, false);\n        _canvas.addEventListener('webglcontextrestored', onContextRestore, false);\n\n        if (_gl === null) {\n\n            const contextNames = ['webgl2', 'webgl', 'experimental-webgl'];\n\n            if (_this.isWebGL1Renderer === true) {\n\n                contextNames.shift();\n\n            }\n\n            _gl = getContext(contextNames, contextAttributes);\n\n            if (_gl === null) {\n\n                if (getContext(contextNames)) {\n\n                    throw new Error('Error creating WebGL context with your selected attributes.');\n\n                } else {\n\n                    throw new Error('Error creating WebGL context.');\n\n                }\n\n            }\n\n        }\n\n        // Some experimental-webgl implementations do not have getShaderPrecisionFormat\n\n        if (_gl.getShaderPrecisionFormat === undefined) {\n\n            _gl.getShaderPrecisionFormat = function() {\n\n                return {\n                    'rangeMin': 1,\n                    'rangeMax': 1,\n                    'precision': 1\n                };\n\n            };\n\n        }\n\n    } catch (error) {\n\n        console.error('THREE.WebGLRenderer: ' + error.message);\n        throw error;\n\n    }\n\n    let extensions, capabilities, state, info;\n    let properties, textures, cubemaps, attributes, geometries, objects;\n    let programCache, materials, renderLists, renderStates, clipping;\n\n    let background, morphtargets, bufferRenderer, indexedBufferRenderer;\n\n    let utils, bindingStates;\n\n    function initGLContext() {\n\n        extensions = new WebGLExtensions(_gl);\n\n        capabilities = new WebGLCapabilities(_gl, extensions, parameters);\n\n        if (capabilities.isWebGL2 === false) {\n\n            extensions.get('WEBGL_depth_texture');\n            extensions.get('OES_texture_float');\n            extensions.get('OES_texture_half_float');\n            extensions.get('OES_texture_half_float_linear');\n            extensions.get('OES_standard_derivatives');\n            extensions.get('OES_element_index_uint');\n            extensions.get('OES_vertex_array_object');\n            extensions.get('ANGLE_instanced_arrays');\n\n        }\n\n        extensions.get('OES_texture_float_linear');\n\n        utils = new WebGLUtils(_gl, extensions, capabilities);\n\n        state = new WebGLState(_gl, extensions, capabilities);\n        state.scissor(_currentScissor.copy(_scissor).multiplyScalar(_pixelRatio).floor());\n        state.viewport(_currentViewport.copy(_viewport).multiplyScalar(_pixelRatio).floor());\n\n        info = new WebGLInfo(_gl);\n        properties = new WebGLProperties();\n        textures = new WebGLTextures(_gl, extensions, state, properties, capabilities, utils, info);\n        cubemaps = new WebGLCubeMaps(_this);\n        attributes = new WebGLAttributes(_gl, capabilities);\n        bindingStates = new WebGLBindingStates(_gl, extensions, attributes, capabilities);\n        geometries = new WebGLGeometries(_gl, attributes, info, bindingStates);\n        objects = new WebGLObjects(_gl, geometries, attributes, info);\n        morphtargets = new WebGLMorphtargets(_gl);\n        clipping = new WebGLClipping(properties);\n        programCache = new WebGLPrograms(_this, cubemaps, extensions, capabilities, bindingStates, clipping);\n        materials = new WebGLMaterials(properties);\n        renderLists = new WebGLRenderLists(properties);\n        renderStates = new WebGLRenderStates(extensions, capabilities);\n        background = new WebGLBackground(_this, cubemaps, state, objects, _premultipliedAlpha);\n\n        bufferRenderer = new WebGLBufferRenderer(_gl, extensions, info, capabilities);\n        indexedBufferRenderer = new WebGLIndexedBufferRenderer(_gl, extensions, info, capabilities);\n\n        info.programs = programCache.programs;\n\n        _this.capabilities = capabilities;\n        _this.extensions = extensions;\n        _this.properties = properties;\n        _this.renderLists = renderLists;\n        _this.state = state;\n        _this.info = info;\n\n    }\n\n    initGLContext();\n\n    // xr\n\n    const xr = new WebXRManager(_this, _gl);\n\n    this.xr = xr;\n\n    // shadow map\n\n    const shadowMap = new WebGLShadowMap(_this, objects, capabilities.maxTextureSize);\n\n    this.shadowMap = shadowMap;\n\n    // API\n\n    this.getContext = function() {\n\n        return _gl;\n\n    };\n\n    this.getContextAttributes = function() {\n\n        return _gl.getContextAttributes();\n\n    };\n\n    this.forceContextLoss = function() {\n\n        const extension = extensions.get('WEBGL_lose_context');\n        if (extension) extension.loseContext();\n\n    };\n\n    this.forceContextRestore = function() {\n\n        const extension = extensions.get('WEBGL_lose_context');\n        if (extension) extension.restoreContext();\n\n    };\n\n    this.getPixelRatio = function() {\n\n        return _pixelRatio;\n\n    };\n\n    this.setPixelRatio = function(value) {\n\n        if (value === undefined) return;\n\n        _pixelRatio = value;\n\n        this.setSize(_width, _height, false);\n\n    };\n\n    this.getSize = function(target) {\n\n        if (target === undefined) {\n\n            console.warn('WebGLRenderer: .getsize() now requires a Vector2 as an argument');\n\n            target = new Vector2();\n\n        }\n\n        return target.set(_width, _height);\n\n    };\n\n    this.setSize = function(width, height, updateStyle) {\n\n        if (xr.isPresenting) {\n\n            console.warn('THREE.WebGLRenderer: Can\\'t change size while VR device is presenting.');\n            return;\n\n        }\n\n        _width = width;\n        _height = height;\n\n        _canvas.width = Math.floor(width * _pixelRatio);\n        _canvas.height = Math.floor(height * _pixelRatio);\n\n        if (updateStyle !== false) {\n\n            _canvas.style.width = width + 'px';\n            _canvas.style.height = height + 'px';\n\n        }\n\n        this.setViewport(0, 0, width, height);\n\n    };\n\n    this.getDrawingBufferSize = function(target) {\n\n        if (target === undefined) {\n\n            console.warn('WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument');\n\n            target = new Vector2();\n\n        }\n\n        return target.set(_width * _pixelRatio, _height * _pixelRatio).floor();\n\n    };\n\n    this.setDrawingBufferSize = function(width, height, pixelRatio) {\n\n        _width = width;\n        _height = height;\n\n        _pixelRatio = pixelRatio;\n\n        _canvas.width = Math.floor(width * pixelRatio);\n        _canvas.height = Math.floor(height * pixelRatio);\n\n        this.setViewport(0, 0, width, height);\n\n    };\n\n    this.getCurrentViewport = function(target) {\n\n        if (target === undefined) {\n\n            console.warn('WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument');\n\n            target = new Vector4();\n\n        }\n\n        return target.copy(_currentViewport);\n\n    };\n\n    this.getViewport = function(target) {\n\n        return target.copy(_viewport);\n\n    };\n\n    this.setViewport = function(x, y, width, height) {\n\n        if (x.isVector4) {\n\n            _viewport.set(x.x, x.y, x.z, x.w);\n\n        } else {\n\n            _viewport.set(x, y, width, height);\n\n        }\n\n        state.viewport(_currentViewport.copy(_viewport).multiplyScalar(_pixelRatio).floor());\n\n    };\n\n    this.getScissor = function(target) {\n\n        return target.copy(_scissor);\n\n    };\n\n    this.setScissor = function(x, y, width, height) {\n\n        if (x.isVector4) {\n\n            _scissor.set(x.x, x.y, x.z, x.w);\n\n        } else {\n\n            _scissor.set(x, y, width, height);\n\n        }\n\n        state.scissor(_currentScissor.copy(_scissor).multiplyScalar(_pixelRatio).floor());\n\n    };\n\n    this.getScissorTest = function() {\n\n        return _scissorTest;\n\n    };\n\n    this.setScissorTest = function(boolean) {\n\n        state.setScissorTest(_scissorTest = boolean);\n\n    };\n\n    this.setOpaqueSort = function(method) {\n\n        _opaqueSort = method;\n\n    };\n\n    this.setTransparentSort = function(method) {\n\n        _transparentSort = method;\n\n    };\n\n    // Clearing\n\n    this.getClearColor = function() {\n\n        return background.getClearColor();\n\n    };\n\n    this.setClearColor = function() {\n\n        background.setClearColor.apply(background, arguments);\n\n    };\n\n    this.getClearAlpha = function() {\n\n        return background.getClearAlpha();\n\n    };\n\n    this.setClearAlpha = function() {\n\n        background.setClearAlpha.apply(background, arguments);\n\n    };\n\n    this.clear = function(color, depth, stencil) {\n\n        let bits = 0;\n\n        if (color === undefined || color) bits |= 16384;\n        if (depth === undefined || depth) bits |= 256;\n        if (stencil === undefined || stencil) bits |= 1024;\n\n        _gl.clear(bits);\n\n    };\n\n    this.clearColor = function() {\n\n        this.clear(true, false, false);\n\n    };\n\n    this.clearDepth = function() {\n\n        this.clear(false, true, false);\n\n    };\n\n    this.clearStencil = function() {\n\n        this.clear(false, false, true);\n\n    };\n\n    //\n\n    this.dispose = function() {\n\n        _canvas.removeEventListener('webglcontextlost', onContextLost, false);\n        _canvas.removeEventListener('webglcontextrestored', onContextRestore, false);\n\n        renderLists.dispose();\n        renderStates.dispose();\n        properties.dispose();\n        cubemaps.dispose();\n        objects.dispose();\n        bindingStates.dispose();\n\n        xr.dispose();\n\n        animation.stop();\n\n    };\n\n    // Events\n\n    function onContextLost(event) {\n\n        event.preventDefault();\n\n        console.log('THREE.WebGLRenderer: Context Lost.');\n\n        _isContextLost = true;\n\n    }\n\n    function onContextRestore( /* event */ ) {\n\n        console.log('THREE.WebGLRenderer: Context Restored.');\n\n        _isContextLost = false;\n\n        initGLContext();\n\n    }\n\n    function onMaterialDispose(event) {\n\n        const material = event.target;\n\n        material.removeEventListener('dispose', onMaterialDispose);\n\n        deallocateMaterial(material);\n\n    }\n\n    // Buffer deallocation\n\n    function deallocateMaterial(material) {\n\n        releaseMaterialProgramReference(material);\n\n        properties.remove(material);\n\n    }\n\n\n    function releaseMaterialProgramReference(material) {\n\n        const programInfo = properties.get(material).program;\n\n        if (programInfo !== undefined) {\n\n            programCache.releaseProgram(programInfo);\n\n        }\n\n    }\n\n    // Buffer rendering\n\n    function renderObjectImmediate(object, program) {\n\n        object.render(function(object) {\n\n            _this.renderBufferImmediate(object, program);\n\n        });\n\n    }\n\n    this.renderBufferImmediate = function(object, program) {\n\n        bindingStates.initAttributes();\n\n        const buffers = properties.get(object);\n\n        if (object.hasPositions && !buffers.position) buffers.position = _gl.createBuffer();\n        if (object.hasNormals && !buffers.normal) buffers.normal = _gl.createBuffer();\n        if (object.hasUvs && !buffers.uv) buffers.uv = _gl.createBuffer();\n        if (object.hasColors && !buffers.color) buffers.color = _gl.createBuffer();\n\n        const programAttributes = program.getAttributes();\n\n        if (object.hasPositions) {\n\n            _gl.bindBuffer(34962, buffers.position);\n            _gl.bufferData(34962, object.positionArray, 35048);\n\n            bindingStates.enableAttribute(programAttributes.position);\n            _gl.vertexAttribPointer(programAttributes.position, 3, 5126, false, 0, 0);\n\n        }\n\n        if (object.hasNormals) {\n\n            _gl.bindBuffer(34962, buffers.normal);\n            _gl.bufferData(34962, object.normalArray, 35048);\n\n            bindingStates.enableAttribute(programAttributes.normal);\n            _gl.vertexAttribPointer(programAttributes.normal, 3, 5126, false, 0, 0);\n\n        }\n\n        if (object.hasUvs) {\n\n            _gl.bindBuffer(34962, buffers.uv);\n            _gl.bufferData(34962, object.uvArray, 35048);\n\n            bindingStates.enableAttribute(programAttributes.uv);\n            _gl.vertexAttribPointer(programAttributes.uv, 2, 5126, false, 0, 0);\n\n        }\n\n        if (object.hasColors) {\n\n            _gl.bindBuffer(34962, buffers.color);\n            _gl.bufferData(34962, object.colorArray, 35048);\n\n            bindingStates.enableAttribute(programAttributes.color);\n            _gl.vertexAttribPointer(programAttributes.color, 3, 5126, false, 0, 0);\n\n        }\n\n        bindingStates.disableUnusedAttributes();\n\n        _gl.drawArrays(4, 0, object.count);\n\n        object.count = 0;\n\n    };\n\n    this.renderBufferDirect = function(camera, scene, geometry, material, object, group) {\n\n        if (scene === null) scene = _emptyScene; // renderBufferDirect second parameter used to be fog (could be null)\n\n        const frontFaceCW = (object.isMesh && object.matrixWorld.determinant() < 0);\n\n        const program = setProgram(camera, scene, material, object);\n\n        state.setMaterial(material, frontFaceCW);\n\n        //\n\n        let index = geometry.index;\n        const position = geometry.attributes.position;\n\n        //\n\n        if (index === null) {\n\n            if (position === undefined || position.count === 0) return;\n\n        } else if (index.count === 0) {\n\n            return;\n\n        }\n\n        //\n\n        let rangeFactor = 1;\n\n        if (material.wireframe === true) {\n\n            index = geometries.getWireframeAttribute(geometry);\n            rangeFactor = 2;\n\n        }\n\n        if (material.morphTargets || material.morphNormals) {\n\n            morphtargets.update(object, geometry, material, program);\n\n        }\n\n        bindingStates.setup(object, material, program, geometry, index);\n\n        let attribute;\n        let renderer = bufferRenderer;\n\n        if (index !== null) {\n\n            attribute = attributes.get(index);\n\n            renderer = indexedBufferRenderer;\n            renderer.setIndex(attribute);\n\n        }\n\n        //\n\n        const dataCount = (index !== null) ? index.count : position.count;\n\n        const rangeStart = geometry.drawRange.start * rangeFactor;\n        const rangeCount = geometry.drawRange.count * rangeFactor;\n\n        const groupStart = group !== null ? group.start * rangeFactor : 0;\n        const groupCount = group !== null ? group.count * rangeFactor : Infinity;\n\n        const drawStart = Math.max(rangeStart, groupStart);\n        const drawEnd = Math.min(dataCount, rangeStart + rangeCount, groupStart + groupCount) - 1;\n\n        const drawCount = Math.max(0, drawEnd - drawStart + 1);\n\n        if (drawCount === 0) return;\n\n        //\n\n        if (object.isMesh) {\n\n            if (material.wireframe === true) {\n\n                state.setLineWidth(material.wireframeLinewidth * getTargetPixelRatio());\n                renderer.setMode(1);\n\n            } else {\n\n                renderer.setMode(4);\n\n            }\n\n        } else if (object.isLine) {\n\n            let lineWidth = material.linewidth;\n\n            if (lineWidth === undefined) lineWidth = 1; // Not using Line*Material\n\n            state.setLineWidth(lineWidth * getTargetPixelRatio());\n\n            if (object.isLineSegments) {\n\n                renderer.setMode(1);\n\n            } else if (object.isLineLoop) {\n\n                renderer.setMode(2);\n\n            } else {\n\n                renderer.setMode(3);\n\n            }\n\n        } else if (object.isPoints) {\n\n            renderer.setMode(0);\n\n        } else if (object.isSprite) {\n\n            renderer.setMode(4);\n\n        }\n\n        if (object.isInstancedMesh) {\n\n            renderer.renderInstances(drawStart, drawCount, object.count);\n\n        } else if (geometry.isInstancedBufferGeometry) {\n\n            const instanceCount = Math.min(geometry.instanceCount, geometry._maxInstanceCount);\n\n            renderer.renderInstances(drawStart, drawCount, instanceCount);\n\n        } else {\n\n            renderer.render(drawStart, drawCount);\n\n        }\n\n    };\n\n    // Compile\n\n    this.compile = function(scene, camera) {\n\n        currentRenderState = renderStates.get(scene, camera);\n        currentRenderState.init();\n\n        scene.traverseVisible(function(object) {\n\n            if (object.isLight && object.layers.test(camera.layers)) {\n\n                currentRenderState.pushLight(object);\n\n                if (object.castShadow) {\n\n                    currentRenderState.pushShadow(object);\n\n                }\n\n            }\n\n        });\n\n        currentRenderState.setupLights(camera);\n\n        const compiled = new WeakMap();\n\n        scene.traverse(function(object) {\n\n            const material = object.material;\n\n            if (material) {\n\n                if (Array.isArray(material)) {\n\n                    for (let i = 0; i < material.length; i++) {\n\n                        const material2 = material[i];\n\n                        if (compiled.has(material2) === false) {\n\n                            initMaterial(material2, scene, object);\n                            compiled.set(material2);\n\n                        }\n\n                    }\n\n                } else if (compiled.has(material) === false) {\n\n                    initMaterial(material, scene, object);\n                    compiled.set(material);\n\n                }\n\n            }\n\n        });\n\n    };\n\n    // Animation Loop\n\n    let onAnimationFrameCallback = null;\n\n    function onAnimationFrame(time) {\n\n        if (xr.isPresenting) return;\n        if (onAnimationFrameCallback) onAnimationFrameCallback(time);\n\n    }\n\n    const animation = new WebGLAnimation();\n    animation.setAnimationLoop(onAnimationFrame);\n\n    if (typeof window !== 'undefined') animation.setContext(window);\n\n    this.setAnimationLoop = function(callback) {\n\n        onAnimationFrameCallback = callback;\n        xr.setAnimationLoop(callback);\n\n        (callback === null) ? animation.stop(): animation.start();\n\n    };\n\n    // Rendering\n\n    this.render = function(scene, camera) {\n\n        let renderTarget, forceClear;\n\n        if (arguments[2] !== undefined) {\n\n            console.warn('THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead.');\n            renderTarget = arguments[2];\n\n        }\n\n        if (arguments[3] !== undefined) {\n\n            console.warn('THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead.');\n            forceClear = arguments[3];\n\n        }\n\n        if (camera !== undefined && camera.isCamera !== true) {\n\n            console.error('THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.');\n            return;\n\n        }\n\n        if (_isContextLost === true) return;\n\n        // reset caching for this frame\n\n        bindingStates.resetDefaultState();\n        _currentMaterialId = -1;\n        _currentCamera = null;\n\n        // update scene graph\n\n        if (scene.autoUpdate === true) scene.updateMatrixWorld();\n\n        // update camera matrices and frustum\n\n        if (camera.parent === null) camera.updateMatrixWorld();\n\n        if (xr.enabled === true && xr.isPresenting === true) {\n\n            camera = xr.getCamera(camera);\n\n        }\n\n        //\n        if (scene.isScene === true) scene.onBeforeRender(_this, scene, camera, renderTarget || _currentRenderTarget);\n\n        currentRenderState = renderStates.get(scene, camera);\n        currentRenderState.init();\n\n        _projScreenMatrix.multiplyMatrices(camera.projectionMatrix, camera.matrixWorldInverse);\n        _frustum.setFromProjectionMatrix(_projScreenMatrix);\n\n        _localClippingEnabled = this.localClippingEnabled;\n        _clippingEnabled = clipping.init(this.clippingPlanes, _localClippingEnabled, camera);\n\n        currentRenderList = renderLists.get(scene, camera);\n        currentRenderList.init();\n\n        projectObject(scene, camera, 0, _this.sortObjects);\n\n        currentRenderList.finish();\n\n        if (_this.sortObjects === true) {\n\n            currentRenderList.sort(_opaqueSort, _transparentSort);\n\n        }\n\n        //\n\n        if (_clippingEnabled === true) clipping.beginShadows();\n\n        const shadowsArray = currentRenderState.state.shadowsArray;\n\n        shadowMap.render(shadowsArray, scene, camera);\n\n        currentRenderState.setupLights(camera);\n\n        if (_clippingEnabled === true) clipping.endShadows();\n\n        //\n\n        if (this.info.autoReset === true) this.info.reset();\n\n        if (renderTarget !== undefined) {\n\n            this.setRenderTarget(renderTarget);\n\n        }\n\n        //\n\n        background.render(currentRenderList, scene, camera, forceClear);\n\n        // render scene\n\n        const opaqueObjects = currentRenderList.opaque;\n        const transparentObjects = currentRenderList.transparent;\n\n        if (opaqueObjects.length > 0) renderObjects(opaqueObjects, scene, camera);\n        if (transparentObjects.length > 0) renderObjects(transparentObjects, scene, camera);\n\n        //\n\n        if (scene.isScene === true) scene.onAfterRender(_this, scene, camera);\n\n        //\n\n        if (_currentRenderTarget !== null) {\n\n            // Generate mipmap if we're using any kind of mipmap filtering\n\n            textures.updateRenderTargetMipmap(_currentRenderTarget);\n\n            // resolve multisample renderbuffers to a single-sample texture if necessary\n\n            textures.updateMultisampleRenderTarget(_currentRenderTarget);\n\n        }\n\n        // Ensure depth buffer writing is enabled so it can be cleared on next render\n\n        state.buffers.depth.setTest(true);\n        state.buffers.depth.setMask(true);\n        state.buffers.color.setMask(true);\n\n        state.setPolygonOffset(false);\n\n        // _gl.finish();\n\n        currentRenderList = null;\n        currentRenderState = null;\n\n    };\n\n    function projectObject(object, camera, groupOrder, sortObjects) {\n\n        if (object.visible === false) return;\n\n        const visible = object.layers.test(camera.layers);\n\n        if (visible) {\n\n            if (object.isGroup) {\n\n                groupOrder = object.renderOrder;\n\n            } else if (object.isLOD) {\n\n                if (object.autoUpdate === true) object.update(camera);\n\n            } else if (object.isLight) {\n\n                currentRenderState.pushLight(object);\n\n                if (object.castShadow) {\n\n                    currentRenderState.pushShadow(object);\n\n                }\n\n            } else if (object.isSprite) {\n\n                if (!object.frustumCulled || _frustum.intersectsSprite(object)) {\n\n                    if (sortObjects) {\n\n                        _vector3.setFromMatrixPosition(object.matrixWorld)\n                            .applyMatrix4(_projScreenMatrix);\n\n                    }\n\n                    const geometry = objects.update(object);\n                    const material = object.material;\n\n                    if (material.visible) {\n\n                        currentRenderList.push(object, geometry, material, groupOrder, _vector3.z, null);\n\n                    }\n\n                }\n\n            } else if (object.isImmediateRenderObject) {\n\n                if (sortObjects) {\n\n                    _vector3.setFromMatrixPosition(object.matrixWorld)\n                        .applyMatrix4(_projScreenMatrix);\n\n                }\n\n                currentRenderList.push(object, null, object.material, groupOrder, _vector3.z, null);\n\n            } else if (object.isMesh || object.isLine || object.isPoints) {\n\n                if (object.isSkinnedMesh) {\n\n                    // update skeleton only once in a frame\n\n                    if (object.skeleton.frame !== info.render.frame) {\n\n                        object.skeleton.update();\n                        object.skeleton.frame = info.render.frame;\n\n                    }\n\n                }\n\n                if (!object.frustumCulled || _frustum.intersectsObject(object)) {\n\n                    if (sortObjects) {\n\n                        _vector3.setFromMatrixPosition(object.matrixWorld)\n                            .applyMatrix4(_projScreenMatrix);\n\n                    }\n\n                    const geometry = objects.update(object);\n                    const material = object.material;\n\n                    if (Array.isArray(material)) {\n\n                        const groups = geometry.groups;\n\n                        for (let i = 0, l = groups.length; i < l; i++) {\n\n                            const group = groups[i];\n                            const groupMaterial = material[group.materialIndex];\n\n                            if (groupMaterial && groupMaterial.visible) {\n\n                                currentRenderList.push(object, geometry, groupMaterial, groupOrder, _vector3.z, group);\n\n                            }\n\n                        }\n\n                    } else if (material.visible) {\n\n                        currentRenderList.push(object, geometry, material, groupOrder, _vector3.z, null);\n\n                    }\n\n                }\n\n            }\n\n        }\n\n        const children = object.children;\n\n        for (let i = 0, l = children.length; i < l; i++) {\n\n            projectObject(children[i], camera, groupOrder, sortObjects);\n\n        }\n\n    }\n\n    function renderObjects(renderList, scene, camera) {\n\n        const overrideMaterial = scene.isScene === true ? scene.overrideMaterial : null;\n\n        for (let i = 0, l = renderList.length; i < l; i++) {\n\n            const renderItem = renderList[i];\n\n            const object = renderItem.object;\n            const geometry = renderItem.geometry;\n            const material = overrideMaterial === null ? renderItem.material : overrideMaterial;\n            const group = renderItem.group;\n\n            if (camera.isArrayCamera) {\n\n                _currentArrayCamera = camera;\n\n                const cameras = camera.cameras;\n\n                for (let j = 0, jl = cameras.length; j < jl; j++) {\n\n                    const camera2 = cameras[j];\n\n                    if (object.layers.test(camera2.layers)) {\n\n                        state.viewport(_currentViewport.copy(camera2.viewport));\n\n                        currentRenderState.setupLights(camera2);\n\n                        renderObject(object, scene, camera2, geometry, material, group);\n\n                    }\n\n                }\n\n            } else {\n\n                _currentArrayCamera = null;\n\n                renderObject(object, scene, camera, geometry, material, group);\n\n            }\n\n        }\n\n    }\n\n    function renderObject(object, scene, camera, geometry, material, group) {\n\n        object.onBeforeRender(_this, scene, camera, geometry, material, group);\n        currentRenderState = renderStates.get(scene, _currentArrayCamera || camera);\n\n        object.modelViewMatrix.multiplyMatrices(camera.matrixWorldInverse, object.matrixWorld);\n        object.normalMatrix.getNormalMatrix(object.modelViewMatrix);\n\n        if (object.isImmediateRenderObject) {\n\n            const program = setProgram(camera, scene, material, object);\n\n            state.setMaterial(material);\n\n            bindingStates.reset();\n\n            renderObjectImmediate(object, program);\n\n        } else {\n\n            _this.renderBufferDirect(camera, scene, geometry, material, object, group);\n\n        }\n\n        object.onAfterRender(_this, scene, camera, geometry, material, group);\n        currentRenderState = renderStates.get(scene, _currentArrayCamera || camera);\n\n    }\n\n    function initMaterial(material, scene, object) {\n\n        if (scene.isScene !== true) scene = _emptyScene; // scene could be a Mesh, Line, Points, ...\n\n        const materialProperties = properties.get(material);\n\n        const lights = currentRenderState.state.lights;\n        const shadowsArray = currentRenderState.state.shadowsArray;\n\n        const lightsStateVersion = lights.state.version;\n\n        const parameters = programCache.getParameters(material, lights.state, shadowsArray, scene, object);\n        const programCacheKey = programCache.getProgramCacheKey(parameters);\n\n        let program = materialProperties.program;\n        let programChange = true;\n\n        if (program === undefined) {\n\n            // new material\n            material.addEventListener('dispose', onMaterialDispose);\n\n        } else if (program.cacheKey !== programCacheKey) {\n\n            // changed glsl or parameters\n            releaseMaterialProgramReference(material);\n\n        } else if (materialProperties.lightsStateVersion !== lightsStateVersion) {\n\n            programChange = false;\n\n        } else if (parameters.shaderID !== undefined) {\n\n            // same glsl and uniform list, envMap still needs the update here to avoid a frame-late effect\n\n            const environment = material.isMeshStandardMaterial ? scene.environment : null;\n            materialProperties.envMap = cubemaps.get(material.envMap || environment);\n\n            return;\n\n        } else {\n\n            // only rebuild uniform list\n            programChange = false;\n\n        }\n\n        if (programChange) {\n\n            parameters.uniforms = programCache.getUniforms(material);\n\n            material.onBeforeCompile(parameters, _this);\n\n            program = programCache.acquireProgram(parameters, programCacheKey);\n\n            materialProperties.program = program;\n            materialProperties.uniforms = parameters.uniforms;\n            materialProperties.outputEncoding = parameters.outputEncoding;\n\n        }\n\n        const uniforms = materialProperties.uniforms;\n\n        if (!material.isShaderMaterial &&\n            !material.isRawShaderMaterial ||\n            material.clipping === true) {\n\n            materialProperties.numClippingPlanes = clipping.numPlanes;\n            materialProperties.numIntersection = clipping.numIntersection;\n            uniforms.clippingPlanes = clipping.uniform;\n\n        }\n\n        materialProperties.environment = material.isMeshStandardMaterial ? scene.environment : null;\n        materialProperties.fog = scene.fog;\n        materialProperties.envMap = cubemaps.get(material.envMap || materialProperties.environment);\n\n        // store the light setup it was created for\n\n        materialProperties.needsLights = materialNeedsLights(material);\n        materialProperties.lightsStateVersion = lightsStateVersion;\n\n        if (materialProperties.needsLights) {\n\n            // wire up the material to this renderer's lighting state\n\n            uniforms.ambientLightColor.value = lights.state.ambient;\n            uniforms.lightProbe.value = lights.state.probe;\n            uniforms.directionalLights.value = lights.state.directional;\n            uniforms.directionalLightShadows.value = lights.state.directionalShadow;\n            uniforms.spotLights.value = lights.state.spot;\n            uniforms.spotLightShadows.value = lights.state.spotShadow;\n            uniforms.rectAreaLights.value = lights.state.rectArea;\n            uniforms.ltc_1.value = lights.state.rectAreaLTC1;\n            uniforms.ltc_2.value = lights.state.rectAreaLTC2;\n            uniforms.pointLights.value = lights.state.point;\n            uniforms.pointLightShadows.value = lights.state.pointShadow;\n            uniforms.hemisphereLights.value = lights.state.hemi;\n\n            uniforms.directionalShadowMap.value = lights.state.directionalShadowMap;\n            uniforms.directionalShadowMatrix.value = lights.state.directionalShadowMatrix;\n            uniforms.spotShadowMap.value = lights.state.spotShadowMap;\n            uniforms.spotShadowMatrix.value = lights.state.spotShadowMatrix;\n            uniforms.pointShadowMap.value = lights.state.pointShadowMap;\n            uniforms.pointShadowMatrix.value = lights.state.pointShadowMatrix;\n            // TODO (abelnation): add area lights shadow info to uniforms\n\n        }\n\n        const progUniforms = materialProperties.program.getUniforms();\n        const uniformsList = WebGLUniforms.seqWithValue(progUniforms.seq, uniforms);\n\n        materialProperties.uniformsList = uniformsList;\n\n    }\n\n    function setProgram(camera, scene, material, object) {\n\n        if (scene.isScene !== true) scene = _emptyScene; // scene could be a Mesh, Line, Points, ...\n\n        textures.resetTextureUnits();\n\n        const fog = scene.fog;\n        const environment = material.isMeshStandardMaterial ? scene.environment : null;\n        const encoding = (_currentRenderTarget === null) ? _this.outputEncoding : _currentRenderTarget.texture.encoding;\n        const envMap = cubemaps.get(material.envMap || environment);\n\n        const materialProperties = properties.get(material);\n        const lights = currentRenderState.state.lights;\n\n        if (_clippingEnabled === true) {\n\n            if (_localClippingEnabled === true || camera !== _currentCamera) {\n\n                const useCache =\n                    camera === _currentCamera &&\n                    material.id === _currentMaterialId;\n\n                // we might want to call this function with some ClippingGroup\n                // object instead of the material, once it becomes feasible\n                // (#8465, #8379)\n                clipping.setState(material, camera, useCache);\n\n            }\n\n        }\n\n        if (material.version === materialProperties.__version) {\n\n            if (material.fog && materialProperties.fog !== fog) {\n\n                initMaterial(material, scene, object);\n\n            } else if (materialProperties.environment !== environment) {\n\n                initMaterial(material, scene, object);\n\n            } else if (materialProperties.needsLights && (materialProperties.lightsStateVersion !== lights.state.version)) {\n\n                initMaterial(material, scene, object);\n\n            } else if (materialProperties.numClippingPlanes !== undefined &&\n                (materialProperties.numClippingPlanes !== clipping.numPlanes ||\n                    materialProperties.numIntersection !== clipping.numIntersection)) {\n\n                initMaterial(material, scene, object);\n\n            } else if (materialProperties.outputEncoding !== encoding) {\n\n                initMaterial(material, scene, object);\n\n            } else if (materialProperties.envMap !== envMap) {\n\n                initMaterial(material, scene, object);\n\n            }\n\n        } else {\n\n            initMaterial(material, scene, object);\n            materialProperties.__version = material.version;\n\n        }\n\n        let refreshProgram = false;\n        let refreshMaterial = false;\n        let refreshLights = false;\n\n        const program = materialProperties.program,\n            p_uniforms = program.getUniforms(),\n            m_uniforms = materialProperties.uniforms;\n\n        if (state.useProgram(program.program)) {\n\n            refreshProgram = true;\n            refreshMaterial = true;\n            refreshLights = true;\n\n        }\n\n        if (material.id !== _currentMaterialId) {\n\n            _currentMaterialId = material.id;\n\n            refreshMaterial = true;\n\n        }\n\n        if (refreshProgram || _currentCamera !== camera) {\n\n            p_uniforms.setValue(_gl, 'projectionMatrix', camera.projectionMatrix);\n\n            if (capabilities.logarithmicDepthBuffer) {\n\n                p_uniforms.setValue(_gl, 'logDepthBufFC',\n                    2.0 / (Math.log(camera.far + 1.0) / Math.LN2));\n\n            }\n\n            if (_currentCamera !== camera) {\n\n                _currentCamera = camera;\n\n                // lighting uniforms depend on the camera so enforce an update\n                // now, in case this material supports lights - or later, when\n                // the next material that does gets activated:\n\n                refreshMaterial = true; // set to true on material change\n                refreshLights = true; // remains set until update done\n\n            }\n\n            // load material specific uniforms\n            // (shader material also gets them for the sake of genericity)\n\n            if (material.isShaderMaterial ||\n                material.isMeshPhongMaterial ||\n                material.isMeshToonMaterial ||\n                material.isMeshStandardMaterial ||\n                material.envMap) {\n\n                const uCamPos = p_uniforms.map.cameraPosition;\n\n                if (uCamPos !== undefined) {\n\n                    uCamPos.setValue(_gl,\n                        _vector3.setFromMatrixPosition(camera.matrixWorld));\n\n                }\n\n            }\n\n            if (material.isMeshPhongMaterial ||\n                material.isMeshToonMaterial ||\n                material.isMeshLambertMaterial ||\n                material.isMeshBasicMaterial ||\n                material.isMeshStandardMaterial ||\n                material.isShaderMaterial) {\n\n                p_uniforms.setValue(_gl, 'isOrthographic', camera.isOrthographicCamera === true);\n\n            }\n\n            if (material.isMeshPhongMaterial ||\n                material.isMeshToonMaterial ||\n                material.isMeshLambertMaterial ||\n                material.isMeshBasicMaterial ||\n                material.isMeshStandardMaterial ||\n                material.isShaderMaterial ||\n                material.isShadowMaterial ||\n                material.skinning) {\n\n                p_uniforms.setValue(_gl, 'viewMatrix', camera.matrixWorldInverse);\n\n            }\n\n        }\n\n        // skinning uniforms must be set even if material didn't change\n        // auto-setting of texture unit for bone texture must go before other textures\n        // otherwise textures used for skinning can take over texture units reserved for other material textures\n\n        if (material.skinning) {\n\n            p_uniforms.setOptional(_gl, object, 'bindMatrix');\n            p_uniforms.setOptional(_gl, object, 'bindMatrixInverse');\n\n            const skeleton = object.skeleton;\n\n            if (skeleton) {\n\n                const bones = skeleton.bones;\n\n                if (capabilities.floatVertexTextures) {\n\n                    if (skeleton.boneTexture === undefined) {\n\n                        // layout (1 matrix = 4 pixels)\n                        //      RGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)\n                        //  with  8x8  pixel texture max   16 bones * 4 pixels =  (8 * 8)\n                        //       16x16 pixel texture max   64 bones * 4 pixels = (16 * 16)\n                        //       32x32 pixel texture max  256 bones * 4 pixels = (32 * 32)\n                        //       64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)\n\n\n                        let size = Math.sqrt(bones.length * 4); // 4 pixels needed for 1 matrix\n                        size = MathUtils.ceilPowerOfTwo(size);\n                        size = Math.max(size, 4);\n\n                        const boneMatrices = new Float32Array(size * size * 4); // 4 floats per RGBA pixel\n                        boneMatrices.set(skeleton.boneMatrices); // copy current values\n\n                        const boneTexture = new DataTexture(boneMatrices, size, size, RGBAFormat, FloatType);\n\n                        skeleton.boneMatrices = boneMatrices;\n                        skeleton.boneTexture = boneTexture;\n                        skeleton.boneTextureSize = size;\n\n                    }\n\n                    p_uniforms.setValue(_gl, 'boneTexture', skeleton.boneTexture, textures);\n                    p_uniforms.setValue(_gl, 'boneTextureSize', skeleton.boneTextureSize);\n\n                } else {\n\n                    p_uniforms.setOptional(_gl, skeleton, 'boneMatrices');\n\n                }\n\n            }\n\n        }\n\n        if (refreshMaterial || materialProperties.receiveShadow !== object.receiveShadow) {\n\n            materialProperties.receiveShadow = object.receiveShadow;\n            p_uniforms.setValue(_gl, 'receiveShadow', object.receiveShadow);\n\n        }\n\n        if (refreshMaterial) {\n\n            p_uniforms.setValue(_gl, 'toneMappingExposure', _this.toneMappingExposure);\n\n            if (materialProperties.needsLights) {\n\n                // the current material requires lighting info\n\n                // note: all lighting uniforms are always set correctly\n                // they simply reference the renderer's state for their\n                // values\n                //\n                // use the current material's .needsUpdate flags to set\n                // the GL state when required\n\n                markUniformsLightsNeedsUpdate(m_uniforms, refreshLights);\n\n            }\n\n            // refresh uniforms common to several materials\n\n            if (fog && material.fog) {\n\n                materials.refreshFogUniforms(m_uniforms, fog);\n\n            }\n\n            materials.refreshMaterialUniforms(m_uniforms, material, _pixelRatio, _height);\n\n            WebGLUniforms.upload(_gl, materialProperties.uniformsList, m_uniforms, textures);\n\n        }\n\n        if (material.isShaderMaterial && material.uniformsNeedUpdate === true) {\n\n            WebGLUniforms.upload(_gl, materialProperties.uniformsList, m_uniforms, textures);\n            material.uniformsNeedUpdate = false;\n\n        }\n\n        if (material.isSpriteMaterial) {\n\n            p_uniforms.setValue(_gl, 'center', object.center);\n\n        }\n\n        // common matrices\n\n        p_uniforms.setValue(_gl, 'modelViewMatrix', object.modelViewMatrix);\n        p_uniforms.setValue(_gl, 'normalMatrix', object.normalMatrix);\n        p_uniforms.setValue(_gl, 'modelMatrix', object.matrixWorld);\n\n        return program;\n\n    }\n\n    // If uniforms are marked as clean, they don't need to be loaded to the GPU.\n\n    function markUniformsLightsNeedsUpdate(uniforms, value) {\n\n        uniforms.ambientLightColor.needsUpdate = value;\n        uniforms.lightProbe.needsUpdate = value;\n\n        uniforms.directionalLights.needsUpdate = value;\n        uniforms.directionalLightShadows.needsUpdate = value;\n        uniforms.pointLights.needsUpdate = value;\n        uniforms.pointLightShadows.needsUpdate = value;\n        uniforms.spotLights.needsUpdate = value;\n        uniforms.spotLightShadows.needsUpdate = value;\n        uniforms.rectAreaLights.needsUpdate = value;\n        uniforms.hemisphereLights.needsUpdate = value;\n\n    }\n\n    function materialNeedsLights(material) {\n\n        return material.isMeshLambertMaterial || material.isMeshToonMaterial || material.isMeshPhongMaterial ||\n            material.isMeshStandardMaterial || material.isShadowMaterial ||\n            (material.isShaderMaterial && material.lights === true);\n\n    }\n\n    //\n    this.setFramebuffer = function(value) {\n\n        if (_framebuffer !== value && _currentRenderTarget === null) _gl.bindFramebuffer(36160, value);\n\n        _framebuffer = value;\n\n    };\n\n    this.getActiveCubeFace = function() {\n\n        return _currentActiveCubeFace;\n\n    };\n\n    this.getActiveMipmapLevel = function() {\n\n        return _currentActiveMipmapLevel;\n\n    };\n\n    this.getRenderList = function() {\n\n        return currentRenderList;\n\n    };\n\n    this.setRenderList = function(renderList) {\n\n        currentRenderList = renderList;\n\n    };\n\n    this.getRenderState = function() {\n\n        return currentRenderState;\n\n    };\n\n    this.setRenderState = function(renderState) {\n\n        currentRenderState = renderState;\n\n    };\n\n    this.getRenderTarget = function() {\n\n        return _currentRenderTarget;\n\n    };\n\n    this.setRenderTarget = function(renderTarget, activeCubeFace = 0, activeMipmapLevel = 0) {\n\n        _currentRenderTarget = renderTarget;\n        _currentActiveCubeFace = activeCubeFace;\n        _currentActiveMipmapLevel = activeMipmapLevel;\n\n        if (renderTarget && properties.get(renderTarget).__webglFramebuffer === undefined) {\n\n            textures.setupRenderTarget(renderTarget);\n\n        }\n\n        let framebuffer = _framebuffer;\n        let isCube = false;\n\n        if (renderTarget) {\n\n            const __webglFramebuffer = properties.get(renderTarget).__webglFramebuffer;\n\n            if (renderTarget.isWebGLCubeRenderTarget) {\n\n                framebuffer = __webglFramebuffer[activeCubeFace];\n                isCube = true;\n\n            } else if (renderTarget.isWebGLMultisampleRenderTarget) {\n\n                framebuffer = properties.get(renderTarget).__webglMultisampledFramebuffer;\n\n            } else {\n\n                framebuffer = __webglFramebuffer;\n\n            }\n\n            _currentViewport.copy(renderTarget.viewport);\n            _currentScissor.copy(renderTarget.scissor);\n            _currentScissorTest = renderTarget.scissorTest;\n\n        } else {\n\n            _currentViewport.copy(_viewport).multiplyScalar(_pixelRatio).floor();\n            _currentScissor.copy(_scissor).multiplyScalar(_pixelRatio).floor();\n            _currentScissorTest = _scissorTest;\n\n        }\n\n        if (_currentFramebuffer !== framebuffer) {\n\n            _gl.bindFramebuffer(36160, framebuffer);\n            _currentFramebuffer = framebuffer;\n\n        }\n\n        state.viewport(_currentViewport);\n        state.scissor(_currentScissor);\n        state.setScissorTest(_currentScissorTest);\n\n        if (isCube) {\n\n            const textureProperties = properties.get(renderTarget.texture);\n            _gl.framebufferTexture2D(36160, 36064, 34069 + activeCubeFace, textureProperties.__webglTexture, activeMipmapLevel);\n\n        }\n\n    };\n\n    this.readRenderTargetPixels = function(renderTarget, x, y, width, height, buffer, activeCubeFaceIndex) {\n\n        if (!(renderTarget && renderTarget.isWebGLRenderTarget)) {\n\n            console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.');\n            return;\n\n        }\n\n        let framebuffer = properties.get(renderTarget).__webglFramebuffer;\n\n        if (renderTarget.isWebGLCubeRenderTarget && activeCubeFaceIndex !== undefined) {\n\n            framebuffer = framebuffer[activeCubeFaceIndex];\n\n        }\n\n        if (framebuffer) {\n\n            let restore = false;\n\n            if (framebuffer !== _currentFramebuffer) {\n\n                _gl.bindFramebuffer(36160, framebuffer);\n\n                restore = true;\n\n            }\n\n            try {\n\n                const texture = renderTarget.texture;\n                const textureFormat = texture.format;\n                const textureType = texture.type;\n\n                if (textureFormat !== RGBAFormat && utils.convert(textureFormat) !== _gl.getParameter(35739)) {\n\n                    console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.');\n                    return;\n\n                }\n\n                if (textureType !== UnsignedByteType && utils.convert(textureType) !== _gl.getParameter(35738) && // IE11, Edge and Chrome Mac < 52 (#9513)\n                    !(textureType === FloatType && (capabilities.isWebGL2 || extensions.get('OES_texture_float') || extensions.get('WEBGL_color_buffer_float'))) && // Chrome Mac >= 52 and Firefox\n                    !(textureType === HalfFloatType && (capabilities.isWebGL2 ? extensions.get('EXT_color_buffer_float') : extensions.get('EXT_color_buffer_half_float')))) {\n\n                    console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.');\n                    return;\n\n                }\n\n                if (_gl.checkFramebufferStatus(36160) === 36053) {\n\n                    // the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)\n\n                    if ((x >= 0 && x <= (renderTarget.width - width)) && (y >= 0 && y <= (renderTarget.height - height))) {\n\n                        _gl.readPixels(x, y, width, height, utils.convert(textureFormat), utils.convert(textureType), buffer);\n\n                    }\n\n                } else {\n\n                    console.error('THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.');\n\n                }\n\n            } finally {\n\n                if (restore) {\n\n                    _gl.bindFramebuffer(36160, _currentFramebuffer);\n\n                }\n\n            }\n\n        }\n\n    };\n\n    this.copyFramebufferToTexture = function(position, texture, level) {\n\n        if (level === undefined) level = 0;\n\n        const levelScale = Math.pow(2, -level);\n        const width = Math.floor(texture.image.width * levelScale);\n        const height = Math.floor(texture.image.height * levelScale);\n        const glFormat = utils.convert(texture.format);\n\n        textures.setTexture2D(texture, 0);\n\n        _gl.copyTexImage2D(3553, level, glFormat, position.x, position.y, width, height, 0);\n\n        state.unbindTexture();\n\n    };\n\n    this.copyTextureToTexture = function(position, srcTexture, dstTexture, level) {\n\n        if (level === undefined) level = 0;\n\n        const width = srcTexture.image.width;\n        const height = srcTexture.image.height;\n        const glFormat = utils.convert(dstTexture.format);\n        const glType = utils.convert(dstTexture.type);\n\n        textures.setTexture2D(dstTexture, 0);\n\n        // As another texture upload may have changed pixelStorei\n        // parameters, make sure they are correct for the dstTexture\n        _gl.pixelStorei(37440, dstTexture.flipY);\n        _gl.pixelStorei(37441, dstTexture.premultiplyAlpha);\n        _gl.pixelStorei(3317, dstTexture.unpackAlignment);\n\n        if (srcTexture.isDataTexture) {\n\n            _gl.texSubImage2D(3553, level, position.x, position.y, width, height, glFormat, glType, srcTexture.image.data);\n\n        } else {\n\n            if (srcTexture.isCompressedTexture) {\n\n                _gl.compressedTexSubImage2D(3553, level, position.x, position.y, srcTexture.mipmaps[0].width, srcTexture.mipmaps[0].height, glFormat, srcTexture.mipmaps[0].data);\n\n            } else {\n\n                _gl.texSubImage2D(3553, level, position.x, position.y, glFormat, glType, srcTexture.image);\n\n            }\n\n        }\n\n        // Generate mipmaps only when copying level 0\n        if (level === 0 && dstTexture.generateMipmaps) _gl.generateMipmap(3553);\n\n        state.unbindTexture();\n\n    };\n\n    this.initTexture = function(texture) {\n\n        textures.setTexture2D(texture, 0);\n\n        state.unbindTexture();\n\n    };\n\n    if (typeof __THREE_DEVTOOLS__ !== 'undefined') {\n\n        __THREE_DEVTOOLS__.dispatchEvent(new CustomEvent('observe', {\n            detail: this\n        })); // eslint-disable-line no-undef\n\n    }\n\n}\n\nfunction WebGL1Renderer(parameters) {\n\n    WebGLRenderer.call(this, parameters);\n\n}\n\nWebGL1Renderer.prototype = Object.assign(Object.create(WebGLRenderer.prototype), {\n\n    constructor: WebGL1Renderer,\n\n    isWebGL1Renderer: true\n\n});\n\nclass FogExp2 {\n\n    constructor(color, density) {\n\n        Object.defineProperty(this, 'isFogExp2', {\n            value: true\n        });\n\n        this.name = '';\n\n        this.color = new Color(color);\n        this.density = (density !== undefined) ? density : 0.00025;\n\n    }\n\n    clone() {\n\n        return new FogExp2(this.color, this.density);\n\n    }\n\n    toJSON( /* meta */ ) {\n\n        return {\n            type: 'FogExp2',\n            color: this.color.getHex(),\n            density: this.density\n        };\n\n    }\n\n}\n\nclass Fog {\n\n    constructor(color, near, far) {\n\n        Object.defineProperty(this, 'isFog', {\n            value: true\n        });\n\n        this.name = '';\n\n        this.color = new Color(color);\n\n        this.near = (near !== undefined) ? near : 1;\n        this.far = (far !== undefined) ? far : 1000;\n\n    }\n\n    clone() {\n\n        return new Fog(this.color, this.near, this.far);\n\n    }\n\n    toJSON( /* meta */ ) {\n\n        return {\n            type: 'Fog',\n            color: this.color.getHex(),\n            near: this.near,\n            far: this.far\n        };\n\n    }\n\n}\n\nclass Scene extends Object3D {\n\n    constructor() {\n\n        super();\n\n        Object.defineProperty(this, 'isScene', {\n            value: true\n        });\n\n        this.type = 'Scene';\n\n        this.background = null;\n        this.environment = null;\n        this.fog = null;\n\n        this.overrideMaterial = null;\n\n        this.autoUpdate = true; // checked by the renderer\n\n        if (typeof __THREE_DEVTOOLS__ !== 'undefined') {\n\n            __THREE_DEVTOOLS__.dispatchEvent(new CustomEvent('observe', {\n                detail: this\n            })); // eslint-disable-line no-undef\n\n        }\n\n    }\n\n    copy(source, recursive) {\n\n        super.copy(source, recursive);\n\n        if (source.background !== null) this.background = source.background.clone();\n        if (source.environment !== null) this.environment = source.environment.clone();\n        if (source.fog !== null) this.fog = source.fog.clone();\n\n        if (source.overrideMaterial !== null) this.overrideMaterial = source.overrideMaterial.clone();\n\n        this.autoUpdate = source.autoUpdate;\n        this.matrixAutoUpdate = source.matrixAutoUpdate;\n\n        return this;\n\n    }\n\n    toJSON(meta) {\n\n        const data = super.toJSON(meta);\n\n        if (this.background !== null) data.object.background = this.background.toJSON(meta);\n        if (this.environment !== null) data.object.environment = this.environment.toJSON(meta);\n        if (this.fog !== null) data.object.fog = this.fog.toJSON();\n\n        return data;\n\n    }\n\n}\n\nfunction InterleavedBuffer(array, stride) {\n\n    this.array = array;\n    this.stride = stride;\n    this.count = array !== undefined ? array.length / stride : 0;\n\n    this.usage = StaticDrawUsage;\n    this.updateRange = {\n        offset: 0,\n        count: -1\n    };\n\n    this.version = 0;\n\n    this.uuid = MathUtils.generateUUID();\n\n}\n\nObject.defineProperty(InterleavedBuffer.prototype, 'needsUpdate', {\n\n    set: function(value) {\n\n        if (value === true) this.version++;\n\n    }\n\n});\n\nObject.assign(InterleavedBuffer.prototype, {\n\n    isInterleavedBuffer: true,\n\n    onUploadCallback: function() {},\n\n    setUsage: function(value) {\n\n        this.usage = value;\n\n        return this;\n\n    },\n\n    copy: function(source) {\n\n        this.array = new source.array.constructor(source.array);\n        this.count = source.count;\n        this.stride = source.stride;\n        this.usage = source.usage;\n\n        return this;\n\n    },\n\n    copyAt: function(index1, attribute, index2) {\n\n        index1 *= this.stride;\n        index2 *= attribute.stride;\n\n        for (let i = 0, l = this.stride; i < l; i++) {\n\n            this.array[index1 + i] = attribute.array[index2 + i];\n\n        }\n\n        return this;\n\n    },\n\n    set: function(value, offset) {\n\n        if (offset === undefined) offset = 0;\n\n        this.array.set(value, offset);\n\n        return this;\n\n    },\n\n    clone: function(data) {\n\n        if (data.arrayBuffers === undefined) {\n\n            data.arrayBuffers = {};\n\n        }\n\n        if (this.array.buffer._uuid === undefined) {\n\n            this.array.buffer._uuid = MathUtils.generateUUID();\n\n        }\n\n        if (data.arrayBuffers[this.array.buffer._uuid] === undefined) {\n\n            data.arrayBuffers[this.array.buffer._uuid] = this.array.slice(0).buffer;\n\n        }\n\n        const array = new this.array.constructor(data.arrayBuffers[this.array.buffer._uuid]);\n\n        const ib = new InterleavedBuffer(array, this.stride);\n        ib.setUsage(this.usage);\n\n        return ib;\n\n    },\n\n    onUpload: function(callback) {\n\n        this.onUploadCallback = callback;\n\n        return this;\n\n    },\n\n    toJSON: function(data) {\n\n        if (data.arrayBuffers === undefined) {\n\n            data.arrayBuffers = {};\n\n        }\n\n        // generate UUID for array buffer if necessary\n\n        if (this.array.buffer._uuid === undefined) {\n\n            this.array.buffer._uuid = MathUtils.generateUUID();\n\n        }\n\n        if (data.arrayBuffers[this.array.buffer._uuid] === undefined) {\n\n            data.arrayBuffers[this.array.buffer._uuid] = Array.prototype.slice.call(new Uint32Array(this.array.buffer));\n\n        }\n\n        //\n\n        return {\n            uuid: this.uuid,\n            buffer: this.array.buffer._uuid,\n            type: this.array.constructor.name,\n            stride: this.stride\n        };\n\n    }\n\n});\n\nconst _vector$6 = new Vector3();\n\nfunction InterleavedBufferAttribute(interleavedBuffer, itemSize, offset, normalized) {\n\n    this.name = '';\n\n    this.data = interleavedBuffer;\n    this.itemSize = itemSize;\n    this.offset = offset;\n\n    this.normalized = normalized === true;\n\n}\n\nObject.defineProperties(InterleavedBufferAttribute.prototype, {\n\n    count: {\n\n        get: function() {\n\n            return this.data.count;\n\n        }\n\n    },\n\n    array: {\n\n        get: function() {\n\n            return this.data.array;\n\n        }\n\n    },\n\n    needsUpdate: {\n\n        set: function(value) {\n\n            this.data.needsUpdate = value;\n\n        }\n\n    }\n\n});\n\nObject.assign(InterleavedBufferAttribute.prototype, {\n\n    isInterleavedBufferAttribute: true,\n\n    applyMatrix4: function(m) {\n\n        for (let i = 0, l = this.data.count; i < l; i++) {\n\n            _vector$6.x = this.getX(i);\n            _vector$6.y = this.getY(i);\n            _vector$6.z = this.getZ(i);\n\n            _vector$6.applyMatrix4(m);\n\n            this.setXYZ(i, _vector$6.x, _vector$6.y, _vector$6.z);\n\n        }\n\n        return this;\n\n    },\n\n    setX: function(index, x) {\n\n        this.data.array[index * this.data.stride + this.offset] = x;\n\n        return this;\n\n    },\n\n    setY: function(index, y) {\n\n        this.data.array[index * this.data.stride + this.offset + 1] = y;\n\n        return this;\n\n    },\n\n    setZ: function(index, z) {\n\n        this.data.array[index * this.data.stride + this.offset + 2] = z;\n\n        return this;\n\n    },\n\n    setW: function(index, w) {\n\n        this.data.array[index * this.data.stride + this.offset + 3] = w;\n\n        return this;\n\n    },\n\n    getX: function(index) {\n\n        return this.data.array[index * this.data.stride + this.offset];\n\n    },\n\n    getY: function(index) {\n\n        return this.data.array[index * this.data.stride + this.offset + 1];\n\n    },\n\n    getZ: function(index) {\n\n        return this.data.array[index * this.data.stride + this.offset + 2];\n\n    },\n\n    getW: function(index) {\n\n        return this.data.array[index * this.data.stride + this.offset + 3];\n\n    },\n\n    setXY: function(index, x, y) {\n\n        index = index * this.data.stride + this.offset;\n\n        this.data.array[index + 0] = x;\n        this.data.array[index + 1] = y;\n\n        return this;\n\n    },\n\n    setXYZ: function(index, x, y, z) {\n\n        index = index * this.data.stride + this.offset;\n\n        this.data.array[index + 0] = x;\n        this.data.array[index + 1] = y;\n        this.data.array[index + 2] = z;\n\n        return this;\n\n    },\n\n    setXYZW: function(index, x, y, z, w) {\n\n        index = index * this.data.stride + this.offset;\n\n        this.data.array[index + 0] = x;\n        this.data.array[index + 1] = y;\n        this.data.array[index + 2] = z;\n        this.data.array[index + 3] = w;\n\n        return this;\n\n    },\n\n    clone: function(data) {\n\n        if (data === undefined) {\n\n            console.log('THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.');\n\n            const array = [];\n\n            for (let i = 0; i < this.count; i++) {\n\n                const index = i * this.data.stride + this.offset;\n\n                for (let j = 0; j < this.itemSize; j++) {\n\n                    array.push(this.data.array[index + j]);\n\n                }\n\n            }\n\n            return new BufferAttribute(new this.array.constructor(array), this.itemSize, this.normalized);\n\n        } else {\n\n            if (data.interleavedBuffers === undefined) {\n\n                data.interleavedBuffers = {};\n\n            }\n\n            if (data.interleavedBuffers[this.data.uuid] === undefined) {\n\n                data.interleavedBuffers[this.data.uuid] = this.data.clone(data);\n\n            }\n\n            return new InterleavedBufferAttribute(data.interleavedBuffers[this.data.uuid], this.itemSize, this.offset, this.normalized);\n\n        }\n\n    },\n\n    toJSON: function(data) {\n\n        if (data === undefined) {\n\n            console.log('THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.');\n\n            const array = [];\n\n            for (let i = 0; i < this.count; i++) {\n\n                const index = i * this.data.stride + this.offset;\n\n                for (let j = 0; j < this.itemSize; j++) {\n\n                    array.push(this.data.array[index + j]);\n\n                }\n\n            }\n\n            // deinterleave data and save it as an ordinary buffer attribute for now\n\n            return {\n                itemSize: this.itemSize,\n                type: this.array.constructor.name,\n                array: array,\n                normalized: this.normalized\n            };\n\n        } else {\n\n            // save as true interlaved attribtue\n\n            if (data.interleavedBuffers === undefined) {\n\n                data.interleavedBuffers = {};\n\n            }\n\n            if (data.interleavedBuffers[this.data.uuid] === undefined) {\n\n                data.interleavedBuffers[this.data.uuid] = this.data.toJSON(data);\n\n            }\n\n            return {\n                isInterleavedBufferAttribute: true,\n                itemSize: this.itemSize,\n                data: this.data.uuid,\n                offset: this.offset,\n                normalized: this.normalized\n            };\n\n        }\n\n    }\n\n});\n\n/**\n * parameters = {\n *  color: <hex>,\n *  map: new THREE.Texture( <Image> ),\n *  alphaMap: new THREE.Texture( <Image> ),\n *  rotation: <float>,\n *  sizeAttenuation: <bool>\n * }\n */\n\nfunction SpriteMaterial(parameters) {\n\n    Material.call(this);\n\n    this.type = 'SpriteMaterial';\n\n    this.color = new Color(0xffffff);\n\n    this.map = null;\n\n    this.alphaMap = null;\n\n    this.rotation = 0;\n\n    this.sizeAttenuation = true;\n\n    this.transparent = true;\n\n    this.setValues(parameters);\n\n}\n\nSpriteMaterial.prototype = Object.create(Material.prototype);\nSpriteMaterial.prototype.constructor = SpriteMaterial;\nSpriteMaterial.prototype.isSpriteMaterial = true;\n\nSpriteMaterial.prototype.copy = function(source) {\n\n    Material.prototype.copy.call(this, source);\n\n    this.color.copy(source.color);\n\n    this.map = source.map;\n\n    this.alphaMap = source.alphaMap;\n\n    this.rotation = source.rotation;\n\n    this.sizeAttenuation = source.sizeAttenuation;\n\n    return this;\n\n};\n\nlet _geometry;\n\nconst _intersectPoint = new Vector3();\nconst _worldScale = new Vector3();\nconst _mvPosition = new Vector3();\n\nconst _alignedPosition = new Vector2();\nconst _rotatedPosition = new Vector2();\nconst _viewWorldMatrix = new Matrix4();\n\nconst _vA$1 = new Vector3();\nconst _vB$1 = new Vector3();\nconst _vC$1 = new Vector3();\n\nconst _uvA$1 = new Vector2();\nconst _uvB$1 = new Vector2();\nconst _uvC$1 = new Vector2();\n\nfunction Sprite(material) {\n\n    Object3D.call(this);\n\n    this.type = 'Sprite';\n\n    if (_geometry === undefined) {\n\n        _geometry = new BufferGeometry();\n\n        const float32Array = new Float32Array([-0.5, -0.5, 0, 0, 0,\n            0.5, -0.5, 0, 1, 0,\n            0.5, 0.5, 0, 1, 1, -0.5, 0.5, 0, 0, 1\n        ]);\n\n        const interleavedBuffer = new InterleavedBuffer(float32Array, 5);\n\n        _geometry.setIndex([0, 1, 2, 0, 2, 3]);\n        _geometry.setAttribute('position', new InterleavedBufferAttribute(interleavedBuffer, 3, 0, false));\n        _geometry.setAttribute('uv', new InterleavedBufferAttribute(interleavedBuffer, 2, 3, false));\n\n    }\n\n    this.geometry = _geometry;\n    this.material = (material !== undefined) ? material : new SpriteMaterial();\n\n    this.center = new Vector2(0.5, 0.5);\n\n}\n\nSprite.prototype = Object.assign(Object.create(Object3D.prototype), {\n\n    constructor: Sprite,\n\n    isSprite: true,\n\n    raycast: function(raycaster, intersects) {\n\n        if (raycaster.camera === null) {\n\n            console.error('THREE.Sprite: \"Raycaster.camera\" needs to be set in order to raycast against sprites.');\n\n        }\n\n        _worldScale.setFromMatrixScale(this.matrixWorld);\n\n        _viewWorldMatrix.copy(raycaster.camera.matrixWorld);\n        this.modelViewMatrix.multiplyMatrices(raycaster.camera.matrixWorldInverse, this.matrixWorld);\n\n        _mvPosition.setFromMatrixPosition(this.modelViewMatrix);\n\n        if (raycaster.camera.isPerspectiveCamera && this.material.sizeAttenuation === false) {\n\n            _worldScale.multiplyScalar(-_mvPosition.z);\n\n        }\n\n        const rotation = this.material.rotation;\n        let sin, cos;\n\n        if (rotation !== 0) {\n\n            cos = Math.cos(rotation);\n            sin = Math.sin(rotation);\n\n        }\n\n        const center = this.center;\n\n        transformVertex(_vA$1.set(-0.5, -0.5, 0), _mvPosition, center, _worldScale, sin, cos);\n        transformVertex(_vB$1.set(0.5, -0.5, 0), _mvPosition, center, _worldScale, sin, cos);\n        transformVertex(_vC$1.set(0.5, 0.5, 0), _mvPosition, center, _worldScale, sin, cos);\n\n        _uvA$1.set(0, 0);\n        _uvB$1.set(1, 0);\n        _uvC$1.set(1, 1);\n\n        // check first triangle\n        let intersect = raycaster.ray.intersectTriangle(_vA$1, _vB$1, _vC$1, false, _intersectPoint);\n\n        if (intersect === null) {\n\n            // check second triangle\n            transformVertex(_vB$1.set(-0.5, 0.5, 0), _mvPosition, center, _worldScale, sin, cos);\n            _uvB$1.set(0, 1);\n\n            intersect = raycaster.ray.intersectTriangle(_vA$1, _vC$1, _vB$1, false, _intersectPoint);\n            if (intersect === null) {\n\n                return;\n\n            }\n\n        }\n\n        const distance = raycaster.ray.origin.distanceTo(_intersectPoint);\n\n        if (distance < raycaster.near || distance > raycaster.far) return;\n\n        intersects.push({\n\n            distance: distance,\n            point: _intersectPoint.clone(),\n            uv: Triangle.getUV(_intersectPoint, _vA$1, _vB$1, _vC$1, _uvA$1, _uvB$1, _uvC$1, new Vector2()),\n            face: null,\n            object: this\n\n        });\n\n    },\n\n    copy: function(source) {\n\n        Object3D.prototype.copy.call(this, source);\n\n        if (source.center !== undefined) this.center.copy(source.center);\n\n        this.material = source.material;\n\n        return this;\n\n    }\n\n});\n\nfunction transformVertex(vertexPosition, mvPosition, center, scale, sin, cos) {\n\n    // compute position in camera space\n    _alignedPosition.subVectors(vertexPosition, center).addScalar(0.5).multiply(scale);\n\n    // to check if rotation is not zero\n    if (sin !== undefined) {\n\n        _rotatedPosition.x = (cos * _alignedPosition.x) - (sin * _alignedPosition.y);\n        _rotatedPosition.y = (sin * _alignedPosition.x) + (cos * _alignedPosition.y);\n\n    } else {\n\n        _rotatedPosition.copy(_alignedPosition);\n\n    }\n\n\n    vertexPosition.copy(mvPosition);\n    vertexPosition.x += _rotatedPosition.x;\n    vertexPosition.y += _rotatedPosition.y;\n\n    // transform to world space\n    vertexPosition.applyMatrix4(_viewWorldMatrix);\n\n}\n\nconst _v1$4 = new Vector3();\nconst _v2$2 = new Vector3();\n\nfunction LOD() {\n\n    Object3D.call(this);\n\n    this._currentLevel = 0;\n\n    this.type = 'LOD';\n\n    Object.defineProperties(this, {\n        levels: {\n            enumerable: true,\n            value: []\n        }\n    });\n\n    this.autoUpdate = true;\n\n}\n\nLOD.prototype = Object.assign(Object.create(Object3D.prototype), {\n\n    constructor: LOD,\n\n    isLOD: true,\n\n    copy: function(source) {\n\n        Object3D.prototype.copy.call(this, source, false);\n\n        const levels = source.levels;\n\n        for (let i = 0, l = levels.length; i < l; i++) {\n\n            const level = levels[i];\n\n            this.addLevel(level.object.clone(), level.distance);\n\n        }\n\n        this.autoUpdate = source.autoUpdate;\n\n        return this;\n\n    },\n\n    addLevel: function(object, distance) {\n\n        if (distance === undefined) distance = 0;\n\n        distance = Math.abs(distance);\n\n        const levels = this.levels;\n\n        let l;\n\n        for (l = 0; l < levels.length; l++) {\n\n            if (distance < levels[l].distance) {\n\n                break;\n\n            }\n\n        }\n\n        levels.splice(l, 0, {\n            distance: distance,\n            object: object\n        });\n\n        this.add(object);\n\n        return this;\n\n    },\n\n    getCurrentLevel: function() {\n\n        return this._currentLevel;\n\n    },\n\n    getObjectForDistance: function(distance) {\n\n        const levels = this.levels;\n\n        if (levels.length > 0) {\n\n            let i, l;\n\n            for (i = 1, l = levels.length; i < l; i++) {\n\n                if (distance < levels[i].distance) {\n\n                    break;\n\n                }\n\n            }\n\n            return levels[i - 1].object;\n\n        }\n\n        return null;\n\n    },\n\n    raycast: function(raycaster, intersects) {\n\n        const levels = this.levels;\n\n        if (levels.length > 0) {\n\n            _v1$4.setFromMatrixPosition(this.matrixWorld);\n\n            const distance = raycaster.ray.origin.distanceTo(_v1$4);\n\n            this.getObjectForDistance(distance).raycast(raycaster, intersects);\n\n        }\n\n    },\n\n    update: function(camera) {\n\n        const levels = this.levels;\n\n        if (levels.length > 1) {\n\n            _v1$4.setFromMatrixPosition(camera.matrixWorld);\n            _v2$2.setFromMatrixPosition(this.matrixWorld);\n\n            const distance = _v1$4.distanceTo(_v2$2) / camera.zoom;\n\n            levels[0].object.visible = true;\n\n            let i, l;\n\n            for (i = 1, l = levels.length; i < l; i++) {\n\n                if (distance >= levels[i].distance) {\n\n                    levels[i - 1].object.visible = false;\n                    levels[i].object.visible = true;\n\n                } else {\n\n                    break;\n\n                }\n\n            }\n\n            this._currentLevel = i - 1;\n\n            for (; i < l; i++) {\n\n                levels[i].object.visible = false;\n\n            }\n\n        }\n\n    },\n\n    toJSON: function(meta) {\n\n        const data = Object3D.prototype.toJSON.call(this, meta);\n\n        if (this.autoUpdate === false) data.object.autoUpdate = false;\n\n        data.object.levels = [];\n\n        const levels = this.levels;\n\n        for (let i = 0, l = levels.length; i < l; i++) {\n\n            const level = levels[i];\n\n            data.object.levels.push({\n                object: level.object.uuid,\n                distance: level.distance\n            });\n\n        }\n\n        return data;\n\n    }\n\n});\n\nfunction SkinnedMesh(geometry, material) {\n\n    if (geometry && geometry.isGeometry) {\n\n        console.error('THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.');\n\n    }\n\n    Mesh.call(this, geometry, material);\n\n    this.type = 'SkinnedMesh';\n\n    this.bindMode = 'attached';\n    this.bindMatrix = new Matrix4();\n    this.bindMatrixInverse = new Matrix4();\n\n}\n\nSkinnedMesh.prototype = Object.assign(Object.create(Mesh.prototype), {\n\n    constructor: SkinnedMesh,\n\n    isSkinnedMesh: true,\n\n    copy: function(source) {\n\n        Mesh.prototype.copy.call(this, source);\n\n        this.bindMode = source.bindMode;\n        this.bindMatrix.copy(source.bindMatrix);\n        this.bindMatrixInverse.copy(source.bindMatrixInverse);\n\n        this.skeleton = source.skeleton;\n\n        return this;\n\n    },\n\n    bind: function(skeleton, bindMatrix) {\n\n        this.skeleton = skeleton;\n\n        if (bindMatrix === undefined) {\n\n            this.updateMatrixWorld(true);\n\n            this.skeleton.calculateInverses();\n\n            bindMatrix = this.matrixWorld;\n\n        }\n\n        this.bindMatrix.copy(bindMatrix);\n        this.bindMatrixInverse.getInverse(bindMatrix);\n\n    },\n\n    pose: function() {\n\n        this.skeleton.pose();\n\n    },\n\n    normalizeSkinWeights: function() {\n\n        const vector = new Vector4();\n\n        const skinWeight = this.geometry.attributes.skinWeight;\n\n        for (let i = 0, l = skinWeight.count; i < l; i++) {\n\n            vector.x = skinWeight.getX(i);\n            vector.y = skinWeight.getY(i);\n            vector.z = skinWeight.getZ(i);\n            vector.w = skinWeight.getW(i);\n\n            const scale = 1.0 / vector.manhattanLength();\n\n            if (scale !== Infinity) {\n\n                vector.multiplyScalar(scale);\n\n            } else {\n\n                vector.set(1, 0, 0, 0); // do something reasonable\n\n            }\n\n            skinWeight.setXYZW(i, vector.x, vector.y, vector.z, vector.w);\n\n        }\n\n    },\n\n    updateMatrixWorld: function(force) {\n\n        Mesh.prototype.updateMatrixWorld.call(this, force);\n\n        if (this.bindMode === 'attached') {\n\n            this.bindMatrixInverse.getInverse(this.matrixWorld);\n\n        } else if (this.bindMode === 'detached') {\n\n            this.bindMatrixInverse.getInverse(this.bindMatrix);\n\n        } else {\n\n            console.warn('THREE.SkinnedMesh: Unrecognized bindMode: ' + this.bindMode);\n\n        }\n\n    },\n\n    boneTransform: (function() {\n\n        const basePosition = new Vector3();\n\n        const skinIndex = new Vector4();\n        const skinWeight = new Vector4();\n\n        const vector = new Vector3();\n        const matrix = new Matrix4();\n\n        return function(index, target) {\n\n            const skeleton = this.skeleton;\n            const geometry = this.geometry;\n\n            skinIndex.fromBufferAttribute(geometry.attributes.skinIndex, index);\n            skinWeight.fromBufferAttribute(geometry.attributes.skinWeight, index);\n\n            basePosition.fromBufferAttribute(geometry.attributes.position, index).applyMatrix4(this.bindMatrix);\n\n            target.set(0, 0, 0);\n\n            for (let i = 0; i < 4; i++) {\n\n                const weight = skinWeight.getComponent(i);\n\n                if (weight !== 0) {\n\n                    const boneIndex = skinIndex.getComponent(i);\n\n                    matrix.multiplyMatrices(skeleton.bones[boneIndex].matrixWorld, skeleton.boneInverses[boneIndex]);\n\n                    target.addScaledVector(vector.copy(basePosition).applyMatrix4(matrix), weight);\n\n                }\n\n            }\n\n            return target.applyMatrix4(this.bindMatrixInverse);\n\n        };\n\n    }())\n\n});\n\nconst _offsetMatrix = new Matrix4();\nconst _identityMatrix = new Matrix4();\n\nfunction Skeleton(bones, boneInverses) {\n\n    // copy the bone array\n\n    bones = bones || [];\n\n    this.bones = bones.slice(0);\n    this.boneMatrices = new Float32Array(this.bones.length * 16);\n\n    this.frame = -1;\n\n    // use the supplied bone inverses or calculate the inverses\n\n    if (boneInverses === undefined) {\n\n        this.calculateInverses();\n\n    } else {\n\n        if (this.bones.length === boneInverses.length) {\n\n            this.boneInverses = boneInverses.slice(0);\n\n        } else {\n\n            console.warn('THREE.Skeleton boneInverses is the wrong length.');\n\n            this.boneInverses = [];\n\n            for (let i = 0, il = this.bones.length; i < il; i++) {\n\n                this.boneInverses.push(new Matrix4());\n\n            }\n\n        }\n\n    }\n\n}\n\nObject.assign(Skeleton.prototype, {\n\n    calculateInverses: function() {\n\n        this.boneInverses = [];\n\n        for (let i = 0, il = this.bones.length; i < il; i++) {\n\n            const inverse = new Matrix4();\n\n            if (this.bones[i]) {\n\n                inverse.getInverse(this.bones[i].matrixWorld);\n\n            }\n\n            this.boneInverses.push(inverse);\n\n        }\n\n    },\n\n    pose: function() {\n\n        // recover the bind-time world matrices\n\n        for (let i = 0, il = this.bones.length; i < il; i++) {\n\n            const bone = this.bones[i];\n\n            if (bone) {\n\n                bone.matrixWorld.getInverse(this.boneInverses[i]);\n\n            }\n\n        }\n\n        // compute the local matrices, positions, rotations and scales\n\n        for (let i = 0, il = this.bones.length; i < il; i++) {\n\n            const bone = this.bones[i];\n\n            if (bone) {\n\n                if (bone.parent && bone.parent.isBone) {\n\n                    bone.matrix.getInverse(bone.parent.matrixWorld);\n                    bone.matrix.multiply(bone.matrixWorld);\n\n                } else {\n\n                    bone.matrix.copy(bone.matrixWorld);\n\n                }\n\n                bone.matrix.decompose(bone.position, bone.quaternion, bone.scale);\n\n            }\n\n        }\n\n    },\n\n    update: function() {\n\n        const bones = this.bones;\n        const boneInverses = this.boneInverses;\n        const boneMatrices = this.boneMatrices;\n        const boneTexture = this.boneTexture;\n\n        // flatten bone matrices to array\n\n        for (let i = 0, il = bones.length; i < il; i++) {\n\n            // compute the offset between the current and the original transform\n\n            const matrix = bones[i] ? bones[i].matrixWorld : _identityMatrix;\n\n            _offsetMatrix.multiplyMatrices(matrix, boneInverses[i]);\n            _offsetMatrix.toArray(boneMatrices, i * 16);\n\n        }\n\n        if (boneTexture !== undefined) {\n\n            boneTexture.needsUpdate = true;\n\n        }\n\n    },\n\n    clone: function() {\n\n        return new Skeleton(this.bones, this.boneInverses);\n\n    },\n\n    getBoneByName: function(name) {\n\n        for (let i = 0, il = this.bones.length; i < il; i++) {\n\n            const bone = this.bones[i];\n\n            if (bone.name === name) {\n\n                return bone;\n\n            }\n\n        }\n\n        return undefined;\n\n    },\n\n    dispose: function() {\n\n        if (this.boneTexture) {\n\n            this.boneTexture.dispose();\n\n            this.boneTexture = undefined;\n\n        }\n\n    }\n\n});\n\nfunction Bone() {\n\n    Object3D.call(this);\n\n    this.type = 'Bone';\n\n}\n\nBone.prototype = Object.assign(Object.create(Object3D.prototype), {\n\n    constructor: Bone,\n\n    isBone: true\n\n});\n\nconst _instanceLocalMatrix = new Matrix4();\nconst _instanceWorldMatrix = new Matrix4();\n\nconst _instanceIntersects = [];\n\nconst _mesh = new Mesh();\n\nfunction InstancedMesh(geometry, material, count) {\n\n    Mesh.call(this, geometry, material);\n\n    this.instanceMatrix = new BufferAttribute(new Float32Array(count * 16), 16);\n    this.instanceColor = null;\n\n    this.count = count;\n\n    this.frustumCulled = false;\n\n}\n\nInstancedMesh.prototype = Object.assign(Object.create(Mesh.prototype), {\n\n    constructor: InstancedMesh,\n\n    isInstancedMesh: true,\n\n    copy: function(source) {\n\n        Mesh.prototype.copy.call(this, source);\n\n        this.instanceMatrix.copy(source.instanceMatrix);\n        this.count = source.count;\n\n        return this;\n\n    },\n\n    setColorAt: function(index, color) {\n\n        if (this.instanceColor === null) {\n\n            this.instanceColor = new BufferAttribute(new Float32Array(this.count * 3), 3);\n\n        }\n\n        color.toArray(this.instanceColor.array, index * 3);\n\n    },\n\n    getMatrixAt: function(index, matrix) {\n\n        matrix.fromArray(this.instanceMatrix.array, index * 16);\n\n    },\n\n    raycast: function(raycaster, intersects) {\n\n        const matrixWorld = this.matrixWorld;\n        const raycastTimes = this.count;\n\n        _mesh.geometry = this.geometry;\n        _mesh.material = this.material;\n\n        if (_mesh.material === undefined) return;\n\n        for (let instanceId = 0; instanceId < raycastTimes; instanceId++) {\n\n            // calculate the world matrix for each instance\n\n            this.getMatrixAt(instanceId, _instanceLocalMatrix);\n\n            _instanceWorldMatrix.multiplyMatrices(matrixWorld, _instanceLocalMatrix);\n\n            // the mesh represents this single instance\n\n            _mesh.matrixWorld = _instanceWorldMatrix;\n\n            _mesh.raycast(raycaster, _instanceIntersects);\n\n            // process the result of raycast\n\n            for (let i = 0, l = _instanceIntersects.length; i < l; i++) {\n\n                const intersect = _instanceIntersects[i];\n                intersect.instanceId = instanceId;\n                intersect.object = this;\n                intersects.push(intersect);\n\n            }\n\n            _instanceIntersects.length = 0;\n\n        }\n\n    },\n\n    setMatrixAt: function(index, matrix) {\n\n        matrix.toArray(this.instanceMatrix.array, index * 16);\n\n    },\n\n    updateMorphTargets: function() {\n\n    }\n\n});\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *  linecap: \"round\",\n *  linejoin: \"round\"\n * }\n */\n\nfunction LineBasicMaterial(parameters) {\n\n    Material.call(this);\n\n    this.type = 'LineBasicMaterial';\n\n    this.color = new Color(0xffffff);\n\n    this.linewidth = 1;\n    this.linecap = 'round';\n    this.linejoin = 'round';\n\n    this.morphTargets = false;\n\n    this.setValues(parameters);\n\n}\n\nLineBasicMaterial.prototype = Object.create(Material.prototype);\nLineBasicMaterial.prototype.constructor = LineBasicMaterial;\n\nLineBasicMaterial.prototype.isLineBasicMaterial = true;\n\nLineBasicMaterial.prototype.copy = function(source) {\n\n    Material.prototype.copy.call(this, source);\n\n    this.color.copy(source.color);\n\n    this.linewidth = source.linewidth;\n    this.linecap = source.linecap;\n    this.linejoin = source.linejoin;\n\n    this.morphTargets = source.morphTargets;\n\n    return this;\n\n};\n\nconst _start = new Vector3();\nconst _end = new Vector3();\nconst _inverseMatrix$1 = new Matrix4();\nconst _ray$1 = new Ray();\nconst _sphere$2 = new Sphere();\n\nfunction Line(geometry, material, mode) {\n\n    if (mode === 1) {\n\n        console.error('THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead.');\n\n    }\n\n    Object3D.call(this);\n\n    this.type = 'Line';\n\n    this.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n    this.material = material !== undefined ? material : new LineBasicMaterial();\n\n    this.updateMorphTargets();\n\n}\n\nLine.prototype = Object.assign(Object.create(Object3D.prototype), {\n\n    constructor: Line,\n\n    isLine: true,\n\n    copy: function(source) {\n\n        Object3D.prototype.copy.call(this, source);\n\n        this.material = source.material;\n        this.geometry = source.geometry;\n\n        return this;\n\n    },\n\n    computeLineDistances: function() {\n\n        const geometry = this.geometry;\n\n        if (geometry.isBufferGeometry) {\n\n            // we assume non-indexed geometry\n\n            if (geometry.index === null) {\n\n                const positionAttribute = geometry.attributes.position;\n                const lineDistances = [0];\n\n                for (let i = 1, l = positionAttribute.count; i < l; i++) {\n\n                    _start.fromBufferAttribute(positionAttribute, i - 1);\n                    _end.fromBufferAttribute(positionAttribute, i);\n\n                    lineDistances[i] = lineDistances[i - 1];\n                    lineDistances[i] += _start.distanceTo(_end);\n\n                }\n\n                geometry.setAttribute('lineDistance', new Float32BufferAttribute(lineDistances, 1));\n\n            } else {\n\n                console.warn('THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.');\n\n            }\n\n        } else if (geometry.isGeometry) {\n\n            const vertices = geometry.vertices;\n            const lineDistances = geometry.lineDistances;\n\n            lineDistances[0] = 0;\n\n            for (let i = 1, l = vertices.length; i < l; i++) {\n\n                lineDistances[i] = lineDistances[i - 1];\n                lineDistances[i] += vertices[i - 1].distanceTo(vertices[i]);\n\n            }\n\n        }\n\n        return this;\n\n    },\n\n    raycast: function(raycaster, intersects) {\n\n        const geometry = this.geometry;\n        const matrixWorld = this.matrixWorld;\n        const threshold = raycaster.params.Line.threshold;\n\n        // Checking boundingSphere distance to ray\n\n        if (geometry.boundingSphere === null) geometry.computeBoundingSphere();\n\n        _sphere$2.copy(geometry.boundingSphere);\n        _sphere$2.applyMatrix4(matrixWorld);\n        _sphere$2.radius += threshold;\n\n        if (raycaster.ray.intersectsSphere(_sphere$2) === false) return;\n\n        //\n\n        _inverseMatrix$1.getInverse(matrixWorld);\n        _ray$1.copy(raycaster.ray).applyMatrix4(_inverseMatrix$1);\n\n        const localThreshold = threshold / ((this.scale.x + this.scale.y + this.scale.z) / 3);\n        const localThresholdSq = localThreshold * localThreshold;\n\n        const vStart = new Vector3();\n        const vEnd = new Vector3();\n        const interSegment = new Vector3();\n        const interRay = new Vector3();\n        const step = this.isLineSegments ? 2 : 1;\n\n        if (geometry.isBufferGeometry) {\n\n            const index = geometry.index;\n            const attributes = geometry.attributes;\n            const positionAttribute = attributes.position;\n\n            if (index !== null) {\n\n                const indices = index.array;\n\n                for (let i = 0, l = indices.length - 1; i < l; i += step) {\n\n                    const a = indices[i];\n                    const b = indices[i + 1];\n\n                    vStart.fromBufferAttribute(positionAttribute, a);\n                    vEnd.fromBufferAttribute(positionAttribute, b);\n\n                    const distSq = _ray$1.distanceSqToSegment(vStart, vEnd, interRay, interSegment);\n\n                    if (distSq > localThresholdSq) continue;\n\n                    interRay.applyMatrix4(this.matrixWorld); //Move back to world space for distance calculation\n\n                    const distance = raycaster.ray.origin.distanceTo(interRay);\n\n                    if (distance < raycaster.near || distance > raycaster.far) continue;\n\n                    intersects.push({\n\n                        distance: distance,\n                        // What do we want? intersection point on the ray or on the segment??\n                        // point: raycaster.ray.at( distance ),\n                        point: interSegment.clone().applyMatrix4(this.matrixWorld),\n                        index: i,\n                        face: null,\n                        faceIndex: null,\n                        object: this\n\n                    });\n\n                }\n\n            } else {\n\n                for (let i = 0, l = positionAttribute.count - 1; i < l; i += step) {\n\n                    vStart.fromBufferAttribute(positionAttribute, i);\n                    vEnd.fromBufferAttribute(positionAttribute, i + 1);\n\n                    const distSq = _ray$1.distanceSqToSegment(vStart, vEnd, interRay, interSegment);\n\n                    if (distSq > localThresholdSq) continue;\n\n                    interRay.applyMatrix4(this.matrixWorld); //Move back to world space for distance calculation\n\n                    const distance = raycaster.ray.origin.distanceTo(interRay);\n\n                    if (distance < raycaster.near || distance > raycaster.far) continue;\n\n                    intersects.push({\n\n                        distance: distance,\n                        // What do we want? intersection point on the ray or on the segment??\n                        // point: raycaster.ray.at( distance ),\n                        point: interSegment.clone().applyMatrix4(this.matrixWorld),\n                        index: i,\n                        face: null,\n                        faceIndex: null,\n                        object: this\n\n                    });\n\n                }\n\n            }\n\n        } else if (geometry.isGeometry) {\n\n            const vertices = geometry.vertices;\n            const nbVertices = vertices.length;\n\n            for (let i = 0; i < nbVertices - 1; i += step) {\n\n                const distSq = _ray$1.distanceSqToSegment(vertices[i], vertices[i + 1], interRay, interSegment);\n\n                if (distSq > localThresholdSq) continue;\n\n                interRay.applyMatrix4(this.matrixWorld); //Move back to world space for distance calculation\n\n                const distance = raycaster.ray.origin.distanceTo(interRay);\n\n                if (distance < raycaster.near || distance > raycaster.far) continue;\n\n                intersects.push({\n\n                    distance: distance,\n                    // What do we want? intersection point on the ray or on the segment??\n                    // point: raycaster.ray.at( distance ),\n                    point: interSegment.clone().applyMatrix4(this.matrixWorld),\n                    index: i,\n                    face: null,\n                    faceIndex: null,\n                    object: this\n\n                });\n\n            }\n\n        }\n\n    },\n\n    updateMorphTargets: function() {\n\n        const geometry = this.geometry;\n\n        if (geometry.isBufferGeometry) {\n\n            const morphAttributes = geometry.morphAttributes;\n            const keys = Object.keys(morphAttributes);\n\n            if (keys.length > 0) {\n\n                const morphAttribute = morphAttributes[keys[0]];\n\n                if (morphAttribute !== undefined) {\n\n                    this.morphTargetInfluences = [];\n                    this.morphTargetDictionary = {};\n\n                    for (let m = 0, ml = morphAttribute.length; m < ml; m++) {\n\n                        const name = morphAttribute[m].name || String(m);\n\n                        this.morphTargetInfluences.push(0);\n                        this.morphTargetDictionary[name] = m;\n\n                    }\n\n                }\n\n            }\n\n        } else {\n\n            const morphTargets = geometry.morphTargets;\n\n            if (morphTargets !== undefined && morphTargets.length > 0) {\n\n                console.error('THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.');\n\n            }\n\n        }\n\n    }\n\n});\n\nconst _start$1 = new Vector3();\nconst _end$1 = new Vector3();\n\nfunction LineSegments(geometry, material) {\n\n    Line.call(this, geometry, material);\n\n    this.type = 'LineSegments';\n\n}\n\nLineSegments.prototype = Object.assign(Object.create(Line.prototype), {\n\n    constructor: LineSegments,\n\n    isLineSegments: true,\n\n    computeLineDistances: function() {\n\n        const geometry = this.geometry;\n\n        if (geometry.isBufferGeometry) {\n\n            // we assume non-indexed geometry\n\n            if (geometry.index === null) {\n\n                const positionAttribute = geometry.attributes.position;\n                const lineDistances = [];\n\n                for (let i = 0, l = positionAttribute.count; i < l; i += 2) {\n\n                    _start$1.fromBufferAttribute(positionAttribute, i);\n                    _end$1.fromBufferAttribute(positionAttribute, i + 1);\n\n                    lineDistances[i] = (i === 0) ? 0 : lineDistances[i - 1];\n                    lineDistances[i + 1] = lineDistances[i] + _start$1.distanceTo(_end$1);\n\n                }\n\n                geometry.setAttribute('lineDistance', new Float32BufferAttribute(lineDistances, 1));\n\n            } else {\n\n                console.warn('THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.');\n\n            }\n\n        } else if (geometry.isGeometry) {\n\n            const vertices = geometry.vertices;\n            const lineDistances = geometry.lineDistances;\n\n            for (let i = 0, l = vertices.length; i < l; i += 2) {\n\n                _start$1.copy(vertices[i]);\n                _end$1.copy(vertices[i + 1]);\n\n                lineDistances[i] = (i === 0) ? 0 : lineDistances[i - 1];\n                lineDistances[i + 1] = lineDistances[i] + _start$1.distanceTo(_end$1);\n\n            }\n\n        }\n\n        return this;\n\n    }\n\n});\n\nfunction LineLoop(geometry, material) {\n\n    Line.call(this, geometry, material);\n\n    this.type = 'LineLoop';\n\n}\n\nLineLoop.prototype = Object.assign(Object.create(Line.prototype), {\n\n    constructor: LineLoop,\n\n    isLineLoop: true,\n\n});\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  size: <float>,\n *  sizeAttenuation: <bool>\n *\n *  morphTargets: <bool>\n * }\n */\n\nfunction PointsMaterial(parameters) {\n\n    Material.call(this);\n\n    this.type = 'PointsMaterial';\n\n    this.color = new Color(0xffffff);\n\n    this.map = null;\n\n    this.alphaMap = null;\n\n    this.size = 1;\n    this.sizeAttenuation = true;\n\n    this.morphTargets = false;\n\n    this.setValues(parameters);\n\n}\n\nPointsMaterial.prototype = Object.create(Material.prototype);\nPointsMaterial.prototype.constructor = PointsMaterial;\n\nPointsMaterial.prototype.isPointsMaterial = true;\n\nPointsMaterial.prototype.copy = function(source) {\n\n    Material.prototype.copy.call(this, source);\n\n    this.color.copy(source.color);\n\n    this.map = source.map;\n\n    this.alphaMap = source.alphaMap;\n\n    this.size = source.size;\n    this.sizeAttenuation = source.sizeAttenuation;\n\n    this.morphTargets = source.morphTargets;\n\n    return this;\n\n};\n\nconst _inverseMatrix$2 = new Matrix4();\nconst _ray$2 = new Ray();\nconst _sphere$3 = new Sphere();\nconst _position$1 = new Vector3();\n\nfunction Points(geometry, material) {\n\n    Object3D.call(this);\n\n    this.type = 'Points';\n\n    this.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n    this.material = material !== undefined ? material : new PointsMaterial();\n\n    this.updateMorphTargets();\n\n}\n\nPoints.prototype = Object.assign(Object.create(Object3D.prototype), {\n\n    constructor: Points,\n\n    isPoints: true,\n\n    copy: function(source) {\n\n        Object3D.prototype.copy.call(this, source);\n\n        this.material = source.material;\n        this.geometry = source.geometry;\n\n        return this;\n\n    },\n\n    raycast: function(raycaster, intersects) {\n\n        const geometry = this.geometry;\n        const matrixWorld = this.matrixWorld;\n        const threshold = raycaster.params.Points.threshold;\n\n        // Checking boundingSphere distance to ray\n\n        if (geometry.boundingSphere === null) geometry.computeBoundingSphere();\n\n        _sphere$3.copy(geometry.boundingSphere);\n        _sphere$3.applyMatrix4(matrixWorld);\n        _sphere$3.radius += threshold;\n\n        if (raycaster.ray.intersectsSphere(_sphere$3) === false) return;\n\n        //\n\n        _inverseMatrix$2.getInverse(matrixWorld);\n        _ray$2.copy(raycaster.ray).applyMatrix4(_inverseMatrix$2);\n\n        const localThreshold = threshold / ((this.scale.x + this.scale.y + this.scale.z) / 3);\n        const localThresholdSq = localThreshold * localThreshold;\n\n        if (geometry.isBufferGeometry) {\n\n            const index = geometry.index;\n            const attributes = geometry.attributes;\n            const positionAttribute = attributes.position;\n\n            if (index !== null) {\n\n                const indices = index.array;\n\n                for (let i = 0, il = indices.length; i < il; i++) {\n\n                    const a = indices[i];\n\n                    _position$1.fromBufferAttribute(positionAttribute, a);\n\n                    testPoint(_position$1, a, localThresholdSq, matrixWorld, raycaster, intersects, this);\n\n                }\n\n            } else {\n\n                for (let i = 0, l = positionAttribute.count; i < l; i++) {\n\n                    _position$1.fromBufferAttribute(positionAttribute, i);\n\n                    testPoint(_position$1, i, localThresholdSq, matrixWorld, raycaster, intersects, this);\n\n                }\n\n            }\n\n        } else {\n\n            const vertices = geometry.vertices;\n\n            for (let i = 0, l = vertices.length; i < l; i++) {\n\n                testPoint(vertices[i], i, localThresholdSq, matrixWorld, raycaster, intersects, this);\n\n            }\n\n        }\n\n    },\n\n    updateMorphTargets: function() {\n\n        const geometry = this.geometry;\n\n        if (geometry.isBufferGeometry) {\n\n            const morphAttributes = geometry.morphAttributes;\n            const keys = Object.keys(morphAttributes);\n\n            if (keys.length > 0) {\n\n                const morphAttribute = morphAttributes[keys[0]];\n\n                if (morphAttribute !== undefined) {\n\n                    this.morphTargetInfluences = [];\n                    this.morphTargetDictionary = {};\n\n                    for (let m = 0, ml = morphAttribute.length; m < ml; m++) {\n\n                        const name = morphAttribute[m].name || String(m);\n\n                        this.morphTargetInfluences.push(0);\n                        this.morphTargetDictionary[name] = m;\n\n                    }\n\n                }\n\n            }\n\n        } else {\n\n            const morphTargets = geometry.morphTargets;\n\n            if (morphTargets !== undefined && morphTargets.length > 0) {\n\n                console.error('THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.');\n\n            }\n\n        }\n\n    }\n\n});\n\nfunction testPoint(point, index, localThresholdSq, matrixWorld, raycaster, intersects, object) {\n\n    const rayPointDistanceSq = _ray$2.distanceSqToPoint(point);\n\n    if (rayPointDistanceSq < localThresholdSq) {\n\n        const intersectPoint = new Vector3();\n\n        _ray$2.closestPointToPoint(point, intersectPoint);\n        intersectPoint.applyMatrix4(matrixWorld);\n\n        const distance = raycaster.ray.origin.distanceTo(intersectPoint);\n\n        if (distance < raycaster.near || distance > raycaster.far) return;\n\n        intersects.push({\n\n            distance: distance,\n            distanceToRay: Math.sqrt(rayPointDistanceSq),\n            point: intersectPoint,\n            index: index,\n            face: null,\n            object: object\n\n        });\n\n    }\n\n}\n\nfunction VideoTexture(video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy) {\n\n    Texture.call(this, video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy);\n\n    this.format = format !== undefined ? format : RGBFormat;\n\n    this.minFilter = minFilter !== undefined ? minFilter : LinearFilter;\n    this.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n\n    this.generateMipmaps = false;\n\n    const scope = this;\n\n    function updateVideo() {\n\n        scope.needsUpdate = true;\n        video.requestVideoFrameCallback(updateVideo);\n\n    }\n\n    if ('requestVideoFrameCallback' in video) {\n\n        video.requestVideoFrameCallback(updateVideo);\n\n    }\n\n}\n\nVideoTexture.prototype = Object.assign(Object.create(Texture.prototype), {\n\n    constructor: VideoTexture,\n\n    clone: function() {\n\n        return new this.constructor(this.image).copy(this);\n\n    },\n\n    isVideoTexture: true,\n\n    update: function() {\n\n        const video = this.image;\n        const hasVideoFrameCallback = 'requestVideoFrameCallback' in video;\n\n        if (hasVideoFrameCallback === false && video.readyState >= video.HAVE_CURRENT_DATA) {\n\n            this.needsUpdate = true;\n\n        }\n\n    }\n\n});\n\nfunction CompressedTexture(mipmaps, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding) {\n\n    Texture.call(this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding);\n\n    this.image = {\n        width: width,\n        height: height\n    };\n    this.mipmaps = mipmaps;\n\n    // no flipping for cube textures\n    // (also flipping doesn't work for compressed textures )\n\n    this.flipY = false;\n\n    // can't generate mipmaps for compressed textures\n    // mips must be embedded in DDS files\n\n    this.generateMipmaps = false;\n\n}\n\nCompressedTexture.prototype = Object.create(Texture.prototype);\nCompressedTexture.prototype.constructor = CompressedTexture;\n\nCompressedTexture.prototype.isCompressedTexture = true;\n\nfunction CanvasTexture(canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy) {\n\n    Texture.call(this, canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy);\n\n    this.needsUpdate = true;\n\n}\n\nCanvasTexture.prototype = Object.create(Texture.prototype);\nCanvasTexture.prototype.constructor = CanvasTexture;\nCanvasTexture.prototype.isCanvasTexture = true;\n\nfunction DepthTexture(width, height, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, format) {\n\n    format = format !== undefined ? format : DepthFormat;\n\n    if (format !== DepthFormat && format !== DepthStencilFormat) {\n\n        throw new Error('DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat');\n\n    }\n\n    if (type === undefined && format === DepthFormat) type = UnsignedShortType;\n    if (type === undefined && format === DepthStencilFormat) type = UnsignedInt248Type;\n\n    Texture.call(this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy);\n\n    this.image = {\n        width: width,\n        height: height\n    };\n\n    this.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n    this.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n    this.flipY = false;\n    this.generateMipmaps = false;\n\n}\n\nDepthTexture.prototype = Object.create(Texture.prototype);\nDepthTexture.prototype.constructor = DepthTexture;\nDepthTexture.prototype.isDepthTexture = true;\n\nlet _geometryId = 0; // Geometry uses even numbers as Id\nconst _m1$3 = new Matrix4();\nconst _obj$1 = new Object3D();\nconst _offset$1 = new Vector3();\n\nfunction Geometry() {\n\n    Object.defineProperty(this, 'id', {\n        value: _geometryId += 2\n    });\n\n    this.uuid = MathUtils.generateUUID();\n\n    this.name = '';\n    this.type = 'Geometry';\n\n    this.vertices = [];\n    this.colors = [];\n    this.faces = [];\n    this.faceVertexUvs = [\n        []\n    ];\n\n    this.morphTargets = [];\n    this.morphNormals = [];\n\n    this.skinWeights = [];\n    this.skinIndices = [];\n\n    this.lineDistances = [];\n\n    this.boundingBox = null;\n    this.boundingSphere = null;\n\n    // update flags\n\n    this.elementsNeedUpdate = false;\n    this.verticesNeedUpdate = false;\n    this.uvsNeedUpdate = false;\n    this.normalsNeedUpdate = false;\n    this.colorsNeedUpdate = false;\n    this.lineDistancesNeedUpdate = false;\n    this.groupsNeedUpdate = false;\n\n}\n\nGeometry.prototype = Object.assign(Object.create(EventDispatcher.prototype), {\n\n    constructor: Geometry,\n\n    isGeometry: true,\n\n    applyMatrix4: function(matrix) {\n\n        const normalMatrix = new Matrix3().getNormalMatrix(matrix);\n\n        for (let i = 0, il = this.vertices.length; i < il; i++) {\n\n            const vertex = this.vertices[i];\n            vertex.applyMatrix4(matrix);\n\n        }\n\n        for (let i = 0, il = this.faces.length; i < il; i++) {\n\n            const face = this.faces[i];\n            face.normal.applyMatrix3(normalMatrix).normalize();\n\n            for (let j = 0, jl = face.vertexNormals.length; j < jl; j++) {\n\n                face.vertexNormals[j].applyMatrix3(normalMatrix).normalize();\n\n            }\n\n        }\n\n        if (this.boundingBox !== null) {\n\n            this.computeBoundingBox();\n\n        }\n\n        if (this.boundingSphere !== null) {\n\n            this.computeBoundingSphere();\n\n        }\n\n        this.verticesNeedUpdate = true;\n        this.normalsNeedUpdate = true;\n\n        return this;\n\n    },\n\n    rotateX: function(angle) {\n\n        // rotate geometry around world x-axis\n\n        _m1$3.makeRotationX(angle);\n\n        this.applyMatrix4(_m1$3);\n\n        return this;\n\n    },\n\n    rotateY: function(angle) {\n\n        // rotate geometry around world y-axis\n\n        _m1$3.makeRotationY(angle);\n\n        this.applyMatrix4(_m1$3);\n\n        return this;\n\n    },\n\n    rotateZ: function(angle) {\n\n        // rotate geometry around world z-axis\n\n        _m1$3.makeRotationZ(angle);\n\n        this.applyMatrix4(_m1$3);\n\n        return this;\n\n    },\n\n    translate: function(x, y, z) {\n\n        // translate geometry\n\n        _m1$3.makeTranslation(x, y, z);\n\n        this.applyMatrix4(_m1$3);\n\n        return this;\n\n    },\n\n    scale: function(x, y, z) {\n\n        // scale geometry\n\n        _m1$3.makeScale(x, y, z);\n\n        this.applyMatrix4(_m1$3);\n\n        return this;\n\n    },\n\n    lookAt: function(vector) {\n\n        _obj$1.lookAt(vector);\n\n        _obj$1.updateMatrix();\n\n        this.applyMatrix4(_obj$1.matrix);\n\n        return this;\n\n    },\n\n    fromBufferGeometry: function(geometry) {\n\n        const scope = this;\n\n        const index = geometry.index !== null ? geometry.index : undefined;\n        const attributes = geometry.attributes;\n\n        if (attributes.position === undefined) {\n\n            console.error('THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion.');\n            return this;\n\n        }\n\n        const position = attributes.position;\n        const normal = attributes.normal;\n        const color = attributes.color;\n        const uv = attributes.uv;\n        const uv2 = attributes.uv2;\n\n        if (uv2 !== undefined) this.faceVertexUvs[1] = [];\n\n        for (let i = 0; i < position.count; i++) {\n\n            scope.vertices.push(new Vector3().fromBufferAttribute(position, i));\n\n            if (color !== undefined) {\n\n                scope.colors.push(new Color().fromBufferAttribute(color, i));\n\n            }\n\n        }\n\n        function addFace(a, b, c, materialIndex) {\n\n            const vertexColors = (color === undefined) ? [] : [\n                scope.colors[a].clone(),\n                scope.colors[b].clone(),\n                scope.colors[c].clone()\n            ];\n\n            const vertexNormals = (normal === undefined) ? [] : [\n                new Vector3().fromBufferAttribute(normal, a),\n                new Vector3().fromBufferAttribute(normal, b),\n                new Vector3().fromBufferAttribute(normal, c)\n            ];\n\n            const face = new Face3(a, b, c, vertexNormals, vertexColors, materialIndex);\n\n            scope.faces.push(face);\n\n            if (uv !== undefined) {\n\n                scope.faceVertexUvs[0].push([\n                    new Vector2().fromBufferAttribute(uv, a),\n                    new Vector2().fromBufferAttribute(uv, b),\n                    new Vector2().fromBufferAttribute(uv, c)\n                ]);\n\n            }\n\n            if (uv2 !== undefined) {\n\n                scope.faceVertexUvs[1].push([\n                    new Vector2().fromBufferAttribute(uv2, a),\n                    new Vector2().fromBufferAttribute(uv2, b),\n                    new Vector2().fromBufferAttribute(uv2, c)\n                ]);\n\n            }\n\n        }\n\n        const groups = geometry.groups;\n\n        if (groups.length > 0) {\n\n            for (let i = 0; i < groups.length; i++) {\n\n                const group = groups[i];\n\n                const start = group.start;\n                const count = group.count;\n\n                for (let j = start, jl = start + count; j < jl; j += 3) {\n\n                    if (index !== undefined) {\n\n                        addFace(index.getX(j), index.getX(j + 1), index.getX(j + 2), group.materialIndex);\n\n                    } else {\n\n                        addFace(j, j + 1, j + 2, group.materialIndex);\n\n                    }\n\n                }\n\n            }\n\n        } else {\n\n            if (index !== undefined) {\n\n                for (let i = 0; i < index.count; i += 3) {\n\n                    addFace(index.getX(i), index.getX(i + 1), index.getX(i + 2));\n\n                }\n\n            } else {\n\n                for (let i = 0; i < position.count; i += 3) {\n\n                    addFace(i, i + 1, i + 2);\n\n                }\n\n            }\n\n        }\n\n        this.computeFaceNormals();\n\n        if (geometry.boundingBox !== null) {\n\n            this.boundingBox = geometry.boundingBox.clone();\n\n        }\n\n        if (geometry.boundingSphere !== null) {\n\n            this.boundingSphere = geometry.boundingSphere.clone();\n\n        }\n\n        return this;\n\n    },\n\n    center: function() {\n\n        this.computeBoundingBox();\n\n        this.boundingBox.getCenter(_offset$1).negate();\n\n        this.translate(_offset$1.x, _offset$1.y, _offset$1.z);\n\n        return this;\n\n    },\n\n    normalize: function() {\n\n        this.computeBoundingSphere();\n\n        const center = this.boundingSphere.center;\n        const radius = this.boundingSphere.radius;\n\n        const s = radius === 0 ? 1 : 1.0 / radius;\n\n        const matrix = new Matrix4();\n        matrix.set(\n            s, 0, 0, -s * center.x,\n            0, s, 0, -s * center.y,\n            0, 0, s, -s * center.z,\n            0, 0, 0, 1\n        );\n\n        this.applyMatrix4(matrix);\n\n        return this;\n\n    },\n\n    computeFaceNormals: function() {\n\n        const cb = new Vector3(),\n            ab = new Vector3();\n\n        for (let f = 0, fl = this.faces.length; f < fl; f++) {\n\n            const face = this.faces[f];\n\n            const vA = this.vertices[face.a];\n            const vB = this.vertices[face.b];\n            const vC = this.vertices[face.c];\n\n            cb.subVectors(vC, vB);\n            ab.subVectors(vA, vB);\n            cb.cross(ab);\n\n            cb.normalize();\n\n            face.normal.copy(cb);\n\n        }\n\n    },\n\n    computeVertexNormals: function(areaWeighted) {\n\n        if (areaWeighted === undefined) areaWeighted = true;\n\n        const vertices = new Array(this.vertices.length);\n\n        for (let v = 0, vl = this.vertices.length; v < vl; v++) {\n\n            vertices[v] = new Vector3();\n\n        }\n\n        if (areaWeighted) {\n\n            // vertex normals weighted by triangle areas\n            // http://www.iquilezles.org/www/articles/normals/normals.htm\n\n            const cb = new Vector3(),\n                ab = new Vector3();\n\n            for (let f = 0, fl = this.faces.length; f < fl; f++) {\n\n                const face = this.faces[f];\n\n                const vA = this.vertices[face.a];\n                const vB = this.vertices[face.b];\n                const vC = this.vertices[face.c];\n\n                cb.subVectors(vC, vB);\n                ab.subVectors(vA, vB);\n                cb.cross(ab);\n\n                vertices[face.a].add(cb);\n                vertices[face.b].add(cb);\n                vertices[face.c].add(cb);\n\n            }\n\n        } else {\n\n            this.computeFaceNormals();\n\n            for (let f = 0, fl = this.faces.length; f < fl; f++) {\n\n                const face = this.faces[f];\n\n                vertices[face.a].add(face.normal);\n                vertices[face.b].add(face.normal);\n                vertices[face.c].add(face.normal);\n\n            }\n\n        }\n\n        for (let v = 0, vl = this.vertices.length; v < vl; v++) {\n\n            vertices[v].normalize();\n\n        }\n\n        for (let f = 0, fl = this.faces.length; f < fl; f++) {\n\n            const face = this.faces[f];\n\n            const vertexNormals = face.vertexNormals;\n\n            if (vertexNormals.length === 3) {\n\n                vertexNormals[0].copy(vertices[face.a]);\n                vertexNormals[1].copy(vertices[face.b]);\n                vertexNormals[2].copy(vertices[face.c]);\n\n            } else {\n\n                vertexNormals[0] = vertices[face.a].clone();\n                vertexNormals[1] = vertices[face.b].clone();\n                vertexNormals[2] = vertices[face.c].clone();\n\n            }\n\n        }\n\n        if (this.faces.length > 0) {\n\n            this.normalsNeedUpdate = true;\n\n        }\n\n    },\n\n    computeFlatVertexNormals: function() {\n\n        this.computeFaceNormals();\n\n        for (let f = 0, fl = this.faces.length; f < fl; f++) {\n\n            const face = this.faces[f];\n\n            const vertexNormals = face.vertexNormals;\n\n            if (vertexNormals.length === 3) {\n\n                vertexNormals[0].copy(face.normal);\n                vertexNormals[1].copy(face.normal);\n                vertexNormals[2].copy(face.normal);\n\n            } else {\n\n                vertexNormals[0] = face.normal.clone();\n                vertexNormals[1] = face.normal.clone();\n                vertexNormals[2] = face.normal.clone();\n\n            }\n\n        }\n\n        if (this.faces.length > 0) {\n\n            this.normalsNeedUpdate = true;\n\n        }\n\n    },\n\n    computeMorphNormals: function() {\n\n        // save original normals\n        // - create temp variables on first access\n        //   otherwise just copy (for faster repeated calls)\n\n        for (let f = 0, fl = this.faces.length; f < fl; f++) {\n\n            const face = this.faces[f];\n\n            if (!face.__originalFaceNormal) {\n\n                face.__originalFaceNormal = face.normal.clone();\n\n            } else {\n\n                face.__originalFaceNormal.copy(face.normal);\n\n            }\n\n            if (!face.__originalVertexNormals) face.__originalVertexNormals = [];\n\n            for (let i = 0, il = face.vertexNormals.length; i < il; i++) {\n\n                if (!face.__originalVertexNormals[i]) {\n\n                    face.__originalVertexNormals[i] = face.vertexNormals[i].clone();\n\n                } else {\n\n                    face.__originalVertexNormals[i].copy(face.vertexNormals[i]);\n\n                }\n\n            }\n\n        }\n\n        // use temp geometry to compute face and vertex normals for each morph\n\n        const tmpGeo = new Geometry();\n        tmpGeo.faces = this.faces;\n\n        for (let i = 0, il = this.morphTargets.length; i < il; i++) {\n\n            // create on first access\n\n            if (!this.morphNormals[i]) {\n\n                this.morphNormals[i] = {};\n                this.morphNormals[i].faceNormals = [];\n                this.morphNormals[i].vertexNormals = [];\n\n                const dstNormalsFace = this.morphNormals[i].faceNormals;\n                const dstNormalsVertex = this.morphNormals[i].vertexNormals;\n\n                for (let f = 0, fl = this.faces.length; f < fl; f++) {\n\n                    const faceNormal = new Vector3();\n                    const vertexNormals = {\n                        a: new Vector3(),\n                        b: new Vector3(),\n                        c: new Vector3()\n                    };\n\n                    dstNormalsFace.push(faceNormal);\n                    dstNormalsVertex.push(vertexNormals);\n\n                }\n\n            }\n\n            const morphNormals = this.morphNormals[i];\n\n            // set vertices to morph target\n\n            tmpGeo.vertices = this.morphTargets[i].vertices;\n\n            // compute morph normals\n\n            tmpGeo.computeFaceNormals();\n            tmpGeo.computeVertexNormals();\n\n            // store morph normals\n\n            for (let f = 0, fl = this.faces.length; f < fl; f++) {\n\n                const face = this.faces[f];\n\n                const faceNormal = morphNormals.faceNormals[f];\n                const vertexNormals = morphNormals.vertexNormals[f];\n\n                faceNormal.copy(face.normal);\n\n                vertexNormals.a.copy(face.vertexNormals[0]);\n                vertexNormals.b.copy(face.vertexNormals[1]);\n                vertexNormals.c.copy(face.vertexNormals[2]);\n\n            }\n\n        }\n\n        // restore original normals\n\n        for (let f = 0, fl = this.faces.length; f < fl; f++) {\n\n            const face = this.faces[f];\n\n            face.normal = face.__originalFaceNormal;\n            face.vertexNormals = face.__originalVertexNormals;\n\n        }\n\n    },\n\n    computeBoundingBox: function() {\n\n        if (this.boundingBox === null) {\n\n            this.boundingBox = new Box3();\n\n        }\n\n        this.boundingBox.setFromPoints(this.vertices);\n\n    },\n\n    computeBoundingSphere: function() {\n\n        if (this.boundingSphere === null) {\n\n            this.boundingSphere = new Sphere();\n\n        }\n\n        this.boundingSphere.setFromPoints(this.vertices);\n\n    },\n\n    merge: function(geometry, matrix, materialIndexOffset) {\n\n        if (!(geometry && geometry.isGeometry)) {\n\n            console.error('THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.', geometry);\n            return;\n\n        }\n\n        let normalMatrix;\n        const vertexOffset = this.vertices.length,\n            vertices1 = this.vertices,\n            vertices2 = geometry.vertices,\n            faces1 = this.faces,\n            faces2 = geometry.faces,\n            colors1 = this.colors,\n            colors2 = geometry.colors;\n\n        if (materialIndexOffset === undefined) materialIndexOffset = 0;\n\n        if (matrix !== undefined) {\n\n            normalMatrix = new Matrix3().getNormalMatrix(matrix);\n\n        }\n\n        // vertices\n\n        for (let i = 0, il = vertices2.length; i < il; i++) {\n\n            const vertex = vertices2[i];\n\n            const vertexCopy = vertex.clone();\n\n            if (matrix !== undefined) vertexCopy.applyMatrix4(matrix);\n\n            vertices1.push(vertexCopy);\n\n        }\n\n        // colors\n\n        for (let i = 0, il = colors2.length; i < il; i++) {\n\n            colors1.push(colors2[i].clone());\n\n        }\n\n        // faces\n\n        for (let i = 0, il = faces2.length; i < il; i++) {\n\n            const face = faces2[i];\n            let normal, color;\n            const faceVertexNormals = face.vertexNormals,\n                faceVertexColors = face.vertexColors;\n\n            const faceCopy = new Face3(face.a + vertexOffset, face.b + vertexOffset, face.c + vertexOffset);\n            faceCopy.normal.copy(face.normal);\n\n            if (normalMatrix !== undefined) {\n\n                faceCopy.normal.applyMatrix3(normalMatrix).normalize();\n\n            }\n\n            for (let j = 0, jl = faceVertexNormals.length; j < jl; j++) {\n\n                normal = faceVertexNormals[j].clone();\n\n                if (normalMatrix !== undefined) {\n\n                    normal.applyMatrix3(normalMatrix).normalize();\n\n                }\n\n                faceCopy.vertexNormals.push(normal);\n\n            }\n\n            faceCopy.color.copy(face.color);\n\n            for (let j = 0, jl = faceVertexColors.length; j < jl; j++) {\n\n                color = faceVertexColors[j];\n                faceCopy.vertexColors.push(color.clone());\n\n            }\n\n            faceCopy.materialIndex = face.materialIndex + materialIndexOffset;\n\n            faces1.push(faceCopy);\n\n        }\n\n        // uvs\n\n        for (let i = 0, il = geometry.faceVertexUvs.length; i < il; i++) {\n\n            const faceVertexUvs2 = geometry.faceVertexUvs[i];\n\n            if (this.faceVertexUvs[i] === undefined) this.faceVertexUvs[i] = [];\n\n            for (let j = 0, jl = faceVertexUvs2.length; j < jl; j++) {\n\n                const uvs2 = faceVertexUvs2[j],\n                    uvsCopy = [];\n\n                for (let k = 0, kl = uvs2.length; k < kl; k++) {\n\n                    uvsCopy.push(uvs2[k].clone());\n\n                }\n\n                this.faceVertexUvs[i].push(uvsCopy);\n\n            }\n\n        }\n\n    },\n\n    mergeMesh: function(mesh) {\n\n        if (!(mesh && mesh.isMesh)) {\n\n            console.error('THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.', mesh);\n            return;\n\n        }\n\n        if (mesh.matrixAutoUpdate) mesh.updateMatrix();\n\n        this.merge(mesh.geometry, mesh.matrix);\n\n    },\n\n    /*\n     * Checks for duplicate vertices with hashmap.\n     * Duplicated vertices are removed\n     * and faces' vertices are updated.\n     */\n\n    mergeVertices: function() {\n\n        const verticesMap = {}; // Hashmap for looking up vertices by position coordinates (and making sure they are unique)\n        const unique = [],\n            changes = [];\n\n        const precisionPoints = 4; // number of decimal points, e.g. 4 for epsilon of 0.0001\n        const precision = Math.pow(10, precisionPoints);\n\n        for (let i = 0, il = this.vertices.length; i < il; i++) {\n\n            const v = this.vertices[i];\n            const key = Math.round(v.x * precision) + '_' + Math.round(v.y * precision) + '_' + Math.round(v.z * precision);\n\n            if (verticesMap[key] === undefined) {\n\n                verticesMap[key] = i;\n                unique.push(this.vertices[i]);\n                changes[i] = unique.length - 1;\n\n            } else {\n\n                //console.log('Duplicate vertex found. ', i, ' could be using ', verticesMap[key]);\n                changes[i] = changes[verticesMap[key]];\n\n            }\n\n        }\n\n\n        // if faces are completely degenerate after merging vertices, we\n        // have to remove them from the geometry.\n        const faceIndicesToRemove = [];\n\n        for (let i = 0, il = this.faces.length; i < il; i++) {\n\n            const face = this.faces[i];\n\n            face.a = changes[face.a];\n            face.b = changes[face.b];\n            face.c = changes[face.c];\n\n            const indices = [face.a, face.b, face.c];\n\n            // if any duplicate vertices are found in a Face3\n            // we have to remove the face as nothing can be saved\n            for (let n = 0; n < 3; n++) {\n\n                if (indices[n] === indices[(n + 1) % 3]) {\n\n                    faceIndicesToRemove.push(i);\n                    break;\n\n                }\n\n            }\n\n        }\n\n        for (let i = faceIndicesToRemove.length - 1; i >= 0; i--) {\n\n            const idx = faceIndicesToRemove[i];\n\n            this.faces.splice(idx, 1);\n\n            for (let j = 0, jl = this.faceVertexUvs.length; j < jl; j++) {\n\n                this.faceVertexUvs[j].splice(idx, 1);\n\n            }\n\n        }\n\n        // Use unique set of vertices\n\n        const diff = this.vertices.length - unique.length;\n        this.vertices = unique;\n        return diff;\n\n    },\n\n    setFromPoints: function(points) {\n\n        this.vertices = [];\n\n        for (let i = 0, l = points.length; i < l; i++) {\n\n            const point = points[i];\n            this.vertices.push(new Vector3(point.x, point.y, point.z || 0));\n\n        }\n\n        return this;\n\n    },\n\n    sortFacesByMaterialIndex: function() {\n\n        const faces = this.faces;\n        const length = faces.length;\n\n        // tag faces\n\n        for (let i = 0; i < length; i++) {\n\n            faces[i]._id = i;\n\n        }\n\n        // sort faces\n\n        function materialIndexSort(a, b) {\n\n            return a.materialIndex - b.materialIndex;\n\n        }\n\n        faces.sort(materialIndexSort);\n\n        // sort uvs\n\n        const uvs1 = this.faceVertexUvs[0];\n        const uvs2 = this.faceVertexUvs[1];\n\n        let newUvs1, newUvs2;\n\n        if (uvs1 && uvs1.length === length) newUvs1 = [];\n        if (uvs2 && uvs2.length === length) newUvs2 = [];\n\n        for (let i = 0; i < length; i++) {\n\n            const id = faces[i]._id;\n\n            if (newUvs1) newUvs1.push(uvs1[id]);\n            if (newUvs2) newUvs2.push(uvs2[id]);\n\n        }\n\n        if (newUvs1) this.faceVertexUvs[0] = newUvs1;\n        if (newUvs2) this.faceVertexUvs[1] = newUvs2;\n\n    },\n\n    toJSON: function() {\n\n        const data = {\n            metadata: {\n                version: 4.5,\n                type: 'Geometry',\n                generator: 'Geometry.toJSON'\n            }\n        };\n\n        // standard Geometry serialization\n\n        data.uuid = this.uuid;\n        data.type = this.type;\n        if (this.name !== '') data.name = this.name;\n\n        if (this.parameters !== undefined) {\n\n            const parameters = this.parameters;\n\n            for (const key in parameters) {\n\n                if (parameters[key] !== undefined) data[key] = parameters[key];\n\n            }\n\n            return data;\n\n        }\n\n        const vertices = [];\n\n        for (let i = 0; i < this.vertices.length; i++) {\n\n            const vertex = this.vertices[i];\n            vertices.push(vertex.x, vertex.y, vertex.z);\n\n        }\n\n        const faces = [];\n        const normals = [];\n        const normalsHash = {};\n        const colors = [];\n        const colorsHash = {};\n        const uvs = [];\n        const uvsHash = {};\n\n        for (let i = 0; i < this.faces.length; i++) {\n\n            const face = this.faces[i];\n\n            const hasMaterial = true;\n            const hasFaceUv = false; // deprecated\n            const hasFaceVertexUv = this.faceVertexUvs[0][i] !== undefined;\n            const hasFaceNormal = face.normal.length() > 0;\n            const hasFaceVertexNormal = face.vertexNormals.length > 0;\n            const hasFaceColor = face.color.r !== 1 || face.color.g !== 1 || face.color.b !== 1;\n            const hasFaceVertexColor = face.vertexColors.length > 0;\n\n            let faceType = 0;\n\n            faceType = setBit(faceType, 0, 0); // isQuad\n            faceType = setBit(faceType, 1, hasMaterial);\n            faceType = setBit(faceType, 2, hasFaceUv);\n            faceType = setBit(faceType, 3, hasFaceVertexUv);\n            faceType = setBit(faceType, 4, hasFaceNormal);\n            faceType = setBit(faceType, 5, hasFaceVertexNormal);\n            faceType = setBit(faceType, 6, hasFaceColor);\n            faceType = setBit(faceType, 7, hasFaceVertexColor);\n\n            faces.push(faceType);\n            faces.push(face.a, face.b, face.c);\n            faces.push(face.materialIndex);\n\n            if (hasFaceVertexUv) {\n\n                const faceVertexUvs = this.faceVertexUvs[0][i];\n\n                faces.push(\n                    getUvIndex(faceVertexUvs[0]),\n                    getUvIndex(faceVertexUvs[1]),\n                    getUvIndex(faceVertexUvs[2])\n                );\n\n            }\n\n            if (hasFaceNormal) {\n\n                faces.push(getNormalIndex(face.normal));\n\n            }\n\n            if (hasFaceVertexNormal) {\n\n                const vertexNormals = face.vertexNormals;\n\n                faces.push(\n                    getNormalIndex(vertexNormals[0]),\n                    getNormalIndex(vertexNormals[1]),\n                    getNormalIndex(vertexNormals[2])\n                );\n\n            }\n\n            if (hasFaceColor) {\n\n                faces.push(getColorIndex(face.color));\n\n            }\n\n            if (hasFaceVertexColor) {\n\n                const vertexColors = face.vertexColors;\n\n                faces.push(\n                    getColorIndex(vertexColors[0]),\n                    getColorIndex(vertexColors[1]),\n                    getColorIndex(vertexColors[2])\n                );\n\n            }\n\n        }\n\n        function setBit(value, position, enabled) {\n\n            return enabled ? value | (1 << position) : value & (~(1 << position));\n\n        }\n\n        function getNormalIndex(normal) {\n\n            const hash = normal.x.toString() + normal.y.toString() + normal.z.toString();\n\n            if (normalsHash[hash] !== undefined) {\n\n                return normalsHash[hash];\n\n            }\n\n            normalsHash[hash] = normals.length / 3;\n            normals.push(normal.x, normal.y, normal.z);\n\n            return normalsHash[hash];\n\n        }\n\n        function getColorIndex(color) {\n\n            const hash = color.r.toString() + color.g.toString() + color.b.toString();\n\n            if (colorsHash[hash] !== undefined) {\n\n                return colorsHash[hash];\n\n            }\n\n            colorsHash[hash] = colors.length;\n            colors.push(color.getHex());\n\n            return colorsHash[hash];\n\n        }\n\n        function getUvIndex(uv) {\n\n            const hash = uv.x.toString() + uv.y.toString();\n\n            if (uvsHash[hash] !== undefined) {\n\n                return uvsHash[hash];\n\n            }\n\n            uvsHash[hash] = uvs.length / 2;\n            uvs.push(uv.x, uv.y);\n\n            return uvsHash[hash];\n\n        }\n\n        data.data = {};\n\n        data.data.vertices = vertices;\n        data.data.normals = normals;\n        if (colors.length > 0) data.data.colors = colors;\n        if (uvs.length > 0) data.data.uvs = [uvs]; // temporal backward compatibility\n        data.data.faces = faces;\n\n        return data;\n\n    },\n\n    clone: function() {\n\n        /*\n         // Handle primitives\n\n         const parameters = this.parameters;\n\n         if ( parameters !== undefined ) {\n\n         const values = [];\n\n         for ( const key in parameters ) {\n\n         values.push( parameters[ key ] );\n\n         }\n\n         const geometry = Object.create( this.constructor.prototype );\n         this.constructor.apply( geometry, values );\n         return geometry;\n\n         }\n\n         return new this.constructor().copy( this );\n         */\n\n        return new Geometry().copy(this);\n\n    },\n\n    copy: function(source) {\n\n        // reset\n\n        this.vertices = [];\n        this.colors = [];\n        this.faces = [];\n        this.faceVertexUvs = [\n            []\n        ];\n        this.morphTargets = [];\n        this.morphNormals = [];\n        this.skinWeights = [];\n        this.skinIndices = [];\n        this.lineDistances = [];\n        this.boundingBox = null;\n        this.boundingSphere = null;\n\n        // name\n\n        this.name = source.name;\n\n        // vertices\n\n        const vertices = source.vertices;\n\n        for (let i = 0, il = vertices.length; i < il; i++) {\n\n            this.vertices.push(vertices[i].clone());\n\n        }\n\n        // colors\n\n        const colors = source.colors;\n\n        for (let i = 0, il = colors.length; i < il; i++) {\n\n            this.colors.push(colors[i].clone());\n\n        }\n\n        // faces\n\n        const faces = source.faces;\n\n        for (let i = 0, il = faces.length; i < il; i++) {\n\n            this.faces.push(faces[i].clone());\n\n        }\n\n        // face vertex uvs\n\n        for (let i = 0, il = source.faceVertexUvs.length; i < il; i++) {\n\n            const faceVertexUvs = source.faceVertexUvs[i];\n\n            if (this.faceVertexUvs[i] === undefined) {\n\n                this.faceVertexUvs[i] = [];\n\n            }\n\n            for (let j = 0, jl = faceVertexUvs.length; j < jl; j++) {\n\n                const uvs = faceVertexUvs[j],\n                    uvsCopy = [];\n\n                for (let k = 0, kl = uvs.length; k < kl; k++) {\n\n                    const uv = uvs[k];\n\n                    uvsCopy.push(uv.clone());\n\n                }\n\n                this.faceVertexUvs[i].push(uvsCopy);\n\n            }\n\n        }\n\n        // morph targets\n\n        const morphTargets = source.morphTargets;\n\n        for (let i = 0, il = morphTargets.length; i < il; i++) {\n\n            const morphTarget = {};\n            morphTarget.name = morphTargets[i].name;\n\n            // vertices\n\n            if (morphTargets[i].vertices !== undefined) {\n\n                morphTarget.vertices = [];\n\n                for (let j = 0, jl = morphTargets[i].vertices.length; j < jl; j++) {\n\n                    morphTarget.vertices.push(morphTargets[i].vertices[j].clone());\n\n                }\n\n            }\n\n            // normals\n\n            if (morphTargets[i].normals !== undefined) {\n\n                morphTarget.normals = [];\n\n                for (let j = 0, jl = morphTargets[i].normals.length; j < jl; j++) {\n\n                    morphTarget.normals.push(morphTargets[i].normals[j].clone());\n\n                }\n\n            }\n\n            this.morphTargets.push(morphTarget);\n\n        }\n\n        // morph normals\n\n        const morphNormals = source.morphNormals;\n\n        for (let i = 0, il = morphNormals.length; i < il; i++) {\n\n            const morphNormal = {};\n\n            // vertex normals\n\n            if (morphNormals[i].vertexNormals !== undefined) {\n\n                morphNormal.vertexNormals = [];\n\n                for (let j = 0, jl = morphNormals[i].vertexNormals.length; j < jl; j++) {\n\n                    const srcVertexNormal = morphNormals[i].vertexNormals[j];\n                    const destVertexNormal = {};\n\n                    destVertexNormal.a = srcVertexNormal.a.clone();\n                    destVertexNormal.b = srcVertexNormal.b.clone();\n                    destVertexNormal.c = srcVertexNormal.c.clone();\n\n                    morphNormal.vertexNormals.push(destVertexNormal);\n\n                }\n\n            }\n\n            // face normals\n\n            if (morphNormals[i].faceNormals !== undefined) {\n\n                morphNormal.faceNormals = [];\n\n                for (let j = 0, jl = morphNormals[i].faceNormals.length; j < jl; j++) {\n\n                    morphNormal.faceNormals.push(morphNormals[i].faceNormals[j].clone());\n\n                }\n\n            }\n\n            this.morphNormals.push(morphNormal);\n\n        }\n\n        // skin weights\n\n        const skinWeights = source.skinWeights;\n\n        for (let i = 0, il = skinWeights.length; i < il; i++) {\n\n            this.skinWeights.push(skinWeights[i].clone());\n\n        }\n\n        // skin indices\n\n        const skinIndices = source.skinIndices;\n\n        for (let i = 0, il = skinIndices.length; i < il; i++) {\n\n            this.skinIndices.push(skinIndices[i].clone());\n\n        }\n\n        // line distances\n\n        const lineDistances = source.lineDistances;\n\n        for (let i = 0, il = lineDistances.length; i < il; i++) {\n\n            this.lineDistances.push(lineDistances[i]);\n\n        }\n\n        // bounding box\n\n        const boundingBox = source.boundingBox;\n\n        if (boundingBox !== null) {\n\n            this.boundingBox = boundingBox.clone();\n\n        }\n\n        // bounding sphere\n\n        const boundingSphere = source.boundingSphere;\n\n        if (boundingSphere !== null) {\n\n            this.boundingSphere = boundingSphere.clone();\n\n        }\n\n        // update flags\n\n        this.elementsNeedUpdate = source.elementsNeedUpdate;\n        this.verticesNeedUpdate = source.verticesNeedUpdate;\n        this.uvsNeedUpdate = source.uvsNeedUpdate;\n        this.normalsNeedUpdate = source.normalsNeedUpdate;\n        this.colorsNeedUpdate = source.colorsNeedUpdate;\n        this.lineDistancesNeedUpdate = source.lineDistancesNeedUpdate;\n        this.groupsNeedUpdate = source.groupsNeedUpdate;\n\n        return this;\n\n    },\n\n    dispose: function() {\n\n        this.dispatchEvent({\n            type: 'dispose'\n        });\n\n    }\n\n});\n\nclass BoxGeometry extends Geometry {\n\n    constructor(width, height, depth, widthSegments, heightSegments, depthSegments) {\n\n        super();\n\n        this.type = 'BoxGeometry';\n\n        this.parameters = {\n            width: width,\n            height: height,\n            depth: depth,\n            widthSegments: widthSegments,\n            heightSegments: heightSegments,\n            depthSegments: depthSegments\n        };\n\n        this.fromBufferGeometry(new BoxBufferGeometry(width, height, depth, widthSegments, heightSegments, depthSegments));\n        this.mergeVertices();\n\n    }\n\n}\n\nclass CircleBufferGeometry extends BufferGeometry {\n\n    constructor(radius, segments, thetaStart, thetaLength) {\n\n        super();\n\n        this.type = 'CircleBufferGeometry';\n\n        this.parameters = {\n            radius: radius,\n            segments: segments,\n            thetaStart: thetaStart,\n            thetaLength: thetaLength\n        };\n\n        radius = radius || 1;\n        segments = segments !== undefined ? Math.max(3, segments) : 8;\n\n        thetaStart = thetaStart !== undefined ? thetaStart : 0;\n        thetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n        // buffers\n\n        const indices = [];\n        const vertices = [];\n        const normals = [];\n        const uvs = [];\n\n        // helper variables\n\n        const vertex = new Vector3();\n        const uv = new Vector2();\n\n        // center point\n\n        vertices.push(0, 0, 0);\n        normals.push(0, 0, 1);\n        uvs.push(0.5, 0.5);\n\n        for (let s = 0, i = 3; s <= segments; s++, i += 3) {\n\n            const segment = thetaStart + s / segments * thetaLength;\n\n            // vertex\n\n            vertex.x = radius * Math.cos(segment);\n            vertex.y = radius * Math.sin(segment);\n\n            vertices.push(vertex.x, vertex.y, vertex.z);\n\n            // normal\n\n            normals.push(0, 0, 1);\n\n            // uvs\n\n            uv.x = (vertices[i] / radius + 1) / 2;\n            uv.y = (vertices[i + 1] / radius + 1) / 2;\n\n            uvs.push(uv.x, uv.y);\n\n        }\n\n        // indices\n\n        for (let i = 1; i <= segments; i++) {\n\n            indices.push(i, i + 1, 0);\n\n        }\n\n        // build geometry\n\n        this.setIndex(indices);\n        this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n        this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n        this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n    }\n\n}\n\nclass CircleGeometry extends Geometry {\n\n    constructor(radius, segments, thetaStart, thetaLength) {\n\n        super();\n        this.type = 'CircleGeometry';\n\n        this.parameters = {\n            radius: radius,\n            segments: segments,\n            thetaStart: thetaStart,\n            thetaLength: thetaLength\n        };\n\n        this.fromBufferGeometry(new CircleBufferGeometry(radius, segments, thetaStart, thetaLength));\n        this.mergeVertices();\n\n    }\n\n}\n\nclass CylinderBufferGeometry extends BufferGeometry {\n\n    constructor(radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength) {\n\n        super();\n        this.type = 'CylinderBufferGeometry';\n\n        this.parameters = {\n            radiusTop: radiusTop,\n            radiusBottom: radiusBottom,\n            height: height,\n            radialSegments: radialSegments,\n            heightSegments: heightSegments,\n            openEnded: openEnded,\n            thetaStart: thetaStart,\n            thetaLength: thetaLength\n        };\n\n        const scope = this;\n\n        radiusTop = radiusTop !== undefined ? radiusTop : 1;\n        radiusBottom = radiusBottom !== undefined ? radiusBottom : 1;\n        height = height || 1;\n\n        radialSegments = Math.floor(radialSegments) || 8;\n        heightSegments = Math.floor(heightSegments) || 1;\n\n        openEnded = openEnded !== undefined ? openEnded : false;\n        thetaStart = thetaStart !== undefined ? thetaStart : 0.0;\n        thetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n        // buffers\n\n        const indices = [];\n        const vertices = [];\n        const normals = [];\n        const uvs = [];\n\n        // helper variables\n\n        let index = 0;\n        const indexArray = [];\n        const halfHeight = height / 2;\n        let groupStart = 0;\n\n        // generate geometry\n\n        generateTorso();\n\n        if (openEnded === false) {\n\n            if (radiusTop > 0) generateCap(true);\n            if (radiusBottom > 0) generateCap(false);\n\n        }\n\n        // build geometry\n\n        this.setIndex(indices);\n        this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n        this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n        this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n        function generateTorso() {\n\n            const normal = new Vector3();\n            const vertex = new Vector3();\n\n            let groupCount = 0;\n\n            // this will be used to calculate the normal\n            const slope = (radiusBottom - radiusTop) / height;\n\n            // generate vertices, normals and uvs\n\n            for (let y = 0; y <= heightSegments; y++) {\n\n                const indexRow = [];\n\n                const v = y / heightSegments;\n\n                // calculate the radius of the current row\n\n                const radius = v * (radiusBottom - radiusTop) + radiusTop;\n\n                for (let x = 0; x <= radialSegments; x++) {\n\n                    const u = x / radialSegments;\n\n                    const theta = u * thetaLength + thetaStart;\n\n                    const sinTheta = Math.sin(theta);\n                    const cosTheta = Math.cos(theta);\n\n                    // vertex\n\n                    vertex.x = radius * sinTheta;\n                    vertex.y = -v * height + halfHeight;\n                    vertex.z = radius * cosTheta;\n                    vertices.push(vertex.x, vertex.y, vertex.z);\n\n                    // normal\n\n                    normal.set(sinTheta, slope, cosTheta).normalize();\n                    normals.push(normal.x, normal.y, normal.z);\n\n                    // uv\n\n                    uvs.push(u, 1 - v);\n\n                    // save index of vertex in respective row\n\n                    indexRow.push(index++);\n\n                }\n\n                // now save vertices of the row in our index array\n\n                indexArray.push(indexRow);\n\n            }\n\n            // generate indices\n\n            for (let x = 0; x < radialSegments; x++) {\n\n                for (let y = 0; y < heightSegments; y++) {\n\n                    // we use the index array to access the correct indices\n\n                    const a = indexArray[y][x];\n                    const b = indexArray[y + 1][x];\n                    const c = indexArray[y + 1][x + 1];\n                    const d = indexArray[y][x + 1];\n\n                    // faces\n\n                    indices.push(a, b, d);\n                    indices.push(b, c, d);\n\n                    // update group counter\n\n                    groupCount += 6;\n\n                }\n\n            }\n\n            // add a group to the geometry. this will ensure multi material support\n\n            scope.addGroup(groupStart, groupCount, 0);\n\n            // calculate new start value for groups\n\n            groupStart += groupCount;\n\n        }\n\n        function generateCap(top) {\n\n            // save the index of the first center vertex\n            const centerIndexStart = index;\n\n            const uv = new Vector2();\n            const vertex = new Vector3();\n\n            let groupCount = 0;\n\n            const radius = (top === true) ? radiusTop : radiusBottom;\n            const sign = (top === true) ? 1 : -1;\n\n            // first we generate the center vertex data of the cap.\n            // because the geometry needs one set of uvs per face,\n            // we must generate a center vertex per face/segment\n\n            for (let x = 1; x <= radialSegments; x++) {\n\n                // vertex\n\n                vertices.push(0, halfHeight * sign, 0);\n\n                // normal\n\n                normals.push(0, sign, 0);\n\n                // uv\n\n                uvs.push(0.5, 0.5);\n\n                // increase index\n\n                index++;\n\n            }\n\n            // save the index of the last center vertex\n            const centerIndexEnd = index;\n\n            // now we generate the surrounding vertices, normals and uvs\n\n            for (let x = 0; x <= radialSegments; x++) {\n\n                const u = x / radialSegments;\n                const theta = u * thetaLength + thetaStart;\n\n                const cosTheta = Math.cos(theta);\n                const sinTheta = Math.sin(theta);\n\n                // vertex\n\n                vertex.x = radius * sinTheta;\n                vertex.y = halfHeight * sign;\n                vertex.z = radius * cosTheta;\n                vertices.push(vertex.x, vertex.y, vertex.z);\n\n                // normal\n\n                normals.push(0, sign, 0);\n\n                // uv\n\n                uv.x = (cosTheta * 0.5) + 0.5;\n                uv.y = (sinTheta * 0.5 * sign) + 0.5;\n                uvs.push(uv.x, uv.y);\n\n                // increase index\n\n                index++;\n\n            }\n\n            // generate indices\n\n            for (let x = 0; x < radialSegments; x++) {\n\n                const c = centerIndexStart + x;\n                const i = centerIndexEnd + x;\n\n                if (top === true) {\n\n                    // face top\n\n                    indices.push(i, i + 1, c);\n\n                } else {\n\n                    // face bottom\n\n                    indices.push(i + 1, i, c);\n\n                }\n\n                groupCount += 3;\n\n            }\n\n            // add a group to the geometry. this will ensure multi material support\n\n            scope.addGroup(groupStart, groupCount, top === true ? 1 : 2);\n\n            // calculate new start value for groups\n\n            groupStart += groupCount;\n\n        }\n\n    }\n\n}\n\nclass CylinderGeometry extends Geometry {\n\n    constructor(radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength) {\n\n        super();\n        this.type = 'CylinderGeometry';\n\n        this.parameters = {\n            radiusTop: radiusTop,\n            radiusBottom: radiusBottom,\n            height: height,\n            radialSegments: radialSegments,\n            heightSegments: heightSegments,\n            openEnded: openEnded,\n            thetaStart: thetaStart,\n            thetaLength: thetaLength\n        };\n\n        this.fromBufferGeometry(new CylinderBufferGeometry(radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength));\n        this.mergeVertices();\n\n    }\n\n}\n\nclass ConeGeometry extends CylinderGeometry {\n\n    constructor(radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength) {\n\n        super(0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength);\n        this.type = 'ConeGeometry';\n\n        this.parameters = {\n            radius: radius,\n            height: height,\n            radialSegments: radialSegments,\n            heightSegments: heightSegments,\n            openEnded: openEnded,\n            thetaStart: thetaStart,\n            thetaLength: thetaLength\n        };\n\n    }\n\n}\n\nclass ConeBufferGeometry extends CylinderBufferGeometry {\n\n    constructor(radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength) {\n\n        super(0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength);\n        this.type = 'ConeBufferGeometry';\n\n        this.parameters = {\n            radius: radius,\n            height: height,\n            radialSegments: radialSegments,\n            heightSegments: heightSegments,\n            openEnded: openEnded,\n            thetaStart: thetaStart,\n            thetaLength: thetaLength\n        };\n\n    }\n\n}\n\nclass PolyhedronBufferGeometry extends BufferGeometry {\n\n    constructor(vertices, indices, radius, detail) {\n\n        super();\n\n        this.type = 'PolyhedronBufferGeometry';\n\n        this.parameters = {\n            vertices: vertices,\n            indices: indices,\n            radius: radius,\n            detail: detail\n        };\n\n        radius = radius || 1;\n        detail = detail || 0;\n\n        // default buffer data\n\n        const vertexBuffer = [];\n        const uvBuffer = [];\n\n        // the subdivision creates the vertex buffer data\n\n        subdivide(detail);\n\n        // all vertices should lie on a conceptual sphere with a given radius\n\n        applyRadius(radius);\n\n        // finally, create the uv data\n\n        generateUVs();\n\n        // build non-indexed geometry\n\n        this.setAttribute('position', new Float32BufferAttribute(vertexBuffer, 3));\n        this.setAttribute('normal', new Float32BufferAttribute(vertexBuffer.slice(), 3));\n        this.setAttribute('uv', new Float32BufferAttribute(uvBuffer, 2));\n\n        if (detail === 0) {\n\n            this.computeVertexNormals(); // flat normals\n\n        } else {\n\n            this.normalizeNormals(); // smooth normals\n\n        }\n\n        // helper functions\n\n        function subdivide(detail) {\n\n            const a = new Vector3();\n            const b = new Vector3();\n            const c = new Vector3();\n\n            // iterate over all faces and apply a subdivison with the given detail value\n\n            for (let i = 0; i < indices.length; i += 3) {\n\n                // get the vertices of the face\n\n                getVertexByIndex(indices[i + 0], a);\n                getVertexByIndex(indices[i + 1], b);\n                getVertexByIndex(indices[i + 2], c);\n\n                // perform subdivision\n\n                subdivideFace(a, b, c, detail);\n\n            }\n\n        }\n\n        function subdivideFace(a, b, c, detail) {\n\n            const cols = detail + 1;\n\n            // we use this multidimensional array as a data structure for creating the subdivision\n\n            const v = [];\n\n            // construct all of the vertices for this subdivision\n\n            for (let i = 0; i <= cols; i++) {\n\n                v[i] = [];\n\n                const aj = a.clone().lerp(c, i / cols);\n                const bj = b.clone().lerp(c, i / cols);\n\n                const rows = cols - i;\n\n                for (let j = 0; j <= rows; j++) {\n\n                    if (j === 0 && i === cols) {\n\n                        v[i][j] = aj;\n\n                    } else {\n\n                        v[i][j] = aj.clone().lerp(bj, j / rows);\n\n                    }\n\n                }\n\n            }\n\n            // construct all of the faces\n\n            for (let i = 0; i < cols; i++) {\n\n                for (let j = 0; j < 2 * (cols - i) - 1; j++) {\n\n                    const k = Math.floor(j / 2);\n\n                    if (j % 2 === 0) {\n\n                        pushVertex(v[i][k + 1]);\n                        pushVertex(v[i + 1][k]);\n                        pushVertex(v[i][k]);\n\n                    } else {\n\n                        pushVertex(v[i][k + 1]);\n                        pushVertex(v[i + 1][k + 1]);\n                        pushVertex(v[i + 1][k]);\n\n                    }\n\n                }\n\n            }\n\n        }\n\n        function applyRadius(radius) {\n\n            const vertex = new Vector3();\n\n            // iterate over the entire buffer and apply the radius to each vertex\n\n            for (let i = 0; i < vertexBuffer.length; i += 3) {\n\n                vertex.x = vertexBuffer[i + 0];\n                vertex.y = vertexBuffer[i + 1];\n                vertex.z = vertexBuffer[i + 2];\n\n                vertex.normalize().multiplyScalar(radius);\n\n                vertexBuffer[i + 0] = vertex.x;\n                vertexBuffer[i + 1] = vertex.y;\n                vertexBuffer[i + 2] = vertex.z;\n\n            }\n\n        }\n\n        function generateUVs() {\n\n            const vertex = new Vector3();\n\n            for (let i = 0; i < vertexBuffer.length; i += 3) {\n\n                vertex.x = vertexBuffer[i + 0];\n                vertex.y = vertexBuffer[i + 1];\n                vertex.z = vertexBuffer[i + 2];\n\n                const u = azimuth(vertex) / 2 / Math.PI + 0.5;\n                const v = inclination(vertex) / Math.PI + 0.5;\n                uvBuffer.push(u, 1 - v);\n\n            }\n\n            correctUVs();\n\n            correctSeam();\n\n        }\n\n        function correctSeam() {\n\n            // handle case when face straddles the seam, see #3269\n\n            for (let i = 0; i < uvBuffer.length; i += 6) {\n\n                // uv data of a single face\n\n                const x0 = uvBuffer[i + 0];\n                const x1 = uvBuffer[i + 2];\n                const x2 = uvBuffer[i + 4];\n\n                const max = Math.max(x0, x1, x2);\n                const min = Math.min(x0, x1, x2);\n\n                // 0.9 is somewhat arbitrary\n\n                if (max > 0.9 && min < 0.1) {\n\n                    if (x0 < 0.2) uvBuffer[i + 0] += 1;\n                    if (x1 < 0.2) uvBuffer[i + 2] += 1;\n                    if (x2 < 0.2) uvBuffer[i + 4] += 1;\n\n                }\n\n            }\n\n        }\n\n        function pushVertex(vertex) {\n\n            vertexBuffer.push(vertex.x, vertex.y, vertex.z);\n\n        }\n\n        function getVertexByIndex(index, vertex) {\n\n            const stride = index * 3;\n\n            vertex.x = vertices[stride + 0];\n            vertex.y = vertices[stride + 1];\n            vertex.z = vertices[stride + 2];\n\n        }\n\n        function correctUVs() {\n\n            const a = new Vector3();\n            const b = new Vector3();\n            const c = new Vector3();\n\n            const centroid = new Vector3();\n\n            const uvA = new Vector2();\n            const uvB = new Vector2();\n            const uvC = new Vector2();\n\n            for (let i = 0, j = 0; i < vertexBuffer.length; i += 9, j += 6) {\n\n                a.set(vertexBuffer[i + 0], vertexBuffer[i + 1], vertexBuffer[i + 2]);\n                b.set(vertexBuffer[i + 3], vertexBuffer[i + 4], vertexBuffer[i + 5]);\n                c.set(vertexBuffer[i + 6], vertexBuffer[i + 7], vertexBuffer[i + 8]);\n\n                uvA.set(uvBuffer[j + 0], uvBuffer[j + 1]);\n                uvB.set(uvBuffer[j + 2], uvBuffer[j + 3]);\n                uvC.set(uvBuffer[j + 4], uvBuffer[j + 5]);\n\n                centroid.copy(a).add(b).add(c).divideScalar(3);\n\n                const azi = azimuth(centroid);\n\n                correctUV(uvA, j + 0, a, azi);\n                correctUV(uvB, j + 2, b, azi);\n                correctUV(uvC, j + 4, c, azi);\n\n            }\n\n        }\n\n        function correctUV(uv, stride, vector, azimuth) {\n\n            if ((azimuth < 0) && (uv.x === 1)) {\n\n                uvBuffer[stride] = uv.x - 1;\n\n            }\n\n            if ((vector.x === 0) && (vector.z === 0)) {\n\n                uvBuffer[stride] = azimuth / 2 / Math.PI + 0.5;\n\n            }\n\n        }\n\n        // Angle around the Y axis, counter-clockwise when looking from above.\n\n        function azimuth(vector) {\n\n            return Math.atan2(vector.z, -vector.x);\n\n        }\n\n\n        // Angle above the XZ plane.\n\n        function inclination(vector) {\n\n            return Math.atan2(-vector.y, Math.sqrt((vector.x * vector.x) + (vector.z * vector.z)));\n\n        }\n\n    }\n\n}\n\nclass DodecahedronBufferGeometry extends PolyhedronBufferGeometry {\n\n    constructor(radius, detail) {\n\n        const t = (1 + Math.sqrt(5)) / 2;\n        const r = 1 / t;\n\n        const vertices = [\n\n            // (±1, ±1, ±1)\n            -1, -1, -1, -1, -1, 1, -1, 1, -1, -1, 1, 1,\n            1, -1, -1, 1, -1, 1,\n            1, 1, -1, 1, 1, 1,\n\n            // (0, ±1/φ, ±φ)\n            0, -r, -t, 0, -r, t,\n            0, r, -t, 0, r, t,\n\n            // (±1/φ, ±φ, 0)\n            -r, -t, 0, -r, t, 0,\n            r, -t, 0, r, t, 0,\n\n            // (±φ, 0, ±1/φ)\n            -t, 0, -r, t, 0, -r, -t, 0, r, t, 0, r\n        ];\n\n        const indices = [\n            3, 11, 7, 3, 7, 15, 3, 15, 13,\n            7, 19, 17, 7, 17, 6, 7, 6, 15,\n            17, 4, 8, 17, 8, 10, 17, 10, 6,\n            8, 0, 16, 8, 16, 2, 8, 2, 10,\n            0, 12, 1, 0, 1, 18, 0, 18, 16,\n            6, 10, 2, 6, 2, 13, 6, 13, 15,\n            2, 16, 18, 2, 18, 3, 2, 3, 13,\n            18, 1, 9, 18, 9, 11, 18, 11, 3,\n            4, 14, 12, 4, 12, 0, 4, 0, 8,\n            11, 9, 5, 11, 5, 19, 11, 19, 7,\n            19, 5, 14, 19, 14, 4, 19, 4, 17,\n            1, 12, 14, 1, 14, 5, 1, 5, 9\n        ];\n\n        super(vertices, indices, radius, detail);\n\n        this.type = 'DodecahedronBufferGeometry';\n\n        this.parameters = {\n            radius: radius,\n            detail: detail\n        };\n\n    }\n\n}\n\nclass DodecahedronGeometry extends Geometry {\n\n    constructor(radius, detail) {\n\n        super();\n        this.type = 'DodecahedronGeometry';\n\n        this.parameters = {\n            radius: radius,\n            detail: detail\n        };\n\n        this.fromBufferGeometry(new DodecahedronBufferGeometry(radius, detail));\n        this.mergeVertices();\n\n    }\n\n}\n\nconst _v0$2 = new Vector3();\nconst _v1$5 = new Vector3();\nconst _normal$1 = new Vector3();\nconst _triangle = new Triangle();\n\nclass EdgesGeometry extends BufferGeometry {\n\n    constructor(geometry, thresholdAngle) {\n\n        super();\n\n        this.type = 'EdgesGeometry';\n\n        this.parameters = {\n            thresholdAngle: thresholdAngle\n        };\n\n        thresholdAngle = (thresholdAngle !== undefined) ? thresholdAngle : 1;\n\n        if (geometry.isGeometry) {\n\n            geometry = new BufferGeometry().fromGeometry(geometry);\n\n        }\n\n        const precisionPoints = 4;\n        const precision = Math.pow(10, precisionPoints);\n        const thresholdDot = Math.cos(MathUtils.DEG2RAD * thresholdAngle);\n\n        const indexAttr = geometry.getIndex();\n        const positionAttr = geometry.getAttribute('position');\n        const indexCount = indexAttr ? indexAttr.count : positionAttr.count;\n\n        const indexArr = [0, 0, 0];\n        const vertKeys = ['a', 'b', 'c'];\n        const hashes = new Array(3);\n\n        const edgeData = {};\n        const vertices = [];\n        for (let i = 0; i < indexCount; i += 3) {\n\n            if (indexAttr) {\n\n                indexArr[0] = indexAttr.getX(i);\n                indexArr[1] = indexAttr.getX(i + 1);\n                indexArr[2] = indexAttr.getX(i + 2);\n\n            } else {\n\n                indexArr[0] = i;\n                indexArr[1] = i + 1;\n                indexArr[2] = i + 2;\n\n            }\n\n            const {\n                a,\n                b,\n                c\n            } = _triangle;\n            a.fromBufferAttribute(positionAttr, indexArr[0]);\n            b.fromBufferAttribute(positionAttr, indexArr[1]);\n            c.fromBufferAttribute(positionAttr, indexArr[2]);\n            _triangle.getNormal(_normal$1);\n\n            // create hashes for the edge from the vertices\n            hashes[0] = `${ Math.round( a.x * precision ) },${ Math.round( a.y * precision ) },${ Math.round( a.z * precision ) }`;\n            hashes[1] = `${ Math.round( b.x * precision ) },${ Math.round( b.y * precision ) },${ Math.round( b.z * precision ) }`;\n            hashes[2] = `${ Math.round( c.x * precision ) },${ Math.round( c.y * precision ) },${ Math.round( c.z * precision ) }`;\n\n            // skip degenerate triangles\n            if (hashes[0] === hashes[1] || hashes[1] === hashes[2] || hashes[2] === hashes[0]) {\n\n                continue;\n\n            }\n\n            // iterate over every edge\n            for (let j = 0; j < 3; j++) {\n\n                // get the first and next vertex making up the edge\n                const jNext = (j + 1) % 3;\n                const vecHash0 = hashes[j];\n                const vecHash1 = hashes[jNext];\n                const v0 = _triangle[vertKeys[j]];\n                const v1 = _triangle[vertKeys[jNext]];\n\n                const hash = `${ vecHash0 }_${ vecHash1 }`;\n                const reverseHash = `${ vecHash1 }_${ vecHash0 }`;\n\n                if (reverseHash in edgeData && edgeData[reverseHash]) {\n\n                    // if we found a sibling edge add it into the vertex array if\n                    // it meets the angle threshold and delete the edge from the map.\n                    if (_normal$1.dot(edgeData[reverseHash].normal) <= thresholdDot) {\n\n                        vertices.push(v0.x, v0.y, v0.z);\n                        vertices.push(v1.x, v1.y, v1.z);\n\n                    }\n\n                    edgeData[reverseHash] = null;\n\n                } else if (!(hash in edgeData)) {\n\n                    // if we've already got an edge here then skip adding a new one\n                    edgeData[hash] = {\n\n                        index0: indexArr[j],\n                        index1: indexArr[jNext],\n                        normal: _normal$1.clone(),\n\n                    };\n\n                }\n\n            }\n\n        }\n\n        // iterate over all remaining, unmatched edges and add them to the vertex array\n        for (const key in edgeData) {\n\n            if (edgeData[key]) {\n\n                const {\n                    index0,\n                    index1\n                } = edgeData[key];\n                _v0$2.fromBufferAttribute(positionAttr, index0);\n                _v1$5.fromBufferAttribute(positionAttr, index1);\n\n                vertices.push(_v0$2.x, _v0$2.y, _v0$2.z);\n                vertices.push(_v1$5.x, _v1$5.y, _v1$5.z);\n\n            }\n\n        }\n\n        this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\n    }\n\n}\n\n/**\n * Port from https://github.com/mapbox/earcut (v2.2.2)\n */\n\nconst Earcut = {\n\n    triangulate: function(data, holeIndices, dim) {\n\n        dim = dim || 2;\n\n        const hasHoles = holeIndices && holeIndices.length;\n        const outerLen = hasHoles ? holeIndices[0] * dim : data.length;\n        let outerNode = linkedList(data, 0, outerLen, dim, true);\n        const triangles = [];\n\n        if (!outerNode || outerNode.next === outerNode.prev) return triangles;\n\n        let minX, minY, maxX, maxY, x, y, invSize;\n\n        if (hasHoles) outerNode = eliminateHoles(data, holeIndices, outerNode, dim);\n\n        // if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n        if (data.length > 80 * dim) {\n\n            minX = maxX = data[0];\n            minY = maxY = data[1];\n\n            for (let i = dim; i < outerLen; i += dim) {\n\n                x = data[i];\n                y = data[i + 1];\n                if (x < minX) minX = x;\n                if (y < minY) minY = y;\n                if (x > maxX) maxX = x;\n                if (y > maxY) maxY = y;\n\n            }\n\n            // minX, minY and invSize are later used to transform coords into integers for z-order calculation\n            invSize = Math.max(maxX - minX, maxY - minY);\n            invSize = invSize !== 0 ? 1 / invSize : 0;\n\n        }\n\n        earcutLinked(outerNode, triangles, dim, minX, minY, invSize);\n\n        return triangles;\n\n    }\n\n};\n\n// create a circular doubly linked list from polygon points in the specified winding order\nfunction linkedList(data, start, end, dim, clockwise) {\n\n    let i, last;\n\n    if (clockwise === (signedArea(data, start, end, dim) > 0)) {\n\n        for (i = start; i < end; i += dim) last = insertNode(i, data[i], data[i + 1], last);\n\n    } else {\n\n        for (i = end - dim; i >= start; i -= dim) last = insertNode(i, data[i], data[i + 1], last);\n\n    }\n\n    if (last && equals(last, last.next)) {\n\n        removeNode(last);\n        last = last.next;\n\n    }\n\n    return last;\n\n}\n\n// eliminate colinear or duplicate points\nfunction filterPoints(start, end) {\n\n    if (!start) return start;\n    if (!end) end = start;\n\n    let p = start,\n        again;\n    do {\n\n        again = false;\n\n        if (!p.steiner && (equals(p, p.next) || area(p.prev, p, p.next) === 0)) {\n\n            removeNode(p);\n            p = end = p.prev;\n            if (p === p.next) break;\n            again = true;\n\n        } else {\n\n            p = p.next;\n\n        }\n\n    } while (again || p !== end);\n\n    return end;\n\n}\n\n// main ear slicing loop which triangulates a polygon (given as a linked list)\nfunction earcutLinked(ear, triangles, dim, minX, minY, invSize, pass) {\n\n    if (!ear) return;\n\n    // interlink polygon nodes in z-order\n    if (!pass && invSize) indexCurve(ear, minX, minY, invSize);\n\n    let stop = ear,\n        prev, next;\n\n    // iterate through ears, slicing them one by one\n    while (ear.prev !== ear.next) {\n\n        prev = ear.prev;\n        next = ear.next;\n\n        if (invSize ? isEarHashed(ear, minX, minY, invSize) : isEar(ear)) {\n\n            // cut off the triangle\n            triangles.push(prev.i / dim);\n            triangles.push(ear.i / dim);\n            triangles.push(next.i / dim);\n\n            removeNode(ear);\n\n            // skipping the next vertex leads to less sliver triangles\n            ear = next.next;\n            stop = next.next;\n\n            continue;\n\n        }\n\n        ear = next;\n\n        // if we looped through the whole remaining polygon and can't find any more ears\n        if (ear === stop) {\n\n            // try filtering points and slicing again\n            if (!pass) {\n\n                earcutLinked(filterPoints(ear), triangles, dim, minX, minY, invSize, 1);\n\n                // if this didn't work, try curing all small self-intersections locally\n\n            } else if (pass === 1) {\n\n                ear = cureLocalIntersections(filterPoints(ear), triangles, dim);\n                earcutLinked(ear, triangles, dim, minX, minY, invSize, 2);\n\n                // as a last resort, try splitting the remaining polygon into two\n\n            } else if (pass === 2) {\n\n                splitEarcut(ear, triangles, dim, minX, minY, invSize);\n\n            }\n\n            break;\n\n        }\n\n    }\n\n}\n\n// check whether a polygon node forms a valid ear with adjacent nodes\nfunction isEar(ear) {\n\n    const a = ear.prev,\n        b = ear,\n        c = ear.next;\n\n    if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n\n    // now make sure we don't have other points inside the potential ear\n    let p = ear.next.next;\n\n    while (p !== ear.prev) {\n\n        if (pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n            area(p.prev, p, p.next) >= 0) return false;\n        p = p.next;\n\n    }\n\n    return true;\n\n}\n\nfunction isEarHashed(ear, minX, minY, invSize) {\n\n    const a = ear.prev,\n        b = ear,\n        c = ear.next;\n\n    if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n\n    // triangle bbox; min & max are calculated like this for speed\n    const minTX = a.x < b.x ? (a.x < c.x ? a.x : c.x) : (b.x < c.x ? b.x : c.x),\n        minTY = a.y < b.y ? (a.y < c.y ? a.y : c.y) : (b.y < c.y ? b.y : c.y),\n        maxTX = a.x > b.x ? (a.x > c.x ? a.x : c.x) : (b.x > c.x ? b.x : c.x),\n        maxTY = a.y > b.y ? (a.y > c.y ? a.y : c.y) : (b.y > c.y ? b.y : c.y);\n\n    // z-order range for the current triangle bbox;\n    const minZ = zOrder(minTX, minTY, minX, minY, invSize),\n        maxZ = zOrder(maxTX, maxTY, minX, minY, invSize);\n\n    let p = ear.prevZ,\n        n = ear.nextZ;\n\n    // look for points inside the triangle in both directions\n    while (p && p.z >= minZ && n && n.z <= maxZ) {\n\n        if (p !== ear.prev && p !== ear.next &&\n            pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n            area(p.prev, p, p.next) >= 0) return false;\n        p = p.prevZ;\n\n        if (n !== ear.prev && n !== ear.next &&\n            pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y) &&\n            area(n.prev, n, n.next) >= 0) return false;\n        n = n.nextZ;\n\n    }\n\n    // look for remaining points in decreasing z-order\n    while (p && p.z >= minZ) {\n\n        if (p !== ear.prev && p !== ear.next &&\n            pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) &&\n            area(p.prev, p, p.next) >= 0) return false;\n        p = p.prevZ;\n\n    }\n\n    // look for remaining points in increasing z-order\n    while (n && n.z <= maxZ) {\n\n        if (n !== ear.prev && n !== ear.next &&\n            pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y) &&\n            area(n.prev, n, n.next) >= 0) return false;\n        n = n.nextZ;\n\n    }\n\n    return true;\n\n}\n\n// go through all polygon nodes and cure small local self-intersections\nfunction cureLocalIntersections(start, triangles, dim) {\n\n    let p = start;\n    do {\n\n        const a = p.prev,\n            b = p.next.next;\n\n        if (!equals(a, b) && intersects(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a)) {\n\n            triangles.push(a.i / dim);\n            triangles.push(p.i / dim);\n            triangles.push(b.i / dim);\n\n            // remove two nodes involved\n            removeNode(p);\n            removeNode(p.next);\n\n            p = start = b;\n\n        }\n\n        p = p.next;\n\n    } while (p !== start);\n\n    return filterPoints(p);\n\n}\n\n// try splitting polygon into two and triangulate them independently\nfunction splitEarcut(start, triangles, dim, minX, minY, invSize) {\n\n    // look for a valid diagonal that divides the polygon into two\n    let a = start;\n    do {\n\n        let b = a.next.next;\n        while (b !== a.prev) {\n\n            if (a.i !== b.i && isValidDiagonal(a, b)) {\n\n                // split the polygon in two by the diagonal\n                let c = splitPolygon(a, b);\n\n                // filter colinear points around the cuts\n                a = filterPoints(a, a.next);\n                c = filterPoints(c, c.next);\n\n                // run earcut on each half\n                earcutLinked(a, triangles, dim, minX, minY, invSize);\n                earcutLinked(c, triangles, dim, minX, minY, invSize);\n                return;\n\n            }\n\n            b = b.next;\n\n        }\n\n        a = a.next;\n\n    } while (a !== start);\n\n}\n\n// link every hole into the outer loop, producing a single-ring polygon without holes\nfunction eliminateHoles(data, holeIndices, outerNode, dim) {\n\n    const queue = [];\n    let i, len, start, end, list;\n\n    for (i = 0, len = holeIndices.length; i < len; i++) {\n\n        start = holeIndices[i] * dim;\n        end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n        list = linkedList(data, start, end, dim, false);\n        if (list === list.next) list.steiner = true;\n        queue.push(getLeftmost(list));\n\n    }\n\n    queue.sort(compareX);\n\n    // process holes from left to right\n    for (i = 0; i < queue.length; i++) {\n\n        eliminateHole(queue[i], outerNode);\n        outerNode = filterPoints(outerNode, outerNode.next);\n\n    }\n\n    return outerNode;\n\n}\n\nfunction compareX(a, b) {\n\n    return a.x - b.x;\n\n}\n\n// find a bridge between vertices that connects hole with an outer ring and and link it\nfunction eliminateHole(hole, outerNode) {\n\n    outerNode = findHoleBridge(hole, outerNode);\n    if (outerNode) {\n\n        const b = splitPolygon(outerNode, hole);\n\n        // filter collinear points around the cuts\n        filterPoints(outerNode, outerNode.next);\n        filterPoints(b, b.next);\n\n    }\n\n}\n\n// David Eberly's algorithm for finding a bridge between hole and outer polygon\nfunction findHoleBridge(hole, outerNode) {\n\n    let p = outerNode;\n    const hx = hole.x;\n    const hy = hole.y;\n    let qx = -Infinity,\n        m;\n\n    // find a segment intersected by a ray from the hole's leftmost point to the left;\n    // segment's endpoint with lesser x will be potential connection point\n    do {\n\n        if (hy <= p.y && hy >= p.next.y && p.next.y !== p.y) {\n\n            const x = p.x + (hy - p.y) * (p.next.x - p.x) / (p.next.y - p.y);\n            if (x <= hx && x > qx) {\n\n                qx = x;\n                if (x === hx) {\n\n                    if (hy === p.y) return p;\n                    if (hy === p.next.y) return p.next;\n\n                }\n\n                m = p.x < p.next.x ? p : p.next;\n\n            }\n\n        }\n\n        p = p.next;\n\n    } while (p !== outerNode);\n\n    if (!m) return null;\n\n    if (hx === qx) return m; // hole touches outer segment; pick leftmost endpoint\n\n    // look for points inside the triangle of hole point, segment intersection and endpoint;\n    // if there are no points found, we have a valid connection;\n    // otherwise choose the point of the minimum angle with the ray as connection point\n\n    const stop = m,\n        mx = m.x,\n        my = m.y;\n    let tanMin = Infinity,\n        tan;\n\n    p = m;\n\n    do {\n\n        if (hx >= p.x && p.x >= mx && hx !== p.x &&\n            pointInTriangle(hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y)) {\n\n            tan = Math.abs(hy - p.y) / (hx - p.x); // tangential\n\n            if (locallyInside(p, hole) && (tan < tanMin || (tan === tanMin && (p.x > m.x || (p.x === m.x && sectorContainsSector(m, p)))))) {\n\n                m = p;\n                tanMin = tan;\n\n            }\n\n        }\n\n        p = p.next;\n\n    } while (p !== stop);\n\n    return m;\n\n}\n\n// whether sector in vertex m contains sector in vertex p in the same coordinates\nfunction sectorContainsSector(m, p) {\n\n    return area(m.prev, m, p.prev) < 0 && area(p.next, m, m.next) < 0;\n\n}\n\n// interlink polygon nodes in z-order\nfunction indexCurve(start, minX, minY, invSize) {\n\n    let p = start;\n    do {\n\n        if (p.z === null) p.z = zOrder(p.x, p.y, minX, minY, invSize);\n        p.prevZ = p.prev;\n        p.nextZ = p.next;\n        p = p.next;\n\n    } while (p !== start);\n\n    p.prevZ.nextZ = null;\n    p.prevZ = null;\n\n    sortLinked(p);\n\n}\n\n// Simon Tatham's linked list merge sort algorithm\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\nfunction sortLinked(list) {\n\n    let i, p, q, e, tail, numMerges, pSize, qSize,\n        inSize = 1;\n\n    do {\n\n        p = list;\n        list = null;\n        tail = null;\n        numMerges = 0;\n\n        while (p) {\n\n            numMerges++;\n            q = p;\n            pSize = 0;\n            for (i = 0; i < inSize; i++) {\n\n                pSize++;\n                q = q.nextZ;\n                if (!q) break;\n\n            }\n\n            qSize = inSize;\n\n            while (pSize > 0 || (qSize > 0 && q)) {\n\n                if (pSize !== 0 && (qSize === 0 || !q || p.z <= q.z)) {\n\n                    e = p;\n                    p = p.nextZ;\n                    pSize--;\n\n                } else {\n\n                    e = q;\n                    q = q.nextZ;\n                    qSize--;\n\n                }\n\n                if (tail) tail.nextZ = e;\n                else list = e;\n\n                e.prevZ = tail;\n                tail = e;\n\n            }\n\n            p = q;\n\n        }\n\n        tail.nextZ = null;\n        inSize *= 2;\n\n    } while (numMerges > 1);\n\n    return list;\n\n}\n\n// z-order of a point given coords and inverse of the longer side of data bbox\nfunction zOrder(x, y, minX, minY, invSize) {\n\n    // coords are transformed into non-negative 15-bit integer range\n    x = 32767 * (x - minX) * invSize;\n    y = 32767 * (y - minY) * invSize;\n\n    x = (x | (x << 8)) & 0x00FF00FF;\n    x = (x | (x << 4)) & 0x0F0F0F0F;\n    x = (x | (x << 2)) & 0x33333333;\n    x = (x | (x << 1)) & 0x55555555;\n\n    y = (y | (y << 8)) & 0x00FF00FF;\n    y = (y | (y << 4)) & 0x0F0F0F0F;\n    y = (y | (y << 2)) & 0x33333333;\n    y = (y | (y << 1)) & 0x55555555;\n\n    return x | (y << 1);\n\n}\n\n// find the leftmost node of a polygon ring\nfunction getLeftmost(start) {\n\n    let p = start,\n        leftmost = start;\n    do {\n\n        if (p.x < leftmost.x || (p.x === leftmost.x && p.y < leftmost.y)) leftmost = p;\n        p = p.next;\n\n    } while (p !== start);\n\n    return leftmost;\n\n}\n\n// check if a point lies within a convex triangle\nfunction pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {\n\n    return (cx - px) * (ay - py) - (ax - px) * (cy - py) >= 0 &&\n        (ax - px) * (by - py) - (bx - px) * (ay - py) >= 0 &&\n        (bx - px) * (cy - py) - (cx - px) * (by - py) >= 0;\n\n}\n\n// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\nfunction isValidDiagonal(a, b) {\n\n    return a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) && // dones't intersect other edges\n        (locallyInside(a, b) && locallyInside(b, a) && middleInside(a, b) && // locally visible\n            (area(a.prev, a, b.prev) || area(a, b.prev, b)) || // does not create opposite-facing sectors\n            equals(a, b) && area(a.prev, a, a.next) > 0 && area(b.prev, b, b.next) > 0); // special zero-length case\n\n}\n\n// signed area of a triangle\nfunction area(p, q, r) {\n\n    return (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y);\n\n}\n\n// check if two points are equal\nfunction equals(p1, p2) {\n\n    return p1.x === p2.x && p1.y === p2.y;\n\n}\n\n// check if two segments intersect\nfunction intersects(p1, q1, p2, q2) {\n\n    const o1 = sign(area(p1, q1, p2));\n    const o2 = sign(area(p1, q1, q2));\n    const o3 = sign(area(p2, q2, p1));\n    const o4 = sign(area(p2, q2, q1));\n\n    if (o1 !== o2 && o3 !== o4) return true; // general case\n\n    if (o1 === 0 && onSegment(p1, p2, q1)) return true; // p1, q1 and p2 are collinear and p2 lies on p1q1\n    if (o2 === 0 && onSegment(p1, q2, q1)) return true; // p1, q1 and q2 are collinear and q2 lies on p1q1\n    if (o3 === 0 && onSegment(p2, p1, q2)) return true; // p2, q2 and p1 are collinear and p1 lies on p2q2\n    if (o4 === 0 && onSegment(p2, q1, q2)) return true; // p2, q2 and q1 are collinear and q1 lies on p2q2\n\n    return false;\n\n}\n\n// for collinear points p, q, r, check if point q lies on segment pr\nfunction onSegment(p, q, r) {\n\n    return q.x <= Math.max(p.x, r.x) && q.x >= Math.min(p.x, r.x) && q.y <= Math.max(p.y, r.y) && q.y >= Math.min(p.y, r.y);\n\n}\n\nfunction sign(num) {\n\n    return num > 0 ? 1 : num < 0 ? -1 : 0;\n\n}\n\n// check if a polygon diagonal intersects any polygon segments\nfunction intersectsPolygon(a, b) {\n\n    let p = a;\n    do {\n\n        if (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\n            intersects(p, p.next, a, b)) return true;\n        p = p.next;\n\n    } while (p !== a);\n\n    return false;\n\n}\n\n// check if a polygon diagonal is locally inside the polygon\nfunction locallyInside(a, b) {\n\n    return area(a.prev, a, a.next) < 0 ?\n        area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0 :\n        area(a, b, a.prev) < 0 || area(a, a.next, b) < 0;\n\n}\n\n// check if the middle point of a polygon diagonal is inside the polygon\nfunction middleInside(a, b) {\n\n    let p = a,\n        inside = false;\n    const px = (a.x + b.x) / 2,\n        py = (a.y + b.y) / 2;\n    do {\n\n        if (((p.y > py) !== (p.next.y > py)) && p.next.y !== p.y &&\n            (px < (p.next.x - p.x) * (py - p.y) / (p.next.y - p.y) + p.x))\n            inside = !inside;\n        p = p.next;\n\n    } while (p !== a);\n\n    return inside;\n\n}\n\n// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\nfunction splitPolygon(a, b) {\n\n    const a2 = new Node(a.i, a.x, a.y),\n        b2 = new Node(b.i, b.x, b.y),\n        an = a.next,\n        bp = b.prev;\n\n    a.next = b;\n    b.prev = a;\n\n    a2.next = an;\n    an.prev = a2;\n\n    b2.next = a2;\n    a2.prev = b2;\n\n    bp.next = b2;\n    b2.prev = bp;\n\n    return b2;\n\n}\n\n// create a node and optionally link it with previous one (in a circular doubly linked list)\nfunction insertNode(i, x, y, last) {\n\n    const p = new Node(i, x, y);\n\n    if (!last) {\n\n        p.prev = p;\n        p.next = p;\n\n    } else {\n\n        p.next = last.next;\n        p.prev = last;\n        last.next.prev = p;\n        last.next = p;\n\n    }\n\n    return p;\n\n}\n\nfunction removeNode(p) {\n\n    p.next.prev = p.prev;\n    p.prev.next = p.next;\n\n    if (p.prevZ) p.prevZ.nextZ = p.nextZ;\n    if (p.nextZ) p.nextZ.prevZ = p.prevZ;\n\n}\n\nfunction Node(i, x, y) {\n\n    // vertex index in coordinates array\n    this.i = i;\n\n    // vertex coordinates\n    this.x = x;\n    this.y = y;\n\n    // previous and next vertex nodes in a polygon ring\n    this.prev = null;\n    this.next = null;\n\n    // z-order curve value\n    this.z = null;\n\n    // previous and next nodes in z-order\n    this.prevZ = null;\n    this.nextZ = null;\n\n    // indicates whether this is a steiner point\n    this.steiner = false;\n\n}\n\nfunction signedArea(data, start, end, dim) {\n\n    let sum = 0;\n    for (let i = start, j = end - dim; i < end; i += dim) {\n\n        sum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]);\n        j = i;\n\n    }\n\n    return sum;\n\n}\n\nconst ShapeUtils = {\n\n    // calculate area of the contour polygon\n\n    area: function(contour) {\n\n        const n = contour.length;\n        let a = 0.0;\n\n        for (let p = n - 1, q = 0; q < n; p = q++) {\n\n            a += contour[p].x * contour[q].y - contour[q].x * contour[p].y;\n\n        }\n\n        return a * 0.5;\n\n    },\n\n    isClockWise: function(pts) {\n\n        return ShapeUtils.area(pts) < 0;\n\n    },\n\n    triangulateShape: function(contour, holes) {\n\n        const vertices = []; // flat array of vertices like [ x0,y0, x1,y1, x2,y2, ... ]\n        const holeIndices = []; // array of hole indices\n        const faces = []; // final array of vertex indices like [ [ a,b,d ], [ b,c,d ] ]\n\n        removeDupEndPts(contour);\n        addContour(vertices, contour);\n\n        //\n\n        let holeIndex = contour.length;\n\n        holes.forEach(removeDupEndPts);\n\n        for (let i = 0; i < holes.length; i++) {\n\n            holeIndices.push(holeIndex);\n            holeIndex += holes[i].length;\n            addContour(vertices, holes[i]);\n\n        }\n\n        //\n\n        const triangles = Earcut.triangulate(vertices, holeIndices);\n\n        //\n\n        for (let i = 0; i < triangles.length; i += 3) {\n\n            faces.push(triangles.slice(i, i + 3));\n\n        }\n\n        return faces;\n\n    }\n\n};\n\nfunction removeDupEndPts(points) {\n\n    const l = points.length;\n\n    if (l > 2 && points[l - 1].equals(points[0])) {\n\n        points.pop();\n\n    }\n\n}\n\nfunction addContour(vertices, contour) {\n\n    for (let i = 0; i < contour.length; i++) {\n\n        vertices.push(contour[i].x);\n        vertices.push(contour[i].y);\n\n    }\n\n}\n\n/**\n * Creates extruded geometry from a path shape.\n *\n * parameters = {\n *\n *  curveSegments: <int>, // number of points on the curves\n *  steps: <int>, // number of points for z-side extrusions / used for subdividing segments of extrude spline too\n *  depth: <float>, // Depth to extrude the shape\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into the original shape bevel goes\n *  bevelSize: <float>, // how far from shape outline (including bevelOffset) is bevel\n *  bevelOffset: <float>, // how far from shape outline does bevel start\n *  bevelSegments: <int>, // number of bevel layers\n *\n *  extrudePath: <THREE.Curve> // curve to extrude shape along\n *\n *  UVGenerator: <Object> // object that provides UV generator functions\n *\n * }\n */\n\nclass ExtrudeBufferGeometry extends BufferGeometry {\n\n    constructor(shapes, options) {\n\n        super();\n\n        this.type = 'ExtrudeBufferGeometry';\n\n        this.parameters = {\n            shapes: shapes,\n            options: options\n        };\n\n        shapes = Array.isArray(shapes) ? shapes : [shapes];\n\n        const scope = this;\n\n        const verticesArray = [];\n        const uvArray = [];\n\n        for (let i = 0, l = shapes.length; i < l; i++) {\n\n            const shape = shapes[i];\n            addShape(shape);\n\n        }\n\n        // build geometry\n\n        this.setAttribute('position', new Float32BufferAttribute(verticesArray, 3));\n        this.setAttribute('uv', new Float32BufferAttribute(uvArray, 2));\n\n        this.computeVertexNormals();\n\n        // functions\n\n        function addShape(shape) {\n\n            const placeholder = [];\n\n            // options\n\n            const curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;\n            const steps = options.steps !== undefined ? options.steps : 1;\n            let depth = options.depth !== undefined ? options.depth : 100;\n\n            let bevelEnabled = options.bevelEnabled !== undefined ? options.bevelEnabled : true;\n            let bevelThickness = options.bevelThickness !== undefined ? options.bevelThickness : 6;\n            let bevelSize = options.bevelSize !== undefined ? options.bevelSize : bevelThickness - 2;\n            let bevelOffset = options.bevelOffset !== undefined ? options.bevelOffset : 0;\n            let bevelSegments = options.bevelSegments !== undefined ? options.bevelSegments : 3;\n\n            const extrudePath = options.extrudePath;\n\n            const uvgen = options.UVGenerator !== undefined ? options.UVGenerator : WorldUVGenerator;\n\n            // deprecated options\n\n            if (options.amount !== undefined) {\n\n                console.warn('THREE.ExtrudeBufferGeometry: amount has been renamed to depth.');\n                depth = options.amount;\n\n            }\n\n            //\n\n            let extrudePts, extrudeByPath = false;\n            let splineTube, binormal, normal, position2;\n\n            if (extrudePath) {\n\n                extrudePts = extrudePath.getSpacedPoints(steps);\n\n                extrudeByPath = true;\n                bevelEnabled = false; // bevels not supported for path extrusion\n\n                // SETUP TNB variables\n\n                // TODO1 - have a .isClosed in spline?\n\n                splineTube = extrudePath.computeFrenetFrames(steps, false);\n\n                // console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);\n\n                binormal = new Vector3();\n                normal = new Vector3();\n                position2 = new Vector3();\n\n            }\n\n            // Safeguards if bevels are not enabled\n\n            if (!bevelEnabled) {\n\n                bevelSegments = 0;\n                bevelThickness = 0;\n                bevelSize = 0;\n                bevelOffset = 0;\n\n            }\n\n            // Variables initialization\n\n            const shapePoints = shape.extractPoints(curveSegments);\n\n            let vertices = shapePoints.shape;\n            const holes = shapePoints.holes;\n\n            const reverse = !ShapeUtils.isClockWise(vertices);\n\n            if (reverse) {\n\n                vertices = vertices.reverse();\n\n                // Maybe we should also check if holes are in the opposite direction, just to be safe ...\n\n                for (let h = 0, hl = holes.length; h < hl; h++) {\n\n                    const ahole = holes[h];\n\n                    if (ShapeUtils.isClockWise(ahole)) {\n\n                        holes[h] = ahole.reverse();\n\n                    }\n\n                }\n\n            }\n\n\n            const faces = ShapeUtils.triangulateShape(vertices, holes);\n\n            /* Vertices */\n\n            const contour = vertices; // vertices has all points but contour has only points of circumference\n\n            for (let h = 0, hl = holes.length; h < hl; h++) {\n\n                const ahole = holes[h];\n\n                vertices = vertices.concat(ahole);\n\n            }\n\n\n            function scalePt2(pt, vec, size) {\n\n                if (!vec) console.error(\"THREE.ExtrudeGeometry: vec does not exist\");\n\n                return vec.clone().multiplyScalar(size).add(pt);\n\n            }\n\n            const vlen = vertices.length,\n                flen = faces.length;\n\n\n            // Find directions for point movement\n\n\n            function getBevelVec(inPt, inPrev, inNext) {\n\n                // computes for inPt the corresponding point inPt' on a new contour\n                //   shifted by 1 unit (length of normalized vector) to the left\n                // if we walk along contour clockwise, this new contour is outside the old one\n                //\n                // inPt' is the intersection of the two lines parallel to the two\n                //  adjacent edges of inPt at a distance of 1 unit on the left side.\n\n                let v_trans_x, v_trans_y, shrink_by; // resulting translation vector for inPt\n\n                // good reading for geometry algorithms (here: line-line intersection)\n                // http://geomalgorithms.com/a05-_intersect-1.html\n\n                const v_prev_x = inPt.x - inPrev.x,\n                    v_prev_y = inPt.y - inPrev.y;\n                const v_next_x = inNext.x - inPt.x,\n                    v_next_y = inNext.y - inPt.y;\n\n                const v_prev_lensq = (v_prev_x * v_prev_x + v_prev_y * v_prev_y);\n\n                // check for collinear edges\n                const collinear0 = (v_prev_x * v_next_y - v_prev_y * v_next_x);\n\n                if (Math.abs(collinear0) > Number.EPSILON) {\n\n                    // not collinear\n\n                    // length of vectors for normalizing\n\n                    const v_prev_len = Math.sqrt(v_prev_lensq);\n                    const v_next_len = Math.sqrt(v_next_x * v_next_x + v_next_y * v_next_y);\n\n                    // shift adjacent points by unit vectors to the left\n\n                    const ptPrevShift_x = (inPrev.x - v_prev_y / v_prev_len);\n                    const ptPrevShift_y = (inPrev.y + v_prev_x / v_prev_len);\n\n                    const ptNextShift_x = (inNext.x - v_next_y / v_next_len);\n                    const ptNextShift_y = (inNext.y + v_next_x / v_next_len);\n\n                    // scaling factor for v_prev to intersection point\n\n                    const sf = ((ptNextShift_x - ptPrevShift_x) * v_next_y -\n                            (ptNextShift_y - ptPrevShift_y) * v_next_x) /\n                        (v_prev_x * v_next_y - v_prev_y * v_next_x);\n\n                    // vector from inPt to intersection point\n\n                    v_trans_x = (ptPrevShift_x + v_prev_x * sf - inPt.x);\n                    v_trans_y = (ptPrevShift_y + v_prev_y * sf - inPt.y);\n\n                    // Don't normalize!, otherwise sharp corners become ugly\n                    //  but prevent crazy spikes\n                    const v_trans_lensq = (v_trans_x * v_trans_x + v_trans_y * v_trans_y);\n                    if (v_trans_lensq <= 2) {\n\n                        return new Vector2(v_trans_x, v_trans_y);\n\n                    } else {\n\n                        shrink_by = Math.sqrt(v_trans_lensq / 2);\n\n                    }\n\n                } else {\n\n                    // handle special case of collinear edges\n\n                    let direction_eq = false; // assumes: opposite\n\n                    if (v_prev_x > Number.EPSILON) {\n\n                        if (v_next_x > Number.EPSILON) {\n\n                            direction_eq = true;\n\n                        }\n\n                    } else {\n\n                        if (v_prev_x < -Number.EPSILON) {\n\n                            if (v_next_x < -Number.EPSILON) {\n\n                                direction_eq = true;\n\n                            }\n\n                        } else {\n\n                            if (Math.sign(v_prev_y) === Math.sign(v_next_y)) {\n\n                                direction_eq = true;\n\n                            }\n\n                        }\n\n                    }\n\n                    if (direction_eq) {\n\n                        // console.log(\"Warning: lines are a straight sequence\");\n                        v_trans_x = -v_prev_y;\n                        v_trans_y = v_prev_x;\n                        shrink_by = Math.sqrt(v_prev_lensq);\n\n                    } else {\n\n                        // console.log(\"Warning: lines are a straight spike\");\n                        v_trans_x = v_prev_x;\n                        v_trans_y = v_prev_y;\n                        shrink_by = Math.sqrt(v_prev_lensq / 2);\n\n                    }\n\n                }\n\n                return new Vector2(v_trans_x / shrink_by, v_trans_y / shrink_by);\n\n            }\n\n\n            const contourMovements = [];\n\n            for (let i = 0, il = contour.length, j = il - 1, k = i + 1; i < il; i++, j++, k++) {\n\n                if (j === il) j = 0;\n                if (k === il) k = 0;\n\n                //  (j)---(i)---(k)\n                // console.log('i,j,k', i, j , k)\n\n                contourMovements[i] = getBevelVec(contour[i], contour[j], contour[k]);\n\n            }\n\n            const holesMovements = [];\n            let oneHoleMovements, verticesMovements = contourMovements.concat();\n\n            for (let h = 0, hl = holes.length; h < hl; h++) {\n\n                const ahole = holes[h];\n\n                oneHoleMovements = [];\n\n                for (let i = 0, il = ahole.length, j = il - 1, k = i + 1; i < il; i++, j++, k++) {\n\n                    if (j === il) j = 0;\n                    if (k === il) k = 0;\n\n                    //  (j)---(i)---(k)\n                    oneHoleMovements[i] = getBevelVec(ahole[i], ahole[j], ahole[k]);\n\n                }\n\n                holesMovements.push(oneHoleMovements);\n                verticesMovements = verticesMovements.concat(oneHoleMovements);\n\n            }\n\n\n            // Loop bevelSegments, 1 for the front, 1 for the back\n\n            for (let b = 0; b < bevelSegments; b++) {\n\n                //for ( b = bevelSegments; b > 0; b -- ) {\n\n                const t = b / bevelSegments;\n                const z = bevelThickness * Math.cos(t * Math.PI / 2);\n                const bs = bevelSize * Math.sin(t * Math.PI / 2) + bevelOffset;\n\n                // contract shape\n\n                for (let i = 0, il = contour.length; i < il; i++) {\n\n                    const vert = scalePt2(contour[i], contourMovements[i], bs);\n\n                    v(vert.x, vert.y, -z);\n\n                }\n\n                // expand holes\n\n                for (let h = 0, hl = holes.length; h < hl; h++) {\n\n                    const ahole = holes[h];\n                    oneHoleMovements = holesMovements[h];\n\n                    for (let i = 0, il = ahole.length; i < il; i++) {\n\n                        const vert = scalePt2(ahole[i], oneHoleMovements[i], bs);\n\n                        v(vert.x, vert.y, -z);\n\n                    }\n\n                }\n\n            }\n\n            const bs = bevelSize + bevelOffset;\n\n            // Back facing vertices\n\n            for (let i = 0; i < vlen; i++) {\n\n                const vert = bevelEnabled ? scalePt2(vertices[i], verticesMovements[i], bs) : vertices[i];\n\n                if (!extrudeByPath) {\n\n                    v(vert.x, vert.y, 0);\n\n                } else {\n\n                    // v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );\n\n                    normal.copy(splineTube.normals[0]).multiplyScalar(vert.x);\n                    binormal.copy(splineTube.binormals[0]).multiplyScalar(vert.y);\n\n                    position2.copy(extrudePts[0]).add(normal).add(binormal);\n\n                    v(position2.x, position2.y, position2.z);\n\n                }\n\n            }\n\n            // Add stepped vertices...\n            // Including front facing vertices\n\n            for (let s = 1; s <= steps; s++) {\n\n                for (let i = 0; i < vlen; i++) {\n\n                    const vert = bevelEnabled ? scalePt2(vertices[i], verticesMovements[i], bs) : vertices[i];\n\n                    if (!extrudeByPath) {\n\n                        v(vert.x, vert.y, depth / steps * s);\n\n                    } else {\n\n                        // v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x );\n\n                        normal.copy(splineTube.normals[s]).multiplyScalar(vert.x);\n                        binormal.copy(splineTube.binormals[s]).multiplyScalar(vert.y);\n\n                        position2.copy(extrudePts[s]).add(normal).add(binormal);\n\n                        v(position2.x, position2.y, position2.z);\n\n                    }\n\n                }\n\n            }\n\n\n            // Add bevel segments planes\n\n            //for ( b = 1; b <= bevelSegments; b ++ ) {\n            for (let b = bevelSegments - 1; b >= 0; b--) {\n\n                const t = b / bevelSegments;\n                const z = bevelThickness * Math.cos(t * Math.PI / 2);\n                const bs = bevelSize * Math.sin(t * Math.PI / 2) + bevelOffset;\n\n                // contract shape\n\n                for (let i = 0, il = contour.length; i < il; i++) {\n\n                    const vert = scalePt2(contour[i], contourMovements[i], bs);\n                    v(vert.x, vert.y, depth + z);\n\n                }\n\n                // expand holes\n\n                for (let h = 0, hl = holes.length; h < hl; h++) {\n\n                    const ahole = holes[h];\n                    oneHoleMovements = holesMovements[h];\n\n                    for (let i = 0, il = ahole.length; i < il; i++) {\n\n                        const vert = scalePt2(ahole[i], oneHoleMovements[i], bs);\n\n                        if (!extrudeByPath) {\n\n                            v(vert.x, vert.y, depth + z);\n\n                        } else {\n\n                            v(vert.x, vert.y + extrudePts[steps - 1].y, extrudePts[steps - 1].x + z);\n\n                        }\n\n                    }\n\n                }\n\n            }\n\n            /* Faces */\n\n            // Top and bottom faces\n\n            buildLidFaces();\n\n            // Sides faces\n\n            buildSideFaces();\n\n\n            /////  Internal functions\n\n            function buildLidFaces() {\n\n                const start = verticesArray.length / 3;\n\n                if (bevelEnabled) {\n\n                    let layer = 0; // steps + 1\n                    let offset = vlen * layer;\n\n                    // Bottom faces\n\n                    for (let i = 0; i < flen; i++) {\n\n                        const face = faces[i];\n                        f3(face[2] + offset, face[1] + offset, face[0] + offset);\n\n                    }\n\n                    layer = steps + bevelSegments * 2;\n                    offset = vlen * layer;\n\n                    // Top faces\n\n                    for (let i = 0; i < flen; i++) {\n\n                        const face = faces[i];\n                        f3(face[0] + offset, face[1] + offset, face[2] + offset);\n\n                    }\n\n                } else {\n\n                    // Bottom faces\n\n                    for (let i = 0; i < flen; i++) {\n\n                        const face = faces[i];\n                        f3(face[2], face[1], face[0]);\n\n                    }\n\n                    // Top faces\n\n                    for (let i = 0; i < flen; i++) {\n\n                        const face = faces[i];\n                        f3(face[0] + vlen * steps, face[1] + vlen * steps, face[2] + vlen * steps);\n\n                    }\n\n                }\n\n                scope.addGroup(start, verticesArray.length / 3 - start, 0);\n\n            }\n\n            // Create faces for the z-sides of the shape\n\n            function buildSideFaces() {\n\n                const start = verticesArray.length / 3;\n                let layeroffset = 0;\n                sidewalls(contour, layeroffset);\n                layeroffset += contour.length;\n\n                for (let h = 0, hl = holes.length; h < hl; h++) {\n\n                    const ahole = holes[h];\n                    sidewalls(ahole, layeroffset);\n\n                    //, true\n                    layeroffset += ahole.length;\n\n                }\n\n\n                scope.addGroup(start, verticesArray.length / 3 - start, 1);\n\n\n            }\n\n            function sidewalls(contour, layeroffset) {\n\n                let i = contour.length;\n\n                while (--i >= 0) {\n\n                    const j = i;\n                    let k = i - 1;\n                    if (k < 0) k = contour.length - 1;\n\n                    //console.log('b', i,j, i-1, k,vertices.length);\n\n                    for (let s = 0, sl = (steps + bevelSegments * 2); s < sl; s++) {\n\n                        const slen1 = vlen * s;\n                        const slen2 = vlen * (s + 1);\n\n                        const a = layeroffset + j + slen1,\n                            b = layeroffset + k + slen1,\n                            c = layeroffset + k + slen2,\n                            d = layeroffset + j + slen2;\n\n                        f4(a, b, c, d);\n\n                    }\n\n                }\n\n            }\n\n            function v(x, y, z) {\n\n                placeholder.push(x);\n                placeholder.push(y);\n                placeholder.push(z);\n\n            }\n\n\n            function f3(a, b, c) {\n\n                addVertex(a);\n                addVertex(b);\n                addVertex(c);\n\n                const nextIndex = verticesArray.length / 3;\n                const uvs = uvgen.generateTopUV(scope, verticesArray, nextIndex - 3, nextIndex - 2, nextIndex - 1);\n\n                addUV(uvs[0]);\n                addUV(uvs[1]);\n                addUV(uvs[2]);\n\n            }\n\n            function f4(a, b, c, d) {\n\n                addVertex(a);\n                addVertex(b);\n                addVertex(d);\n\n                addVertex(b);\n                addVertex(c);\n                addVertex(d);\n\n\n                const nextIndex = verticesArray.length / 3;\n                const uvs = uvgen.generateSideWallUV(scope, verticesArray, nextIndex - 6, nextIndex - 3, nextIndex - 2, nextIndex - 1);\n\n                addUV(uvs[0]);\n                addUV(uvs[1]);\n                addUV(uvs[3]);\n\n                addUV(uvs[1]);\n                addUV(uvs[2]);\n                addUV(uvs[3]);\n\n            }\n\n            function addVertex(index) {\n\n                verticesArray.push(placeholder[index * 3 + 0]);\n                verticesArray.push(placeholder[index * 3 + 1]);\n                verticesArray.push(placeholder[index * 3 + 2]);\n\n            }\n\n\n            function addUV(vector2) {\n\n                uvArray.push(vector2.x);\n                uvArray.push(vector2.y);\n\n            }\n\n        }\n\n    }\n\n    toJSON() {\n\n        const data = BufferGeometry.prototype.toJSON.call(this);\n\n        const shapes = this.parameters.shapes;\n        const options = this.parameters.options;\n\n        return toJSON(shapes, options, data);\n\n    }\n\n}\n\nconst WorldUVGenerator = {\n\n    generateTopUV: function(geometry, vertices, indexA, indexB, indexC) {\n\n        const a_x = vertices[indexA * 3];\n        const a_y = vertices[indexA * 3 + 1];\n        const b_x = vertices[indexB * 3];\n        const b_y = vertices[indexB * 3 + 1];\n        const c_x = vertices[indexC * 3];\n        const c_y = vertices[indexC * 3 + 1];\n\n        return [\n            new Vector2(a_x, a_y),\n            new Vector2(b_x, b_y),\n            new Vector2(c_x, c_y)\n        ];\n\n    },\n\n    generateSideWallUV: function(geometry, vertices, indexA, indexB, indexC, indexD) {\n\n        const a_x = vertices[indexA * 3];\n        const a_y = vertices[indexA * 3 + 1];\n        const a_z = vertices[indexA * 3 + 2];\n        const b_x = vertices[indexB * 3];\n        const b_y = vertices[indexB * 3 + 1];\n        const b_z = vertices[indexB * 3 + 2];\n        const c_x = vertices[indexC * 3];\n        const c_y = vertices[indexC * 3 + 1];\n        const c_z = vertices[indexC * 3 + 2];\n        const d_x = vertices[indexD * 3];\n        const d_y = vertices[indexD * 3 + 1];\n        const d_z = vertices[indexD * 3 + 2];\n\n        if (Math.abs(a_y - b_y) < 0.01) {\n\n            return [\n                new Vector2(a_x, 1 - a_z),\n                new Vector2(b_x, 1 - b_z),\n                new Vector2(c_x, 1 - c_z),\n                new Vector2(d_x, 1 - d_z)\n            ];\n\n        } else {\n\n            return [\n                new Vector2(a_y, 1 - a_z),\n                new Vector2(b_y, 1 - b_z),\n                new Vector2(c_y, 1 - c_z),\n                new Vector2(d_y, 1 - d_z)\n            ];\n\n        }\n\n    }\n\n};\n\nfunction toJSON(shapes, options, data) {\n\n    data.shapes = [];\n\n    if (Array.isArray(shapes)) {\n\n        for (let i = 0, l = shapes.length; i < l; i++) {\n\n            const shape = shapes[i];\n\n            data.shapes.push(shape.uuid);\n\n        }\n\n    } else {\n\n        data.shapes.push(shapes.uuid);\n\n    }\n\n    if (options.extrudePath !== undefined) data.options.extrudePath = options.extrudePath.toJSON();\n\n    return data;\n\n}\n\n/**\n * Creates extruded geometry from a path shape.\n *\n * parameters = {\n *\n *  curveSegments: <int>, // number of points on the curves\n *  steps: <int>, // number of points for z-side extrusions / used for subdividing segments of extrude spline too\n *  depth: <float>, // Depth to extrude the shape\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into the original shape bevel goes\n *  bevelSize: <float>, // how far from shape outline (including bevelOffset) is bevel\n *  bevelOffset: <float>, // how far from shape outline does bevel start\n *  bevelSegments: <int>, // number of bevel layers\n *\n *  extrudePath: <THREE.Curve> // curve to extrude shape along\n *\n *  UVGenerator: <Object> // object that provides UV generator functions\n *\n * }\n */\n\nclass ExtrudeGeometry extends Geometry {\n\n    constructor(shapes, options) {\n\n        super();\n\n        this.type = 'ExtrudeGeometry';\n\n        this.parameters = {\n            shapes: shapes,\n            options: options\n        };\n\n        this.fromBufferGeometry(new ExtrudeBufferGeometry(shapes, options));\n        this.mergeVertices();\n\n    }\n\n    toJSON() {\n\n        const data = super.toJSON();\n\n        const shapes = this.parameters.shapes;\n        const options = this.parameters.options;\n\n        return toJSON$1(shapes, options, data);\n\n    }\n\n}\n\nfunction toJSON$1(shapes, options, data) {\n\n    data.shapes = [];\n\n    if (Array.isArray(shapes)) {\n\n        for (let i = 0, l = shapes.length; i < l; i++) {\n\n            const shape = shapes[i];\n\n            data.shapes.push(shape.uuid);\n\n        }\n\n    } else {\n\n        data.shapes.push(shapes.uuid);\n\n    }\n\n    if (options.extrudePath !== undefined) data.options.extrudePath = options.extrudePath.toJSON();\n\n    return data;\n\n}\n\nclass IcosahedronBufferGeometry extends PolyhedronBufferGeometry {\n\n    constructor(radius, detail) {\n\n        const t = (1 + Math.sqrt(5)) / 2;\n\n        const vertices = [-1, t, 0, 1, t, 0, -1, -t, 0, 1, -t, 0,\n            0, -1, t, 0, 1, t, 0, -1, -t, 0, 1, -t,\n            t, 0, -1, t, 0, 1, -t, 0, -1, -t, 0, 1\n        ];\n\n        const indices = [\n            0, 11, 5, 0, 5, 1, 0, 1, 7, 0, 7, 10, 0, 10, 11,\n            1, 5, 9, 5, 11, 4, 11, 10, 2, 10, 7, 6, 7, 1, 8,\n            3, 9, 4, 3, 4, 2, 3, 2, 6, 3, 6, 8, 3, 8, 9,\n            4, 9, 5, 2, 4, 11, 6, 2, 10, 8, 6, 7, 9, 8, 1\n        ];\n\n        super(vertices, indices, radius, detail);\n\n        this.type = 'IcosahedronBufferGeometry';\n\n        this.parameters = {\n            radius: radius,\n            detail: detail\n        };\n\n    }\n\n}\n\nclass IcosahedronGeometry extends Geometry {\n\n    constructor(radius, detail) {\n\n        super();\n\n        this.type = 'IcosahedronGeometry';\n\n        this.parameters = {\n            radius: radius,\n            detail: detail\n        };\n\n        this.fromBufferGeometry(new IcosahedronBufferGeometry(radius, detail));\n        this.mergeVertices();\n\n    }\n\n}\n\nclass LatheBufferGeometry extends BufferGeometry {\n\n    constructor(points, segments, phiStart, phiLength) {\n\n        super();\n\n        this.type = 'LatheBufferGeometry';\n\n        this.parameters = {\n            points: points,\n            segments: segments,\n            phiStart: phiStart,\n            phiLength: phiLength\n        };\n\n        segments = Math.floor(segments) || 12;\n        phiStart = phiStart || 0;\n        phiLength = phiLength || Math.PI * 2;\n\n        // clamp phiLength so it's in range of [ 0, 2PI ]\n\n        phiLength = MathUtils.clamp(phiLength, 0, Math.PI * 2);\n\n\n        // buffers\n\n        const indices = [];\n        const vertices = [];\n        const uvs = [];\n\n        // helper variables\n\n        const inverseSegments = 1.0 / segments;\n        const vertex = new Vector3();\n        const uv = new Vector2();\n\n        // generate vertices and uvs\n\n        for (let i = 0; i <= segments; i++) {\n\n            const phi = phiStart + i * inverseSegments * phiLength;\n\n            const sin = Math.sin(phi);\n            const cos = Math.cos(phi);\n\n            for (let j = 0; j <= (points.length - 1); j++) {\n\n                // vertex\n\n                vertex.x = points[j].x * sin;\n                vertex.y = points[j].y;\n                vertex.z = points[j].x * cos;\n\n                vertices.push(vertex.x, vertex.y, vertex.z);\n\n                // uv\n\n                uv.x = i / segments;\n                uv.y = j / (points.length - 1);\n\n                uvs.push(uv.x, uv.y);\n\n\n            }\n\n        }\n\n        // indices\n\n        for (let i = 0; i < segments; i++) {\n\n            for (let j = 0; j < (points.length - 1); j++) {\n\n                const base = j + i * points.length;\n\n                const a = base;\n                const b = base + points.length;\n                const c = base + points.length + 1;\n                const d = base + 1;\n\n                // faces\n\n                indices.push(a, b, d);\n                indices.push(b, c, d);\n\n            }\n\n        }\n\n        // build geometry\n\n        this.setIndex(indices);\n        this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n        this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n        // generate normals\n\n        this.computeVertexNormals();\n\n        // if the geometry is closed, we need to average the normals along the seam.\n        // because the corresponding vertices are identical (but still have different UVs).\n\n        if (phiLength === Math.PI * 2) {\n\n            const normals = this.attributes.normal.array;\n            const n1 = new Vector3();\n            const n2 = new Vector3();\n            const n = new Vector3();\n\n            // this is the buffer offset for the last line of vertices\n\n            const base = segments * points.length * 3;\n\n            for (let i = 0, j = 0; i < points.length; i++, j += 3) {\n\n                // select the normal of the vertex in the first line\n\n                n1.x = normals[j + 0];\n                n1.y = normals[j + 1];\n                n1.z = normals[j + 2];\n\n                // select the normal of the vertex in the last line\n\n                n2.x = normals[base + j + 0];\n                n2.y = normals[base + j + 1];\n                n2.z = normals[base + j + 2];\n\n                // average normals\n\n                n.addVectors(n1, n2).normalize();\n\n                // assign the new values to both normals\n\n                normals[j + 0] = normals[base + j + 0] = n.x;\n                normals[j + 1] = normals[base + j + 1] = n.y;\n                normals[j + 2] = normals[base + j + 2] = n.z;\n\n            }\n\n        }\n\n    }\n\n}\n\nclass LatheGeometry extends Geometry {\n\n    constructor(points, segments, phiStart, phiLength) {\n\n        super();\n\n        this.type = 'LatheGeometry';\n\n        this.parameters = {\n            points: points,\n            segments: segments,\n            phiStart: phiStart,\n            phiLength: phiLength\n        };\n\n        this.fromBufferGeometry(new LatheBufferGeometry(points, segments, phiStart, phiLength));\n        this.mergeVertices();\n\n    }\n\n}\n\nclass OctahedronBufferGeometry extends PolyhedronBufferGeometry {\n\n    constructor(radius, detail) {\n\n        const vertices = [\n            1, 0, 0, -1, 0, 0, 0, 1, 0,\n            0, -1, 0, 0, 0, 1, 0, 0, -1\n        ];\n\n        const indices = [\n            0, 2, 4, 0, 4, 3, 0, 3, 5,\n            0, 5, 2, 1, 2, 5, 1, 5, 3,\n            1, 3, 4, 1, 4, 2\n        ];\n\n        super(vertices, indices, radius, detail);\n\n        this.type = 'OctahedronBufferGeometry';\n\n        this.parameters = {\n            radius: radius,\n            detail: detail\n        };\n\n    }\n\n}\n\nclass OctahedronGeometry extends Geometry {\n\n    constructor(radius, detail) {\n\n        super();\n\n        this.type = 'OctahedronGeometry';\n\n        this.parameters = {\n            radius: radius,\n            detail: detail\n        };\n\n        this.fromBufferGeometry(new OctahedronBufferGeometry(radius, detail));\n        this.mergeVertices();\n\n    }\n\n}\n\n/**\n * Parametric Surfaces Geometry\n * based on the brilliant article by @prideout https://prideout.net/blog/old/blog/index.html@p=44.html\n */\n\nfunction ParametricBufferGeometry(func, slices, stacks) {\n\n    BufferGeometry.call(this);\n\n    this.type = 'ParametricBufferGeometry';\n\n    this.parameters = {\n        func: func,\n        slices: slices,\n        stacks: stacks\n    };\n\n    // buffers\n\n    const indices = [];\n    const vertices = [];\n    const normals = [];\n    const uvs = [];\n\n    const EPS = 0.00001;\n\n    const normal = new Vector3();\n\n    const p0 = new Vector3(),\n        p1 = new Vector3();\n    const pu = new Vector3(),\n        pv = new Vector3();\n\n    if (func.length < 3) {\n\n        console.error('THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.');\n\n    }\n\n    // generate vertices, normals and uvs\n\n    const sliceCount = slices + 1;\n\n    for (let i = 0; i <= stacks; i++) {\n\n        const v = i / stacks;\n\n        for (let j = 0; j <= slices; j++) {\n\n            const u = j / slices;\n\n            // vertex\n\n            func(u, v, p0);\n            vertices.push(p0.x, p0.y, p0.z);\n\n            // normal\n\n            // approximate tangent vectors via finite differences\n\n            if (u - EPS >= 0) {\n\n                func(u - EPS, v, p1);\n                pu.subVectors(p0, p1);\n\n            } else {\n\n                func(u + EPS, v, p1);\n                pu.subVectors(p1, p0);\n\n            }\n\n            if (v - EPS >= 0) {\n\n                func(u, v - EPS, p1);\n                pv.subVectors(p0, p1);\n\n            } else {\n\n                func(u, v + EPS, p1);\n                pv.subVectors(p1, p0);\n\n            }\n\n            // cross product of tangent vectors returns surface normal\n\n            normal.crossVectors(pu, pv).normalize();\n            normals.push(normal.x, normal.y, normal.z);\n\n            // uv\n\n            uvs.push(u, v);\n\n        }\n\n    }\n\n    // generate indices\n\n    for (let i = 0; i < stacks; i++) {\n\n        for (let j = 0; j < slices; j++) {\n\n            const a = i * sliceCount + j;\n            const b = i * sliceCount + j + 1;\n            const c = (i + 1) * sliceCount + j + 1;\n            const d = (i + 1) * sliceCount + j;\n\n            // faces one and two\n\n            indices.push(a, b, d);\n            indices.push(b, c, d);\n\n        }\n\n    }\n\n    // build geometry\n\n    this.setIndex(indices);\n    this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n    this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n    this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n}\n\nParametricBufferGeometry.prototype = Object.create(BufferGeometry.prototype);\nParametricBufferGeometry.prototype.constructor = ParametricBufferGeometry;\n\n/**\n * Parametric Surfaces Geometry\n * based on the brilliant article by @prideout https://prideout.net/blog/old/blog/index.html@p=44.html\n */\n\nfunction ParametricGeometry(func, slices, stacks) {\n\n    Geometry.call(this);\n\n    this.type = 'ParametricGeometry';\n\n    this.parameters = {\n        func: func,\n        slices: slices,\n        stacks: stacks\n    };\n\n    this.fromBufferGeometry(new ParametricBufferGeometry(func, slices, stacks));\n    this.mergeVertices();\n\n}\n\nParametricGeometry.prototype = Object.create(Geometry.prototype);\nParametricGeometry.prototype.constructor = ParametricGeometry;\n\nclass PlaneGeometry extends Geometry {\n\n    constructor(width, height, widthSegments, heightSegments) {\n\n        super();\n\n        this.type = 'PlaneGeometry';\n\n        this.parameters = {\n            width: width,\n            height: height,\n            widthSegments: widthSegments,\n            heightSegments: heightSegments\n        };\n\n        this.fromBufferGeometry(new PlaneBufferGeometry(width, height, widthSegments, heightSegments));\n        this.mergeVertices();\n\n    }\n\n}\n\nclass PolyhedronGeometry extends Geometry {\n\n    constructor(vertices, indices, radius, detail) {\n\n        super();\n\n        this.type = 'PolyhedronGeometry';\n\n        this.parameters = {\n            vertices: vertices,\n            indices: indices,\n            radius: radius,\n            detail: detail\n        };\n\n        this.fromBufferGeometry(new PolyhedronBufferGeometry(vertices, indices, radius, detail));\n        this.mergeVertices();\n\n    }\n\n}\n\nclass RingBufferGeometry extends BufferGeometry {\n\n    constructor(innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength) {\n\n        super();\n\n        this.type = 'RingBufferGeometry';\n\n        this.parameters = {\n            innerRadius: innerRadius,\n            outerRadius: outerRadius,\n            thetaSegments: thetaSegments,\n            phiSegments: phiSegments,\n            thetaStart: thetaStart,\n            thetaLength: thetaLength\n        };\n\n        innerRadius = innerRadius || 0.5;\n        outerRadius = outerRadius || 1;\n\n        thetaStart = thetaStart !== undefined ? thetaStart : 0;\n        thetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n        thetaSegments = thetaSegments !== undefined ? Math.max(3, thetaSegments) : 8;\n        phiSegments = phiSegments !== undefined ? Math.max(1, phiSegments) : 1;\n\n        // buffers\n\n        const indices = [];\n        const vertices = [];\n        const normals = [];\n        const uvs = [];\n\n        // some helper variables\n\n        let radius = innerRadius;\n        const radiusStep = ((outerRadius - innerRadius) / phiSegments);\n        const vertex = new Vector3();\n        const uv = new Vector2();\n\n        // generate vertices, normals and uvs\n\n        for (let j = 0; j <= phiSegments; j++) {\n\n            for (let i = 0; i <= thetaSegments; i++) {\n\n                // values are generate from the inside of the ring to the outside\n\n                const segment = thetaStart + i / thetaSegments * thetaLength;\n\n                // vertex\n\n                vertex.x = radius * Math.cos(segment);\n                vertex.y = radius * Math.sin(segment);\n\n                vertices.push(vertex.x, vertex.y, vertex.z);\n\n                // normal\n\n                normals.push(0, 0, 1);\n\n                // uv\n\n                uv.x = (vertex.x / outerRadius + 1) / 2;\n                uv.y = (vertex.y / outerRadius + 1) / 2;\n\n                uvs.push(uv.x, uv.y);\n\n            }\n\n            // increase the radius for next row of vertices\n\n            radius += radiusStep;\n\n        }\n\n        // indices\n\n        for (let j = 0; j < phiSegments; j++) {\n\n            const thetaSegmentLevel = j * (thetaSegments + 1);\n\n            for (let i = 0; i < thetaSegments; i++) {\n\n                const segment = i + thetaSegmentLevel;\n\n                const a = segment;\n                const b = segment + thetaSegments + 1;\n                const c = segment + thetaSegments + 2;\n                const d = segment + 1;\n\n                // faces\n\n                indices.push(a, b, d);\n                indices.push(b, c, d);\n\n            }\n\n        }\n\n        // build geometry\n\n        this.setIndex(indices);\n        this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n        this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n        this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n    }\n\n}\n\nclass RingGeometry extends Geometry {\n\n    constructor(innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength) {\n\n        super();\n\n        this.type = 'RingGeometry';\n\n        this.parameters = {\n            innerRadius: innerRadius,\n            outerRadius: outerRadius,\n            thetaSegments: thetaSegments,\n            phiSegments: phiSegments,\n            thetaStart: thetaStart,\n            thetaLength: thetaLength\n        };\n\n        this.fromBufferGeometry(new RingBufferGeometry(innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength));\n        this.mergeVertices();\n\n    }\n\n}\n\nclass ShapeBufferGeometry extends BufferGeometry {\n\n    constructor(shapes, curveSegments) {\n\n        super();\n        this.type = 'ShapeBufferGeometry';\n\n        this.parameters = {\n            shapes: shapes,\n            curveSegments: curveSegments\n        };\n\n        curveSegments = curveSegments || 12;\n\n        // buffers\n\n        const indices = [];\n        const vertices = [];\n        const normals = [];\n        const uvs = [];\n\n        // helper variables\n\n        let groupStart = 0;\n        let groupCount = 0;\n\n        // allow single and array values for \"shapes\" parameter\n\n        if (Array.isArray(shapes) === false) {\n\n            addShape(shapes);\n\n        } else {\n\n            for (let i = 0; i < shapes.length; i++) {\n\n                addShape(shapes[i]);\n\n                this.addGroup(groupStart, groupCount, i); // enables MultiMaterial support\n\n                groupStart += groupCount;\n                groupCount = 0;\n\n            }\n\n        }\n\n        // build geometry\n\n        this.setIndex(indices);\n        this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n        this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n        this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n\n        // helper functions\n\n        function addShape(shape) {\n\n            const indexOffset = vertices.length / 3;\n            const points = shape.extractPoints(curveSegments);\n\n            let shapeVertices = points.shape;\n            const shapeHoles = points.holes;\n\n            // check direction of vertices\n\n            if (ShapeUtils.isClockWise(shapeVertices) === false) {\n\n                shapeVertices = shapeVertices.reverse();\n\n            }\n\n            for (let i = 0, l = shapeHoles.length; i < l; i++) {\n\n                const shapeHole = shapeHoles[i];\n\n                if (ShapeUtils.isClockWise(shapeHole) === true) {\n\n                    shapeHoles[i] = shapeHole.reverse();\n\n                }\n\n            }\n\n            const faces = ShapeUtils.triangulateShape(shapeVertices, shapeHoles);\n\n            // join vertices of inner and outer paths to a single array\n\n            for (let i = 0, l = shapeHoles.length; i < l; i++) {\n\n                const shapeHole = shapeHoles[i];\n                shapeVertices = shapeVertices.concat(shapeHole);\n\n            }\n\n            // vertices, normals, uvs\n\n            for (let i = 0, l = shapeVertices.length; i < l; i++) {\n\n                const vertex = shapeVertices[i];\n\n                vertices.push(vertex.x, vertex.y, 0);\n                normals.push(0, 0, 1);\n                uvs.push(vertex.x, vertex.y); // world uvs\n\n            }\n\n            // incides\n\n            for (let i = 0, l = faces.length; i < l; i++) {\n\n                const face = faces[i];\n\n                const a = face[0] + indexOffset;\n                const b = face[1] + indexOffset;\n                const c = face[2] + indexOffset;\n\n                indices.push(a, b, c);\n                groupCount += 3;\n\n            }\n\n        }\n\n    }\n\n    toJSON() {\n\n        const data = BufferGeometry.prototype.toJSON.call(this);\n\n        const shapes = this.parameters.shapes;\n\n        return toJSON$2(shapes, data);\n\n    }\n\n}\n\nfunction toJSON$2(shapes, data) {\n\n    data.shapes = [];\n\n    if (Array.isArray(shapes)) {\n\n        for (let i = 0, l = shapes.length; i < l; i++) {\n\n            const shape = shapes[i];\n\n            data.shapes.push(shape.uuid);\n\n        }\n\n    } else {\n\n        data.shapes.push(shapes.uuid);\n\n    }\n\n    return data;\n\n}\n\nclass ShapeGeometry extends Geometry {\n\n    constructor(shapes, curveSegments) {\n\n        super();\n        this.type = 'ShapeGeometry';\n\n        if (typeof curveSegments === 'object') {\n\n            console.warn('THREE.ShapeGeometry: Options parameter has been removed.');\n\n            curveSegments = curveSegments.curveSegments;\n\n        }\n\n        this.parameters = {\n            shapes: shapes,\n            curveSegments: curveSegments\n        };\n\n        this.fromBufferGeometry(new ShapeBufferGeometry(shapes, curveSegments));\n        this.mergeVertices();\n\n    }\n\n    toJSON() {\n\n        const data = Geometry.prototype.toJSON.call(this);\n\n        const shapes = this.parameters.shapes;\n\n        return toJSON$3(shapes, data);\n\n    }\n\n}\n\nfunction toJSON$3(shapes, data) {\n\n    data.shapes = [];\n\n    if (Array.isArray(shapes)) {\n\n        for (let i = 0, l = shapes.length; i < l; i++) {\n\n            const shape = shapes[i];\n\n            data.shapes.push(shape.uuid);\n\n        }\n\n    } else {\n\n        data.shapes.push(shapes.uuid);\n\n    }\n\n    return data;\n\n}\n\nclass SphereBufferGeometry extends BufferGeometry {\n\n    constructor(radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength) {\n\n        super();\n        this.type = 'SphereBufferGeometry';\n\n        this.parameters = {\n            radius: radius,\n            widthSegments: widthSegments,\n            heightSegments: heightSegments,\n            phiStart: phiStart,\n            phiLength: phiLength,\n            thetaStart: thetaStart,\n            thetaLength: thetaLength\n        };\n\n        radius = radius || 1;\n\n        widthSegments = Math.max(3, Math.floor(widthSegments) || 8);\n        heightSegments = Math.max(2, Math.floor(heightSegments) || 6);\n\n        phiStart = phiStart !== undefined ? phiStart : 0;\n        phiLength = phiLength !== undefined ? phiLength : Math.PI * 2;\n\n        thetaStart = thetaStart !== undefined ? thetaStart : 0;\n        thetaLength = thetaLength !== undefined ? thetaLength : Math.PI;\n\n        const thetaEnd = Math.min(thetaStart + thetaLength, Math.PI);\n\n        let index = 0;\n        const grid = [];\n\n        const vertex = new Vector3();\n        const normal = new Vector3();\n\n        // buffers\n\n        const indices = [];\n        const vertices = [];\n        const normals = [];\n        const uvs = [];\n\n        // generate vertices, normals and uvs\n\n        for (let iy = 0; iy <= heightSegments; iy++) {\n\n            const verticesRow = [];\n\n            const v = iy / heightSegments;\n\n            // special case for the poles\n\n            let uOffset = 0;\n\n            if (iy == 0 && thetaStart == 0) {\n\n                uOffset = 0.5 / widthSegments;\n\n            } else if (iy == heightSegments && thetaEnd == Math.PI) {\n\n                uOffset = -0.5 / widthSegments;\n\n            }\n\n            for (let ix = 0; ix <= widthSegments; ix++) {\n\n                const u = ix / widthSegments;\n\n                // vertex\n\n                vertex.x = -radius * Math.cos(phiStart + u * phiLength) * Math.sin(thetaStart + v * thetaLength);\n                vertex.y = radius * Math.cos(thetaStart + v * thetaLength);\n                vertex.z = radius * Math.sin(phiStart + u * phiLength) * Math.sin(thetaStart + v * thetaLength);\n\n                vertices.push(vertex.x, vertex.y, vertex.z);\n\n                // normal\n\n                normal.copy(vertex).normalize();\n                normals.push(normal.x, normal.y, normal.z);\n\n                // uv\n\n                uvs.push(u + uOffset, 1 - v);\n\n                verticesRow.push(index++);\n\n            }\n\n            grid.push(verticesRow);\n\n        }\n\n        // indices\n\n        for (let iy = 0; iy < heightSegments; iy++) {\n\n            for (let ix = 0; ix < widthSegments; ix++) {\n\n                const a = grid[iy][ix + 1];\n                const b = grid[iy][ix];\n                const c = grid[iy + 1][ix];\n                const d = grid[iy + 1][ix + 1];\n\n                if (iy !== 0 || thetaStart > 0) indices.push(a, b, d);\n                if (iy !== heightSegments - 1 || thetaEnd < Math.PI) indices.push(b, c, d);\n\n            }\n\n        }\n\n        // build geometry\n\n        this.setIndex(indices);\n        this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n        this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n        this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n    }\n\n}\n\nclass SphereGeometry extends Geometry {\n\n    constructor(radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength) {\n\n        super();\n        this.type = 'SphereGeometry';\n\n        this.parameters = {\n            radius: radius,\n            widthSegments: widthSegments,\n            heightSegments: heightSegments,\n            phiStart: phiStart,\n            phiLength: phiLength,\n            thetaStart: thetaStart,\n            thetaLength: thetaLength\n        };\n\n        this.fromBufferGeometry(new SphereBufferGeometry(radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength));\n        this.mergeVertices();\n\n    }\n\n}\n\nclass TetrahedronBufferGeometry extends PolyhedronBufferGeometry {\n\n    constructor(radius, detail) {\n\n        const vertices = [\n            1, 1, 1, -1, -1, 1, -1, 1, -1, 1, -1, -1\n        ];\n\n        const indices = [\n            2, 1, 0, 0, 3, 2, 1, 3, 0, 2, 3, 1\n        ];\n\n        super(vertices, indices, radius, detail);\n\n        this.type = 'TetrahedronBufferGeometry';\n\n        this.parameters = {\n            radius: radius,\n            detail: detail\n        };\n\n    }\n\n}\n\nclass TetrahedronGeometry extends Geometry {\n\n    constructor(radius, detail) {\n\n        super();\n        this.type = 'TetrahedronGeometry';\n\n        this.parameters = {\n            radius: radius,\n            detail: detail\n        };\n\n        this.fromBufferGeometry(new TetrahedronBufferGeometry(radius, detail));\n        this.mergeVertices();\n\n    }\n\n}\n\n/**\n * Text = 3D Text\n *\n * parameters = {\n *  font: <THREE.Font>, // font\n *\n *  size: <float>, // size of the text\n *  height: <float>, // thickness to extrude text\n *  curveSegments: <int>, // number of points on the curves\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into text bevel goes\n *  bevelSize: <float>, // how far from text outline (including bevelOffset) is bevel\n *  bevelOffset: <float> // how far from text outline does bevel start\n * }\n */\n\nclass TextBufferGeometry extends ExtrudeBufferGeometry {\n\n    constructor(text, parameters) {\n\n        parameters = parameters || {};\n\n        const font = parameters.font;\n\n        if (!(font && font.isFont)) {\n\n            console.error('THREE.TextGeometry: font parameter is not an instance of THREE.Font.');\n            return new BufferGeometry();\n\n        }\n\n        const shapes = font.generateShapes(text, parameters.size);\n\n        // translate parameters to ExtrudeGeometry API\n\n        parameters.depth = parameters.height !== undefined ? parameters.height : 50;\n\n        // defaults\n\n        if (parameters.bevelThickness === undefined) parameters.bevelThickness = 10;\n        if (parameters.bevelSize === undefined) parameters.bevelSize = 8;\n        if (parameters.bevelEnabled === undefined) parameters.bevelEnabled = false;\n\n        super(shapes, parameters);\n\n        this.type = 'TextBufferGeometry';\n\n    }\n\n}\n\n/**\n * Text = 3D Text\n *\n * parameters = {\n *  font: <THREE.Font>, // font\n *\n *  size: <float>, // size of the text\n *  height: <float>, // thickness to extrude text\n *  curveSegments: <int>, // number of points on the curves\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into text bevel goes\n *  bevelSize: <float>, // how far from text outline (including bevelOffset) is bevel\n *  bevelOffset: <float> // how far from text outline does bevel start\n * }\n */\n\nclass TextGeometry extends Geometry {\n\n    constructor(text, parameters) {\n\n        super();\n        this.type = 'TextGeometry';\n\n        this.parameters = {\n            text: text,\n            parameters: parameters\n        };\n\n        this.fromBufferGeometry(new TextBufferGeometry(text, parameters));\n        this.mergeVertices();\n\n    }\n\n}\n\nclass TorusBufferGeometry extends BufferGeometry {\n\n    constructor(radius, tube, radialSegments, tubularSegments, arc) {\n\n        super();\n        this.type = 'TorusBufferGeometry';\n\n        this.parameters = {\n            radius: radius,\n            tube: tube,\n            radialSegments: radialSegments,\n            tubularSegments: tubularSegments,\n            arc: arc\n        };\n\n        radius = radius || 1;\n        tube = tube || 0.4;\n        radialSegments = Math.floor(radialSegments) || 8;\n        tubularSegments = Math.floor(tubularSegments) || 6;\n        arc = arc || Math.PI * 2;\n\n        // buffers\n\n        const indices = [];\n        const vertices = [];\n        const normals = [];\n        const uvs = [];\n\n        // helper variables\n\n        const center = new Vector3();\n        const vertex = new Vector3();\n        const normal = new Vector3();\n\n        // generate vertices, normals and uvs\n\n        for (let j = 0; j <= radialSegments; j++) {\n\n            for (let i = 0; i <= tubularSegments; i++) {\n\n                const u = i / tubularSegments * arc;\n                const v = j / radialSegments * Math.PI * 2;\n\n                // vertex\n\n                vertex.x = (radius + tube * Math.cos(v)) * Math.cos(u);\n                vertex.y = (radius + tube * Math.cos(v)) * Math.sin(u);\n                vertex.z = tube * Math.sin(v);\n\n                vertices.push(vertex.x, vertex.y, vertex.z);\n\n                // normal\n\n                center.x = radius * Math.cos(u);\n                center.y = radius * Math.sin(u);\n                normal.subVectors(vertex, center).normalize();\n\n                normals.push(normal.x, normal.y, normal.z);\n\n                // uv\n\n                uvs.push(i / tubularSegments);\n                uvs.push(j / radialSegments);\n\n            }\n\n        }\n\n        // generate indices\n\n        for (let j = 1; j <= radialSegments; j++) {\n\n            for (let i = 1; i <= tubularSegments; i++) {\n\n                // indices\n\n                const a = (tubularSegments + 1) * j + i - 1;\n                const b = (tubularSegments + 1) * (j - 1) + i - 1;\n                const c = (tubularSegments + 1) * (j - 1) + i;\n                const d = (tubularSegments + 1) * j + i;\n\n                // faces\n\n                indices.push(a, b, d);\n                indices.push(b, c, d);\n\n            }\n\n        }\n\n        // build geometry\n\n        this.setIndex(indices);\n        this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n        this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n        this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n    }\n\n}\n\nclass TorusGeometry extends Geometry {\n\n    constructor(radius, tube, radialSegments, tubularSegments, arc) {\n\n        super();\n        this.type = 'TorusGeometry';\n\n        this.parameters = {\n            radius: radius,\n            tube: tube,\n            radialSegments: radialSegments,\n            tubularSegments: tubularSegments,\n            arc: arc\n        };\n\n        this.fromBufferGeometry(new TorusBufferGeometry(radius, tube, radialSegments, tubularSegments, arc));\n        this.mergeVertices();\n\n    }\n\n}\n\nclass TorusKnotBufferGeometry extends BufferGeometry {\n\n    constructor(radius, tube, tubularSegments, radialSegments, p, q) {\n\n        super();\n        this.type = 'TorusKnotBufferGeometry';\n\n        this.parameters = {\n            radius: radius,\n            tube: tube,\n            tubularSegments: tubularSegments,\n            radialSegments: radialSegments,\n            p: p,\n            q: q\n        };\n\n        radius = radius || 1;\n        tube = tube || 0.4;\n        tubularSegments = Math.floor(tubularSegments) || 64;\n        radialSegments = Math.floor(radialSegments) || 8;\n        p = p || 2;\n        q = q || 3;\n\n        // buffers\n\n        const indices = [];\n        const vertices = [];\n        const normals = [];\n        const uvs = [];\n\n        // helper variables\n\n        const vertex = new Vector3();\n        const normal = new Vector3();\n\n        const P1 = new Vector3();\n        const P2 = new Vector3();\n\n        const B = new Vector3();\n        const T = new Vector3();\n        const N = new Vector3();\n\n        // generate vertices, normals and uvs\n\n        for (let i = 0; i <= tubularSegments; ++i) {\n\n            // the radian \"u\" is used to calculate the position on the torus curve of the current tubular segement\n\n            const u = i / tubularSegments * p * Math.PI * 2;\n\n            // now we calculate two points. P1 is our current position on the curve, P2 is a little farther ahead.\n            // these points are used to create a special \"coordinate space\", which is necessary to calculate the correct vertex positions\n\n            calculatePositionOnCurve(u, p, q, radius, P1);\n            calculatePositionOnCurve(u + 0.01, p, q, radius, P2);\n\n            // calculate orthonormal basis\n\n            T.subVectors(P2, P1);\n            N.addVectors(P2, P1);\n            B.crossVectors(T, N);\n            N.crossVectors(B, T);\n\n            // normalize B, N. T can be ignored, we don't use it\n\n            B.normalize();\n            N.normalize();\n\n            for (let j = 0; j <= radialSegments; ++j) {\n\n                // now calculate the vertices. they are nothing more than an extrusion of the torus curve.\n                // because we extrude a shape in the xy-plane, there is no need to calculate a z-value.\n\n                const v = j / radialSegments * Math.PI * 2;\n                const cx = -tube * Math.cos(v);\n                const cy = tube * Math.sin(v);\n\n                // now calculate the final vertex position.\n                // first we orient the extrusion with our basis vectos, then we add it to the current position on the curve\n\n                vertex.x = P1.x + (cx * N.x + cy * B.x);\n                vertex.y = P1.y + (cx * N.y + cy * B.y);\n                vertex.z = P1.z + (cx * N.z + cy * B.z);\n\n                vertices.push(vertex.x, vertex.y, vertex.z);\n\n                // normal (P1 is always the center/origin of the extrusion, thus we can use it to calculate the normal)\n\n                normal.subVectors(vertex, P1).normalize();\n\n                normals.push(normal.x, normal.y, normal.z);\n\n                // uv\n\n                uvs.push(i / tubularSegments);\n                uvs.push(j / radialSegments);\n\n            }\n\n        }\n\n        // generate indices\n\n        for (let j = 1; j <= tubularSegments; j++) {\n\n            for (let i = 1; i <= radialSegments; i++) {\n\n                // indices\n\n                const a = (radialSegments + 1) * (j - 1) + (i - 1);\n                const b = (radialSegments + 1) * j + (i - 1);\n                const c = (radialSegments + 1) * j + i;\n                const d = (radialSegments + 1) * (j - 1) + i;\n\n                // faces\n\n                indices.push(a, b, d);\n                indices.push(b, c, d);\n\n            }\n\n        }\n\n        // build geometry\n\n        this.setIndex(indices);\n        this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n        this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n        this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n        // this function calculates the current position on the torus curve\n\n        function calculatePositionOnCurve(u, p, q, radius, position) {\n\n            const cu = Math.cos(u);\n            const su = Math.sin(u);\n            const quOverP = q / p * u;\n            const cs = Math.cos(quOverP);\n\n            position.x = radius * (2 + cs) * 0.5 * cu;\n            position.y = radius * (2 + cs) * su * 0.5;\n            position.z = radius * Math.sin(quOverP) * 0.5;\n\n        }\n\n    }\n\n}\n\nclass TorusKnotGeometry extends Geometry {\n\n    constructor(radius, tube, tubularSegments, radialSegments, p, q, heightScale) {\n\n        super();\n        this.type = 'TorusKnotGeometry';\n\n        this.parameters = {\n            radius: radius,\n            tube: tube,\n            tubularSegments: tubularSegments,\n            radialSegments: radialSegments,\n            p: p,\n            q: q\n        };\n\n        if (heightScale !== undefined) console.warn('THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.');\n\n        this.fromBufferGeometry(new TorusKnotBufferGeometry(radius, tube, tubularSegments, radialSegments, p, q));\n        this.mergeVertices();\n\n    }\n\n}\n\nclass TubeBufferGeometry extends BufferGeometry {\n\n    constructor(path, tubularSegments, radius, radialSegments, closed) {\n\n        super();\n        this.type = 'TubeBufferGeometry';\n\n        this.parameters = {\n            path: path,\n            tubularSegments: tubularSegments,\n            radius: radius,\n            radialSegments: radialSegments,\n            closed: closed\n        };\n\n        tubularSegments = tubularSegments || 64;\n        radius = radius || 1;\n        radialSegments = radialSegments || 8;\n        closed = closed || false;\n\n        const frames = path.computeFrenetFrames(tubularSegments, closed);\n\n        // expose internals\n\n        this.tangents = frames.tangents;\n        this.normals = frames.normals;\n        this.binormals = frames.binormals;\n\n        // helper variables\n\n        const vertex = new Vector3();\n        const normal = new Vector3();\n        const uv = new Vector2();\n        let P = new Vector3();\n\n        // buffer\n\n        const vertices = [];\n        const normals = [];\n        const uvs = [];\n        const indices = [];\n\n        // create buffer data\n\n        generateBufferData();\n\n        // build geometry\n\n        this.setIndex(indices);\n        this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n        this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n        this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n        // functions\n\n        function generateBufferData() {\n\n            for (let i = 0; i < tubularSegments; i++) {\n\n                generateSegment(i);\n\n            }\n\n            // if the geometry is not closed, generate the last row of vertices and normals\n            // at the regular position on the given path\n            //\n            // if the geometry is closed, duplicate the first row of vertices and normals (uvs will differ)\n\n            generateSegment((closed === false) ? tubularSegments : 0);\n\n            // uvs are generated in a separate function.\n            // this makes it easy compute correct values for closed geometries\n\n            generateUVs();\n\n            // finally create faces\n\n            generateIndices();\n\n        }\n\n        function generateSegment(i) {\n\n            // we use getPointAt to sample evenly distributed points from the given path\n\n            P = path.getPointAt(i / tubularSegments, P);\n\n            // retrieve corresponding normal and binormal\n\n            const N = frames.normals[i];\n            const B = frames.binormals[i];\n\n            // generate normals and vertices for the current segment\n\n            for (let j = 0; j <= radialSegments; j++) {\n\n                const v = j / radialSegments * Math.PI * 2;\n\n                const sin = Math.sin(v);\n                const cos = -Math.cos(v);\n\n                // normal\n\n                normal.x = (cos * N.x + sin * B.x);\n                normal.y = (cos * N.y + sin * B.y);\n                normal.z = (cos * N.z + sin * B.z);\n                normal.normalize();\n\n                normals.push(normal.x, normal.y, normal.z);\n\n                // vertex\n\n                vertex.x = P.x + radius * normal.x;\n                vertex.y = P.y + radius * normal.y;\n                vertex.z = P.z + radius * normal.z;\n\n                vertices.push(vertex.x, vertex.y, vertex.z);\n\n            }\n\n        }\n\n        function generateIndices() {\n\n            for (let j = 1; j <= tubularSegments; j++) {\n\n                for (let i = 1; i <= radialSegments; i++) {\n\n                    const a = (radialSegments + 1) * (j - 1) + (i - 1);\n                    const b = (radialSegments + 1) * j + (i - 1);\n                    const c = (radialSegments + 1) * j + i;\n                    const d = (radialSegments + 1) * (j - 1) + i;\n\n                    // faces\n\n                    indices.push(a, b, d);\n                    indices.push(b, c, d);\n\n                }\n\n            }\n\n        }\n\n        function generateUVs() {\n\n            for (let i = 0; i <= tubularSegments; i++) {\n\n                for (let j = 0; j <= radialSegments; j++) {\n\n                    uv.x = i / tubularSegments;\n                    uv.y = j / radialSegments;\n\n                    uvs.push(uv.x, uv.y);\n\n                }\n\n            }\n\n        }\n\n    }\n    toJSON() {\n\n        const data = BufferGeometry.prototype.toJSON.call(this);\n\n        data.path = this.parameters.path.toJSON();\n\n        return data;\n\n    }\n\n}\n\nclass TubeGeometry extends Geometry {\n\n    constructor(path, tubularSegments, radius, radialSegments, closed, taper) {\n\n        super();\n        this.type = 'TubeGeometry';\n\n        this.parameters = {\n            path: path,\n            tubularSegments: tubularSegments,\n            radius: radius,\n            radialSegments: radialSegments,\n            closed: closed\n        };\n\n        if (taper !== undefined) console.warn('THREE.TubeGeometry: taper has been removed.');\n\n        const bufferGeometry = new TubeBufferGeometry(path, tubularSegments, radius, radialSegments, closed);\n\n        // expose internals\n\n        this.tangents = bufferGeometry.tangents;\n        this.normals = bufferGeometry.normals;\n        this.binormals = bufferGeometry.binormals;\n\n        // create geometry\n\n        this.fromBufferGeometry(bufferGeometry);\n        this.mergeVertices();\n\n    }\n\n}\n\nclass WireframeGeometry extends BufferGeometry {\n\n    constructor(geometry) {\n\n        super();\n        this.type = 'WireframeGeometry';\n\n        // buffer\n\n        const vertices = [];\n\n        // helper variables\n\n        const edge = [0, 0],\n            edges = {};\n        const keys = ['a', 'b', 'c'];\n\n        // different logic for Geometry and BufferGeometry\n\n        if (geometry && geometry.isGeometry) {\n\n            // create a data structure that contains all edges without duplicates\n\n            const faces = geometry.faces;\n\n            for (let i = 0, l = faces.length; i < l; i++) {\n\n                const face = faces[i];\n\n                for (let j = 0; j < 3; j++) {\n\n                    const edge1 = face[keys[j]];\n                    const edge2 = face[keys[(j + 1) % 3]];\n                    edge[0] = Math.min(edge1, edge2); // sorting prevents duplicates\n                    edge[1] = Math.max(edge1, edge2);\n\n                    const key = edge[0] + ',' + edge[1];\n\n                    if (edges[key] === undefined) {\n\n                        edges[key] = {\n                            index1: edge[0],\n                            index2: edge[1]\n                        };\n\n                    }\n\n                }\n\n            }\n\n            // generate vertices\n\n            for (const key in edges) {\n\n                const e = edges[key];\n\n                let vertex = geometry.vertices[e.index1];\n                vertices.push(vertex.x, vertex.y, vertex.z);\n\n                vertex = geometry.vertices[e.index2];\n                vertices.push(vertex.x, vertex.y, vertex.z);\n\n            }\n\n        } else if (geometry && geometry.isBufferGeometry) {\n\n            const vertex = new Vector3();\n\n            if (geometry.index !== null) {\n\n                // indexed BufferGeometry\n\n                const position = geometry.attributes.position;\n                const indices = geometry.index;\n                let groups = geometry.groups;\n\n                if (groups.length === 0) {\n\n                    groups = [{\n                        start: 0,\n                        count: indices.count,\n                        materialIndex: 0\n                    }];\n\n                }\n\n                // create a data structure that contains all eges without duplicates\n\n                for (let o = 0, ol = groups.length; o < ol; ++o) {\n\n                    const group = groups[o];\n\n                    const start = group.start;\n                    const count = group.count;\n\n                    for (let i = start, l = (start + count); i < l; i += 3) {\n\n                        for (let j = 0; j < 3; j++) {\n\n                            const edge1 = indices.getX(i + j);\n                            const edge2 = indices.getX(i + (j + 1) % 3);\n                            edge[0] = Math.min(edge1, edge2); // sorting prevents duplicates\n                            edge[1] = Math.max(edge1, edge2);\n\n                            const key = edge[0] + ',' + edge[1];\n\n                            if (edges[key] === undefined) {\n\n                                edges[key] = {\n                                    index1: edge[0],\n                                    index2: edge[1]\n                                };\n\n                            }\n\n                        }\n\n                    }\n\n                }\n\n                // generate vertices\n\n                for (const key in edges) {\n\n                    const e = edges[key];\n\n                    vertex.fromBufferAttribute(position, e.index1);\n                    vertices.push(vertex.x, vertex.y, vertex.z);\n\n                    vertex.fromBufferAttribute(position, e.index2);\n                    vertices.push(vertex.x, vertex.y, vertex.z);\n\n                }\n\n            } else {\n\n                // non-indexed BufferGeometry\n\n                const position = geometry.attributes.position;\n\n                for (let i = 0, l = (position.count / 3); i < l; i++) {\n\n                    for (let j = 0; j < 3; j++) {\n\n                        // three edges per triangle, an edge is represented as (index1, index2)\n                        // e.g. the first triangle has the following edges: (0,1),(1,2),(2,0)\n\n                        const index1 = 3 * i + j;\n                        vertex.fromBufferAttribute(position, index1);\n                        vertices.push(vertex.x, vertex.y, vertex.z);\n\n                        const index2 = 3 * i + ((j + 1) % 3);\n                        vertex.fromBufferAttribute(position, index2);\n                        vertices.push(vertex.x, vertex.y, vertex.z);\n\n                    }\n\n                }\n\n            }\n\n        }\n\n        // build geometry\n\n        this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\n    }\n\n}\n\nvar Geometries = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    BoxGeometry: BoxGeometry,\n    BoxBufferGeometry: BoxBufferGeometry,\n    CircleGeometry: CircleGeometry,\n    CircleBufferGeometry: CircleBufferGeometry,\n    ConeGeometry: ConeGeometry,\n    ConeBufferGeometry: ConeBufferGeometry,\n    CylinderGeometry: CylinderGeometry,\n    CylinderBufferGeometry: CylinderBufferGeometry,\n    DodecahedronGeometry: DodecahedronGeometry,\n    DodecahedronBufferGeometry: DodecahedronBufferGeometry,\n    EdgesGeometry: EdgesGeometry,\n    ExtrudeGeometry: ExtrudeGeometry,\n    ExtrudeBufferGeometry: ExtrudeBufferGeometry,\n    IcosahedronGeometry: IcosahedronGeometry,\n    IcosahedronBufferGeometry: IcosahedronBufferGeometry,\n    LatheGeometry: LatheGeometry,\n    LatheBufferGeometry: LatheBufferGeometry,\n    OctahedronGeometry: OctahedronGeometry,\n    OctahedronBufferGeometry: OctahedronBufferGeometry,\n    ParametricGeometry: ParametricGeometry,\n    ParametricBufferGeometry: ParametricBufferGeometry,\n    PlaneGeometry: PlaneGeometry,\n    PlaneBufferGeometry: PlaneBufferGeometry,\n    PolyhedronGeometry: PolyhedronGeometry,\n    PolyhedronBufferGeometry: PolyhedronBufferGeometry,\n    RingGeometry: RingGeometry,\n    RingBufferGeometry: RingBufferGeometry,\n    ShapeGeometry: ShapeGeometry,\n    ShapeBufferGeometry: ShapeBufferGeometry,\n    SphereGeometry: SphereGeometry,\n    SphereBufferGeometry: SphereBufferGeometry,\n    TetrahedronGeometry: TetrahedronGeometry,\n    TetrahedronBufferGeometry: TetrahedronBufferGeometry,\n    TextGeometry: TextGeometry,\n    TextBufferGeometry: TextBufferGeometry,\n    TorusGeometry: TorusGeometry,\n    TorusBufferGeometry: TorusBufferGeometry,\n    TorusKnotGeometry: TorusKnotGeometry,\n    TorusKnotBufferGeometry: TorusKnotBufferGeometry,\n    TubeGeometry: TubeGeometry,\n    TubeBufferGeometry: TubeBufferGeometry,\n    WireframeGeometry: WireframeGeometry\n});\n\n/**\n * parameters = {\n *  color: <THREE.Color>\n * }\n */\n\nfunction ShadowMaterial(parameters) {\n\n    Material.call(this);\n\n    this.type = 'ShadowMaterial';\n\n    this.color = new Color(0x000000);\n    this.transparent = true;\n\n    this.setValues(parameters);\n\n}\n\nShadowMaterial.prototype = Object.create(Material.prototype);\nShadowMaterial.prototype.constructor = ShadowMaterial;\n\nShadowMaterial.prototype.isShadowMaterial = true;\n\nShadowMaterial.prototype.copy = function(source) {\n\n    Material.prototype.copy.call(this, source);\n\n    this.color.copy(source.color);\n\n    return this;\n\n};\n\nfunction RawShaderMaterial(parameters) {\n\n    ShaderMaterial.call(this, parameters);\n\n    this.type = 'RawShaderMaterial';\n\n}\n\nRawShaderMaterial.prototype = Object.create(ShaderMaterial.prototype);\nRawShaderMaterial.prototype.constructor = RawShaderMaterial;\n\nRawShaderMaterial.prototype.isRawShaderMaterial = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  roughness: <float>,\n *  metalness: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  roughnessMap: new THREE.Texture( <Image> ),\n *\n *  metalnessMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  envMapIntensity: <float>\n *\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshStandardMaterial(parameters) {\n\n    Material.call(this);\n\n    this.defines = {\n        'STANDARD': ''\n    };\n\n    this.type = 'MeshStandardMaterial';\n\n    this.color = new Color(0xffffff); // diffuse\n    this.roughness = 1.0;\n    this.metalness = 0.0;\n\n    this.map = null;\n\n    this.lightMap = null;\n    this.lightMapIntensity = 1.0;\n\n    this.aoMap = null;\n    this.aoMapIntensity = 1.0;\n\n    this.emissive = new Color(0x000000);\n    this.emissiveIntensity = 1.0;\n    this.emissiveMap = null;\n\n    this.bumpMap = null;\n    this.bumpScale = 1;\n\n    this.normalMap = null;\n    this.normalMapType = TangentSpaceNormalMap;\n    this.normalScale = new Vector2(1, 1);\n\n    this.displacementMap = null;\n    this.displacementScale = 1;\n    this.displacementBias = 0;\n\n    this.roughnessMap = null;\n\n    this.metalnessMap = null;\n\n    this.alphaMap = null;\n\n    this.envMap = null;\n    this.envMapIntensity = 1.0;\n\n    this.refractionRatio = 0.98;\n\n    this.wireframe = false;\n    this.wireframeLinewidth = 1;\n    this.wireframeLinecap = 'round';\n    this.wireframeLinejoin = 'round';\n\n    this.skinning = false;\n    this.morphTargets = false;\n    this.morphNormals = false;\n\n    this.vertexTangents = false;\n\n    this.setValues(parameters);\n\n}\n\nMeshStandardMaterial.prototype = Object.create(Material.prototype);\nMeshStandardMaterial.prototype.constructor = MeshStandardMaterial;\n\nMeshStandardMaterial.prototype.isMeshStandardMaterial = true;\n\nMeshStandardMaterial.prototype.copy = function(source) {\n\n    Material.prototype.copy.call(this, source);\n\n    this.defines = {\n        'STANDARD': ''\n    };\n\n    this.color.copy(source.color);\n    this.roughness = source.roughness;\n    this.metalness = source.metalness;\n\n    this.map = source.map;\n\n    this.lightMap = source.lightMap;\n    this.lightMapIntensity = source.lightMapIntensity;\n\n    this.aoMap = source.aoMap;\n    this.aoMapIntensity = source.aoMapIntensity;\n\n    this.emissive.copy(source.emissive);\n    this.emissiveMap = source.emissiveMap;\n    this.emissiveIntensity = source.emissiveIntensity;\n\n    this.bumpMap = source.bumpMap;\n    this.bumpScale = source.bumpScale;\n\n    this.normalMap = source.normalMap;\n    this.normalMapType = source.normalMapType;\n    this.normalScale.copy(source.normalScale);\n\n    this.displacementMap = source.displacementMap;\n    this.displacementScale = source.displacementScale;\n    this.displacementBias = source.displacementBias;\n\n    this.roughnessMap = source.roughnessMap;\n\n    this.metalnessMap = source.metalnessMap;\n\n    this.alphaMap = source.alphaMap;\n\n    this.envMap = source.envMap;\n    this.envMapIntensity = source.envMapIntensity;\n\n    this.refractionRatio = source.refractionRatio;\n\n    this.wireframe = source.wireframe;\n    this.wireframeLinewidth = source.wireframeLinewidth;\n    this.wireframeLinecap = source.wireframeLinecap;\n    this.wireframeLinejoin = source.wireframeLinejoin;\n\n    this.skinning = source.skinning;\n    this.morphTargets = source.morphTargets;\n    this.morphNormals = source.morphNormals;\n\n    this.vertexTangents = source.vertexTangents;\n\n    return this;\n\n};\n\n/**\n * parameters = {\n *  clearcoat: <float>,\n *  clearcoatMap: new THREE.Texture( <Image> ),\n *  clearcoatRoughness: <float>,\n *  clearcoatRoughnessMap: new THREE.Texture( <Image> ),\n *  clearcoatNormalScale: <Vector2>,\n *  clearcoatNormalMap: new THREE.Texture( <Image> ),\n *\n *  reflectivity: <float>,\n *  ior: <float>,\n *\n *  sheen: <Color>,\n *\n *  transmission: <float>,\n *  transmissionMap: new THREE.Texture( <Image> )\n * }\n */\n\nfunction MeshPhysicalMaterial(parameters) {\n\n    MeshStandardMaterial.call(this);\n\n    this.defines = {\n\n        'STANDARD': '',\n        'PHYSICAL': ''\n\n    };\n\n    this.type = 'MeshPhysicalMaterial';\n\n    this.clearcoat = 0.0;\n    this.clearcoatMap = null;\n    this.clearcoatRoughness = 0.0;\n    this.clearcoatRoughnessMap = null;\n    this.clearcoatNormalScale = new Vector2(1, 1);\n    this.clearcoatNormalMap = null;\n\n    this.reflectivity = 0.5; // maps to F0 = 0.04\n\n    Object.defineProperty(this, 'ior', {\n        get: function() {\n\n            return (1 + 0.4 * this.reflectivity) / (1 - 0.4 * this.reflectivity);\n\n        },\n        set: function(ior) {\n\n            this.reflectivity = MathUtils.clamp(2.5 * (ior - 1) / (ior + 1), 0, 1);\n\n        }\n    });\n\n    this.sheen = null; // null will disable sheen bsdf\n\n    this.transmission = 0.0;\n    this.transmissionMap = null;\n\n    this.setValues(parameters);\n\n}\n\nMeshPhysicalMaterial.prototype = Object.create(MeshStandardMaterial.prototype);\nMeshPhysicalMaterial.prototype.constructor = MeshPhysicalMaterial;\n\nMeshPhysicalMaterial.prototype.isMeshPhysicalMaterial = true;\n\nMeshPhysicalMaterial.prototype.copy = function(source) {\n\n    MeshStandardMaterial.prototype.copy.call(this, source);\n\n    this.defines = {\n\n        'STANDARD': '',\n        'PHYSICAL': ''\n\n    };\n\n    this.clearcoat = source.clearcoat;\n    this.clearcoatMap = source.clearcoatMap;\n    this.clearcoatRoughness = source.clearcoatRoughness;\n    this.clearcoatRoughnessMap = source.clearcoatRoughnessMap;\n    this.clearcoatNormalMap = source.clearcoatNormalMap;\n    this.clearcoatNormalScale.copy(source.clearcoatNormalScale);\n\n    this.reflectivity = source.reflectivity;\n\n    if (source.sheen) {\n\n        this.sheen = (this.sheen || new Color()).copy(source.sheen);\n\n    } else {\n\n        this.sheen = null;\n\n    }\n\n    this.transmission = source.transmission;\n    this.transmissionMap = source.transmissionMap;\n\n    return this;\n\n};\n\n/**\n * parameters = {\n *  color: <hex>,\n *  specular: <hex>,\n *  shininess: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.MultiplyOperation,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshPhongMaterial(parameters) {\n\n    Material.call(this);\n\n    this.type = 'MeshPhongMaterial';\n\n    this.color = new Color(0xffffff); // diffuse\n    this.specular = new Color(0x111111);\n    this.shininess = 30;\n\n    this.map = null;\n\n    this.lightMap = null;\n    this.lightMapIntensity = 1.0;\n\n    this.aoMap = null;\n    this.aoMapIntensity = 1.0;\n\n    this.emissive = new Color(0x000000);\n    this.emissiveIntensity = 1.0;\n    this.emissiveMap = null;\n\n    this.bumpMap = null;\n    this.bumpScale = 1;\n\n    this.normalMap = null;\n    this.normalMapType = TangentSpaceNormalMap;\n    this.normalScale = new Vector2(1, 1);\n\n    this.displacementMap = null;\n    this.displacementScale = 1;\n    this.displacementBias = 0;\n\n    this.specularMap = null;\n\n    this.alphaMap = null;\n\n    this.envMap = null;\n    this.combine = MultiplyOperation;\n    this.reflectivity = 1;\n    this.refractionRatio = 0.98;\n\n    this.wireframe = false;\n    this.wireframeLinewidth = 1;\n    this.wireframeLinecap = 'round';\n    this.wireframeLinejoin = 'round';\n\n    this.skinning = false;\n    this.morphTargets = false;\n    this.morphNormals = false;\n\n    this.setValues(parameters);\n\n}\n\nMeshPhongMaterial.prototype = Object.create(Material.prototype);\nMeshPhongMaterial.prototype.constructor = MeshPhongMaterial;\n\nMeshPhongMaterial.prototype.isMeshPhongMaterial = true;\n\nMeshPhongMaterial.prototype.copy = function(source) {\n\n    Material.prototype.copy.call(this, source);\n\n    this.color.copy(source.color);\n    this.specular.copy(source.specular);\n    this.shininess = source.shininess;\n\n    this.map = source.map;\n\n    this.lightMap = source.lightMap;\n    this.lightMapIntensity = source.lightMapIntensity;\n\n    this.aoMap = source.aoMap;\n    this.aoMapIntensity = source.aoMapIntensity;\n\n    this.emissive.copy(source.emissive);\n    this.emissiveMap = source.emissiveMap;\n    this.emissiveIntensity = source.emissiveIntensity;\n\n    this.bumpMap = source.bumpMap;\n    this.bumpScale = source.bumpScale;\n\n    this.normalMap = source.normalMap;\n    this.normalMapType = source.normalMapType;\n    this.normalScale.copy(source.normalScale);\n\n    this.displacementMap = source.displacementMap;\n    this.displacementScale = source.displacementScale;\n    this.displacementBias = source.displacementBias;\n\n    this.specularMap = source.specularMap;\n\n    this.alphaMap = source.alphaMap;\n\n    this.envMap = source.envMap;\n    this.combine = source.combine;\n    this.reflectivity = source.reflectivity;\n    this.refractionRatio = source.refractionRatio;\n\n    this.wireframe = source.wireframe;\n    this.wireframeLinewidth = source.wireframeLinewidth;\n    this.wireframeLinecap = source.wireframeLinecap;\n    this.wireframeLinejoin = source.wireframeLinejoin;\n\n    this.skinning = source.skinning;\n    this.morphTargets = source.morphTargets;\n    this.morphNormals = source.morphNormals;\n\n    return this;\n\n};\n\n/**\n * parameters = {\n *  color: <hex>,\n *\n *  map: new THREE.Texture( <Image> ),\n *  gradientMap: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshToonMaterial(parameters) {\n\n    Material.call(this);\n\n    this.defines = {\n        'TOON': ''\n    };\n\n    this.type = 'MeshToonMaterial';\n\n    this.color = new Color(0xffffff);\n\n    this.map = null;\n    this.gradientMap = null;\n\n    this.lightMap = null;\n    this.lightMapIntensity = 1.0;\n\n    this.aoMap = null;\n    this.aoMapIntensity = 1.0;\n\n    this.emissive = new Color(0x000000);\n    this.emissiveIntensity = 1.0;\n    this.emissiveMap = null;\n\n    this.bumpMap = null;\n    this.bumpScale = 1;\n\n    this.normalMap = null;\n    this.normalMapType = TangentSpaceNormalMap;\n    this.normalScale = new Vector2(1, 1);\n\n    this.displacementMap = null;\n    this.displacementScale = 1;\n    this.displacementBias = 0;\n\n    this.alphaMap = null;\n\n    this.wireframe = false;\n    this.wireframeLinewidth = 1;\n    this.wireframeLinecap = 'round';\n    this.wireframeLinejoin = 'round';\n\n    this.skinning = false;\n    this.morphTargets = false;\n    this.morphNormals = false;\n\n    this.setValues(parameters);\n\n}\n\nMeshToonMaterial.prototype = Object.create(Material.prototype);\nMeshToonMaterial.prototype.constructor = MeshToonMaterial;\n\nMeshToonMaterial.prototype.isMeshToonMaterial = true;\n\nMeshToonMaterial.prototype.copy = function(source) {\n\n    Material.prototype.copy.call(this, source);\n\n    this.color.copy(source.color);\n\n    this.map = source.map;\n    this.gradientMap = source.gradientMap;\n\n    this.lightMap = source.lightMap;\n    this.lightMapIntensity = source.lightMapIntensity;\n\n    this.aoMap = source.aoMap;\n    this.aoMapIntensity = source.aoMapIntensity;\n\n    this.emissive.copy(source.emissive);\n    this.emissiveMap = source.emissiveMap;\n    this.emissiveIntensity = source.emissiveIntensity;\n\n    this.bumpMap = source.bumpMap;\n    this.bumpScale = source.bumpScale;\n\n    this.normalMap = source.normalMap;\n    this.normalMapType = source.normalMapType;\n    this.normalScale.copy(source.normalScale);\n\n    this.displacementMap = source.displacementMap;\n    this.displacementScale = source.displacementScale;\n    this.displacementBias = source.displacementBias;\n\n    this.alphaMap = source.alphaMap;\n\n    this.wireframe = source.wireframe;\n    this.wireframeLinewidth = source.wireframeLinewidth;\n    this.wireframeLinecap = source.wireframeLinecap;\n    this.wireframeLinejoin = source.wireframeLinejoin;\n\n    this.skinning = source.skinning;\n    this.morphTargets = source.morphTargets;\n    this.morphNormals = source.morphNormals;\n\n    return this;\n\n};\n\n/**\n * parameters = {\n *  opacity: <float>,\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshNormalMaterial(parameters) {\n\n    Material.call(this);\n\n    this.type = 'MeshNormalMaterial';\n\n    this.bumpMap = null;\n    this.bumpScale = 1;\n\n    this.normalMap = null;\n    this.normalMapType = TangentSpaceNormalMap;\n    this.normalScale = new Vector2(1, 1);\n\n    this.displacementMap = null;\n    this.displacementScale = 1;\n    this.displacementBias = 0;\n\n    this.wireframe = false;\n    this.wireframeLinewidth = 1;\n\n    this.fog = false;\n\n    this.skinning = false;\n    this.morphTargets = false;\n    this.morphNormals = false;\n\n    this.setValues(parameters);\n\n}\n\nMeshNormalMaterial.prototype = Object.create(Material.prototype);\nMeshNormalMaterial.prototype.constructor = MeshNormalMaterial;\n\nMeshNormalMaterial.prototype.isMeshNormalMaterial = true;\n\nMeshNormalMaterial.prototype.copy = function(source) {\n\n    Material.prototype.copy.call(this, source);\n\n    this.bumpMap = source.bumpMap;\n    this.bumpScale = source.bumpScale;\n\n    this.normalMap = source.normalMap;\n    this.normalMapType = source.normalMapType;\n    this.normalScale.copy(source.normalScale);\n\n    this.displacementMap = source.displacementMap;\n    this.displacementScale = source.displacementScale;\n    this.displacementBias = source.displacementBias;\n\n    this.wireframe = source.wireframe;\n    this.wireframeLinewidth = source.wireframeLinewidth;\n\n    this.skinning = source.skinning;\n    this.morphTargets = source.morphTargets;\n    this.morphNormals = source.morphNormals;\n\n    return this;\n\n};\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshLambertMaterial(parameters) {\n\n    Material.call(this);\n\n    this.type = 'MeshLambertMaterial';\n\n    this.color = new Color(0xffffff); // diffuse\n\n    this.map = null;\n\n    this.lightMap = null;\n    this.lightMapIntensity = 1.0;\n\n    this.aoMap = null;\n    this.aoMapIntensity = 1.0;\n\n    this.emissive = new Color(0x000000);\n    this.emissiveIntensity = 1.0;\n    this.emissiveMap = null;\n\n    this.specularMap = null;\n\n    this.alphaMap = null;\n\n    this.envMap = null;\n    this.combine = MultiplyOperation;\n    this.reflectivity = 1;\n    this.refractionRatio = 0.98;\n\n    this.wireframe = false;\n    this.wireframeLinewidth = 1;\n    this.wireframeLinecap = 'round';\n    this.wireframeLinejoin = 'round';\n\n    this.skinning = false;\n    this.morphTargets = false;\n    this.morphNormals = false;\n\n    this.setValues(parameters);\n\n}\n\nMeshLambertMaterial.prototype = Object.create(Material.prototype);\nMeshLambertMaterial.prototype.constructor = MeshLambertMaterial;\n\nMeshLambertMaterial.prototype.isMeshLambertMaterial = true;\n\nMeshLambertMaterial.prototype.copy = function(source) {\n\n    Material.prototype.copy.call(this, source);\n\n    this.color.copy(source.color);\n\n    this.map = source.map;\n\n    this.lightMap = source.lightMap;\n    this.lightMapIntensity = source.lightMapIntensity;\n\n    this.aoMap = source.aoMap;\n    this.aoMapIntensity = source.aoMapIntensity;\n\n    this.emissive.copy(source.emissive);\n    this.emissiveMap = source.emissiveMap;\n    this.emissiveIntensity = source.emissiveIntensity;\n\n    this.specularMap = source.specularMap;\n\n    this.alphaMap = source.alphaMap;\n\n    this.envMap = source.envMap;\n    this.combine = source.combine;\n    this.reflectivity = source.reflectivity;\n    this.refractionRatio = source.refractionRatio;\n\n    this.wireframe = source.wireframe;\n    this.wireframeLinewidth = source.wireframeLinewidth;\n    this.wireframeLinecap = source.wireframeLinecap;\n    this.wireframeLinejoin = source.wireframeLinejoin;\n\n    this.skinning = source.skinning;\n    this.morphTargets = source.morphTargets;\n    this.morphNormals = source.morphNormals;\n\n    return this;\n\n};\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  matcap: new THREE.Texture( <Image> ),\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshMatcapMaterial(parameters) {\n\n    Material.call(this);\n\n    this.defines = {\n        'MATCAP': ''\n    };\n\n    this.type = 'MeshMatcapMaterial';\n\n    this.color = new Color(0xffffff); // diffuse\n\n    this.matcap = null;\n\n    this.map = null;\n\n    this.bumpMap = null;\n    this.bumpScale = 1;\n\n    this.normalMap = null;\n    this.normalMapType = TangentSpaceNormalMap;\n    this.normalScale = new Vector2(1, 1);\n\n    this.displacementMap = null;\n    this.displacementScale = 1;\n    this.displacementBias = 0;\n\n    this.alphaMap = null;\n\n    this.skinning = false;\n    this.morphTargets = false;\n    this.morphNormals = false;\n\n    this.setValues(parameters);\n\n}\n\nMeshMatcapMaterial.prototype = Object.create(Material.prototype);\nMeshMatcapMaterial.prototype.constructor = MeshMatcapMaterial;\n\nMeshMatcapMaterial.prototype.isMeshMatcapMaterial = true;\n\nMeshMatcapMaterial.prototype.copy = function(source) {\n\n    Material.prototype.copy.call(this, source);\n\n    this.defines = {\n        'MATCAP': ''\n    };\n\n    this.color.copy(source.color);\n\n    this.matcap = source.matcap;\n\n    this.map = source.map;\n\n    this.bumpMap = source.bumpMap;\n    this.bumpScale = source.bumpScale;\n\n    this.normalMap = source.normalMap;\n    this.normalMapType = source.normalMapType;\n    this.normalScale.copy(source.normalScale);\n\n    this.displacementMap = source.displacementMap;\n    this.displacementScale = source.displacementScale;\n    this.displacementBias = source.displacementBias;\n\n    this.alphaMap = source.alphaMap;\n\n    this.skinning = source.skinning;\n    this.morphTargets = source.morphTargets;\n    this.morphNormals = source.morphNormals;\n\n    return this;\n\n};\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *\n *  scale: <float>,\n *  dashSize: <float>,\n *  gapSize: <float>\n * }\n */\n\nfunction LineDashedMaterial(parameters) {\n\n    LineBasicMaterial.call(this);\n\n    this.type = 'LineDashedMaterial';\n\n    this.scale = 1;\n    this.dashSize = 3;\n    this.gapSize = 1;\n\n    this.setValues(parameters);\n\n}\n\nLineDashedMaterial.prototype = Object.create(LineBasicMaterial.prototype);\nLineDashedMaterial.prototype.constructor = LineDashedMaterial;\n\nLineDashedMaterial.prototype.isLineDashedMaterial = true;\n\nLineDashedMaterial.prototype.copy = function(source) {\n\n    LineBasicMaterial.prototype.copy.call(this, source);\n\n    this.scale = source.scale;\n    this.dashSize = source.dashSize;\n    this.gapSize = source.gapSize;\n\n    return this;\n\n};\n\nvar Materials = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    ShadowMaterial: ShadowMaterial,\n    SpriteMaterial: SpriteMaterial,\n    RawShaderMaterial: RawShaderMaterial,\n    ShaderMaterial: ShaderMaterial,\n    PointsMaterial: PointsMaterial,\n    MeshPhysicalMaterial: MeshPhysicalMaterial,\n    MeshStandardMaterial: MeshStandardMaterial,\n    MeshPhongMaterial: MeshPhongMaterial,\n    MeshToonMaterial: MeshToonMaterial,\n    MeshNormalMaterial: MeshNormalMaterial,\n    MeshLambertMaterial: MeshLambertMaterial,\n    MeshDepthMaterial: MeshDepthMaterial,\n    MeshDistanceMaterial: MeshDistanceMaterial,\n    MeshBasicMaterial: MeshBasicMaterial,\n    MeshMatcapMaterial: MeshMatcapMaterial,\n    LineDashedMaterial: LineDashedMaterial,\n    LineBasicMaterial: LineBasicMaterial,\n    Material: Material\n});\n\nconst AnimationUtils = {\n\n    // same as Array.prototype.slice, but also works on typed arrays\n    arraySlice: function(array, from, to) {\n\n        if (AnimationUtils.isTypedArray(array)) {\n\n            // in ios9 array.subarray(from, undefined) will return empty array\n            // but array.subarray(from) or array.subarray(from, len) is correct\n            return new array.constructor(array.subarray(from, to !== undefined ? to : array.length));\n\n        }\n\n        return array.slice(from, to);\n\n    },\n\n    // converts an array to a specific type\n    convertArray: function(array, type, forceClone) {\n\n        if (!array || // let 'undefined' and 'null' pass\n            !forceClone && array.constructor === type) return array;\n\n        if (typeof type.BYTES_PER_ELEMENT === 'number') {\n\n            return new type(array); // create typed array\n\n        }\n\n        return Array.prototype.slice.call(array); // create Array\n\n    },\n\n    isTypedArray: function(object) {\n\n        return ArrayBuffer.isView(object) &&\n            !(object instanceof DataView);\n\n    },\n\n    // returns an array by which times and values can be sorted\n    getKeyframeOrder: function(times) {\n\n        function compareTime(i, j) {\n\n            return times[i] - times[j];\n\n        }\n\n        const n = times.length;\n        const result = new Array(n);\n        for (let i = 0; i !== n; ++i) result[i] = i;\n\n        result.sort(compareTime);\n\n        return result;\n\n    },\n\n    // uses the array previously returned by 'getKeyframeOrder' to sort data\n    sortedArray: function(values, stride, order) {\n\n        const nValues = values.length;\n        const result = new values.constructor(nValues);\n\n        for (let i = 0, dstOffset = 0; dstOffset !== nValues; ++i) {\n\n            const srcOffset = order[i] * stride;\n\n            for (let j = 0; j !== stride; ++j) {\n\n                result[dstOffset++] = values[srcOffset + j];\n\n            }\n\n        }\n\n        return result;\n\n    },\n\n    // function for parsing AOS keyframe formats\n    flattenJSON: function(jsonKeys, times, values, valuePropertyName) {\n\n        let i = 1,\n            key = jsonKeys[0];\n\n        while (key !== undefined && key[valuePropertyName] === undefined) {\n\n            key = jsonKeys[i++];\n\n        }\n\n        if (key === undefined) return; // no data\n\n        let value = key[valuePropertyName];\n        if (value === undefined) return; // no data\n\n        if (Array.isArray(value)) {\n\n            do {\n\n                value = key[valuePropertyName];\n\n                if (value !== undefined) {\n\n                    times.push(key.time);\n                    values.push.apply(values, value); // push all elements\n\n                }\n\n                key = jsonKeys[i++];\n\n            } while (key !== undefined);\n\n        } else if (value.toArray !== undefined) {\n\n            // ...assume THREE.Math-ish\n\n            do {\n\n                value = key[valuePropertyName];\n\n                if (value !== undefined) {\n\n                    times.push(key.time);\n                    value.toArray(values, values.length);\n\n                }\n\n                key = jsonKeys[i++];\n\n            } while (key !== undefined);\n\n        } else {\n\n            // otherwise push as-is\n\n            do {\n\n                value = key[valuePropertyName];\n\n                if (value !== undefined) {\n\n                    times.push(key.time);\n                    values.push(value);\n\n                }\n\n                key = jsonKeys[i++];\n\n            } while (key !== undefined);\n\n        }\n\n    },\n\n    subclip: function(sourceClip, name, startFrame, endFrame, fps) {\n\n        fps = fps || 30;\n\n        const clip = sourceClip.clone();\n\n        clip.name = name;\n\n        const tracks = [];\n\n        for (let i = 0; i < clip.tracks.length; ++i) {\n\n            const track = clip.tracks[i];\n            const valueSize = track.getValueSize();\n\n            const times = [];\n            const values = [];\n\n            for (let j = 0; j < track.times.length; ++j) {\n\n                const frame = track.times[j] * fps;\n\n                if (frame < startFrame || frame >= endFrame) continue;\n\n                times.push(track.times[j]);\n\n                for (let k = 0; k < valueSize; ++k) {\n\n                    values.push(track.values[j * valueSize + k]);\n\n                }\n\n            }\n\n            if (times.length === 0) continue;\n\n            track.times = AnimationUtils.convertArray(times, track.times.constructor);\n            track.values = AnimationUtils.convertArray(values, track.values.constructor);\n\n            tracks.push(track);\n\n        }\n\n        clip.tracks = tracks;\n\n        // find minimum .times value across all tracks in the trimmed clip\n\n        let minStartTime = Infinity;\n\n        for (let i = 0; i < clip.tracks.length; ++i) {\n\n            if (minStartTime > clip.tracks[i].times[0]) {\n\n                minStartTime = clip.tracks[i].times[0];\n\n            }\n\n        }\n\n        // shift all tracks such that clip begins at t=0\n\n        for (let i = 0; i < clip.tracks.length; ++i) {\n\n            clip.tracks[i].shift(-1 * minStartTime);\n\n        }\n\n        clip.resetDuration();\n\n        return clip;\n\n    },\n\n    makeClipAdditive: function(targetClip, referenceFrame, referenceClip, fps) {\n\n        if (referenceFrame === undefined) referenceFrame = 0;\n        if (referenceClip === undefined) referenceClip = targetClip;\n        if (fps === undefined || fps <= 0) fps = 30;\n\n        const numTracks = referenceClip.tracks.length;\n        const referenceTime = referenceFrame / fps;\n\n        // Make each track's values relative to the values at the reference frame\n        for (let i = 0; i < numTracks; ++i) {\n\n            const referenceTrack = referenceClip.tracks[i];\n            const referenceTrackType = referenceTrack.ValueTypeName;\n\n            // Skip this track if it's non-numeric\n            if (referenceTrackType === 'bool' || referenceTrackType === 'string') continue;\n\n            // Find the track in the target clip whose name and type matches the reference track\n            const targetTrack = targetClip.tracks.find(function(track) {\n\n                return track.name === referenceTrack.name &&\n                    track.ValueTypeName === referenceTrackType;\n\n            });\n\n            if (targetTrack === undefined) continue;\n\n            let referenceOffset = 0;\n            const referenceValueSize = referenceTrack.getValueSize();\n\n            if (referenceTrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline) {\n\n                referenceOffset = referenceValueSize / 3;\n\n            }\n\n            let targetOffset = 0;\n            const targetValueSize = targetTrack.getValueSize();\n\n            if (targetTrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline) {\n\n                targetOffset = targetValueSize / 3;\n\n            }\n\n            const lastIndex = referenceTrack.times.length - 1;\n            let referenceValue;\n\n            // Find the value to subtract out of the track\n            if (referenceTime <= referenceTrack.times[0]) {\n\n                // Reference frame is earlier than the first keyframe, so just use the first keyframe\n                const startIndex = referenceOffset;\n                const endIndex = referenceValueSize - referenceOffset;\n                referenceValue = AnimationUtils.arraySlice(referenceTrack.values, startIndex, endIndex);\n\n            } else if (referenceTime >= referenceTrack.times[lastIndex]) {\n\n                // Reference frame is after the last keyframe, so just use the last keyframe\n                const startIndex = lastIndex * referenceValueSize + referenceOffset;\n                const endIndex = startIndex + referenceValueSize - referenceOffset;\n                referenceValue = AnimationUtils.arraySlice(referenceTrack.values, startIndex, endIndex);\n\n            } else {\n\n                // Interpolate to the reference value\n                const interpolant = referenceTrack.createInterpolant();\n                const startIndex = referenceOffset;\n                const endIndex = referenceValueSize - referenceOffset;\n                interpolant.evaluate(referenceTime);\n                referenceValue = AnimationUtils.arraySlice(interpolant.resultBuffer, startIndex, endIndex);\n\n            }\n\n            // Conjugate the quaternion\n            if (referenceTrackType === 'quaternion') {\n\n                const referenceQuat = new Quaternion().fromArray(referenceValue).normalize().conjugate();\n                referenceQuat.toArray(referenceValue);\n\n            }\n\n            // Subtract the reference value from all of the track values\n\n            const numTimes = targetTrack.times.length;\n            for (let j = 0; j < numTimes; ++j) {\n\n                const valueStart = j * targetValueSize + targetOffset;\n\n                if (referenceTrackType === 'quaternion') {\n\n                    // Multiply the conjugate for quaternion track types\n                    Quaternion.multiplyQuaternionsFlat(\n                        targetTrack.values,\n                        valueStart,\n                        referenceValue,\n                        0,\n                        targetTrack.values,\n                        valueStart\n                    );\n\n                } else {\n\n                    const valueEnd = targetValueSize - targetOffset * 2;\n\n                    // Subtract each value for all other numeric track types\n                    for (let k = 0; k < valueEnd; ++k) {\n\n                        targetTrack.values[valueStart + k] -= referenceValue[k];\n\n                    }\n\n                }\n\n            }\n\n        }\n\n        targetClip.blendMode = AdditiveAnimationBlendMode;\n\n        return targetClip;\n\n    }\n\n};\n\n/**\n * Abstract base class of interpolants over parametric samples.\n *\n * The parameter domain is one dimensional, typically the time or a path\n * along a curve defined by the data.\n *\n * The sample values can have any dimensionality and derived classes may\n * apply special interpretations to the data.\n *\n * This class provides the interval seek in a Template Method, deferring\n * the actual interpolation to derived classes.\n *\n * Time complexity is O(1) for linear access crossing at most two points\n * and O(log N) for random access, where N is the number of positions.\n *\n * References:\n *\n * \t\thttp://www.oodesign.com/template-method-pattern.html\n *\n */\n\nfunction Interpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n\n    this.parameterPositions = parameterPositions;\n    this._cachedIndex = 0;\n\n    this.resultBuffer = resultBuffer !== undefined ?\n        resultBuffer : new sampleValues.constructor(sampleSize);\n    this.sampleValues = sampleValues;\n    this.valueSize = sampleSize;\n\n}\n\nObject.assign(Interpolant.prototype, {\n\n    evaluate: function(t) {\n\n        const pp = this.parameterPositions;\n        let i1 = this._cachedIndex,\n            t1 = pp[i1],\n            t0 = pp[i1 - 1];\n\n        validate_interval: {\n\n            seek: {\n\n                let right;\n\n                linear_scan: {\n\n                    //- See http://jsperf.com/comparison-to-undefined/3\n                    //- slower code:\n                    //-\n                    //- \t\t\t\tif ( t >= t1 || t1 === undefined ) {\n                    forward_scan: if (!(t < t1)) {\n\n                        for (let giveUpAt = i1 + 2;;) {\n\n                            if (t1 === undefined) {\n\n                                if (t < t0) break forward_scan;\n\n                                // after end\n\n                                i1 = pp.length;\n                                this._cachedIndex = i1;\n                                return this.afterEnd_(i1 - 1, t, t0);\n\n                            }\n\n                            if (i1 === giveUpAt) break; // this loop\n\n                            t0 = t1;\n                            t1 = pp[++i1];\n\n                            if (t < t1) {\n\n                                // we have arrived at the sought interval\n                                break seek;\n\n                            }\n\n                        }\n\n                        // prepare binary search on the right side of the index\n                        right = pp.length;\n                        break linear_scan;\n\n                    }\n\n                    //- slower code:\n                    //-\t\t\t\t\tif ( t < t0 || t0 === undefined ) {\n                    if (!(t >= t0)) {\n\n                        // looping?\n\n                        const t1global = pp[1];\n\n                        if (t < t1global) {\n\n                            i1 = 2; // + 1, using the scan for the details\n                            t0 = t1global;\n\n                        }\n\n                        // linear reverse scan\n\n                        for (let giveUpAt = i1 - 2;;) {\n\n                            if (t0 === undefined) {\n\n                                // before start\n\n                                this._cachedIndex = 0;\n                                return this.beforeStart_(0, t, t1);\n\n                            }\n\n                            if (i1 === giveUpAt) break; // this loop\n\n                            t1 = t0;\n                            t0 = pp[--i1 - 1];\n\n                            if (t >= t0) {\n\n                                // we have arrived at the sought interval\n                                break seek;\n\n                            }\n\n                        }\n\n                        // prepare binary search on the left side of the index\n                        right = i1;\n                        i1 = 0;\n                        break linear_scan;\n\n                    }\n\n                    // the interval is valid\n\n                    break validate_interval;\n\n                } // linear scan\n\n                // binary search\n\n                while (i1 < right) {\n\n                    const mid = (i1 + right) >>> 1;\n\n                    if (t < pp[mid]) {\n\n                        right = mid;\n\n                    } else {\n\n                        i1 = mid + 1;\n\n                    }\n\n                }\n\n                t1 = pp[i1];\n                t0 = pp[i1 - 1];\n\n                // check boundary cases, again\n\n                if (t0 === undefined) {\n\n                    this._cachedIndex = 0;\n                    return this.beforeStart_(0, t, t1);\n\n                }\n\n                if (t1 === undefined) {\n\n                    i1 = pp.length;\n                    this._cachedIndex = i1;\n                    return this.afterEnd_(i1 - 1, t0, t);\n\n                }\n\n            } // seek\n\n            this._cachedIndex = i1;\n\n            this.intervalChanged_(i1, t0, t1);\n\n        } // validate_interval\n\n        return this.interpolate_(i1, t0, t, t1);\n\n    },\n\n    settings: null, // optional, subclass-specific settings structure\n    // Note: The indirection allows central control of many interpolants.\n\n    // --- Protected interface\n\n    DefaultSettings_: {},\n\n    getSettings_: function() {\n\n        return this.settings || this.DefaultSettings_;\n\n    },\n\n    copySampleValue_: function(index) {\n\n        // copies a sample value to the result buffer\n\n        const result = this.resultBuffer,\n            values = this.sampleValues,\n            stride = this.valueSize,\n            offset = index * stride;\n\n        for (let i = 0; i !== stride; ++i) {\n\n            result[i] = values[offset + i];\n\n        }\n\n        return result;\n\n    },\n\n    // Template methods for derived classes:\n\n    interpolate_: function( /* i1, t0, t, t1 */ ) {\n\n        throw new Error('call to abstract method');\n        // implementations shall return this.resultBuffer\n\n    },\n\n    intervalChanged_: function( /* i1, t0, t1 */ ) {\n\n        // empty\n\n    }\n\n});\n\n// DECLARE ALIAS AFTER assign prototype\nObject.assign(Interpolant.prototype, {\n\n    //( 0, t, t0 ), returns this.resultBuffer\n    beforeStart_: Interpolant.prototype.copySampleValue_,\n\n    //( N-1, tN-1, t ), returns this.resultBuffer\n    afterEnd_: Interpolant.prototype.copySampleValue_,\n\n});\n\n/**\n * Fast and simple cubic spline interpolant.\n *\n * It was derived from a Hermitian construction setting the first derivative\n * at each sample position to the linear slope between neighboring positions\n * over their parameter interval.\n */\n\nfunction CubicInterpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n\n    Interpolant.call(this, parameterPositions, sampleValues, sampleSize, resultBuffer);\n\n    this._weightPrev = -0;\n    this._offsetPrev = -0;\n    this._weightNext = -0;\n    this._offsetNext = -0;\n\n}\n\nCubicInterpolant.prototype = Object.assign(Object.create(Interpolant.prototype), {\n\n    constructor: CubicInterpolant,\n\n    DefaultSettings_: {\n\n        endingStart: ZeroCurvatureEnding,\n        endingEnd: ZeroCurvatureEnding\n\n    },\n\n    intervalChanged_: function(i1, t0, t1) {\n\n        const pp = this.parameterPositions;\n        let iPrev = i1 - 2,\n            iNext = i1 + 1,\n\n            tPrev = pp[iPrev],\n            tNext = pp[iNext];\n\n        if (tPrev === undefined) {\n\n            switch (this.getSettings_().endingStart) {\n\n                case ZeroSlopeEnding:\n\n                    // f'(t0) = 0\n                    iPrev = i1;\n                    tPrev = 2 * t0 - t1;\n\n                    break;\n\n                case WrapAroundEnding:\n\n                    // use the other end of the curve\n                    iPrev = pp.length - 2;\n                    tPrev = t0 + pp[iPrev] - pp[iPrev + 1];\n\n                    break;\n\n                default: // ZeroCurvatureEnding\n\n                    // f''(t0) = 0 a.k.a. Natural Spline\n                    iPrev = i1;\n                    tPrev = t1;\n\n            }\n\n        }\n\n        if (tNext === undefined) {\n\n            switch (this.getSettings_().endingEnd) {\n\n                case ZeroSlopeEnding:\n\n                    // f'(tN) = 0\n                    iNext = i1;\n                    tNext = 2 * t1 - t0;\n\n                    break;\n\n                case WrapAroundEnding:\n\n                    // use the other end of the curve\n                    iNext = 1;\n                    tNext = t1 + pp[1] - pp[0];\n\n                    break;\n\n                default: // ZeroCurvatureEnding\n\n                    // f''(tN) = 0, a.k.a. Natural Spline\n                    iNext = i1 - 1;\n                    tNext = t0;\n\n            }\n\n        }\n\n        const halfDt = (t1 - t0) * 0.5,\n            stride = this.valueSize;\n\n        this._weightPrev = halfDt / (t0 - tPrev);\n        this._weightNext = halfDt / (tNext - t1);\n        this._offsetPrev = iPrev * stride;\n        this._offsetNext = iNext * stride;\n\n    },\n\n    interpolate_: function(i1, t0, t, t1) {\n\n        const result = this.resultBuffer,\n            values = this.sampleValues,\n            stride = this.valueSize,\n\n            o1 = i1 * stride,\n            o0 = o1 - stride,\n            oP = this._offsetPrev,\n            oN = this._offsetNext,\n            wP = this._weightPrev,\n            wN = this._weightNext,\n\n            p = (t - t0) / (t1 - t0),\n            pp = p * p,\n            ppp = pp * p;\n\n        // evaluate polynomials\n\n        const sP = -wP * ppp + 2 * wP * pp - wP * p;\n        const s0 = (1 + wP) * ppp + (-1.5 - 2 * wP) * pp + (-0.5 + wP) * p + 1;\n        const s1 = (-1 - wN) * ppp + (1.5 + wN) * pp + 0.5 * p;\n        const sN = wN * ppp - wN * pp;\n\n        // combine data linearly\n\n        for (let i = 0; i !== stride; ++i) {\n\n            result[i] =\n                sP * values[oP + i] +\n                s0 * values[o0 + i] +\n                s1 * values[o1 + i] +\n                sN * values[oN + i];\n\n        }\n\n        return result;\n\n    }\n\n});\n\nfunction LinearInterpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n\n    Interpolant.call(this, parameterPositions, sampleValues, sampleSize, resultBuffer);\n\n}\n\nLinearInterpolant.prototype = Object.assign(Object.create(Interpolant.prototype), {\n\n    constructor: LinearInterpolant,\n\n    interpolate_: function(i1, t0, t, t1) {\n\n        const result = this.resultBuffer,\n            values = this.sampleValues,\n            stride = this.valueSize,\n\n            offset1 = i1 * stride,\n            offset0 = offset1 - stride,\n\n            weight1 = (t - t0) / (t1 - t0),\n            weight0 = 1 - weight1;\n\n        for (let i = 0; i !== stride; ++i) {\n\n            result[i] =\n                values[offset0 + i] * weight0 +\n                values[offset1 + i] * weight1;\n\n        }\n\n        return result;\n\n    }\n\n});\n\n/**\n *\n * Interpolant that evaluates to the sample value at the position preceeding\n * the parameter.\n */\n\nfunction DiscreteInterpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n\n    Interpolant.call(this, parameterPositions, sampleValues, sampleSize, resultBuffer);\n\n}\n\nDiscreteInterpolant.prototype = Object.assign(Object.create(Interpolant.prototype), {\n\n    constructor: DiscreteInterpolant,\n\n    interpolate_: function(i1 /*, t0, t, t1 */ ) {\n\n        return this.copySampleValue_(i1 - 1);\n\n    }\n\n});\n\nfunction KeyframeTrack(name, times, values, interpolation) {\n\n    if (name === undefined) throw new Error('THREE.KeyframeTrack: track name is undefined');\n    if (times === undefined || times.length === 0) throw new Error('THREE.KeyframeTrack: no keyframes in track named ' + name);\n\n    this.name = name;\n\n    this.times = AnimationUtils.convertArray(times, this.TimeBufferType);\n    this.values = AnimationUtils.convertArray(values, this.ValueBufferType);\n\n    this.setInterpolation(interpolation || this.DefaultInterpolation);\n\n}\n\n// Static methods\n\nObject.assign(KeyframeTrack, {\n\n    // Serialization (in static context, because of constructor invocation\n    // and automatic invocation of .toJSON):\n\n    toJSON: function(track) {\n\n        const trackType = track.constructor;\n\n        let json;\n\n        // derived classes can define a static toJSON method\n        if (trackType.toJSON !== undefined) {\n\n            json = trackType.toJSON(track);\n\n        } else {\n\n            // by default, we assume the data can be serialized as-is\n            json = {\n\n                'name': track.name,\n                'times': AnimationUtils.convertArray(track.times, Array),\n                'values': AnimationUtils.convertArray(track.values, Array)\n\n            };\n\n            const interpolation = track.getInterpolation();\n\n            if (interpolation !== track.DefaultInterpolation) {\n\n                json.interpolation = interpolation;\n\n            }\n\n        }\n\n        json.type = track.ValueTypeName; // mandatory\n\n        return json;\n\n    }\n\n});\n\nObject.assign(KeyframeTrack.prototype, {\n\n    constructor: KeyframeTrack,\n\n    TimeBufferType: Float32Array,\n\n    ValueBufferType: Float32Array,\n\n    DefaultInterpolation: InterpolateLinear,\n\n    InterpolantFactoryMethodDiscrete: function(result) {\n\n        return new DiscreteInterpolant(this.times, this.values, this.getValueSize(), result);\n\n    },\n\n    InterpolantFactoryMethodLinear: function(result) {\n\n        return new LinearInterpolant(this.times, this.values, this.getValueSize(), result);\n\n    },\n\n    InterpolantFactoryMethodSmooth: function(result) {\n\n        return new CubicInterpolant(this.times, this.values, this.getValueSize(), result);\n\n    },\n\n    setInterpolation: function(interpolation) {\n\n        let factoryMethod;\n\n        switch (interpolation) {\n\n            case InterpolateDiscrete:\n\n                factoryMethod = this.InterpolantFactoryMethodDiscrete;\n\n                break;\n\n            case InterpolateLinear:\n\n                factoryMethod = this.InterpolantFactoryMethodLinear;\n\n                break;\n\n            case InterpolateSmooth:\n\n                factoryMethod = this.InterpolantFactoryMethodSmooth;\n\n                break;\n\n        }\n\n        if (factoryMethod === undefined) {\n\n            const message = \"unsupported interpolation for \" +\n                this.ValueTypeName + \" keyframe track named \" + this.name;\n\n            if (this.createInterpolant === undefined) {\n\n                // fall back to default, unless the default itself is messed up\n                if (interpolation !== this.DefaultInterpolation) {\n\n                    this.setInterpolation(this.DefaultInterpolation);\n\n                } else {\n\n                    throw new Error(message); // fatal, in this case\n\n                }\n\n            }\n\n            console.warn('THREE.KeyframeTrack:', message);\n            return this;\n\n        }\n\n        this.createInterpolant = factoryMethod;\n\n        return this;\n\n    },\n\n    getInterpolation: function() {\n\n        switch (this.createInterpolant) {\n\n            case this.InterpolantFactoryMethodDiscrete:\n\n                return InterpolateDiscrete;\n\n            case this.InterpolantFactoryMethodLinear:\n\n                return InterpolateLinear;\n\n            case this.InterpolantFactoryMethodSmooth:\n\n                return InterpolateSmooth;\n\n        }\n\n    },\n\n    getValueSize: function() {\n\n        return this.values.length / this.times.length;\n\n    },\n\n    // move all keyframes either forwards or backwards in time\n    shift: function(timeOffset) {\n\n        if (timeOffset !== 0.0) {\n\n            const times = this.times;\n\n            for (let i = 0, n = times.length; i !== n; ++i) {\n\n                times[i] += timeOffset;\n\n            }\n\n        }\n\n        return this;\n\n    },\n\n    // scale all keyframe times by a factor (useful for frame <-> seconds conversions)\n    scale: function(timeScale) {\n\n        if (timeScale !== 1.0) {\n\n            const times = this.times;\n\n            for (let i = 0, n = times.length; i !== n; ++i) {\n\n                times[i] *= timeScale;\n\n            }\n\n        }\n\n        return this;\n\n    },\n\n    // removes keyframes before and after animation without changing any values within the range [startTime, endTime].\n    // IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values\n    trim: function(startTime, endTime) {\n\n        const times = this.times,\n            nKeys = times.length;\n\n        let from = 0,\n            to = nKeys - 1;\n\n        while (from !== nKeys && times[from] < startTime) {\n\n            ++from;\n\n        }\n\n        while (to !== -1 && times[to] > endTime) {\n\n            --to;\n\n        }\n\n        ++to; // inclusive -> exclusive bound\n\n        if (from !== 0 || to !== nKeys) {\n\n            // empty tracks are forbidden, so keep at least one keyframe\n            if (from >= to) {\n\n                to = Math.max(to, 1);\n                from = to - 1;\n\n            }\n\n            const stride = this.getValueSize();\n            this.times = AnimationUtils.arraySlice(times, from, to);\n            this.values = AnimationUtils.arraySlice(this.values, from * stride, to * stride);\n\n        }\n\n        return this;\n\n    },\n\n    // ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable\n    validate: function() {\n\n        let valid = true;\n\n        const valueSize = this.getValueSize();\n        if (valueSize - Math.floor(valueSize) !== 0) {\n\n            console.error('THREE.KeyframeTrack: Invalid value size in track.', this);\n            valid = false;\n\n        }\n\n        const times = this.times,\n            values = this.values,\n\n            nKeys = times.length;\n\n        if (nKeys === 0) {\n\n            console.error('THREE.KeyframeTrack: Track is empty.', this);\n            valid = false;\n\n        }\n\n        let prevTime = null;\n\n        for (let i = 0; i !== nKeys; i++) {\n\n            const currTime = times[i];\n\n            if (typeof currTime === 'number' && isNaN(currTime)) {\n\n                console.error('THREE.KeyframeTrack: Time is not a valid number.', this, i, currTime);\n                valid = false;\n                break;\n\n            }\n\n            if (prevTime !== null && prevTime > currTime) {\n\n                console.error('THREE.KeyframeTrack: Out of order keys.', this, i, currTime, prevTime);\n                valid = false;\n                break;\n\n            }\n\n            prevTime = currTime;\n\n        }\n\n        if (values !== undefined) {\n\n            if (AnimationUtils.isTypedArray(values)) {\n\n                for (let i = 0, n = values.length; i !== n; ++i) {\n\n                    const value = values[i];\n\n                    if (isNaN(value)) {\n\n                        console.error('THREE.KeyframeTrack: Value is not a valid number.', this, i, value);\n                        valid = false;\n                        break;\n\n                    }\n\n                }\n\n            }\n\n        }\n\n        return valid;\n\n    },\n\n    // removes equivalent sequential keys as common in morph target sequences\n    // (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --> (0,0,1,1,0,0)\n    optimize: function() {\n\n        // times or values may be shared with other tracks, so overwriting is unsafe\n        const times = AnimationUtils.arraySlice(this.times),\n            values = AnimationUtils.arraySlice(this.values),\n            stride = this.getValueSize(),\n\n            smoothInterpolation = this.getInterpolation() === InterpolateSmooth,\n\n            lastIndex = times.length - 1;\n\n        let writeIndex = 1;\n\n        for (let i = 1; i < lastIndex; ++i) {\n\n            let keep = false;\n\n            const time = times[i];\n            const timeNext = times[i + 1];\n\n            // remove adjacent keyframes scheduled at the same time\n\n            if (time !== timeNext && (i !== 1 || time !== time[0])) {\n\n                if (!smoothInterpolation) {\n\n                    // remove unnecessary keyframes same as their neighbors\n\n                    const offset = i * stride,\n                        offsetP = offset - stride,\n                        offsetN = offset + stride;\n\n                    for (let j = 0; j !== stride; ++j) {\n\n                        const value = values[offset + j];\n\n                        if (value !== values[offsetP + j] ||\n                            value !== values[offsetN + j]) {\n\n                            keep = true;\n                            break;\n\n                        }\n\n                    }\n\n                } else {\n\n                    keep = true;\n\n                }\n\n            }\n\n            // in-place compaction\n\n            if (keep) {\n\n                if (i !== writeIndex) {\n\n                    times[writeIndex] = times[i];\n\n                    const readOffset = i * stride,\n                        writeOffset = writeIndex * stride;\n\n                    for (let j = 0; j !== stride; ++j) {\n\n                        values[writeOffset + j] = values[readOffset + j];\n\n                    }\n\n                }\n\n                ++writeIndex;\n\n            }\n\n        }\n\n        // flush last keyframe (compaction looks ahead)\n\n        if (lastIndex > 0) {\n\n            times[writeIndex] = times[lastIndex];\n\n            for (let readOffset = lastIndex * stride, writeOffset = writeIndex * stride, j = 0; j !== stride; ++j) {\n\n                values[writeOffset + j] = values[readOffset + j];\n\n            }\n\n            ++writeIndex;\n\n        }\n\n        if (writeIndex !== times.length) {\n\n            this.times = AnimationUtils.arraySlice(times, 0, writeIndex);\n            this.values = AnimationUtils.arraySlice(values, 0, writeIndex * stride);\n\n        } else {\n\n            this.times = times;\n            this.values = values;\n\n        }\n\n        return this;\n\n    },\n\n    clone: function() {\n\n        const times = AnimationUtils.arraySlice(this.times, 0);\n        const values = AnimationUtils.arraySlice(this.values, 0);\n\n        const TypedKeyframeTrack = this.constructor;\n        const track = new TypedKeyframeTrack(this.name, times, values);\n\n        // Interpolant argument to constructor is not saved, so copy the factory method directly.\n        track.createInterpolant = this.createInterpolant;\n\n        return track;\n\n    }\n\n});\n\n/**\n * A Track of Boolean keyframe values.\n */\n\nfunction BooleanKeyframeTrack(name, times, values) {\n\n    KeyframeTrack.call(this, name, times, values);\n\n}\n\nBooleanKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrack.prototype), {\n\n    constructor: BooleanKeyframeTrack,\n\n    ValueTypeName: 'bool',\n    ValueBufferType: Array,\n\n    DefaultInterpolation: InterpolateDiscrete,\n\n    InterpolantFactoryMethodLinear: undefined,\n    InterpolantFactoryMethodSmooth: undefined\n\n    // Note: Actually this track could have a optimized / compressed\n    // representation of a single value and a custom interpolant that\n    // computes \"firstValue ^ isOdd( index )\".\n\n});\n\n/**\n * A Track of keyframe values that represent color.\n */\n\nfunction ColorKeyframeTrack(name, times, values, interpolation) {\n\n    KeyframeTrack.call(this, name, times, values, interpolation);\n\n}\n\nColorKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrack.prototype), {\n\n    constructor: ColorKeyframeTrack,\n\n    ValueTypeName: 'color'\n\n    // ValueBufferType is inherited\n\n    // DefaultInterpolation is inherited\n\n    // Note: Very basic implementation and nothing special yet.\n    // However, this is the place for color space parameterization.\n\n});\n\n/**\n * A Track of numeric keyframe values.\n */\n\nfunction NumberKeyframeTrack(name, times, values, interpolation) {\n\n    KeyframeTrack.call(this, name, times, values, interpolation);\n\n}\n\nNumberKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrack.prototype), {\n\n    constructor: NumberKeyframeTrack,\n\n    ValueTypeName: 'number'\n\n    // ValueBufferType is inherited\n\n    // DefaultInterpolation is inherited\n\n});\n\n/**\n * Spherical linear unit quaternion interpolant.\n */\n\nfunction QuaternionLinearInterpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n\n    Interpolant.call(this, parameterPositions, sampleValues, sampleSize, resultBuffer);\n\n}\n\nQuaternionLinearInterpolant.prototype = Object.assign(Object.create(Interpolant.prototype), {\n\n    constructor: QuaternionLinearInterpolant,\n\n    interpolate_: function(i1, t0, t, t1) {\n\n        const result = this.resultBuffer,\n            values = this.sampleValues,\n            stride = this.valueSize,\n\n            alpha = (t - t0) / (t1 - t0);\n\n        let offset = i1 * stride;\n\n        for (let end = offset + stride; offset !== end; offset += 4) {\n\n            Quaternion.slerpFlat(result, 0, values, offset - stride, values, offset, alpha);\n\n        }\n\n        return result;\n\n    }\n\n});\n\n/**\n * A Track of quaternion keyframe values.\n */\n\nfunction QuaternionKeyframeTrack(name, times, values, interpolation) {\n\n    KeyframeTrack.call(this, name, times, values, interpolation);\n\n}\n\nQuaternionKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrack.prototype), {\n\n    constructor: QuaternionKeyframeTrack,\n\n    ValueTypeName: 'quaternion',\n\n    // ValueBufferType is inherited\n\n    DefaultInterpolation: InterpolateLinear,\n\n    InterpolantFactoryMethodLinear: function(result) {\n\n        return new QuaternionLinearInterpolant(this.times, this.values, this.getValueSize(), result);\n\n    },\n\n    InterpolantFactoryMethodSmooth: undefined // not yet implemented\n\n});\n\n/**\n * A Track that interpolates Strings\n */\n\nfunction StringKeyframeTrack(name, times, values, interpolation) {\n\n    KeyframeTrack.call(this, name, times, values, interpolation);\n\n}\n\nStringKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrack.prototype), {\n\n    constructor: StringKeyframeTrack,\n\n    ValueTypeName: 'string',\n    ValueBufferType: Array,\n\n    DefaultInterpolation: InterpolateDiscrete,\n\n    InterpolantFactoryMethodLinear: undefined,\n\n    InterpolantFactoryMethodSmooth: undefined\n\n});\n\n/**\n * A Track of vectored keyframe values.\n */\n\nfunction VectorKeyframeTrack(name, times, values, interpolation) {\n\n    KeyframeTrack.call(this, name, times, values, interpolation);\n\n}\n\nVectorKeyframeTrack.prototype = Object.assign(Object.create(KeyframeTrack.prototype), {\n\n    constructor: VectorKeyframeTrack,\n\n    ValueTypeName: 'vector'\n\n    // ValueBufferType is inherited\n\n    // DefaultInterpolation is inherited\n\n});\n\nfunction AnimationClip(name, duration, tracks, blendMode) {\n\n    this.name = name;\n    this.tracks = tracks;\n    this.duration = (duration !== undefined) ? duration : -1;\n    this.blendMode = (blendMode !== undefined) ? blendMode : NormalAnimationBlendMode;\n\n    this.uuid = MathUtils.generateUUID();\n\n    // this means it should figure out its duration by scanning the tracks\n    if (this.duration < 0) {\n\n        this.resetDuration();\n\n    }\n\n}\n\nfunction getTrackTypeForValueTypeName(typeName) {\n\n    switch (typeName.toLowerCase()) {\n\n        case 'scalar':\n        case 'double':\n        case 'float':\n        case 'number':\n        case 'integer':\n\n            return NumberKeyframeTrack;\n\n        case 'vector':\n        case 'vector2':\n        case 'vector3':\n        case 'vector4':\n\n            return VectorKeyframeTrack;\n\n        case 'color':\n\n            return ColorKeyframeTrack;\n\n        case 'quaternion':\n\n            return QuaternionKeyframeTrack;\n\n        case 'bool':\n        case 'boolean':\n\n            return BooleanKeyframeTrack;\n\n        case 'string':\n\n            return StringKeyframeTrack;\n\n    }\n\n    throw new Error('THREE.KeyframeTrack: Unsupported typeName: ' + typeName);\n\n}\n\nfunction parseKeyframeTrack(json) {\n\n    if (json.type === undefined) {\n\n        throw new Error('THREE.KeyframeTrack: track type undefined, can not parse');\n\n    }\n\n    const trackType = getTrackTypeForValueTypeName(json.type);\n\n    if (json.times === undefined) {\n\n        const times = [],\n            values = [];\n\n        AnimationUtils.flattenJSON(json.keys, times, values, 'value');\n\n        json.times = times;\n        json.values = values;\n\n    }\n\n    // derived classes can define a static parse method\n    if (trackType.parse !== undefined) {\n\n        return trackType.parse(json);\n\n    } else {\n\n        // by default, we assume a constructor compatible with the base\n        return new trackType(json.name, json.times, json.values, json.interpolation);\n\n    }\n\n}\n\nObject.assign(AnimationClip, {\n\n    parse: function(json) {\n\n        const tracks = [],\n            jsonTracks = json.tracks,\n            frameTime = 1.0 / (json.fps || 1.0);\n\n        for (let i = 0, n = jsonTracks.length; i !== n; ++i) {\n\n            tracks.push(parseKeyframeTrack(jsonTracks[i]).scale(frameTime));\n\n        }\n\n        return new AnimationClip(json.name, json.duration, tracks, json.blendMode);\n\n    },\n\n    toJSON: function(clip) {\n\n        const tracks = [],\n            clipTracks = clip.tracks;\n\n        const json = {\n\n            'name': clip.name,\n            'duration': clip.duration,\n            'tracks': tracks,\n            'uuid': clip.uuid,\n            'blendMode': clip.blendMode\n\n        };\n\n        for (let i = 0, n = clipTracks.length; i !== n; ++i) {\n\n            tracks.push(KeyframeTrack.toJSON(clipTracks[i]));\n\n        }\n\n        return json;\n\n    },\n\n    CreateFromMorphTargetSequence: function(name, morphTargetSequence, fps, noLoop) {\n\n        const numMorphTargets = morphTargetSequence.length;\n        const tracks = [];\n\n        for (let i = 0; i < numMorphTargets; i++) {\n\n            let times = [];\n            let values = [];\n\n            times.push(\n                (i + numMorphTargets - 1) % numMorphTargets,\n                i,\n                (i + 1) % numMorphTargets);\n\n            values.push(0, 1, 0);\n\n            const order = AnimationUtils.getKeyframeOrder(times);\n            times = AnimationUtils.sortedArray(times, 1, order);\n            values = AnimationUtils.sortedArray(values, 1, order);\n\n            // if there is a key at the first frame, duplicate it as the\n            // last frame as well for perfect loop.\n            if (!noLoop && times[0] === 0) {\n\n                times.push(numMorphTargets);\n                values.push(values[0]);\n\n            }\n\n            tracks.push(\n                new NumberKeyframeTrack(\n                    '.morphTargetInfluences[' + morphTargetSequence[i].name + ']',\n                    times, values\n                ).scale(1.0 / fps));\n\n        }\n\n        return new AnimationClip(name, -1, tracks);\n\n    },\n\n    findByName: function(objectOrClipArray, name) {\n\n        let clipArray = objectOrClipArray;\n\n        if (!Array.isArray(objectOrClipArray)) {\n\n            const o = objectOrClipArray;\n            clipArray = o.geometry && o.geometry.animations || o.animations;\n\n        }\n\n        for (let i = 0; i < clipArray.length; i++) {\n\n            if (clipArray[i].name === name) {\n\n                return clipArray[i];\n\n            }\n\n        }\n\n        return null;\n\n    },\n\n    CreateClipsFromMorphTargetSequences: function(morphTargets, fps, noLoop) {\n\n        const animationToMorphTargets = {};\n\n        // tested with https://regex101.com/ on trick sequences\n        // such flamingo_flyA_003, flamingo_run1_003, crdeath0059\n        const pattern = /^([\\w-]*?)([\\d]+)$/;\n\n        // sort morph target names into animation groups based\n        // patterns like Walk_001, Walk_002, Run_001, Run_002\n        for (let i = 0, il = morphTargets.length; i < il; i++) {\n\n            const morphTarget = morphTargets[i];\n            const parts = morphTarget.name.match(pattern);\n\n            if (parts && parts.length > 1) {\n\n                const name = parts[1];\n\n                let animationMorphTargets = animationToMorphTargets[name];\n\n                if (!animationMorphTargets) {\n\n                    animationToMorphTargets[name] = animationMorphTargets = [];\n\n                }\n\n                animationMorphTargets.push(morphTarget);\n\n            }\n\n        }\n\n        const clips = [];\n\n        for (const name in animationToMorphTargets) {\n\n            clips.push(AnimationClip.CreateFromMorphTargetSequence(name, animationToMorphTargets[name], fps, noLoop));\n\n        }\n\n        return clips;\n\n    },\n\n    // parse the animation.hierarchy format\n    parseAnimation: function(animation, bones) {\n\n        if (!animation) {\n\n            console.error('THREE.AnimationClip: No animation in JSONLoader data.');\n            return null;\n\n        }\n\n        const addNonemptyTrack = function(trackType, trackName, animationKeys, propertyName, destTracks) {\n\n            // only return track if there are actually keys.\n            if (animationKeys.length !== 0) {\n\n                const times = [];\n                const values = [];\n\n                AnimationUtils.flattenJSON(animationKeys, times, values, propertyName);\n\n                // empty keys are filtered out, so check again\n                if (times.length !== 0) {\n\n                    destTracks.push(new trackType(trackName, times, values));\n\n                }\n\n            }\n\n        };\n\n        const tracks = [];\n\n        const clipName = animation.name || 'default';\n        const fps = animation.fps || 30;\n        const blendMode = animation.blendMode;\n\n        // automatic length determination in AnimationClip.\n        let duration = animation.length || -1;\n\n        const hierarchyTracks = animation.hierarchy || [];\n\n        for (let h = 0; h < hierarchyTracks.length; h++) {\n\n            const animationKeys = hierarchyTracks[h].keys;\n\n            // skip empty tracks\n            if (!animationKeys || animationKeys.length === 0) continue;\n\n            // process morph targets\n            if (animationKeys[0].morphTargets) {\n\n                // figure out all morph targets used in this track\n                const morphTargetNames = {};\n\n                let k;\n\n                for (k = 0; k < animationKeys.length; k++) {\n\n                    if (animationKeys[k].morphTargets) {\n\n                        for (let m = 0; m < animationKeys[k].morphTargets.length; m++) {\n\n                            morphTargetNames[animationKeys[k].morphTargets[m]] = -1;\n\n                        }\n\n                    }\n\n                }\n\n                // create a track for each morph target with all zero\n                // morphTargetInfluences except for the keys in which\n                // the morphTarget is named.\n                for (const morphTargetName in morphTargetNames) {\n\n                    const times = [];\n                    const values = [];\n\n                    for (let m = 0; m !== animationKeys[k].morphTargets.length; ++m) {\n\n                        const animationKey = animationKeys[k];\n\n                        times.push(animationKey.time);\n                        values.push((animationKey.morphTarget === morphTargetName) ? 1 : 0);\n\n                    }\n\n                    tracks.push(new NumberKeyframeTrack('.morphTargetInfluence[' + morphTargetName + ']', times, values));\n\n                }\n\n                duration = morphTargetNames.length * (fps || 1.0);\n\n            } else {\n\n                // ...assume skeletal animation\n\n                const boneName = '.bones[' + bones[h].name + ']';\n\n                addNonemptyTrack(\n                    VectorKeyframeTrack, boneName + '.position',\n                    animationKeys, 'pos', tracks);\n\n                addNonemptyTrack(\n                    QuaternionKeyframeTrack, boneName + '.quaternion',\n                    animationKeys, 'rot', tracks);\n\n                addNonemptyTrack(\n                    VectorKeyframeTrack, boneName + '.scale',\n                    animationKeys, 'scl', tracks);\n\n            }\n\n        }\n\n        if (tracks.length === 0) {\n\n            return null;\n\n        }\n\n        const clip = new AnimationClip(clipName, duration, tracks, blendMode);\n\n        return clip;\n\n    }\n\n});\n\nObject.assign(AnimationClip.prototype, {\n\n    resetDuration: function() {\n\n        const tracks = this.tracks;\n        let duration = 0;\n\n        for (let i = 0, n = tracks.length; i !== n; ++i) {\n\n            const track = this.tracks[i];\n\n            duration = Math.max(duration, track.times[track.times.length - 1]);\n\n        }\n\n        this.duration = duration;\n\n        return this;\n\n    },\n\n    trim: function() {\n\n        for (let i = 0; i < this.tracks.length; i++) {\n\n            this.tracks[i].trim(0, this.duration);\n\n        }\n\n        return this;\n\n    },\n\n    validate: function() {\n\n        let valid = true;\n\n        for (let i = 0; i < this.tracks.length; i++) {\n\n            valid = valid && this.tracks[i].validate();\n\n        }\n\n        return valid;\n\n    },\n\n    optimize: function() {\n\n        for (let i = 0; i < this.tracks.length; i++) {\n\n            this.tracks[i].optimize();\n\n        }\n\n        return this;\n\n    },\n\n    clone: function() {\n\n        const tracks = [];\n\n        for (let i = 0; i < this.tracks.length; i++) {\n\n            tracks.push(this.tracks[i].clone());\n\n        }\n\n        return new AnimationClip(this.name, this.duration, tracks, this.blendMode);\n\n    }\n\n});\n\nconst Cache = {\n\n    enabled: false,\n\n    files: {},\n\n    add: function(key, file) {\n\n        if (this.enabled === false) return;\n\n        // console.log( 'THREE.Cache', 'Adding key:', key );\n\n        this.files[key] = file;\n\n    },\n\n    get: function(key) {\n\n        if (this.enabled === false) return;\n\n        // console.log( 'THREE.Cache', 'Checking key:', key );\n\n        return this.files[key];\n\n    },\n\n    remove: function(key) {\n\n        delete this.files[key];\n\n    },\n\n    clear: function() {\n\n        this.files = {};\n\n    }\n\n};\n\nfunction LoadingManager(onLoad, onProgress, onError) {\n\n    const scope = this;\n\n    let isLoading = false;\n    let itemsLoaded = 0;\n    let itemsTotal = 0;\n    let urlModifier = undefined;\n    const handlers = [];\n\n    // Refer to #5689 for the reason why we don't set .onStart\n    // in the constructor\n\n    this.onStart = undefined;\n    this.onLoad = onLoad;\n    this.onProgress = onProgress;\n    this.onError = onError;\n\n    this.itemStart = function(url) {\n\n        itemsTotal++;\n\n        if (isLoading === false) {\n\n            if (scope.onStart !== undefined) {\n\n                scope.onStart(url, itemsLoaded, itemsTotal);\n\n            }\n\n        }\n\n        isLoading = true;\n\n    };\n\n    this.itemEnd = function(url) {\n\n        itemsLoaded++;\n\n        if (scope.onProgress !== undefined) {\n\n            scope.onProgress(url, itemsLoaded, itemsTotal);\n\n        }\n\n        if (itemsLoaded === itemsTotal) {\n\n            isLoading = false;\n\n            if (scope.onLoad !== undefined) {\n\n                scope.onLoad();\n\n            }\n\n        }\n\n    };\n\n    this.itemError = function(url) {\n\n        if (scope.onError !== undefined) {\n\n            scope.onError(url);\n\n        }\n\n    };\n\n    this.resolveURL = function(url) {\n\n        if (urlModifier) {\n\n            return urlModifier(url);\n\n        }\n\n        return url;\n\n    };\n\n    this.setURLModifier = function(transform) {\n\n        urlModifier = transform;\n\n        return this;\n\n    };\n\n    this.addHandler = function(regex, loader) {\n\n        handlers.push(regex, loader);\n\n        return this;\n\n    };\n\n    this.removeHandler = function(regex) {\n\n        const index = handlers.indexOf(regex);\n\n        if (index !== -1) {\n\n            handlers.splice(index, 2);\n\n        }\n\n        return this;\n\n    };\n\n    this.getHandler = function(file) {\n\n        for (let i = 0, l = handlers.length; i < l; i += 2) {\n\n            const regex = handlers[i];\n            const loader = handlers[i + 1];\n\n            if (regex.global) regex.lastIndex = 0; // see #17920\n\n            if (regex.test(file)) {\n\n                return loader;\n\n            }\n\n        }\n\n        return null;\n\n    };\n\n}\n\nconst DefaultLoadingManager = new LoadingManager();\n\nfunction Loader(manager) {\n\n    this.manager = (manager !== undefined) ? manager : DefaultLoadingManager;\n\n    this.crossOrigin = 'anonymous';\n    this.withCredentials = false;\n    this.path = '';\n    this.resourcePath = '';\n    this.requestHeader = {};\n\n}\n\nObject.assign(Loader.prototype, {\n\n    load: function( /* url, onLoad, onProgress, onError */ ) {},\n\n    loadAsync: function(url, onProgress) {\n\n        const scope = this;\n\n        return new Promise(function(resolve, reject) {\n\n            scope.load(url, resolve, onProgress, reject);\n\n        });\n\n    },\n\n    parse: function( /* data */ ) {},\n\n    setCrossOrigin: function(crossOrigin) {\n\n        this.crossOrigin = crossOrigin;\n        return this;\n\n    },\n\n    setWithCredentials: function(value) {\n\n        this.withCredentials = value;\n        return this;\n\n    },\n\n    setPath: function(path) {\n\n        this.path = path;\n        return this;\n\n    },\n\n    setResourcePath: function(resourcePath) {\n\n        this.resourcePath = resourcePath;\n        return this;\n\n    },\n\n    setRequestHeader: function(requestHeader) {\n\n        this.requestHeader = requestHeader;\n        return this;\n\n    }\n\n});\n\nconst loading = {};\n\nfunction FileLoader(manager) {\n\n    Loader.call(this, manager);\n\n}\n\nFileLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n\n    constructor: FileLoader,\n\n    load: function(url, onLoad, onProgress, onError) {\n\n        if (url === undefined) url = '';\n\n        if (this.path !== undefined) url = this.path + url;\n\n        url = this.manager.resolveURL(url);\n\n        const scope = this;\n\n        const cached = Cache.get(url);\n\n        if (cached !== undefined) {\n\n            scope.manager.itemStart(url);\n\n            setTimeout(function() {\n\n                if (onLoad) onLoad(cached);\n\n                scope.manager.itemEnd(url);\n\n            }, 0);\n\n            return cached;\n\n        }\n\n        // Check if request is duplicate\n\n        if (loading[url] !== undefined) {\n\n            loading[url].push({\n\n                onLoad: onLoad,\n                onProgress: onProgress,\n                onError: onError\n\n            });\n\n            return;\n\n        }\n\n        // Check for data: URI\n        const dataUriRegex = /^data:(.*?)(;base64)?,(.*)$/;\n        const dataUriRegexResult = url.match(dataUriRegex);\n        let request;\n\n        // Safari can not handle Data URIs through XMLHttpRequest so process manually\n        if (dataUriRegexResult) {\n\n            const mimeType = dataUriRegexResult[1];\n            const isBase64 = !!dataUriRegexResult[2];\n\n            let data = dataUriRegexResult[3];\n            data = decodeURIComponent(data);\n\n            if (isBase64) data = atob(data);\n\n            try {\n\n                let response;\n                const responseType = (this.responseType || '').toLowerCase();\n\n                switch (responseType) {\n\n                    case 'arraybuffer':\n                    case 'blob':\n\n                        const view = new Uint8Array(data.length);\n\n                        for (let i = 0; i < data.length; i++) {\n\n                            view[i] = data.charCodeAt(i);\n\n                        }\n\n                        if (responseType === 'blob') {\n\n                            response = new Blob([view.buffer], {\n                                type: mimeType\n                            });\n\n                        } else {\n\n                            response = view.buffer;\n\n                        }\n\n                        break;\n\n                    case 'document':\n\n                        const parser = new DOMParser();\n                        response = parser.parseFromString(data, mimeType);\n\n                        break;\n\n                    case 'json':\n\n                        response = JSON.parse(data);\n\n                        break;\n\n                    default: // 'text' or other\n\n                        response = data;\n\n                        break;\n\n                }\n\n                // Wait for next browser tick like standard XMLHttpRequest event dispatching does\n                setTimeout(function() {\n\n                    if (onLoad) onLoad(response);\n\n                    scope.manager.itemEnd(url);\n\n                }, 0);\n\n            } catch (error) {\n\n                // Wait for next browser tick like standard XMLHttpRequest event dispatching does\n                setTimeout(function() {\n\n                    if (onError) onError(error);\n\n                    scope.manager.itemError(url);\n                    scope.manager.itemEnd(url);\n\n                }, 0);\n\n            }\n\n        } else {\n\n            // Initialise array for duplicate requests\n\n            loading[url] = [];\n\n            loading[url].push({\n\n                onLoad: onLoad,\n                onProgress: onProgress,\n                onError: onError\n\n            });\n\n            request = new XMLHttpRequest();\n\n            request.open('GET', url, true);\n\n            request.addEventListener('load', function(event) {\n\n                const response = this.response;\n\n                const callbacks = loading[url];\n\n                delete loading[url];\n\n                if (this.status === 200 || this.status === 0) {\n\n                    // Some browsers return HTTP Status 0 when using non-http protocol\n                    // e.g. 'file://' or 'data://'. Handle as success.\n\n                    if (this.status === 0) console.warn('THREE.FileLoader: HTTP Status 0 received.');\n\n                    // Add to cache only on HTTP success, so that we do not cache\n                    // error response bodies as proper responses to requests.\n                    Cache.add(url, response);\n\n                    for (let i = 0, il = callbacks.length; i < il; i++) {\n\n                        const callback = callbacks[i];\n                        if (callback.onLoad) callback.onLoad(response);\n\n                    }\n\n                    scope.manager.itemEnd(url);\n\n                } else {\n\n                    for (let i = 0, il = callbacks.length; i < il; i++) {\n\n                        const callback = callbacks[i];\n                        if (callback.onError) callback.onError(event);\n\n                    }\n\n                    scope.manager.itemError(url);\n                    scope.manager.itemEnd(url);\n\n                }\n\n            }, false);\n\n            request.addEventListener('progress', function(event) {\n\n                const callbacks = loading[url];\n\n                for (let i = 0, il = callbacks.length; i < il; i++) {\n\n                    const callback = callbacks[i];\n                    if (callback.onProgress) callback.onProgress(event);\n\n                }\n\n            }, false);\n\n            request.addEventListener('error', function(event) {\n\n                const callbacks = loading[url];\n\n                delete loading[url];\n\n                for (let i = 0, il = callbacks.length; i < il; i++) {\n\n                    const callback = callbacks[i];\n                    if (callback.onError) callback.onError(event);\n\n                }\n\n                scope.manager.itemError(url);\n                scope.manager.itemEnd(url);\n\n            }, false);\n\n            request.addEventListener('abort', function(event) {\n\n                const callbacks = loading[url];\n\n                delete loading[url];\n\n                for (let i = 0, il = callbacks.length; i < il; i++) {\n\n                    const callback = callbacks[i];\n                    if (callback.onError) callback.onError(event);\n\n                }\n\n                scope.manager.itemError(url);\n                scope.manager.itemEnd(url);\n\n            }, false);\n\n            if (this.responseType !== undefined) request.responseType = this.responseType;\n            if (this.withCredentials !== undefined) request.withCredentials = this.withCredentials;\n\n            if (request.overrideMimeType) request.overrideMimeType(this.mimeType !== undefined ? this.mimeType : 'text/plain');\n\n            for (const header in this.requestHeader) {\n\n                request.setRequestHeader(header, this.requestHeader[header]);\n\n            }\n\n            request.send(null);\n\n        }\n\n        scope.manager.itemStart(url);\n\n        return request;\n\n    },\n\n    setResponseType: function(value) {\n\n        this.responseType = value;\n        return this;\n\n    },\n\n    setMimeType: function(value) {\n\n        this.mimeType = value;\n        return this;\n\n    }\n\n});\n\nfunction AnimationLoader(manager) {\n\n    Loader.call(this, manager);\n\n}\n\nAnimationLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n\n    constructor: AnimationLoader,\n\n    load: function(url, onLoad, onProgress, onError) {\n\n        const scope = this;\n\n        const loader = new FileLoader(scope.manager);\n        loader.setPath(scope.path);\n        loader.setRequestHeader(scope.requestHeader);\n        loader.setWithCredentials(scope.withCredentials);\n        loader.load(url, function(text) {\n\n            try {\n\n                onLoad(scope.parse(JSON.parse(text)));\n\n            } catch (e) {\n\n                if (onError) {\n\n                    onError(e);\n\n                } else {\n\n                    console.error(e);\n\n                }\n\n                scope.manager.itemError(url);\n\n            }\n\n        }, onProgress, onError);\n\n    },\n\n    parse: function(json) {\n\n        const animations = [];\n\n        for (let i = 0; i < json.length; i++) {\n\n            const clip = AnimationClip.parse(json[i]);\n\n            animations.push(clip);\n\n        }\n\n        return animations;\n\n    }\n\n});\n\n/**\n * Abstract Base class to block based textures loader (dds, pvr, ...)\n *\n * Sub classes have to implement the parse() method which will be used in load().\n */\n\nfunction CompressedTextureLoader(manager) {\n\n    Loader.call(this, manager);\n\n}\n\nCompressedTextureLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n\n    constructor: CompressedTextureLoader,\n\n    load: function(url, onLoad, onProgress, onError) {\n\n        const scope = this;\n\n        const images = [];\n\n        const texture = new CompressedTexture();\n        texture.image = images;\n\n        const loader = new FileLoader(this.manager);\n        loader.setPath(this.path);\n        loader.setResponseType('arraybuffer');\n        loader.setRequestHeader(this.requestHeader);\n        loader.setWithCredentials(scope.withCredentials);\n\n        let loaded = 0;\n\n        function loadTexture(i) {\n\n            loader.load(url[i], function(buffer) {\n\n                const texDatas = scope.parse(buffer, true);\n\n                images[i] = {\n                    width: texDatas.width,\n                    height: texDatas.height,\n                    format: texDatas.format,\n                    mipmaps: texDatas.mipmaps\n                };\n\n                loaded += 1;\n\n                if (loaded === 6) {\n\n                    if (texDatas.mipmapCount === 1)\n                        texture.minFilter = LinearFilter;\n\n                    texture.format = texDatas.format;\n                    texture.needsUpdate = true;\n\n                    if (onLoad) onLoad(texture);\n\n                }\n\n            }, onProgress, onError);\n\n        }\n\n        if (Array.isArray(url)) {\n\n            for (let i = 0, il = url.length; i < il; ++i) {\n\n                loadTexture(i);\n\n            }\n\n        } else {\n\n            // compressed cubemap texture stored in a single DDS file\n\n            loader.load(url, function(buffer) {\n\n                const texDatas = scope.parse(buffer, true);\n\n                if (texDatas.isCubemap) {\n\n                    const faces = texDatas.mipmaps.length / texDatas.mipmapCount;\n\n                    for (let f = 0; f < faces; f++) {\n\n                        images[f] = {\n                            mipmaps: []\n                        };\n\n                        for (let i = 0; i < texDatas.mipmapCount; i++) {\n\n                            images[f].mipmaps.push(texDatas.mipmaps[f * texDatas.mipmapCount + i]);\n                            images[f].format = texDatas.format;\n                            images[f].width = texDatas.width;\n                            images[f].height = texDatas.height;\n\n                        }\n\n                    }\n\n                } else {\n\n                    texture.image.width = texDatas.width;\n                    texture.image.height = texDatas.height;\n                    texture.mipmaps = texDatas.mipmaps;\n\n                }\n\n                if (texDatas.mipmapCount === 1) {\n\n                    texture.minFilter = LinearFilter;\n\n                }\n\n                texture.format = texDatas.format;\n                texture.needsUpdate = true;\n\n                if (onLoad) onLoad(texture);\n\n            }, onProgress, onError);\n\n        }\n\n        return texture;\n\n    }\n\n});\n\nfunction ImageLoader(manager) {\n\n    Loader.call(this, manager);\n\n}\n\nImageLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n\n    constructor: ImageLoader,\n\n    load: function(url, onLoad, onProgress, onError) {\n\n        if (this.path !== undefined) url = this.path + url;\n\n        url = this.manager.resolveURL(url);\n\n        const scope = this;\n\n        const cached = Cache.get(url);\n\n        if (cached !== undefined) {\n\n            scope.manager.itemStart(url);\n\n            setTimeout(function() {\n\n                if (onLoad) onLoad(cached);\n\n                scope.manager.itemEnd(url);\n\n            }, 0);\n\n            return cached;\n\n        }\n\n        const image = document.createElementNS('http://www.w3.org/1999/xhtml', 'img');\n\n        function onImageLoad() {\n\n            image.removeEventListener('load', onImageLoad, false);\n            image.removeEventListener('error', onImageError, false);\n\n            Cache.add(url, this);\n\n            if (onLoad) onLoad(this);\n\n            scope.manager.itemEnd(url);\n\n        }\n\n        function onImageError(event) {\n\n            image.removeEventListener('load', onImageLoad, false);\n            image.removeEventListener('error', onImageError, false);\n\n            if (onError) onError(event);\n\n            scope.manager.itemError(url);\n            scope.manager.itemEnd(url);\n\n        }\n\n        image.addEventListener('load', onImageLoad, false);\n        image.addEventListener('error', onImageError, false);\n\n        if (url.substr(0, 5) !== 'data:') {\n\n            if (this.crossOrigin !== undefined) image.crossOrigin = this.crossOrigin;\n\n        }\n\n        scope.manager.itemStart(url);\n\n        image.src = url;\n\n        return image;\n\n    }\n\n});\n\nfunction CubeTextureLoader(manager) {\n\n    Loader.call(this, manager);\n\n}\n\nCubeTextureLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n\n    constructor: CubeTextureLoader,\n\n    load: function(urls, onLoad, onProgress, onError) {\n\n        const texture = new CubeTexture();\n\n        const loader = new ImageLoader(this.manager);\n        loader.setCrossOrigin(this.crossOrigin);\n        loader.setPath(this.path);\n\n        let loaded = 0;\n\n        function loadTexture(i) {\n\n            loader.load(urls[i], function(image) {\n\n                texture.images[i] = image;\n\n                loaded++;\n\n                if (loaded === 6) {\n\n                    texture.needsUpdate = true;\n\n                    if (onLoad) onLoad(texture);\n\n                }\n\n            }, undefined, onError);\n\n        }\n\n        for (let i = 0; i < urls.length; ++i) {\n\n            loadTexture(i);\n\n        }\n\n        return texture;\n\n    }\n\n});\n\n/**\n * Abstract Base class to load generic binary textures formats (rgbe, hdr, ...)\n *\n * Sub classes have to implement the parse() method which will be used in load().\n */\n\nfunction DataTextureLoader(manager) {\n\n    Loader.call(this, manager);\n\n}\n\nDataTextureLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n\n    constructor: DataTextureLoader,\n\n    load: function(url, onLoad, onProgress, onError) {\n\n        const scope = this;\n\n        const texture = new DataTexture();\n\n        const loader = new FileLoader(this.manager);\n        loader.setResponseType('arraybuffer');\n        loader.setRequestHeader(this.requestHeader);\n        loader.setPath(this.path);\n        loader.setWithCredentials(scope.withCredentials);\n        loader.load(url, function(buffer) {\n\n            const texData = scope.parse(buffer);\n\n            if (!texData) return;\n\n            if (texData.image !== undefined) {\n\n                texture.image = texData.image;\n\n            } else if (texData.data !== undefined) {\n\n                texture.image.width = texData.width;\n                texture.image.height = texData.height;\n                texture.image.data = texData.data;\n\n            }\n\n            texture.wrapS = texData.wrapS !== undefined ? texData.wrapS : ClampToEdgeWrapping;\n            texture.wrapT = texData.wrapT !== undefined ? texData.wrapT : ClampToEdgeWrapping;\n\n            texture.magFilter = texData.magFilter !== undefined ? texData.magFilter : LinearFilter;\n            texture.minFilter = texData.minFilter !== undefined ? texData.minFilter : LinearFilter;\n\n            texture.anisotropy = texData.anisotropy !== undefined ? texData.anisotropy : 1;\n\n            if (texData.format !== undefined) {\n\n                texture.format = texData.format;\n\n            }\n\n            if (texData.type !== undefined) {\n\n                texture.type = texData.type;\n\n            }\n\n            if (texData.mipmaps !== undefined) {\n\n                texture.mipmaps = texData.mipmaps;\n                texture.minFilter = LinearMipmapLinearFilter; // presumably...\n\n            }\n\n            if (texData.mipmapCount === 1) {\n\n                texture.minFilter = LinearFilter;\n\n            }\n\n            texture.needsUpdate = true;\n\n            if (onLoad) onLoad(texture, texData);\n\n        }, onProgress, onError);\n\n\n        return texture;\n\n    }\n\n});\n\nfunction TextureLoader(manager) {\n\n    Loader.call(this, manager);\n\n}\n\nTextureLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n\n    constructor: TextureLoader,\n\n    load: function(url, onLoad, onProgress, onError) {\n\n        const texture = new Texture();\n\n        const loader = new ImageLoader(this.manager);\n        loader.setCrossOrigin(this.crossOrigin);\n        loader.setPath(this.path);\n\n        loader.load(url, function(image) {\n\n            texture.image = image;\n\n            // JPEGs can't have an alpha channel, so memory can be saved by storing them as RGB.\n            const isJPEG = url.search(/\\.jpe?g($|\\?)/i) > 0 || url.search(/^data\\:image\\/jpeg/) === 0;\n\n            texture.format = isJPEG ? RGBFormat : RGBAFormat;\n            texture.needsUpdate = true;\n\n            if (onLoad !== undefined) {\n\n                onLoad(texture);\n\n            }\n\n        }, onProgress, onError);\n\n        return texture;\n\n    }\n\n});\n\n/**\n * Extensible curve object.\n *\n * Some common of curve methods:\n * .getPoint( t, optionalTarget ), .getTangent( t, optionalTarget )\n * .getPointAt( u, optionalTarget ), .getTangentAt( u, optionalTarget )\n * .getPoints(), .getSpacedPoints()\n * .getLength()\n * .updateArcLengths()\n *\n * This following curves inherit from THREE.Curve:\n *\n * -- 2D curves --\n * THREE.ArcCurve\n * THREE.CubicBezierCurve\n * THREE.EllipseCurve\n * THREE.LineCurve\n * THREE.QuadraticBezierCurve\n * THREE.SplineCurve\n *\n * -- 3D curves --\n * THREE.CatmullRomCurve3\n * THREE.CubicBezierCurve3\n * THREE.LineCurve3\n * THREE.QuadraticBezierCurve3\n *\n * A series of curves can be represented as a THREE.CurvePath.\n *\n **/\n\nfunction Curve() {\n\n    this.type = 'Curve';\n\n    this.arcLengthDivisions = 200;\n\n}\n\nObject.assign(Curve.prototype, {\n\n    // Virtual base class method to overwrite and implement in subclasses\n    //\t- t [0 .. 1]\n\n    getPoint: function( /* t, optionalTarget */ ) {\n\n        console.warn('THREE.Curve: .getPoint() not implemented.');\n        return null;\n\n    },\n\n    // Get point at relative position in curve according to arc length\n    // - u [0 .. 1]\n\n    getPointAt: function(u, optionalTarget) {\n\n        const t = this.getUtoTmapping(u);\n        return this.getPoint(t, optionalTarget);\n\n    },\n\n    // Get sequence of points using getPoint( t )\n\n    getPoints: function(divisions) {\n\n        if (divisions === undefined) divisions = 5;\n\n        const points = [];\n\n        for (let d = 0; d <= divisions; d++) {\n\n            points.push(this.getPoint(d / divisions));\n\n        }\n\n        return points;\n\n    },\n\n    // Get sequence of points using getPointAt( u )\n\n    getSpacedPoints: function(divisions) {\n\n        if (divisions === undefined) divisions = 5;\n\n        const points = [];\n\n        for (let d = 0; d <= divisions; d++) {\n\n            points.push(this.getPointAt(d / divisions));\n\n        }\n\n        return points;\n\n    },\n\n    // Get total curve arc length\n\n    getLength: function() {\n\n        const lengths = this.getLengths();\n        return lengths[lengths.length - 1];\n\n    },\n\n    // Get list of cumulative segment lengths\n\n    getLengths: function(divisions) {\n\n        if (divisions === undefined) divisions = this.arcLengthDivisions;\n\n        if (this.cacheArcLengths &&\n            (this.cacheArcLengths.length === divisions + 1) &&\n            !this.needsUpdate) {\n\n            return this.cacheArcLengths;\n\n        }\n\n        this.needsUpdate = false;\n\n        const cache = [];\n        let current, last = this.getPoint(0);\n        let sum = 0;\n\n        cache.push(0);\n\n        for (let p = 1; p <= divisions; p++) {\n\n            current = this.getPoint(p / divisions);\n            sum += current.distanceTo(last);\n            cache.push(sum);\n            last = current;\n\n        }\n\n        this.cacheArcLengths = cache;\n\n        return cache; // { sums: cache, sum: sum }; Sum is in the last element.\n\n    },\n\n    updateArcLengths: function() {\n\n        this.needsUpdate = true;\n        this.getLengths();\n\n    },\n\n    // Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant\n\n    getUtoTmapping: function(u, distance) {\n\n        const arcLengths = this.getLengths();\n\n        let i = 0;\n        const il = arcLengths.length;\n\n        let targetArcLength; // The targeted u distance value to get\n\n        if (distance) {\n\n            targetArcLength = distance;\n\n        } else {\n\n            targetArcLength = u * arcLengths[il - 1];\n\n        }\n\n        // binary search for the index with largest value smaller than target u distance\n\n        let low = 0,\n            high = il - 1,\n            comparison;\n\n        while (low <= high) {\n\n            i = Math.floor(low + (high - low) / 2); // less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats\n\n            comparison = arcLengths[i] - targetArcLength;\n\n            if (comparison < 0) {\n\n                low = i + 1;\n\n            } else if (comparison > 0) {\n\n                high = i - 1;\n\n            } else {\n\n                high = i;\n                break;\n\n                // DONE\n\n            }\n\n        }\n\n        i = high;\n\n        if (arcLengths[i] === targetArcLength) {\n\n            return i / (il - 1);\n\n        }\n\n        // we could get finer grain at lengths, or use simple interpolation between two points\n\n        const lengthBefore = arcLengths[i];\n        const lengthAfter = arcLengths[i + 1];\n\n        const segmentLength = lengthAfter - lengthBefore;\n\n        // determine where we are between the 'before' and 'after' points\n\n        const segmentFraction = (targetArcLength - lengthBefore) / segmentLength;\n\n        // add that fractional amount to t\n\n        const t = (i + segmentFraction) / (il - 1);\n\n        return t;\n\n    },\n\n    // Returns a unit vector tangent at t\n    // In case any sub curve does not implement its tangent derivation,\n    // 2 points a small delta apart will be used to find its gradient\n    // which seems to give a reasonable approximation\n\n    getTangent: function(t, optionalTarget) {\n\n        const delta = 0.0001;\n        let t1 = t - delta;\n        let t2 = t + delta;\n\n        // Capping in case of danger\n\n        if (t1 < 0) t1 = 0;\n        if (t2 > 1) t2 = 1;\n\n        const pt1 = this.getPoint(t1);\n        const pt2 = this.getPoint(t2);\n\n        const tangent = optionalTarget || ((pt1.isVector2) ? new Vector2() : new Vector3());\n\n        tangent.copy(pt2).sub(pt1).normalize();\n\n        return tangent;\n\n    },\n\n    getTangentAt: function(u, optionalTarget) {\n\n        const t = this.getUtoTmapping(u);\n        return this.getTangent(t, optionalTarget);\n\n    },\n\n    computeFrenetFrames: function(segments, closed) {\n\n        // see http://www.cs.indiana.edu/pub/techreports/TR425.pdf\n\n        const normal = new Vector3();\n\n        const tangents = [];\n        const normals = [];\n        const binormals = [];\n\n        const vec = new Vector3();\n        const mat = new Matrix4();\n\n        // compute the tangent vectors for each segment on the curve\n\n        for (let i = 0; i <= segments; i++) {\n\n            const u = i / segments;\n\n            tangents[i] = this.getTangentAt(u, new Vector3());\n            tangents[i].normalize();\n\n        }\n\n        // select an initial normal vector perpendicular to the first tangent vector,\n        // and in the direction of the minimum tangent xyz component\n\n        normals[0] = new Vector3();\n        binormals[0] = new Vector3();\n        let min = Number.MAX_VALUE;\n        const tx = Math.abs(tangents[0].x);\n        const ty = Math.abs(tangents[0].y);\n        const tz = Math.abs(tangents[0].z);\n\n        if (tx <= min) {\n\n            min = tx;\n            normal.set(1, 0, 0);\n\n        }\n\n        if (ty <= min) {\n\n            min = ty;\n            normal.set(0, 1, 0);\n\n        }\n\n        if (tz <= min) {\n\n            normal.set(0, 0, 1);\n\n        }\n\n        vec.crossVectors(tangents[0], normal).normalize();\n\n        normals[0].crossVectors(tangents[0], vec);\n        binormals[0].crossVectors(tangents[0], normals[0]);\n\n\n        // compute the slowly-varying normal and binormal vectors for each segment on the curve\n\n        for (let i = 1; i <= segments; i++) {\n\n            normals[i] = normals[i - 1].clone();\n\n            binormals[i] = binormals[i - 1].clone();\n\n            vec.crossVectors(tangents[i - 1], tangents[i]);\n\n            if (vec.length() > Number.EPSILON) {\n\n                vec.normalize();\n\n                const theta = Math.acos(MathUtils.clamp(tangents[i - 1].dot(tangents[i]), -1, 1)); // clamp for floating pt errors\n\n                normals[i].applyMatrix4(mat.makeRotationAxis(vec, theta));\n\n            }\n\n            binormals[i].crossVectors(tangents[i], normals[i]);\n\n        }\n\n        // if the curve is closed, postprocess the vectors so the first and last normal vectors are the same\n\n        if (closed === true) {\n\n            let theta = Math.acos(MathUtils.clamp(normals[0].dot(normals[segments]), -1, 1));\n            theta /= segments;\n\n            if (tangents[0].dot(vec.crossVectors(normals[0], normals[segments])) > 0) {\n\n                theta = -theta;\n\n            }\n\n            for (let i = 1; i <= segments; i++) {\n\n                // twist a little...\n                normals[i].applyMatrix4(mat.makeRotationAxis(tangents[i], theta * i));\n                binormals[i].crossVectors(tangents[i], normals[i]);\n\n            }\n\n        }\n\n        return {\n            tangents: tangents,\n            normals: normals,\n            binormals: binormals\n        };\n\n    },\n\n    clone: function() {\n\n        return new this.constructor().copy(this);\n\n    },\n\n    copy: function(source) {\n\n        this.arcLengthDivisions = source.arcLengthDivisions;\n\n        return this;\n\n    },\n\n    toJSON: function() {\n\n        const data = {\n            metadata: {\n                version: 4.5,\n                type: 'Curve',\n                generator: 'Curve.toJSON'\n            }\n        };\n\n        data.arcLengthDivisions = this.arcLengthDivisions;\n        data.type = this.type;\n\n        return data;\n\n    },\n\n    fromJSON: function(json) {\n\n        this.arcLengthDivisions = json.arcLengthDivisions;\n\n        return this;\n\n    }\n\n});\n\nfunction EllipseCurve(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation) {\n\n    Curve.call(this);\n\n    this.type = 'EllipseCurve';\n\n    this.aX = aX || 0;\n    this.aY = aY || 0;\n\n    this.xRadius = xRadius || 1;\n    this.yRadius = yRadius || 1;\n\n    this.aStartAngle = aStartAngle || 0;\n    this.aEndAngle = aEndAngle || 2 * Math.PI;\n\n    this.aClockwise = aClockwise || false;\n\n    this.aRotation = aRotation || 0;\n\n}\n\nEllipseCurve.prototype = Object.create(Curve.prototype);\nEllipseCurve.prototype.constructor = EllipseCurve;\n\nEllipseCurve.prototype.isEllipseCurve = true;\n\nEllipseCurve.prototype.getPoint = function(t, optionalTarget) {\n\n    const point = optionalTarget || new Vector2();\n\n    const twoPi = Math.PI * 2;\n    let deltaAngle = this.aEndAngle - this.aStartAngle;\n    const samePoints = Math.abs(deltaAngle) < Number.EPSILON;\n\n    // ensures that deltaAngle is 0 .. 2 PI\n    while (deltaAngle < 0) deltaAngle += twoPi;\n    while (deltaAngle > twoPi) deltaAngle -= twoPi;\n\n    if (deltaAngle < Number.EPSILON) {\n\n        if (samePoints) {\n\n            deltaAngle = 0;\n\n        } else {\n\n            deltaAngle = twoPi;\n\n        }\n\n    }\n\n    if (this.aClockwise === true && !samePoints) {\n\n        if (deltaAngle === twoPi) {\n\n            deltaAngle = -twoPi;\n\n        } else {\n\n            deltaAngle = deltaAngle - twoPi;\n\n        }\n\n    }\n\n    const angle = this.aStartAngle + t * deltaAngle;\n    let x = this.aX + this.xRadius * Math.cos(angle);\n    let y = this.aY + this.yRadius * Math.sin(angle);\n\n    if (this.aRotation !== 0) {\n\n        const cos = Math.cos(this.aRotation);\n        const sin = Math.sin(this.aRotation);\n\n        const tx = x - this.aX;\n        const ty = y - this.aY;\n\n        // Rotate the point about the center of the ellipse.\n        x = tx * cos - ty * sin + this.aX;\n        y = tx * sin + ty * cos + this.aY;\n\n    }\n\n    return point.set(x, y);\n\n};\n\nEllipseCurve.prototype.copy = function(source) {\n\n    Curve.prototype.copy.call(this, source);\n\n    this.aX = source.aX;\n    this.aY = source.aY;\n\n    this.xRadius = source.xRadius;\n    this.yRadius = source.yRadius;\n\n    this.aStartAngle = source.aStartAngle;\n    this.aEndAngle = source.aEndAngle;\n\n    this.aClockwise = source.aClockwise;\n\n    this.aRotation = source.aRotation;\n\n    return this;\n\n};\n\n\nEllipseCurve.prototype.toJSON = function() {\n\n    const data = Curve.prototype.toJSON.call(this);\n\n    data.aX = this.aX;\n    data.aY = this.aY;\n\n    data.xRadius = this.xRadius;\n    data.yRadius = this.yRadius;\n\n    data.aStartAngle = this.aStartAngle;\n    data.aEndAngle = this.aEndAngle;\n\n    data.aClockwise = this.aClockwise;\n\n    data.aRotation = this.aRotation;\n\n    return data;\n\n};\n\nEllipseCurve.prototype.fromJSON = function(json) {\n\n    Curve.prototype.fromJSON.call(this, json);\n\n    this.aX = json.aX;\n    this.aY = json.aY;\n\n    this.xRadius = json.xRadius;\n    this.yRadius = json.yRadius;\n\n    this.aStartAngle = json.aStartAngle;\n    this.aEndAngle = json.aEndAngle;\n\n    this.aClockwise = json.aClockwise;\n\n    this.aRotation = json.aRotation;\n\n    return this;\n\n};\n\nfunction ArcCurve(aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise) {\n\n    EllipseCurve.call(this, aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise);\n\n    this.type = 'ArcCurve';\n\n}\n\nArcCurve.prototype = Object.create(EllipseCurve.prototype);\nArcCurve.prototype.constructor = ArcCurve;\n\nArcCurve.prototype.isArcCurve = true;\n\n/**\n * Centripetal CatmullRom Curve - which is useful for avoiding\n * cusps and self-intersections in non-uniform catmull rom curves.\n * http://www.cemyuksel.com/research/catmullrom_param/catmullrom.pdf\n *\n * curve.type accepts centripetal(default), chordal and catmullrom\n * curve.tension is used for catmullrom which defaults to 0.5\n */\n\n\n/*\nBased on an optimized c++ solution in\n - http://stackoverflow.com/questions/9489736/catmull-rom-curve-with-no-cusps-and-no-self-intersections/\n - http://ideone.com/NoEbVM\n\nThis CubicPoly class could be used for reusing some variables and calculations,\nbut for three.js curve use, it could be possible inlined and flatten into a single function call\nwhich can be placed in CurveUtils.\n*/\n\nfunction CubicPoly() {\n\n    let c0 = 0,\n        c1 = 0,\n        c2 = 0,\n        c3 = 0;\n\n    /*\n     * Compute coefficients for a cubic polynomial\n     *   p(s) = c0 + c1*s + c2*s^2 + c3*s^3\n     * such that\n     *   p(0) = x0, p(1) = x1\n     *  and\n     *   p'(0) = t0, p'(1) = t1.\n     */\n    function init(x0, x1, t0, t1) {\n\n        c0 = x0;\n        c1 = t0;\n        c2 = -3 * x0 + 3 * x1 - 2 * t0 - t1;\n        c3 = 2 * x0 - 2 * x1 + t0 + t1;\n\n    }\n\n    return {\n\n        initCatmullRom: function(x0, x1, x2, x3, tension) {\n\n            init(x1, x2, tension * (x2 - x0), tension * (x3 - x1));\n\n        },\n\n        initNonuniformCatmullRom: function(x0, x1, x2, x3, dt0, dt1, dt2) {\n\n            // compute tangents when parameterized in [t1,t2]\n            let t1 = (x1 - x0) / dt0 - (x2 - x0) / (dt0 + dt1) + (x2 - x1) / dt1;\n            let t2 = (x2 - x1) / dt1 - (x3 - x1) / (dt1 + dt2) + (x3 - x2) / dt2;\n\n            // rescale tangents for parametrization in [0,1]\n            t1 *= dt1;\n            t2 *= dt1;\n\n            init(x1, x2, t1, t2);\n\n        },\n\n        calc: function(t) {\n\n            const t2 = t * t;\n            const t3 = t2 * t;\n            return c0 + c1 * t + c2 * t2 + c3 * t3;\n\n        }\n\n    };\n\n}\n\n//\n\nconst tmp = new Vector3();\nconst px = new CubicPoly(),\n    py = new CubicPoly(),\n    pz = new CubicPoly();\n\nfunction CatmullRomCurve3(points, closed, curveType, tension) {\n\n    Curve.call(this);\n\n    this.type = 'CatmullRomCurve3';\n\n    this.points = points || [];\n    this.closed = closed || false;\n    this.curveType = curveType || 'centripetal';\n    this.tension = (tension !== undefined) ? tension : 0.5;\n\n}\n\nCatmullRomCurve3.prototype = Object.create(Curve.prototype);\nCatmullRomCurve3.prototype.constructor = CatmullRomCurve3;\n\nCatmullRomCurve3.prototype.isCatmullRomCurve3 = true;\n\nCatmullRomCurve3.prototype.getPoint = function(t, optionalTarget) {\n\n    const point = optionalTarget || new Vector3();\n\n    const points = this.points;\n    const l = points.length;\n\n    const p = (l - (this.closed ? 0 : 1)) * t;\n    let intPoint = Math.floor(p);\n    let weight = p - intPoint;\n\n    if (this.closed) {\n\n        intPoint += intPoint > 0 ? 0 : (Math.floor(Math.abs(intPoint) / l) + 1) * l;\n\n    } else if (weight === 0 && intPoint === l - 1) {\n\n        intPoint = l - 2;\n        weight = 1;\n\n    }\n\n    let p0, p3; // 4 points (p1 & p2 defined below)\n\n    if (this.closed || intPoint > 0) {\n\n        p0 = points[(intPoint - 1) % l];\n\n    } else {\n\n        // extrapolate first point\n        tmp.subVectors(points[0], points[1]).add(points[0]);\n        p0 = tmp;\n\n    }\n\n    const p1 = points[intPoint % l];\n    const p2 = points[(intPoint + 1) % l];\n\n    if (this.closed || intPoint + 2 < l) {\n\n        p3 = points[(intPoint + 2) % l];\n\n    } else {\n\n        // extrapolate last point\n        tmp.subVectors(points[l - 1], points[l - 2]).add(points[l - 1]);\n        p3 = tmp;\n\n    }\n\n    if (this.curveType === 'centripetal' || this.curveType === 'chordal') {\n\n        // init Centripetal / Chordal Catmull-Rom\n        const pow = this.curveType === 'chordal' ? 0.5 : 0.25;\n        let dt0 = Math.pow(p0.distanceToSquared(p1), pow);\n        let dt1 = Math.pow(p1.distanceToSquared(p2), pow);\n        let dt2 = Math.pow(p2.distanceToSquared(p3), pow);\n\n        // safety check for repeated points\n        if (dt1 < 1e-4) dt1 = 1.0;\n        if (dt0 < 1e-4) dt0 = dt1;\n        if (dt2 < 1e-4) dt2 = dt1;\n\n        px.initNonuniformCatmullRom(p0.x, p1.x, p2.x, p3.x, dt0, dt1, dt2);\n        py.initNonuniformCatmullRom(p0.y, p1.y, p2.y, p3.y, dt0, dt1, dt2);\n        pz.initNonuniformCatmullRom(p0.z, p1.z, p2.z, p3.z, dt0, dt1, dt2);\n\n    } else if (this.curveType === 'catmullrom') {\n\n        px.initCatmullRom(p0.x, p1.x, p2.x, p3.x, this.tension);\n        py.initCatmullRom(p0.y, p1.y, p2.y, p3.y, this.tension);\n        pz.initCatmullRom(p0.z, p1.z, p2.z, p3.z, this.tension);\n\n    }\n\n    point.set(\n        px.calc(weight),\n        py.calc(weight),\n        pz.calc(weight)\n    );\n\n    return point;\n\n};\n\nCatmullRomCurve3.prototype.copy = function(source) {\n\n    Curve.prototype.copy.call(this, source);\n\n    this.points = [];\n\n    for (let i = 0, l = source.points.length; i < l; i++) {\n\n        const point = source.points[i];\n\n        this.points.push(point.clone());\n\n    }\n\n    this.closed = source.closed;\n    this.curveType = source.curveType;\n    this.tension = source.tension;\n\n    return this;\n\n};\n\nCatmullRomCurve3.prototype.toJSON = function() {\n\n    const data = Curve.prototype.toJSON.call(this);\n\n    data.points = [];\n\n    for (let i = 0, l = this.points.length; i < l; i++) {\n\n        const point = this.points[i];\n        data.points.push(point.toArray());\n\n    }\n\n    data.closed = this.closed;\n    data.curveType = this.curveType;\n    data.tension = this.tension;\n\n    return data;\n\n};\n\nCatmullRomCurve3.prototype.fromJSON = function(json) {\n\n    Curve.prototype.fromJSON.call(this, json);\n\n    this.points = [];\n\n    for (let i = 0, l = json.points.length; i < l; i++) {\n\n        const point = json.points[i];\n        this.points.push(new Vector3().fromArray(point));\n\n    }\n\n    this.closed = json.closed;\n    this.curveType = json.curveType;\n    this.tension = json.tension;\n\n    return this;\n\n};\n\n/**\n * Bezier Curves formulas obtained from\n * http://en.wikipedia.org/wiki/Bézier_curve\n */\n\nfunction CatmullRom(t, p0, p1, p2, p3) {\n\n    const v0 = (p2 - p0) * 0.5;\n    const v1 = (p3 - p1) * 0.5;\n    const t2 = t * t;\n    const t3 = t * t2;\n    return (2 * p1 - 2 * p2 + v0 + v1) * t3 + (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\n\n}\n\n//\n\nfunction QuadraticBezierP0(t, p) {\n\n    const k = 1 - t;\n    return k * k * p;\n\n}\n\nfunction QuadraticBezierP1(t, p) {\n\n    return 2 * (1 - t) * t * p;\n\n}\n\nfunction QuadraticBezierP2(t, p) {\n\n    return t * t * p;\n\n}\n\nfunction QuadraticBezier(t, p0, p1, p2) {\n\n    return QuadraticBezierP0(t, p0) + QuadraticBezierP1(t, p1) +\n        QuadraticBezierP2(t, p2);\n\n}\n\n//\n\nfunction CubicBezierP0(t, p) {\n\n    const k = 1 - t;\n    return k * k * k * p;\n\n}\n\nfunction CubicBezierP1(t, p) {\n\n    const k = 1 - t;\n    return 3 * k * k * t * p;\n\n}\n\nfunction CubicBezierP2(t, p) {\n\n    return 3 * (1 - t) * t * t * p;\n\n}\n\nfunction CubicBezierP3(t, p) {\n\n    return t * t * t * p;\n\n}\n\nfunction CubicBezier(t, p0, p1, p2, p3) {\n\n    return CubicBezierP0(t, p0) + CubicBezierP1(t, p1) + CubicBezierP2(t, p2) +\n        CubicBezierP3(t, p3);\n\n}\n\nfunction CubicBezierCurve(v0, v1, v2, v3) {\n\n    Curve.call(this);\n\n    this.type = 'CubicBezierCurve';\n\n    this.v0 = v0 || new Vector2();\n    this.v1 = v1 || new Vector2();\n    this.v2 = v2 || new Vector2();\n    this.v3 = v3 || new Vector2();\n\n}\n\nCubicBezierCurve.prototype = Object.create(Curve.prototype);\nCubicBezierCurve.prototype.constructor = CubicBezierCurve;\n\nCubicBezierCurve.prototype.isCubicBezierCurve = true;\n\nCubicBezierCurve.prototype.getPoint = function(t, optionalTarget) {\n\n    const point = optionalTarget || new Vector2();\n\n    const v0 = this.v0,\n        v1 = this.v1,\n        v2 = this.v2,\n        v3 = this.v3;\n\n    point.set(\n        CubicBezier(t, v0.x, v1.x, v2.x, v3.x),\n        CubicBezier(t, v0.y, v1.y, v2.y, v3.y)\n    );\n\n    return point;\n\n};\n\nCubicBezierCurve.prototype.copy = function(source) {\n\n    Curve.prototype.copy.call(this, source);\n\n    this.v0.copy(source.v0);\n    this.v1.copy(source.v1);\n    this.v2.copy(source.v2);\n    this.v3.copy(source.v3);\n\n    return this;\n\n};\n\nCubicBezierCurve.prototype.toJSON = function() {\n\n    const data = Curve.prototype.toJSON.call(this);\n\n    data.v0 = this.v0.toArray();\n    data.v1 = this.v1.toArray();\n    data.v2 = this.v2.toArray();\n    data.v3 = this.v3.toArray();\n\n    return data;\n\n};\n\nCubicBezierCurve.prototype.fromJSON = function(json) {\n\n    Curve.prototype.fromJSON.call(this, json);\n\n    this.v0.fromArray(json.v0);\n    this.v1.fromArray(json.v1);\n    this.v2.fromArray(json.v2);\n    this.v3.fromArray(json.v3);\n\n    return this;\n\n};\n\nfunction CubicBezierCurve3(v0, v1, v2, v3) {\n\n    Curve.call(this);\n\n    this.type = 'CubicBezierCurve3';\n\n    this.v0 = v0 || new Vector3();\n    this.v1 = v1 || new Vector3();\n    this.v2 = v2 || new Vector3();\n    this.v3 = v3 || new Vector3();\n\n}\n\nCubicBezierCurve3.prototype = Object.create(Curve.prototype);\nCubicBezierCurve3.prototype.constructor = CubicBezierCurve3;\n\nCubicBezierCurve3.prototype.isCubicBezierCurve3 = true;\n\nCubicBezierCurve3.prototype.getPoint = function(t, optionalTarget) {\n\n    const point = optionalTarget || new Vector3();\n\n    const v0 = this.v0,\n        v1 = this.v1,\n        v2 = this.v2,\n        v3 = this.v3;\n\n    point.set(\n        CubicBezier(t, v0.x, v1.x, v2.x, v3.x),\n        CubicBezier(t, v0.y, v1.y, v2.y, v3.y),\n        CubicBezier(t, v0.z, v1.z, v2.z, v3.z)\n    );\n\n    return point;\n\n};\n\nCubicBezierCurve3.prototype.copy = function(source) {\n\n    Curve.prototype.copy.call(this, source);\n\n    this.v0.copy(source.v0);\n    this.v1.copy(source.v1);\n    this.v2.copy(source.v2);\n    this.v3.copy(source.v3);\n\n    return this;\n\n};\n\nCubicBezierCurve3.prototype.toJSON = function() {\n\n    const data = Curve.prototype.toJSON.call(this);\n\n    data.v0 = this.v0.toArray();\n    data.v1 = this.v1.toArray();\n    data.v2 = this.v2.toArray();\n    data.v3 = this.v3.toArray();\n\n    return data;\n\n};\n\nCubicBezierCurve3.prototype.fromJSON = function(json) {\n\n    Curve.prototype.fromJSON.call(this, json);\n\n    this.v0.fromArray(json.v0);\n    this.v1.fromArray(json.v1);\n    this.v2.fromArray(json.v2);\n    this.v3.fromArray(json.v3);\n\n    return this;\n\n};\n\nfunction LineCurve(v1, v2) {\n\n    Curve.call(this);\n\n    this.type = 'LineCurve';\n\n    this.v1 = v1 || new Vector2();\n    this.v2 = v2 || new Vector2();\n\n}\n\nLineCurve.prototype = Object.create(Curve.prototype);\nLineCurve.prototype.constructor = LineCurve;\n\nLineCurve.prototype.isLineCurve = true;\n\nLineCurve.prototype.getPoint = function(t, optionalTarget) {\n\n    const point = optionalTarget || new Vector2();\n\n    if (t === 1) {\n\n        point.copy(this.v2);\n\n    } else {\n\n        point.copy(this.v2).sub(this.v1);\n        point.multiplyScalar(t).add(this.v1);\n\n    }\n\n    return point;\n\n};\n\n// Line curve is linear, so we can overwrite default getPointAt\n\nLineCurve.prototype.getPointAt = function(u, optionalTarget) {\n\n    return this.getPoint(u, optionalTarget);\n\n};\n\nLineCurve.prototype.getTangent = function(t, optionalTarget) {\n\n    const tangent = optionalTarget || new Vector2();\n\n    tangent.copy(this.v2).sub(this.v1).normalize();\n\n    return tangent;\n\n};\n\nLineCurve.prototype.copy = function(source) {\n\n    Curve.prototype.copy.call(this, source);\n\n    this.v1.copy(source.v1);\n    this.v2.copy(source.v2);\n\n    return this;\n\n};\n\nLineCurve.prototype.toJSON = function() {\n\n    const data = Curve.prototype.toJSON.call(this);\n\n    data.v1 = this.v1.toArray();\n    data.v2 = this.v2.toArray();\n\n    return data;\n\n};\n\nLineCurve.prototype.fromJSON = function(json) {\n\n    Curve.prototype.fromJSON.call(this, json);\n\n    this.v1.fromArray(json.v1);\n    this.v2.fromArray(json.v2);\n\n    return this;\n\n};\n\nfunction LineCurve3(v1, v2) {\n\n    Curve.call(this);\n\n    this.type = 'LineCurve3';\n\n    this.v1 = v1 || new Vector3();\n    this.v2 = v2 || new Vector3();\n\n}\n\nLineCurve3.prototype = Object.create(Curve.prototype);\nLineCurve3.prototype.constructor = LineCurve3;\n\nLineCurve3.prototype.isLineCurve3 = true;\n\nLineCurve3.prototype.getPoint = function(t, optionalTarget) {\n\n    const point = optionalTarget || new Vector3();\n\n    if (t === 1) {\n\n        point.copy(this.v2);\n\n    } else {\n\n        point.copy(this.v2).sub(this.v1);\n        point.multiplyScalar(t).add(this.v1);\n\n    }\n\n    return point;\n\n};\n\n// Line curve is linear, so we can overwrite default getPointAt\n\nLineCurve3.prototype.getPointAt = function(u, optionalTarget) {\n\n    return this.getPoint(u, optionalTarget);\n\n};\n\nLineCurve3.prototype.copy = function(source) {\n\n    Curve.prototype.copy.call(this, source);\n\n    this.v1.copy(source.v1);\n    this.v2.copy(source.v2);\n\n    return this;\n\n};\n\nLineCurve3.prototype.toJSON = function() {\n\n    const data = Curve.prototype.toJSON.call(this);\n\n    data.v1 = this.v1.toArray();\n    data.v2 = this.v2.toArray();\n\n    return data;\n\n};\n\nLineCurve3.prototype.fromJSON = function(json) {\n\n    Curve.prototype.fromJSON.call(this, json);\n\n    this.v1.fromArray(json.v1);\n    this.v2.fromArray(json.v2);\n\n    return this;\n\n};\n\nfunction QuadraticBezierCurve(v0, v1, v2) {\n\n    Curve.call(this);\n\n    this.type = 'QuadraticBezierCurve';\n\n    this.v0 = v0 || new Vector2();\n    this.v1 = v1 || new Vector2();\n    this.v2 = v2 || new Vector2();\n\n}\n\nQuadraticBezierCurve.prototype = Object.create(Curve.prototype);\nQuadraticBezierCurve.prototype.constructor = QuadraticBezierCurve;\n\nQuadraticBezierCurve.prototype.isQuadraticBezierCurve = true;\n\nQuadraticBezierCurve.prototype.getPoint = function(t, optionalTarget) {\n\n    const point = optionalTarget || new Vector2();\n\n    const v0 = this.v0,\n        v1 = this.v1,\n        v2 = this.v2;\n\n    point.set(\n        QuadraticBezier(t, v0.x, v1.x, v2.x),\n        QuadraticBezier(t, v0.y, v1.y, v2.y)\n    );\n\n    return point;\n\n};\n\nQuadraticBezierCurve.prototype.copy = function(source) {\n\n    Curve.prototype.copy.call(this, source);\n\n    this.v0.copy(source.v0);\n    this.v1.copy(source.v1);\n    this.v2.copy(source.v2);\n\n    return this;\n\n};\n\nQuadraticBezierCurve.prototype.toJSON = function() {\n\n    const data = Curve.prototype.toJSON.call(this);\n\n    data.v0 = this.v0.toArray();\n    data.v1 = this.v1.toArray();\n    data.v2 = this.v2.toArray();\n\n    return data;\n\n};\n\nQuadraticBezierCurve.prototype.fromJSON = function(json) {\n\n    Curve.prototype.fromJSON.call(this, json);\n\n    this.v0.fromArray(json.v0);\n    this.v1.fromArray(json.v1);\n    this.v2.fromArray(json.v2);\n\n    return this;\n\n};\n\nfunction QuadraticBezierCurve3(v0, v1, v2) {\n\n    Curve.call(this);\n\n    this.type = 'QuadraticBezierCurve3';\n\n    this.v0 = v0 || new Vector3();\n    this.v1 = v1 || new Vector3();\n    this.v2 = v2 || new Vector3();\n\n}\n\nQuadraticBezierCurve3.prototype = Object.create(Curve.prototype);\nQuadraticBezierCurve3.prototype.constructor = QuadraticBezierCurve3;\n\nQuadraticBezierCurve3.prototype.isQuadraticBezierCurve3 = true;\n\nQuadraticBezierCurve3.prototype.getPoint = function(t, optionalTarget) {\n\n    const point = optionalTarget || new Vector3();\n\n    const v0 = this.v0,\n        v1 = this.v1,\n        v2 = this.v2;\n\n    point.set(\n        QuadraticBezier(t, v0.x, v1.x, v2.x),\n        QuadraticBezier(t, v0.y, v1.y, v2.y),\n        QuadraticBezier(t, v0.z, v1.z, v2.z)\n    );\n\n    return point;\n\n};\n\nQuadraticBezierCurve3.prototype.copy = function(source) {\n\n    Curve.prototype.copy.call(this, source);\n\n    this.v0.copy(source.v0);\n    this.v1.copy(source.v1);\n    this.v2.copy(source.v2);\n\n    return this;\n\n};\n\nQuadraticBezierCurve3.prototype.toJSON = function() {\n\n    const data = Curve.prototype.toJSON.call(this);\n\n    data.v0 = this.v0.toArray();\n    data.v1 = this.v1.toArray();\n    data.v2 = this.v2.toArray();\n\n    return data;\n\n};\n\nQuadraticBezierCurve3.prototype.fromJSON = function(json) {\n\n    Curve.prototype.fromJSON.call(this, json);\n\n    this.v0.fromArray(json.v0);\n    this.v1.fromArray(json.v1);\n    this.v2.fromArray(json.v2);\n\n    return this;\n\n};\n\nfunction SplineCurve(points) {\n\n    Curve.call(this);\n\n    this.type = 'SplineCurve';\n\n    this.points = points || [];\n\n}\n\nSplineCurve.prototype = Object.create(Curve.prototype);\nSplineCurve.prototype.constructor = SplineCurve;\n\nSplineCurve.prototype.isSplineCurve = true;\n\nSplineCurve.prototype.getPoint = function(t, optionalTarget) {\n\n    const point = optionalTarget || new Vector2();\n\n    const points = this.points;\n    const p = (points.length - 1) * t;\n\n    const intPoint = Math.floor(p);\n    const weight = p - intPoint;\n\n    const p0 = points[intPoint === 0 ? intPoint : intPoint - 1];\n    const p1 = points[intPoint];\n    const p2 = points[intPoint > points.length - 2 ? points.length - 1 : intPoint + 1];\n    const p3 = points[intPoint > points.length - 3 ? points.length - 1 : intPoint + 2];\n\n    point.set(\n        CatmullRom(weight, p0.x, p1.x, p2.x, p3.x),\n        CatmullRom(weight, p0.y, p1.y, p2.y, p3.y)\n    );\n\n    return point;\n\n};\n\nSplineCurve.prototype.copy = function(source) {\n\n    Curve.prototype.copy.call(this, source);\n\n    this.points = [];\n\n    for (let i = 0, l = source.points.length; i < l; i++) {\n\n        const point = source.points[i];\n\n        this.points.push(point.clone());\n\n    }\n\n    return this;\n\n};\n\nSplineCurve.prototype.toJSON = function() {\n\n    const data = Curve.prototype.toJSON.call(this);\n\n    data.points = [];\n\n    for (let i = 0, l = this.points.length; i < l; i++) {\n\n        const point = this.points[i];\n        data.points.push(point.toArray());\n\n    }\n\n    return data;\n\n};\n\nSplineCurve.prototype.fromJSON = function(json) {\n\n    Curve.prototype.fromJSON.call(this, json);\n\n    this.points = [];\n\n    for (let i = 0, l = json.points.length; i < l; i++) {\n\n        const point = json.points[i];\n        this.points.push(new Vector2().fromArray(point));\n\n    }\n\n    return this;\n\n};\n\nvar Curves = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    ArcCurve: ArcCurve,\n    CatmullRomCurve3: CatmullRomCurve3,\n    CubicBezierCurve: CubicBezierCurve,\n    CubicBezierCurve3: CubicBezierCurve3,\n    EllipseCurve: EllipseCurve,\n    LineCurve: LineCurve,\n    LineCurve3: LineCurve3,\n    QuadraticBezierCurve: QuadraticBezierCurve,\n    QuadraticBezierCurve3: QuadraticBezierCurve3,\n    SplineCurve: SplineCurve\n});\n\n/**************************************************************\n *\tCurved Path - a curve path is simply a array of connected\n *  curves, but retains the api of a curve\n **************************************************************/\n\nfunction CurvePath() {\n\n    Curve.call(this);\n\n    this.type = 'CurvePath';\n\n    this.curves = [];\n    this.autoClose = false; // Automatically closes the path\n\n}\n\nCurvePath.prototype = Object.assign(Object.create(Curve.prototype), {\n\n    constructor: CurvePath,\n\n    add: function(curve) {\n\n        this.curves.push(curve);\n\n    },\n\n    closePath: function() {\n\n        // Add a line curve if start and end of lines are not connected\n        const startPoint = this.curves[0].getPoint(0);\n        const endPoint = this.curves[this.curves.length - 1].getPoint(1);\n\n        if (!startPoint.equals(endPoint)) {\n\n            this.curves.push(new LineCurve(endPoint, startPoint));\n\n        }\n\n    },\n\n    // To get accurate point with reference to\n    // entire path distance at time t,\n    // following has to be done:\n\n    // 1. Length of each sub path have to be known\n    // 2. Locate and identify type of curve\n    // 3. Get t for the curve\n    // 4. Return curve.getPointAt(t')\n\n    getPoint: function(t) {\n\n        const d = t * this.getLength();\n        const curveLengths = this.getCurveLengths();\n        let i = 0;\n\n        // To think about boundaries points.\n\n        while (i < curveLengths.length) {\n\n            if (curveLengths[i] >= d) {\n\n                const diff = curveLengths[i] - d;\n                const curve = this.curves[i];\n\n                const segmentLength = curve.getLength();\n                const u = segmentLength === 0 ? 0 : 1 - diff / segmentLength;\n\n                return curve.getPointAt(u);\n\n            }\n\n            i++;\n\n        }\n\n        return null;\n\n        // loop where sum != 0, sum > d , sum+1 <d\n\n    },\n\n    // We cannot use the default THREE.Curve getPoint() with getLength() because in\n    // THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath\n    // getPoint() depends on getLength\n\n    getLength: function() {\n\n        const lens = this.getCurveLengths();\n        return lens[lens.length - 1];\n\n    },\n\n    // cacheLengths must be recalculated.\n    updateArcLengths: function() {\n\n        this.needsUpdate = true;\n        this.cacheLengths = null;\n        this.getCurveLengths();\n\n    },\n\n    // Compute lengths and cache them\n    // We cannot overwrite getLengths() because UtoT mapping uses it.\n\n    getCurveLengths: function() {\n\n        // We use cache values if curves and cache array are same length\n\n        if (this.cacheLengths && this.cacheLengths.length === this.curves.length) {\n\n            return this.cacheLengths;\n\n        }\n\n        // Get length of sub-curve\n        // Push sums into cached array\n\n        const lengths = [];\n        let sums = 0;\n\n        for (let i = 0, l = this.curves.length; i < l; i++) {\n\n            sums += this.curves[i].getLength();\n            lengths.push(sums);\n\n        }\n\n        this.cacheLengths = lengths;\n\n        return lengths;\n\n    },\n\n    getSpacedPoints: function(divisions) {\n\n        if (divisions === undefined) divisions = 40;\n\n        const points = [];\n\n        for (let i = 0; i <= divisions; i++) {\n\n            points.push(this.getPoint(i / divisions));\n\n        }\n\n        if (this.autoClose) {\n\n            points.push(points[0]);\n\n        }\n\n        return points;\n\n    },\n\n    getPoints: function(divisions) {\n\n        divisions = divisions || 12;\n\n        const points = [];\n        let last;\n\n        for (let i = 0, curves = this.curves; i < curves.length; i++) {\n\n            const curve = curves[i];\n            const resolution = (curve && curve.isEllipseCurve) ? divisions * 2 :\n                (curve && (curve.isLineCurve || curve.isLineCurve3)) ? 1 :\n                (curve && curve.isSplineCurve) ? divisions * curve.points.length :\n                divisions;\n\n            const pts = curve.getPoints(resolution);\n\n            for (let j = 0; j < pts.length; j++) {\n\n                const point = pts[j];\n\n                if (last && last.equals(point)) continue; // ensures no consecutive points are duplicates\n\n                points.push(point);\n                last = point;\n\n            }\n\n        }\n\n        if (this.autoClose && points.length > 1 && !points[points.length - 1].equals(points[0])) {\n\n            points.push(points[0]);\n\n        }\n\n        return points;\n\n    },\n\n    copy: function(source) {\n\n        Curve.prototype.copy.call(this, source);\n\n        this.curves = [];\n\n        for (let i = 0, l = source.curves.length; i < l; i++) {\n\n            const curve = source.curves[i];\n\n            this.curves.push(curve.clone());\n\n        }\n\n        this.autoClose = source.autoClose;\n\n        return this;\n\n    },\n\n    toJSON: function() {\n\n        const data = Curve.prototype.toJSON.call(this);\n\n        data.autoClose = this.autoClose;\n        data.curves = [];\n\n        for (let i = 0, l = this.curves.length; i < l; i++) {\n\n            const curve = this.curves[i];\n            data.curves.push(curve.toJSON());\n\n        }\n\n        return data;\n\n    },\n\n    fromJSON: function(json) {\n\n        Curve.prototype.fromJSON.call(this, json);\n\n        this.autoClose = json.autoClose;\n        this.curves = [];\n\n        for (let i = 0, l = json.curves.length; i < l; i++) {\n\n            const curve = json.curves[i];\n            this.curves.push(new Curves[curve.type]().fromJSON(curve));\n\n        }\n\n        return this;\n\n    }\n\n});\n\nfunction Path(points) {\n\n    CurvePath.call(this);\n\n    this.type = 'Path';\n\n    this.currentPoint = new Vector2();\n\n    if (points) {\n\n        this.setFromPoints(points);\n\n    }\n\n}\n\nPath.prototype = Object.assign(Object.create(CurvePath.prototype), {\n\n    constructor: Path,\n\n    setFromPoints: function(points) {\n\n        this.moveTo(points[0].x, points[0].y);\n\n        for (let i = 1, l = points.length; i < l; i++) {\n\n            this.lineTo(points[i].x, points[i].y);\n\n        }\n\n        return this;\n\n    },\n\n    moveTo: function(x, y) {\n\n        this.currentPoint.set(x, y); // TODO consider referencing vectors instead of copying?\n\n        return this;\n\n    },\n\n    lineTo: function(x, y) {\n\n        const curve = new LineCurve(this.currentPoint.clone(), new Vector2(x, y));\n        this.curves.push(curve);\n\n        this.currentPoint.set(x, y);\n\n        return this;\n\n    },\n\n    quadraticCurveTo: function(aCPx, aCPy, aX, aY) {\n\n        const curve = new QuadraticBezierCurve(\n            this.currentPoint.clone(),\n            new Vector2(aCPx, aCPy),\n            new Vector2(aX, aY)\n        );\n\n        this.curves.push(curve);\n\n        this.currentPoint.set(aX, aY);\n\n        return this;\n\n    },\n\n    bezierCurveTo: function(aCP1x, aCP1y, aCP2x, aCP2y, aX, aY) {\n\n        const curve = new CubicBezierCurve(\n            this.currentPoint.clone(),\n            new Vector2(aCP1x, aCP1y),\n            new Vector2(aCP2x, aCP2y),\n            new Vector2(aX, aY)\n        );\n\n        this.curves.push(curve);\n\n        this.currentPoint.set(aX, aY);\n\n        return this;\n\n    },\n\n    splineThru: function(pts /*Array of Vector*/ ) {\n\n        const npts = [this.currentPoint.clone()].concat(pts);\n\n        const curve = new SplineCurve(npts);\n        this.curves.push(curve);\n\n        this.currentPoint.copy(pts[pts.length - 1]);\n\n        return this;\n\n    },\n\n    arc: function(aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise) {\n\n        const x0 = this.currentPoint.x;\n        const y0 = this.currentPoint.y;\n\n        this.absarc(aX + x0, aY + y0, aRadius,\n            aStartAngle, aEndAngle, aClockwise);\n\n        return this;\n\n    },\n\n    absarc: function(aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise) {\n\n        this.absellipse(aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise);\n\n        return this;\n\n    },\n\n    ellipse: function(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation) {\n\n        const x0 = this.currentPoint.x;\n        const y0 = this.currentPoint.y;\n\n        this.absellipse(aX + x0, aY + y0, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation);\n\n        return this;\n\n    },\n\n    absellipse: function(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation) {\n\n        const curve = new EllipseCurve(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation);\n\n        if (this.curves.length > 0) {\n\n            // if a previous curve is present, attempt to join\n            const firstPoint = curve.getPoint(0);\n\n            if (!firstPoint.equals(this.currentPoint)) {\n\n                this.lineTo(firstPoint.x, firstPoint.y);\n\n            }\n\n        }\n\n        this.curves.push(curve);\n\n        const lastPoint = curve.getPoint(1);\n        this.currentPoint.copy(lastPoint);\n\n        return this;\n\n    },\n\n    copy: function(source) {\n\n        CurvePath.prototype.copy.call(this, source);\n\n        this.currentPoint.copy(source.currentPoint);\n\n        return this;\n\n    },\n\n    toJSON: function() {\n\n        const data = CurvePath.prototype.toJSON.call(this);\n\n        data.currentPoint = this.currentPoint.toArray();\n\n        return data;\n\n    },\n\n    fromJSON: function(json) {\n\n        CurvePath.prototype.fromJSON.call(this, json);\n\n        this.currentPoint.fromArray(json.currentPoint);\n\n        return this;\n\n    }\n\n});\n\nfunction Shape(points) {\n\n    Path.call(this, points);\n\n    this.uuid = MathUtils.generateUUID();\n\n    this.type = 'Shape';\n\n    this.holes = [];\n\n}\n\nShape.prototype = Object.assign(Object.create(Path.prototype), {\n\n    constructor: Shape,\n\n    getPointsHoles: function(divisions) {\n\n        const holesPts = [];\n\n        for (let i = 0, l = this.holes.length; i < l; i++) {\n\n            holesPts[i] = this.holes[i].getPoints(divisions);\n\n        }\n\n        return holesPts;\n\n    },\n\n    // get points of shape and holes (keypoints based on segments parameter)\n\n    extractPoints: function(divisions) {\n\n        return {\n\n            shape: this.getPoints(divisions),\n            holes: this.getPointsHoles(divisions)\n\n        };\n\n    },\n\n    copy: function(source) {\n\n        Path.prototype.copy.call(this, source);\n\n        this.holes = [];\n\n        for (let i = 0, l = source.holes.length; i < l; i++) {\n\n            const hole = source.holes[i];\n\n            this.holes.push(hole.clone());\n\n        }\n\n        return this;\n\n    },\n\n    toJSON: function() {\n\n        const data = Path.prototype.toJSON.call(this);\n\n        data.uuid = this.uuid;\n        data.holes = [];\n\n        for (let i = 0, l = this.holes.length; i < l; i++) {\n\n            const hole = this.holes[i];\n            data.holes.push(hole.toJSON());\n\n        }\n\n        return data;\n\n    },\n\n    fromJSON: function(json) {\n\n        Path.prototype.fromJSON.call(this, json);\n\n        this.uuid = json.uuid;\n        this.holes = [];\n\n        for (let i = 0, l = json.holes.length; i < l; i++) {\n\n            const hole = json.holes[i];\n            this.holes.push(new Path().fromJSON(hole));\n\n        }\n\n        return this;\n\n    }\n\n});\n\nfunction Light(color, intensity) {\n\n    Object3D.call(this);\n\n    this.type = 'Light';\n\n    this.color = new Color(color);\n    this.intensity = intensity !== undefined ? intensity : 1;\n\n}\n\nLight.prototype = Object.assign(Object.create(Object3D.prototype), {\n\n    constructor: Light,\n\n    isLight: true,\n\n    copy: function(source) {\n\n        Object3D.prototype.copy.call(this, source);\n\n        this.color.copy(source.color);\n        this.intensity = source.intensity;\n\n        return this;\n\n    },\n\n    toJSON: function(meta) {\n\n        const data = Object3D.prototype.toJSON.call(this, meta);\n\n        data.object.color = this.color.getHex();\n        data.object.intensity = this.intensity;\n\n        if (this.groundColor !== undefined) data.object.groundColor = this.groundColor.getHex();\n\n        if (this.distance !== undefined) data.object.distance = this.distance;\n        if (this.angle !== undefined) data.object.angle = this.angle;\n        if (this.decay !== undefined) data.object.decay = this.decay;\n        if (this.penumbra !== undefined) data.object.penumbra = this.penumbra;\n\n        if (this.shadow !== undefined) data.object.shadow = this.shadow.toJSON();\n\n        return data;\n\n    }\n\n});\n\nfunction HemisphereLight(skyColor, groundColor, intensity) {\n\n    Light.call(this, skyColor, intensity);\n\n    this.type = 'HemisphereLight';\n\n    this.position.copy(Object3D.DefaultUp);\n    this.updateMatrix();\n\n    this.groundColor = new Color(groundColor);\n\n}\n\nHemisphereLight.prototype = Object.assign(Object.create(Light.prototype), {\n\n    constructor: HemisphereLight,\n\n    isHemisphereLight: true,\n\n    copy: function(source) {\n\n        Light.prototype.copy.call(this, source);\n\n        this.groundColor.copy(source.groundColor);\n\n        return this;\n\n    }\n\n});\n\nfunction LightShadow(camera) {\n\n    this.camera = camera;\n\n    this.bias = 0;\n    this.normalBias = 0;\n    this.radius = 1;\n\n    this.mapSize = new Vector2(512, 512);\n\n    this.map = null;\n    this.mapPass = null;\n    this.matrix = new Matrix4();\n\n    this.autoUpdate = true;\n    this.needsUpdate = false;\n\n    this._frustum = new Frustum();\n    this._frameExtents = new Vector2(1, 1);\n\n    this._viewportCount = 1;\n\n    this._viewports = [\n\n        new Vector4(0, 0, 1, 1)\n\n    ];\n\n}\n\nObject.assign(LightShadow.prototype, {\n\n    _projScreenMatrix: new Matrix4(),\n\n    _lightPositionWorld: new Vector3(),\n\n    _lookTarget: new Vector3(),\n\n    getViewportCount: function() {\n\n        return this._viewportCount;\n\n    },\n\n    getFrustum: function() {\n\n        return this._frustum;\n\n    },\n\n    updateMatrices: function(light) {\n\n        const shadowCamera = this.camera,\n            shadowMatrix = this.matrix,\n            projScreenMatrix = this._projScreenMatrix,\n            lookTarget = this._lookTarget,\n            lightPositionWorld = this._lightPositionWorld;\n\n        lightPositionWorld.setFromMatrixPosition(light.matrixWorld);\n        shadowCamera.position.copy(lightPositionWorld);\n\n        lookTarget.setFromMatrixPosition(light.target.matrixWorld);\n        shadowCamera.lookAt(lookTarget);\n        shadowCamera.updateMatrixWorld();\n\n        projScreenMatrix.multiplyMatrices(shadowCamera.projectionMatrix, shadowCamera.matrixWorldInverse);\n        this._frustum.setFromProjectionMatrix(projScreenMatrix);\n\n        shadowMatrix.set(\n            0.5, 0.0, 0.0, 0.5,\n            0.0, 0.5, 0.0, 0.5,\n            0.0, 0.0, 0.5, 0.5,\n            0.0, 0.0, 0.0, 1.0\n        );\n\n        shadowMatrix.multiply(shadowCamera.projectionMatrix);\n        shadowMatrix.multiply(shadowCamera.matrixWorldInverse);\n\n    },\n\n    getViewport: function(viewportIndex) {\n\n        return this._viewports[viewportIndex];\n\n    },\n\n    getFrameExtents: function() {\n\n        return this._frameExtents;\n\n    },\n\n    copy: function(source) {\n\n        this.camera = source.camera.clone();\n\n        this.bias = source.bias;\n        this.radius = source.radius;\n\n        this.mapSize.copy(source.mapSize);\n\n        return this;\n\n    },\n\n    clone: function() {\n\n        return new this.constructor().copy(this);\n\n    },\n\n    toJSON: function() {\n\n        const object = {};\n\n        if (this.bias !== 0) object.bias = this.bias;\n        if (this.normalBias !== 0) object.normalBias = this.normalBias;\n        if (this.radius !== 1) object.radius = this.radius;\n        if (this.mapSize.x !== 512 || this.mapSize.y !== 512) object.mapSize = this.mapSize.toArray();\n\n        object.camera = this.camera.toJSON(false).object;\n        delete object.camera.matrix;\n\n        return object;\n\n    }\n\n});\n\nfunction SpotLightShadow() {\n\n    LightShadow.call(this, new PerspectiveCamera(50, 1, 0.5, 500));\n\n    this.focus = 1;\n\n}\n\nSpotLightShadow.prototype = Object.assign(Object.create(LightShadow.prototype), {\n\n    constructor: SpotLightShadow,\n\n    isSpotLightShadow: true,\n\n    updateMatrices: function(light) {\n\n        const camera = this.camera;\n\n        const fov = MathUtils.RAD2DEG * 2 * light.angle * this.focus;\n        const aspect = this.mapSize.width / this.mapSize.height;\n        const far = light.distance || camera.far;\n\n        if (fov !== camera.fov || aspect !== camera.aspect || far !== camera.far) {\n\n            camera.fov = fov;\n            camera.aspect = aspect;\n            camera.far = far;\n            camera.updateProjectionMatrix();\n\n        }\n\n        LightShadow.prototype.updateMatrices.call(this, light);\n\n    }\n\n});\n\nfunction SpotLight(color, intensity, distance, angle, penumbra, decay) {\n\n    Light.call(this, color, intensity);\n\n    this.type = 'SpotLight';\n\n    this.position.copy(Object3D.DefaultUp);\n    this.updateMatrix();\n\n    this.target = new Object3D();\n\n    Object.defineProperty(this, 'power', {\n        get: function() {\n\n            // intensity = power per solid angle.\n            // ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n            return this.intensity * Math.PI;\n\n        },\n        set: function(power) {\n\n            // intensity = power per solid angle.\n            // ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n            this.intensity = power / Math.PI;\n\n        }\n    });\n\n    this.distance = (distance !== undefined) ? distance : 0;\n    this.angle = (angle !== undefined) ? angle : Math.PI / 3;\n    this.penumbra = (penumbra !== undefined) ? penumbra : 0;\n    this.decay = (decay !== undefined) ? decay : 1; // for physically correct lights, should be 2.\n\n    this.shadow = new SpotLightShadow();\n\n}\n\nSpotLight.prototype = Object.assign(Object.create(Light.prototype), {\n\n    constructor: SpotLight,\n\n    isSpotLight: true,\n\n    copy: function(source) {\n\n        Light.prototype.copy.call(this, source);\n\n        this.distance = source.distance;\n        this.angle = source.angle;\n        this.penumbra = source.penumbra;\n        this.decay = source.decay;\n\n        this.target = source.target.clone();\n\n        this.shadow = source.shadow.clone();\n\n        return this;\n\n    }\n\n});\n\nfunction PointLightShadow() {\n\n    LightShadow.call(this, new PerspectiveCamera(90, 1, 0.5, 500));\n\n    this._frameExtents = new Vector2(4, 2);\n\n    this._viewportCount = 6;\n\n    this._viewports = [\n        // These viewports map a cube-map onto a 2D texture with the\n        // following orientation:\n        //\n        //  xzXZ\n        //   y Y\n        //\n        // X - Positive x direction\n        // x - Negative x direction\n        // Y - Positive y direction\n        // y - Negative y direction\n        // Z - Positive z direction\n        // z - Negative z direction\n\n        // positive X\n        new Vector4(2, 1, 1, 1),\n        // negative X\n        new Vector4(0, 1, 1, 1),\n        // positive Z\n        new Vector4(3, 1, 1, 1),\n        // negative Z\n        new Vector4(1, 1, 1, 1),\n        // positive Y\n        new Vector4(3, 0, 1, 1),\n        // negative Y\n        new Vector4(1, 0, 1, 1)\n    ];\n\n    this._cubeDirections = [\n        new Vector3(1, 0, 0), new Vector3(-1, 0, 0), new Vector3(0, 0, 1),\n        new Vector3(0, 0, -1), new Vector3(0, 1, 0), new Vector3(0, -1, 0)\n    ];\n\n    this._cubeUps = [\n        new Vector3(0, 1, 0), new Vector3(0, 1, 0), new Vector3(0, 1, 0),\n        new Vector3(0, 1, 0), new Vector3(0, 0, 1), new Vector3(0, 0, -1)\n    ];\n\n}\n\nPointLightShadow.prototype = Object.assign(Object.create(LightShadow.prototype), {\n\n    constructor: PointLightShadow,\n\n    isPointLightShadow: true,\n\n    updateMatrices: function(light, viewportIndex) {\n\n        if (viewportIndex === undefined) viewportIndex = 0;\n\n        const camera = this.camera,\n            shadowMatrix = this.matrix,\n            lightPositionWorld = this._lightPositionWorld,\n            lookTarget = this._lookTarget,\n            projScreenMatrix = this._projScreenMatrix;\n\n        lightPositionWorld.setFromMatrixPosition(light.matrixWorld);\n        camera.position.copy(lightPositionWorld);\n\n        lookTarget.copy(camera.position);\n        lookTarget.add(this._cubeDirections[viewportIndex]);\n        camera.up.copy(this._cubeUps[viewportIndex]);\n        camera.lookAt(lookTarget);\n        camera.updateMatrixWorld();\n\n        shadowMatrix.makeTranslation(-lightPositionWorld.x, -lightPositionWorld.y, -lightPositionWorld.z);\n\n        projScreenMatrix.multiplyMatrices(camera.projectionMatrix, camera.matrixWorldInverse);\n        this._frustum.setFromProjectionMatrix(projScreenMatrix);\n\n    }\n\n});\n\nfunction PointLight(color, intensity, distance, decay) {\n\n    Light.call(this, color, intensity);\n\n    this.type = 'PointLight';\n\n    Object.defineProperty(this, 'power', {\n        get: function() {\n\n            // intensity = power per solid angle.\n            // ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n            return this.intensity * 4 * Math.PI;\n\n        },\n        set: function(power) {\n\n            // intensity = power per solid angle.\n            // ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n            this.intensity = power / (4 * Math.PI);\n\n        }\n    });\n\n    this.distance = (distance !== undefined) ? distance : 0;\n    this.decay = (decay !== undefined) ? decay : 1; // for physically correct lights, should be 2.\n\n    this.shadow = new PointLightShadow();\n\n}\n\nPointLight.prototype = Object.assign(Object.create(Light.prototype), {\n\n    constructor: PointLight,\n\n    isPointLight: true,\n\n    copy: function(source) {\n\n        Light.prototype.copy.call(this, source);\n\n        this.distance = source.distance;\n        this.decay = source.decay;\n\n        this.shadow = source.shadow.clone();\n\n        return this;\n\n    }\n\n});\n\nfunction OrthographicCamera(left, right, top, bottom, near, far) {\n\n    Camera.call(this);\n\n    this.type = 'OrthographicCamera';\n\n    this.zoom = 1;\n    this.view = null;\n\n    this.left = (left !== undefined) ? left : -1;\n    this.right = (right !== undefined) ? right : 1;\n    this.top = (top !== undefined) ? top : 1;\n    this.bottom = (bottom !== undefined) ? bottom : -1;\n\n    this.near = (near !== undefined) ? near : 0.1;\n    this.far = (far !== undefined) ? far : 2000;\n\n    this.updateProjectionMatrix();\n\n}\n\nOrthographicCamera.prototype = Object.assign(Object.create(Camera.prototype), {\n\n    constructor: OrthographicCamera,\n\n    isOrthographicCamera: true,\n\n    copy: function(source, recursive) {\n\n        Camera.prototype.copy.call(this, source, recursive);\n\n        this.left = source.left;\n        this.right = source.right;\n        this.top = source.top;\n        this.bottom = source.bottom;\n        this.near = source.near;\n        this.far = source.far;\n\n        this.zoom = source.zoom;\n        this.view = source.view === null ? null : Object.assign({}, source.view);\n\n        return this;\n\n    },\n\n    setViewOffset: function(fullWidth, fullHeight, x, y, width, height) {\n\n        if (this.view === null) {\n\n            this.view = {\n                enabled: true,\n                fullWidth: 1,\n                fullHeight: 1,\n                offsetX: 0,\n                offsetY: 0,\n                width: 1,\n                height: 1\n            };\n\n        }\n\n        this.view.enabled = true;\n        this.view.fullWidth = fullWidth;\n        this.view.fullHeight = fullHeight;\n        this.view.offsetX = x;\n        this.view.offsetY = y;\n        this.view.width = width;\n        this.view.height = height;\n\n        this.updateProjectionMatrix();\n\n    },\n\n    clearViewOffset: function() {\n\n        if (this.view !== null) {\n\n            this.view.enabled = false;\n\n        }\n\n        this.updateProjectionMatrix();\n\n    },\n\n    updateProjectionMatrix: function() {\n\n        const dx = (this.right - this.left) / (2 * this.zoom);\n        const dy = (this.top - this.bottom) / (2 * this.zoom);\n        const cx = (this.right + this.left) / 2;\n        const cy = (this.top + this.bottom) / 2;\n\n        let left = cx - dx;\n        let right = cx + dx;\n        let top = cy + dy;\n        let bottom = cy - dy;\n\n        if (this.view !== null && this.view.enabled) {\n\n            const scaleW = (this.right - this.left) / this.view.fullWidth / this.zoom;\n            const scaleH = (this.top - this.bottom) / this.view.fullHeight / this.zoom;\n\n            left += scaleW * this.view.offsetX;\n            right = left + scaleW * this.view.width;\n            top -= scaleH * this.view.offsetY;\n            bottom = top - scaleH * this.view.height;\n\n        }\n\n        this.projectionMatrix.makeOrthographic(left, right, top, bottom, this.near, this.far);\n\n        this.projectionMatrixInverse.getInverse(this.projectionMatrix);\n\n    },\n\n    toJSON: function(meta) {\n\n        const data = Object3D.prototype.toJSON.call(this, meta);\n\n        data.object.zoom = this.zoom;\n        data.object.left = this.left;\n        data.object.right = this.right;\n        data.object.top = this.top;\n        data.object.bottom = this.bottom;\n        data.object.near = this.near;\n        data.object.far = this.far;\n\n        if (this.view !== null) data.object.view = Object.assign({}, this.view);\n\n        return data;\n\n    }\n\n});\n\nfunction DirectionalLightShadow() {\n\n    LightShadow.call(this, new OrthographicCamera(-5, 5, 5, -5, 0.5, 500));\n\n}\n\nDirectionalLightShadow.prototype = Object.assign(Object.create(LightShadow.prototype), {\n\n    constructor: DirectionalLightShadow,\n\n    isDirectionalLightShadow: true,\n\n    updateMatrices: function(light) {\n\n        LightShadow.prototype.updateMatrices.call(this, light);\n\n    }\n\n});\n\nfunction DirectionalLight(color, intensity) {\n\n    Light.call(this, color, intensity);\n\n    this.type = 'DirectionalLight';\n\n    this.position.copy(Object3D.DefaultUp);\n    this.updateMatrix();\n\n    this.target = new Object3D();\n\n    this.shadow = new DirectionalLightShadow();\n\n}\n\nDirectionalLight.prototype = Object.assign(Object.create(Light.prototype), {\n\n    constructor: DirectionalLight,\n\n    isDirectionalLight: true,\n\n    copy: function(source) {\n\n        Light.prototype.copy.call(this, source);\n\n        this.target = source.target.clone();\n\n        this.shadow = source.shadow.clone();\n\n        return this;\n\n    }\n\n});\n\nfunction AmbientLight(color, intensity) {\n\n    Light.call(this, color, intensity);\n\n    this.type = 'AmbientLight';\n\n}\n\nAmbientLight.prototype = Object.assign(Object.create(Light.prototype), {\n\n    constructor: AmbientLight,\n\n    isAmbientLight: true\n\n});\n\nfunction RectAreaLight(color, intensity, width, height) {\n\n    Light.call(this, color, intensity);\n\n    this.type = 'RectAreaLight';\n\n    this.width = (width !== undefined) ? width : 10;\n    this.height = (height !== undefined) ? height : 10;\n\n}\n\nRectAreaLight.prototype = Object.assign(Object.create(Light.prototype), {\n\n    constructor: RectAreaLight,\n\n    isRectAreaLight: true,\n\n    copy: function(source) {\n\n        Light.prototype.copy.call(this, source);\n\n        this.width = source.width;\n        this.height = source.height;\n\n        return this;\n\n    },\n\n    toJSON: function(meta) {\n\n        const data = Light.prototype.toJSON.call(this, meta);\n\n        data.object.width = this.width;\n        data.object.height = this.height;\n\n        return data;\n\n    }\n\n});\n\n/**\n * Primary reference:\n *   https://graphics.stanford.edu/papers/envmap/envmap.pdf\n *\n * Secondary reference:\n *   https://www.ppsloan.org/publications/StupidSH36.pdf\n */\n\n// 3-band SH defined by 9 coefficients\n\nclass SphericalHarmonics3 {\n\n    constructor() {\n\n        Object.defineProperty(this, 'isSphericalHarmonics3', {\n            value: true\n        });\n\n        this.coefficients = [];\n\n        for (let i = 0; i < 9; i++) {\n\n            this.coefficients.push(new Vector3());\n\n        }\n\n    }\n\n    set(coefficients) {\n\n        for (let i = 0; i < 9; i++) {\n\n            this.coefficients[i].copy(coefficients[i]);\n\n        }\n\n        return this;\n\n    }\n\n    zero() {\n\n        for (let i = 0; i < 9; i++) {\n\n            this.coefficients[i].set(0, 0, 0);\n\n        }\n\n        return this;\n\n    }\n\n    // get the radiance in the direction of the normal\n    // target is a Vector3\n    getAt(normal, target) {\n\n        // normal is assumed to be unit length\n\n        const x = normal.x,\n            y = normal.y,\n            z = normal.z;\n\n        const coeff = this.coefficients;\n\n        // band 0\n        target.copy(coeff[0]).multiplyScalar(0.282095);\n\n        // band 1\n        target.addScaledVector(coeff[1], 0.488603 * y);\n        target.addScaledVector(coeff[2], 0.488603 * z);\n        target.addScaledVector(coeff[3], 0.488603 * x);\n\n        // band 2\n        target.addScaledVector(coeff[4], 1.092548 * (x * y));\n        target.addScaledVector(coeff[5], 1.092548 * (y * z));\n        target.addScaledVector(coeff[6], 0.315392 * (3.0 * z * z - 1.0));\n        target.addScaledVector(coeff[7], 1.092548 * (x * z));\n        target.addScaledVector(coeff[8], 0.546274 * (x * x - y * y));\n\n        return target;\n\n    }\n\n    // get the irradiance (radiance convolved with cosine lobe) in the direction of the normal\n    // target is a Vector3\n    // https://graphics.stanford.edu/papers/envmap/envmap.pdf\n    getIrradianceAt(normal, target) {\n\n        // normal is assumed to be unit length\n\n        const x = normal.x,\n            y = normal.y,\n            z = normal.z;\n\n        const coeff = this.coefficients;\n\n        // band 0\n        target.copy(coeff[0]).multiplyScalar(0.886227); // π * 0.282095\n\n        // band 1\n        target.addScaledVector(coeff[1], 2.0 * 0.511664 * y); // ( 2 * π / 3 ) * 0.488603\n        target.addScaledVector(coeff[2], 2.0 * 0.511664 * z);\n        target.addScaledVector(coeff[3], 2.0 * 0.511664 * x);\n\n        // band 2\n        target.addScaledVector(coeff[4], 2.0 * 0.429043 * x * y); // ( π / 4 ) * 1.092548\n        target.addScaledVector(coeff[5], 2.0 * 0.429043 * y * z);\n        target.addScaledVector(coeff[6], 0.743125 * z * z - 0.247708); // ( π / 4 ) * 0.315392 * 3\n        target.addScaledVector(coeff[7], 2.0 * 0.429043 * x * z);\n        target.addScaledVector(coeff[8], 0.429043 * (x * x - y * y)); // ( π / 4 ) * 0.546274\n\n        return target;\n\n    }\n\n    add(sh) {\n\n        for (let i = 0; i < 9; i++) {\n\n            this.coefficients[i].add(sh.coefficients[i]);\n\n        }\n\n        return this;\n\n    }\n\n    addScaledSH(sh, s) {\n\n        for (let i = 0; i < 9; i++) {\n\n            this.coefficients[i].addScaledVector(sh.coefficients[i], s);\n\n        }\n\n        return this;\n\n    }\n\n    scale(s) {\n\n        for (let i = 0; i < 9; i++) {\n\n            this.coefficients[i].multiplyScalar(s);\n\n        }\n\n        return this;\n\n    }\n\n    lerp(sh, alpha) {\n\n        for (let i = 0; i < 9; i++) {\n\n            this.coefficients[i].lerp(sh.coefficients[i], alpha);\n\n        }\n\n        return this;\n\n    }\n\n    equals(sh) {\n\n        for (let i = 0; i < 9; i++) {\n\n            if (!this.coefficients[i].equals(sh.coefficients[i])) {\n\n                return false;\n\n            }\n\n        }\n\n        return true;\n\n    }\n\n    copy(sh) {\n\n        return this.set(sh.coefficients);\n\n    }\n\n    clone() {\n\n        return new this.constructor().copy(this);\n\n    }\n\n    fromArray(array, offset = 0) {\n\n        const coefficients = this.coefficients;\n\n        for (let i = 0; i < 9; i++) {\n\n            coefficients[i].fromArray(array, offset + (i * 3));\n\n        }\n\n        return this;\n\n    }\n\n    toArray(array = [], offset = 0) {\n\n        const coefficients = this.coefficients;\n\n        for (let i = 0; i < 9; i++) {\n\n            coefficients[i].toArray(array, offset + (i * 3));\n\n        }\n\n        return array;\n\n    }\n\n    // evaluate the basis functions\n    // shBasis is an Array[ 9 ]\n    static getBasisAt(normal, shBasis) {\n\n        // normal is assumed to be unit length\n\n        const x = normal.x,\n            y = normal.y,\n            z = normal.z;\n\n        // band 0\n        shBasis[0] = 0.282095;\n\n        // band 1\n        shBasis[1] = 0.488603 * y;\n        shBasis[2] = 0.488603 * z;\n        shBasis[3] = 0.488603 * x;\n\n        // band 2\n        shBasis[4] = 1.092548 * x * y;\n        shBasis[5] = 1.092548 * y * z;\n        shBasis[6] = 0.315392 * (3 * z * z - 1);\n        shBasis[7] = 1.092548 * x * z;\n        shBasis[8] = 0.546274 * (x * x - y * y);\n\n    }\n\n}\n\nfunction LightProbe(sh, intensity) {\n\n    Light.call(this, undefined, intensity);\n\n    this.type = 'LightProbe';\n\n    this.sh = (sh !== undefined) ? sh : new SphericalHarmonics3();\n\n}\n\nLightProbe.prototype = Object.assign(Object.create(Light.prototype), {\n\n    constructor: LightProbe,\n\n    isLightProbe: true,\n\n    copy: function(source) {\n\n        Light.prototype.copy.call(this, source);\n\n        this.sh.copy(source.sh);\n\n        return this;\n\n    },\n\n    fromJSON: function(json) {\n\n        this.intensity = json.intensity; // TODO: Move this bit to Light.fromJSON();\n        this.sh.fromArray(json.sh);\n\n        return this;\n\n    },\n\n    toJSON: function(meta) {\n\n        const data = Light.prototype.toJSON.call(this, meta);\n\n        data.object.sh = this.sh.toArray();\n\n        return data;\n\n    }\n\n});\n\nfunction MaterialLoader(manager) {\n\n    Loader.call(this, manager);\n\n    this.textures = {};\n\n}\n\nMaterialLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n\n    constructor: MaterialLoader,\n\n    load: function(url, onLoad, onProgress, onError) {\n\n        const scope = this;\n\n        const loader = new FileLoader(scope.manager);\n        loader.setPath(scope.path);\n        loader.setRequestHeader(scope.requestHeader);\n        loader.setWithCredentials(scope.withCredentials);\n        loader.load(url, function(text) {\n\n            try {\n\n                onLoad(scope.parse(JSON.parse(text)));\n\n            } catch (e) {\n\n                if (onError) {\n\n                    onError(e);\n\n                } else {\n\n                    console.error(e);\n\n                }\n\n                scope.manager.itemError(url);\n\n            }\n\n        }, onProgress, onError);\n\n    },\n\n    parse: function(json) {\n\n        const textures = this.textures;\n\n        function getTexture(name) {\n\n            if (textures[name] === undefined) {\n\n                console.warn('THREE.MaterialLoader: Undefined texture', name);\n\n            }\n\n            return textures[name];\n\n        }\n\n        const material = new Materials[json.type]();\n\n        if (json.uuid !== undefined) material.uuid = json.uuid;\n        if (json.name !== undefined) material.name = json.name;\n        if (json.color !== undefined && material.color !== undefined) material.color.setHex(json.color);\n        if (json.roughness !== undefined) material.roughness = json.roughness;\n        if (json.metalness !== undefined) material.metalness = json.metalness;\n        if (json.sheen !== undefined) material.sheen = new Color().setHex(json.sheen);\n        if (json.emissive !== undefined && material.emissive !== undefined) material.emissive.setHex(json.emissive);\n        if (json.specular !== undefined && material.specular !== undefined) material.specular.setHex(json.specular);\n        if (json.shininess !== undefined) material.shininess = json.shininess;\n        if (json.clearcoat !== undefined) material.clearcoat = json.clearcoat;\n        if (json.clearcoatRoughness !== undefined) material.clearcoatRoughness = json.clearcoatRoughness;\n        if (json.fog !== undefined) material.fog = json.fog;\n        if (json.flatShading !== undefined) material.flatShading = json.flatShading;\n        if (json.blending !== undefined) material.blending = json.blending;\n        if (json.combine !== undefined) material.combine = json.combine;\n        if (json.side !== undefined) material.side = json.side;\n        if (json.opacity !== undefined) material.opacity = json.opacity;\n        if (json.transparent !== undefined) material.transparent = json.transparent;\n        if (json.alphaTest !== undefined) material.alphaTest = json.alphaTest;\n        if (json.depthTest !== undefined) material.depthTest = json.depthTest;\n        if (json.depthWrite !== undefined) material.depthWrite = json.depthWrite;\n        if (json.colorWrite !== undefined) material.colorWrite = json.colorWrite;\n\n        if (json.stencilWrite !== undefined) material.stencilWrite = json.stencilWrite;\n        if (json.stencilWriteMask !== undefined) material.stencilWriteMask = json.stencilWriteMask;\n        if (json.stencilFunc !== undefined) material.stencilFunc = json.stencilFunc;\n        if (json.stencilRef !== undefined) material.stencilRef = json.stencilRef;\n        if (json.stencilFuncMask !== undefined) material.stencilFuncMask = json.stencilFuncMask;\n        if (json.stencilFail !== undefined) material.stencilFail = json.stencilFail;\n        if (json.stencilZFail !== undefined) material.stencilZFail = json.stencilZFail;\n        if (json.stencilZPass !== undefined) material.stencilZPass = json.stencilZPass;\n\n        if (json.wireframe !== undefined) material.wireframe = json.wireframe;\n        if (json.wireframeLinewidth !== undefined) material.wireframeLinewidth = json.wireframeLinewidth;\n        if (json.wireframeLinecap !== undefined) material.wireframeLinecap = json.wireframeLinecap;\n        if (json.wireframeLinejoin !== undefined) material.wireframeLinejoin = json.wireframeLinejoin;\n\n        if (json.rotation !== undefined) material.rotation = json.rotation;\n\n        if (json.linewidth !== 1) material.linewidth = json.linewidth;\n        if (json.dashSize !== undefined) material.dashSize = json.dashSize;\n        if (json.gapSize !== undefined) material.gapSize = json.gapSize;\n        if (json.scale !== undefined) material.scale = json.scale;\n\n        if (json.polygonOffset !== undefined) material.polygonOffset = json.polygonOffset;\n        if (json.polygonOffsetFactor !== undefined) material.polygonOffsetFactor = json.polygonOffsetFactor;\n        if (json.polygonOffsetUnits !== undefined) material.polygonOffsetUnits = json.polygonOffsetUnits;\n\n        if (json.skinning !== undefined) material.skinning = json.skinning;\n        if (json.morphTargets !== undefined) material.morphTargets = json.morphTargets;\n        if (json.morphNormals !== undefined) material.morphNormals = json.morphNormals;\n        if (json.dithering !== undefined) material.dithering = json.dithering;\n\n        if (json.vertexTangents !== undefined) material.vertexTangents = json.vertexTangents;\n\n        if (json.visible !== undefined) material.visible = json.visible;\n\n        if (json.toneMapped !== undefined) material.toneMapped = json.toneMapped;\n\n        if (json.userData !== undefined) material.userData = json.userData;\n\n        if (json.vertexColors !== undefined) {\n\n            if (typeof json.vertexColors === 'number') {\n\n                material.vertexColors = (json.vertexColors > 0) ? true : false;\n\n            } else {\n\n                material.vertexColors = json.vertexColors;\n\n            }\n\n        }\n\n        // Shader Material\n\n        if (json.uniforms !== undefined) {\n\n            for (const name in json.uniforms) {\n\n                const uniform = json.uniforms[name];\n\n                material.uniforms[name] = {};\n\n                switch (uniform.type) {\n\n                    case 't':\n                        material.uniforms[name].value = getTexture(uniform.value);\n                        break;\n\n                    case 'c':\n                        material.uniforms[name].value = new Color().setHex(uniform.value);\n                        break;\n\n                    case 'v2':\n                        material.uniforms[name].value = new Vector2().fromArray(uniform.value);\n                        break;\n\n                    case 'v3':\n                        material.uniforms[name].value = new Vector3().fromArray(uniform.value);\n                        break;\n\n                    case 'v4':\n                        material.uniforms[name].value = new Vector4().fromArray(uniform.value);\n                        break;\n\n                    case 'm3':\n                        material.uniforms[name].value = new Matrix3().fromArray(uniform.value);\n                        break;\n\n                    case 'm4':\n                        material.uniforms[name].value = new Matrix4().fromArray(uniform.value);\n                        break;\n\n                    default:\n                        material.uniforms[name].value = uniform.value;\n\n                }\n\n            }\n\n        }\n\n        if (json.defines !== undefined) material.defines = json.defines;\n        if (json.vertexShader !== undefined) material.vertexShader = json.vertexShader;\n        if (json.fragmentShader !== undefined) material.fragmentShader = json.fragmentShader;\n\n        if (json.extensions !== undefined) {\n\n            for (const key in json.extensions) {\n\n                material.extensions[key] = json.extensions[key];\n\n            }\n\n        }\n\n        // Deprecated\n\n        if (json.shading !== undefined) material.flatShading = json.shading === 1; // THREE.FlatShading\n\n        // for PointsMaterial\n\n        if (json.size !== undefined) material.size = json.size;\n        if (json.sizeAttenuation !== undefined) material.sizeAttenuation = json.sizeAttenuation;\n\n        // maps\n\n        if (json.map !== undefined) material.map = getTexture(json.map);\n        if (json.matcap !== undefined) material.matcap = getTexture(json.matcap);\n\n        if (json.alphaMap !== undefined) material.alphaMap = getTexture(json.alphaMap);\n\n        if (json.bumpMap !== undefined) material.bumpMap = getTexture(json.bumpMap);\n        if (json.bumpScale !== undefined) material.bumpScale = json.bumpScale;\n\n        if (json.normalMap !== undefined) material.normalMap = getTexture(json.normalMap);\n        if (json.normalMapType !== undefined) material.normalMapType = json.normalMapType;\n        if (json.normalScale !== undefined) {\n\n            let normalScale = json.normalScale;\n\n            if (Array.isArray(normalScale) === false) {\n\n                // Blender exporter used to export a scalar. See #7459\n\n                normalScale = [normalScale, normalScale];\n\n            }\n\n            material.normalScale = new Vector2().fromArray(normalScale);\n\n        }\n\n        if (json.displacementMap !== undefined) material.displacementMap = getTexture(json.displacementMap);\n        if (json.displacementScale !== undefined) material.displacementScale = json.displacementScale;\n        if (json.displacementBias !== undefined) material.displacementBias = json.displacementBias;\n\n        if (json.roughnessMap !== undefined) material.roughnessMap = getTexture(json.roughnessMap);\n        if (json.metalnessMap !== undefined) material.metalnessMap = getTexture(json.metalnessMap);\n\n        if (json.emissiveMap !== undefined) material.emissiveMap = getTexture(json.emissiveMap);\n        if (json.emissiveIntensity !== undefined) material.emissiveIntensity = json.emissiveIntensity;\n\n        if (json.specularMap !== undefined) material.specularMap = getTexture(json.specularMap);\n\n        if (json.envMap !== undefined) material.envMap = getTexture(json.envMap);\n        if (json.envMapIntensity !== undefined) material.envMapIntensity = json.envMapIntensity;\n\n        if (json.reflectivity !== undefined) material.reflectivity = json.reflectivity;\n        if (json.refractionRatio !== undefined) material.refractionRatio = json.refractionRatio;\n\n        if (json.lightMap !== undefined) material.lightMap = getTexture(json.lightMap);\n        if (json.lightMapIntensity !== undefined) material.lightMapIntensity = json.lightMapIntensity;\n\n        if (json.aoMap !== undefined) material.aoMap = getTexture(json.aoMap);\n        if (json.aoMapIntensity !== undefined) material.aoMapIntensity = json.aoMapIntensity;\n\n        if (json.gradientMap !== undefined) material.gradientMap = getTexture(json.gradientMap);\n\n        if (json.clearcoatMap !== undefined) material.clearcoatMap = getTexture(json.clearcoatMap);\n        if (json.clearcoatRoughnessMap !== undefined) material.clearcoatRoughnessMap = getTexture(json.clearcoatRoughnessMap);\n        if (json.clearcoatNormalMap !== undefined) material.clearcoatNormalMap = getTexture(json.clearcoatNormalMap);\n        if (json.clearcoatNormalScale !== undefined) material.clearcoatNormalScale = new Vector2().fromArray(json.clearcoatNormalScale);\n\n        if (json.transmission !== undefined) material.transmission = json.transmission;\n        if (json.transmissionMap !== undefined) material.transmissionMap = getTexture(json.transmissionMap);\n\n        return material;\n\n    },\n\n    setTextures: function(value) {\n\n        this.textures = value;\n        return this;\n\n    }\n\n});\n\nconst LoaderUtils = {\n\n    decodeText: function(array) {\n\n        if (typeof TextDecoder !== 'undefined') {\n\n            return new TextDecoder().decode(array);\n\n        }\n\n        // Avoid the String.fromCharCode.apply(null, array) shortcut, which\n        // throws a \"maximum call stack size exceeded\" error for large arrays.\n\n        let s = '';\n\n        for (let i = 0, il = array.length; i < il; i++) {\n\n            // Implicitly assumes little-endian.\n            s += String.fromCharCode(array[i]);\n\n        }\n\n        try {\n\n            // merges multi-byte utf-8 characters.\n\n            return decodeURIComponent(escape(s));\n\n        } catch (e) { // see #16358\n\n            return s;\n\n        }\n\n    },\n\n    extractUrlBase: function(url) {\n\n        const index = url.lastIndexOf('/');\n\n        if (index === -1) return './';\n\n        return url.substr(0, index + 1);\n\n    }\n\n};\n\nfunction InstancedBufferGeometry() {\n\n    BufferGeometry.call(this);\n\n    this.type = 'InstancedBufferGeometry';\n    this.instanceCount = Infinity;\n\n}\n\nInstancedBufferGeometry.prototype = Object.assign(Object.create(BufferGeometry.prototype), {\n\n    constructor: InstancedBufferGeometry,\n\n    isInstancedBufferGeometry: true,\n\n    copy: function(source) {\n\n        BufferGeometry.prototype.copy.call(this, source);\n\n        this.instanceCount = source.instanceCount;\n\n        return this;\n\n    },\n\n    clone: function() {\n\n        return new this.constructor().copy(this);\n\n    },\n\n    toJSON: function() {\n\n        const data = BufferGeometry.prototype.toJSON.call(this);\n\n        data.instanceCount = this.instanceCount;\n\n        data.isInstancedBufferGeometry = true;\n\n        return data;\n\n    }\n\n});\n\nfunction InstancedBufferAttribute(array, itemSize, normalized, meshPerAttribute) {\n\n    if (typeof(normalized) === 'number') {\n\n        meshPerAttribute = normalized;\n\n        normalized = false;\n\n        console.error('THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.');\n\n    }\n\n    BufferAttribute.call(this, array, itemSize, normalized);\n\n    this.meshPerAttribute = meshPerAttribute || 1;\n\n}\n\nInstancedBufferAttribute.prototype = Object.assign(Object.create(BufferAttribute.prototype), {\n\n    constructor: InstancedBufferAttribute,\n\n    isInstancedBufferAttribute: true,\n\n    copy: function(source) {\n\n        BufferAttribute.prototype.copy.call(this, source);\n\n        this.meshPerAttribute = source.meshPerAttribute;\n\n        return this;\n\n    },\n\n    toJSON: function() {\n\n        const data = BufferAttribute.prototype.toJSON.call(this);\n\n        data.meshPerAttribute = this.meshPerAttribute;\n\n        data.isInstancedBufferAttribute = true;\n\n        return data;\n\n    }\n\n});\n\nfunction BufferGeometryLoader(manager) {\n\n    Loader.call(this, manager);\n\n}\n\nBufferGeometryLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n\n    constructor: BufferGeometryLoader,\n\n    load: function(url, onLoad, onProgress, onError) {\n\n        const scope = this;\n\n        const loader = new FileLoader(scope.manager);\n        loader.setPath(scope.path);\n        loader.setRequestHeader(scope.requestHeader);\n        loader.setWithCredentials(scope.withCredentials);\n        loader.load(url, function(text) {\n\n            try {\n\n                onLoad(scope.parse(JSON.parse(text)));\n\n            } catch (e) {\n\n                if (onError) {\n\n                    onError(e);\n\n                } else {\n\n                    console.error(e);\n\n                }\n\n                scope.manager.itemError(url);\n\n            }\n\n        }, onProgress, onError);\n\n    },\n\n    parse: function(json) {\n\n        const interleavedBufferMap = {};\n        const arrayBufferMap = {};\n\n        function getInterleavedBuffer(json, uuid) {\n\n            if (interleavedBufferMap[uuid] !== undefined) return interleavedBufferMap[uuid];\n\n            const interleavedBuffers = json.interleavedBuffers;\n            const interleavedBuffer = interleavedBuffers[uuid];\n\n            const buffer = getArrayBuffer(json, interleavedBuffer.buffer);\n\n            const array = new TYPED_ARRAYS[interleavedBuffer.type](buffer);\n            const ib = new InterleavedBuffer(array, interleavedBuffer.stride);\n            ib.uuid = interleavedBuffer.uuid;\n\n            interleavedBufferMap[uuid] = ib;\n\n            return ib;\n\n        }\n\n        function getArrayBuffer(json, uuid) {\n\n            if (arrayBufferMap[uuid] !== undefined) return arrayBufferMap[uuid];\n\n            const arrayBuffers = json.arrayBuffers;\n            const arrayBuffer = arrayBuffers[uuid];\n\n            const ab = new Uint32Array(arrayBuffer).buffer;\n\n            arrayBufferMap[uuid] = ab;\n\n            return ab;\n\n        }\n\n        const geometry = json.isInstancedBufferGeometry ? new InstancedBufferGeometry() : new BufferGeometry();\n\n        const index = json.data.index;\n\n        if (index !== undefined) {\n\n            const typedArray = new TYPED_ARRAYS[index.type](index.array);\n            geometry.setIndex(new BufferAttribute(typedArray, 1));\n\n        }\n\n        const attributes = json.data.attributes;\n\n        for (const key in attributes) {\n\n            const attribute = attributes[key];\n            let bufferAttribute;\n\n            if (attribute.isInterleavedBufferAttribute) {\n\n                const interleavedBuffer = getInterleavedBuffer(json.data, attribute.data);\n                bufferAttribute = new InterleavedBufferAttribute(interleavedBuffer, attribute.itemSize, attribute.offset, attribute.normalized);\n\n            } else {\n\n                const typedArray = new TYPED_ARRAYS[attribute.type](attribute.array);\n                const bufferAttributeConstr = attribute.isInstancedBufferAttribute ? InstancedBufferAttribute : BufferAttribute;\n                bufferAttribute = new bufferAttributeConstr(typedArray, attribute.itemSize, attribute.normalized);\n\n            }\n\n            if (attribute.name !== undefined) bufferAttribute.name = attribute.name;\n            geometry.setAttribute(key, bufferAttribute);\n\n        }\n\n        const morphAttributes = json.data.morphAttributes;\n\n        if (morphAttributes) {\n\n            for (const key in morphAttributes) {\n\n                const attributeArray = morphAttributes[key];\n\n                const array = [];\n\n                for (let i = 0, il = attributeArray.length; i < il; i++) {\n\n                    const attribute = attributeArray[i];\n                    let bufferAttribute;\n\n                    if (attribute.isInterleavedBufferAttribute) {\n\n                        const interleavedBuffer = getInterleavedBuffer(json.data, attribute.data);\n                        bufferAttribute = new InterleavedBufferAttribute(interleavedBuffer, attribute.itemSize, attribute.offset, attribute.normalized);\n\n                    } else {\n\n                        const typedArray = new TYPED_ARRAYS[attribute.type](attribute.array);\n                        bufferAttribute = new BufferAttribute(typedArray, attribute.itemSize, attribute.normalized);\n\n                    }\n\n                    if (attribute.name !== undefined) bufferAttribute.name = attribute.name;\n                    array.push(bufferAttribute);\n\n                }\n\n                geometry.morphAttributes[key] = array;\n\n            }\n\n        }\n\n        const morphTargetsRelative = json.data.morphTargetsRelative;\n\n        if (morphTargetsRelative) {\n\n            geometry.morphTargetsRelative = true;\n\n        }\n\n        const groups = json.data.groups || json.data.drawcalls || json.data.offsets;\n\n        if (groups !== undefined) {\n\n            for (let i = 0, n = groups.length; i !== n; ++i) {\n\n                const group = groups[i];\n\n                geometry.addGroup(group.start, group.count, group.materialIndex);\n\n            }\n\n        }\n\n        const boundingSphere = json.data.boundingSphere;\n\n        if (boundingSphere !== undefined) {\n\n            const center = new Vector3();\n\n            if (boundingSphere.center !== undefined) {\n\n                center.fromArray(boundingSphere.center);\n\n            }\n\n            geometry.boundingSphere = new Sphere(center, boundingSphere.radius);\n\n        }\n\n        if (json.name) geometry.name = json.name;\n        if (json.userData) geometry.userData = json.userData;\n\n        return geometry;\n\n    }\n\n});\n\nconst TYPED_ARRAYS = {\n    Int8Array: Int8Array,\n    Uint8Array: Uint8Array,\n    // Workaround for IE11 pre KB2929437. See #11440\n    Uint8ClampedArray: typeof Uint8ClampedArray !== 'undefined' ? Uint8ClampedArray : Uint8Array,\n    Int16Array: Int16Array,\n    Uint16Array: Uint16Array,\n    Int32Array: Int32Array,\n    Uint32Array: Uint32Array,\n    Float32Array: Float32Array,\n    Float64Array: Float64Array\n};\n\nclass ObjectLoader extends Loader {\n\n    constructor(manager) {\n\n        super(manager);\n\n    }\n\n    load(url, onLoad, onProgress, onError) {\n\n        const scope = this;\n\n        const path = (this.path === '') ? LoaderUtils.extractUrlBase(url) : this.path;\n        this.resourcePath = this.resourcePath || path;\n\n        const loader = new FileLoader(this.manager);\n        loader.setPath(this.path);\n        loader.setRequestHeader(this.requestHeader);\n        loader.setWithCredentials(this.withCredentials);\n        loader.load(url, function(text) {\n\n            let json = null;\n\n            try {\n\n                json = JSON.parse(text);\n\n            } catch (error) {\n\n                if (onError !== undefined) onError(error);\n\n                console.error('THREE:ObjectLoader: Can\\'t parse ' + url + '.', error.message);\n\n                return;\n\n            }\n\n            const metadata = json.metadata;\n\n            if (metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry') {\n\n                console.error('THREE.ObjectLoader: Can\\'t load ' + url);\n                return;\n\n            }\n\n            scope.parse(json, onLoad);\n\n        }, onProgress, onError);\n\n    }\n\n    parse(json, onLoad) {\n\n        const shapes = this.parseShape(json.shapes);\n        const geometries = this.parseGeometries(json.geometries, shapes);\n\n        const images = this.parseImages(json.images, function() {\n\n            if (onLoad !== undefined) onLoad(object);\n\n        });\n\n        const textures = this.parseTextures(json.textures, images);\n        const materials = this.parseMaterials(json.materials, textures);\n\n        const object = this.parseObject(json.object, geometries, materials);\n\n        if (json.animations) {\n\n            object.animations = this.parseAnimations(json.animations);\n\n        }\n\n        if (json.images === undefined || json.images.length === 0) {\n\n            if (onLoad !== undefined) onLoad(object);\n\n        }\n\n        return object;\n\n    }\n\n    parseShape(json) {\n\n        const shapes = {};\n\n        if (json !== undefined) {\n\n            for (let i = 0, l = json.length; i < l; i++) {\n\n                const shape = new Shape().fromJSON(json[i]);\n\n                shapes[shape.uuid] = shape;\n\n            }\n\n        }\n\n        return shapes;\n\n    }\n\n    parseGeometries(json, shapes) {\n\n        const geometries = {};\n        let geometryShapes;\n\n        if (json !== undefined) {\n\n            const bufferGeometryLoader = new BufferGeometryLoader();\n\n            for (let i = 0, l = json.length; i < l; i++) {\n\n                let geometry;\n                const data = json[i];\n\n                switch (data.type) {\n\n                    case 'PlaneGeometry':\n                    case 'PlaneBufferGeometry':\n\n                        geometry = new Geometries[data.type](\n                            data.width,\n                            data.height,\n                            data.widthSegments,\n                            data.heightSegments\n                        );\n\n                        break;\n\n                    case 'BoxGeometry':\n                    case 'BoxBufferGeometry':\n                    case 'CubeGeometry': // backwards compatible\n\n                        geometry = new Geometries[data.type](\n                            data.width,\n                            data.height,\n                            data.depth,\n                            data.widthSegments,\n                            data.heightSegments,\n                            data.depthSegments\n                        );\n\n                        break;\n\n                    case 'CircleGeometry':\n                    case 'CircleBufferGeometry':\n\n                        geometry = new Geometries[data.type](\n                            data.radius,\n                            data.segments,\n                            data.thetaStart,\n                            data.thetaLength\n                        );\n\n                        break;\n\n                    case 'CylinderGeometry':\n                    case 'CylinderBufferGeometry':\n\n                        geometry = new Geometries[data.type](\n                            data.radiusTop,\n                            data.radiusBottom,\n                            data.height,\n                            data.radialSegments,\n                            data.heightSegments,\n                            data.openEnded,\n                            data.thetaStart,\n                            data.thetaLength\n                        );\n\n                        break;\n\n                    case 'ConeGeometry':\n                    case 'ConeBufferGeometry':\n\n                        geometry = new Geometries[data.type](\n                            data.radius,\n                            data.height,\n                            data.radialSegments,\n                            data.heightSegments,\n                            data.openEnded,\n                            data.thetaStart,\n                            data.thetaLength\n                        );\n\n                        break;\n\n                    case 'SphereGeometry':\n                    case 'SphereBufferGeometry':\n\n                        geometry = new Geometries[data.type](\n                            data.radius,\n                            data.widthSegments,\n                            data.heightSegments,\n                            data.phiStart,\n                            data.phiLength,\n                            data.thetaStart,\n                            data.thetaLength\n                        );\n\n                        break;\n\n                    case 'DodecahedronGeometry':\n                    case 'DodecahedronBufferGeometry':\n                    case 'IcosahedronGeometry':\n                    case 'IcosahedronBufferGeometry':\n                    case 'OctahedronGeometry':\n                    case 'OctahedronBufferGeometry':\n                    case 'TetrahedronGeometry':\n                    case 'TetrahedronBufferGeometry':\n\n                        geometry = new Geometries[data.type](\n                            data.radius,\n                            data.detail\n                        );\n\n                        break;\n\n                    case 'RingGeometry':\n                    case 'RingBufferGeometry':\n\n                        geometry = new Geometries[data.type](\n                            data.innerRadius,\n                            data.outerRadius,\n                            data.thetaSegments,\n                            data.phiSegments,\n                            data.thetaStart,\n                            data.thetaLength\n                        );\n\n                        break;\n\n                    case 'TorusGeometry':\n                    case 'TorusBufferGeometry':\n\n                        geometry = new Geometries[data.type](\n                            data.radius,\n                            data.tube,\n                            data.radialSegments,\n                            data.tubularSegments,\n                            data.arc\n                        );\n\n                        break;\n\n                    case 'TorusKnotGeometry':\n                    case 'TorusKnotBufferGeometry':\n\n                        geometry = new Geometries[data.type](\n                            data.radius,\n                            data.tube,\n                            data.tubularSegments,\n                            data.radialSegments,\n                            data.p,\n                            data.q\n                        );\n\n                        break;\n\n                    case 'TubeGeometry':\n                    case 'TubeBufferGeometry':\n\n                        // This only works for built-in curves (e.g. CatmullRomCurve3).\n                        // User defined curves or instances of CurvePath will not be deserialized.\n                        geometry = new Geometries[data.type](\n                            new Curves[data.path.type]().fromJSON(data.path),\n                            data.tubularSegments,\n                            data.radius,\n                            data.radialSegments,\n                            data.closed\n                        );\n\n                        break;\n\n                    case 'LatheGeometry':\n                    case 'LatheBufferGeometry':\n\n                        geometry = new Geometries[data.type](\n                            data.points,\n                            data.segments,\n                            data.phiStart,\n                            data.phiLength\n                        );\n\n                        break;\n\n                    case 'PolyhedronGeometry':\n                    case 'PolyhedronBufferGeometry':\n\n                        geometry = new Geometries[data.type](\n                            data.vertices,\n                            data.indices,\n                            data.radius,\n                            data.details\n                        );\n\n                        break;\n\n                    case 'ShapeGeometry':\n                    case 'ShapeBufferGeometry':\n\n                        geometryShapes = [];\n\n                        for (let j = 0, jl = data.shapes.length; j < jl; j++) {\n\n                            const shape = shapes[data.shapes[j]];\n\n                            geometryShapes.push(shape);\n\n                        }\n\n                        geometry = new Geometries[data.type](\n                            geometryShapes,\n                            data.curveSegments\n                        );\n\n                        break;\n\n\n                    case 'ExtrudeGeometry':\n                    case 'ExtrudeBufferGeometry':\n\n                        geometryShapes = [];\n\n                        for (let j = 0, jl = data.shapes.length; j < jl; j++) {\n\n                            const shape = shapes[data.shapes[j]];\n\n                            geometryShapes.push(shape);\n\n                        }\n\n                        const extrudePath = data.options.extrudePath;\n\n                        if (extrudePath !== undefined) {\n\n                            data.options.extrudePath = new Curves[extrudePath.type]().fromJSON(extrudePath);\n\n                        }\n\n                        geometry = new Geometries[data.type](\n                            geometryShapes,\n                            data.options\n                        );\n\n                        break;\n\n                    case 'BufferGeometry':\n                    case 'InstancedBufferGeometry':\n\n                        geometry = bufferGeometryLoader.parse(data);\n\n                        break;\n\n                    case 'Geometry':\n\n                        console.error('THREE.ObjectLoader: Loading \"Geometry\" is not supported anymore.');\n\n                        break;\n\n                    default:\n\n                        console.warn('THREE.ObjectLoader: Unsupported geometry type \"' + data.type + '\"');\n\n                        continue;\n\n                }\n\n                geometry.uuid = data.uuid;\n\n                if (data.name !== undefined) geometry.name = data.name;\n                if (geometry.isBufferGeometry === true && data.userData !== undefined) geometry.userData = data.userData;\n\n                geometries[data.uuid] = geometry;\n\n            }\n\n        }\n\n        return geometries;\n\n    }\n\n    parseMaterials(json, textures) {\n\n        const cache = {}; // MultiMaterial\n        const materials = {};\n\n        if (json !== undefined) {\n\n            const loader = new MaterialLoader();\n            loader.setTextures(textures);\n\n            for (let i = 0, l = json.length; i < l; i++) {\n\n                const data = json[i];\n\n                if (data.type === 'MultiMaterial') {\n\n                    // Deprecated\n\n                    const array = [];\n\n                    for (let j = 0; j < data.materials.length; j++) {\n\n                        const material = data.materials[j];\n\n                        if (cache[material.uuid] === undefined) {\n\n                            cache[material.uuid] = loader.parse(material);\n\n                        }\n\n                        array.push(cache[material.uuid]);\n\n                    }\n\n                    materials[data.uuid] = array;\n\n                } else {\n\n                    if (cache[data.uuid] === undefined) {\n\n                        cache[data.uuid] = loader.parse(data);\n\n                    }\n\n                    materials[data.uuid] = cache[data.uuid];\n\n                }\n\n            }\n\n        }\n\n        return materials;\n\n    }\n\n    parseAnimations(json) {\n\n        const animations = [];\n\n        for (let i = 0; i < json.length; i++) {\n\n            const data = json[i];\n\n            const clip = AnimationClip.parse(data);\n\n            if (data.uuid !== undefined) clip.uuid = data.uuid;\n\n            animations.push(clip);\n\n        }\n\n        return animations;\n\n    }\n\n    parseImages(json, onLoad) {\n\n        const scope = this;\n        const images = {};\n\n        let loader;\n\n        function loadImage(url) {\n\n            scope.manager.itemStart(url);\n\n            return loader.load(url, function() {\n\n                scope.manager.itemEnd(url);\n\n            }, undefined, function() {\n\n                scope.manager.itemError(url);\n                scope.manager.itemEnd(url);\n\n            });\n\n        }\n\n        if (json !== undefined && json.length > 0) {\n\n            const manager = new LoadingManager(onLoad);\n\n            loader = new ImageLoader(manager);\n            loader.setCrossOrigin(this.crossOrigin);\n\n            for (let i = 0, il = json.length; i < il; i++) {\n\n                const image = json[i];\n                const url = image.url;\n\n                if (Array.isArray(url)) {\n\n                    // load array of images e.g CubeTexture\n\n                    images[image.uuid] = [];\n\n                    for (let j = 0, jl = url.length; j < jl; j++) {\n\n                        const currentUrl = url[j];\n\n                        const path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test(currentUrl) ? currentUrl : scope.resourcePath + currentUrl;\n\n                        images[image.uuid].push(loadImage(path));\n\n                    }\n\n                } else {\n\n                    // load single image\n\n                    const path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test(image.url) ? image.url : scope.resourcePath + image.url;\n\n                    images[image.uuid] = loadImage(path);\n\n                }\n\n            }\n\n        }\n\n        return images;\n\n    }\n\n    parseTextures(json, images) {\n\n        function parseConstant(value, type) {\n\n            if (typeof value === 'number') return value;\n\n            console.warn('THREE.ObjectLoader.parseTexture: Constant should be in numeric form.', value);\n\n            return type[value];\n\n        }\n\n        const textures = {};\n\n        if (json !== undefined) {\n\n            for (let i = 0, l = json.length; i < l; i++) {\n\n                const data = json[i];\n\n                if (data.image === undefined) {\n\n                    console.warn('THREE.ObjectLoader: No \"image\" specified for', data.uuid);\n\n                }\n\n                if (images[data.image] === undefined) {\n\n                    console.warn('THREE.ObjectLoader: Undefined image', data.image);\n\n                }\n\n                let texture;\n\n                if (Array.isArray(images[data.image])) {\n\n                    texture = new CubeTexture(images[data.image]);\n\n                } else {\n\n                    texture = new Texture(images[data.image]);\n\n                }\n\n                texture.needsUpdate = true;\n\n                texture.uuid = data.uuid;\n\n                if (data.name !== undefined) texture.name = data.name;\n\n                if (data.mapping !== undefined) texture.mapping = parseConstant(data.mapping, TEXTURE_MAPPING);\n\n                if (data.offset !== undefined) texture.offset.fromArray(data.offset);\n                if (data.repeat !== undefined) texture.repeat.fromArray(data.repeat);\n                if (data.center !== undefined) texture.center.fromArray(data.center);\n                if (data.rotation !== undefined) texture.rotation = data.rotation;\n\n                if (data.wrap !== undefined) {\n\n                    texture.wrapS = parseConstant(data.wrap[0], TEXTURE_WRAPPING);\n                    texture.wrapT = parseConstant(data.wrap[1], TEXTURE_WRAPPING);\n\n                }\n\n                if (data.format !== undefined) texture.format = data.format;\n                if (data.type !== undefined) texture.type = data.type;\n                if (data.encoding !== undefined) texture.encoding = data.encoding;\n\n                if (data.minFilter !== undefined) texture.minFilter = parseConstant(data.minFilter, TEXTURE_FILTER);\n                if (data.magFilter !== undefined) texture.magFilter = parseConstant(data.magFilter, TEXTURE_FILTER);\n                if (data.anisotropy !== undefined) texture.anisotropy = data.anisotropy;\n\n                if (data.flipY !== undefined) texture.flipY = data.flipY;\n\n                if (data.premultiplyAlpha !== undefined) texture.premultiplyAlpha = data.premultiplyAlpha;\n                if (data.unpackAlignment !== undefined) texture.unpackAlignment = data.unpackAlignment;\n\n                textures[data.uuid] = texture;\n\n            }\n\n        }\n\n        return textures;\n\n    }\n\n    parseObject(data, geometries, materials) {\n\n        let object;\n\n        function getGeometry(name) {\n\n            if (geometries[name] === undefined) {\n\n                console.warn('THREE.ObjectLoader: Undefined geometry', name);\n\n            }\n\n            return geometries[name];\n\n        }\n\n        function getMaterial(name) {\n\n            if (name === undefined) return undefined;\n\n            if (Array.isArray(name)) {\n\n                const array = [];\n\n                for (let i = 0, l = name.length; i < l; i++) {\n\n                    const uuid = name[i];\n\n                    if (materials[uuid] === undefined) {\n\n                        console.warn('THREE.ObjectLoader: Undefined material', uuid);\n\n                    }\n\n                    array.push(materials[uuid]);\n\n                }\n\n                return array;\n\n            }\n\n            if (materials[name] === undefined) {\n\n                console.warn('THREE.ObjectLoader: Undefined material', name);\n\n            }\n\n            return materials[name];\n\n        }\n\n        let geometry, material;\n\n        switch (data.type) {\n\n            case 'Scene':\n\n                object = new Scene();\n\n                if (data.background !== undefined) {\n\n                    if (Number.isInteger(data.background)) {\n\n                        object.background = new Color(data.background);\n\n                    }\n\n                }\n\n                if (data.fog !== undefined) {\n\n                    if (data.fog.type === 'Fog') {\n\n                        object.fog = new Fog(data.fog.color, data.fog.near, data.fog.far);\n\n                    } else if (data.fog.type === 'FogExp2') {\n\n                        object.fog = new FogExp2(data.fog.color, data.fog.density);\n\n                    }\n\n                }\n\n                break;\n\n            case 'PerspectiveCamera':\n\n                object = new PerspectiveCamera(data.fov, data.aspect, data.near, data.far);\n\n                if (data.focus !== undefined) object.focus = data.focus;\n                if (data.zoom !== undefined) object.zoom = data.zoom;\n                if (data.filmGauge !== undefined) object.filmGauge = data.filmGauge;\n                if (data.filmOffset !== undefined) object.filmOffset = data.filmOffset;\n                if (data.view !== undefined) object.view = Object.assign({}, data.view);\n\n                break;\n\n            case 'OrthographicCamera':\n\n                object = new OrthographicCamera(data.left, data.right, data.top, data.bottom, data.near, data.far);\n\n                if (data.zoom !== undefined) object.zoom = data.zoom;\n                if (data.view !== undefined) object.view = Object.assign({}, data.view);\n\n                break;\n\n            case 'AmbientLight':\n\n                object = new AmbientLight(data.color, data.intensity);\n\n                break;\n\n            case 'DirectionalLight':\n\n                object = new DirectionalLight(data.color, data.intensity);\n\n                break;\n\n            case 'PointLight':\n\n                object = new PointLight(data.color, data.intensity, data.distance, data.decay);\n\n                break;\n\n            case 'RectAreaLight':\n\n                object = new RectAreaLight(data.color, data.intensity, data.width, data.height);\n\n                break;\n\n            case 'SpotLight':\n\n                object = new SpotLight(data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay);\n\n                break;\n\n            case 'HemisphereLight':\n\n                object = new HemisphereLight(data.color, data.groundColor, data.intensity);\n\n                break;\n\n            case 'LightProbe':\n\n                object = new LightProbe().fromJSON(data);\n\n                break;\n\n            case 'SkinnedMesh':\n\n                console.warn('THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.');\n\n            case 'Mesh':\n\n                geometry = getGeometry(data.geometry);\n                material = getMaterial(data.material);\n\n                object = new Mesh(geometry, material);\n\n                break;\n\n            case 'InstancedMesh':\n\n                geometry = getGeometry(data.geometry);\n                material = getMaterial(data.material);\n                const count = data.count;\n                const instanceMatrix = data.instanceMatrix;\n\n                object = new InstancedMesh(geometry, material, count);\n                object.instanceMatrix = new BufferAttribute(new Float32Array(instanceMatrix.array), 16);\n\n                break;\n\n            case 'LOD':\n\n                object = new LOD();\n\n                break;\n\n            case 'Line':\n\n                object = new Line(getGeometry(data.geometry), getMaterial(data.material), data.mode);\n\n                break;\n\n            case 'LineLoop':\n\n                object = new LineLoop(getGeometry(data.geometry), getMaterial(data.material));\n\n                break;\n\n            case 'LineSegments':\n\n                object = new LineSegments(getGeometry(data.geometry), getMaterial(data.material));\n\n                break;\n\n            case 'PointCloud':\n            case 'Points':\n\n                object = new Points(getGeometry(data.geometry), getMaterial(data.material));\n\n                break;\n\n            case 'Sprite':\n\n                object = new Sprite(getMaterial(data.material));\n\n                break;\n\n            case 'Group':\n\n                object = new Group();\n\n                break;\n\n            default:\n\n                object = new Object3D();\n\n        }\n\n        object.uuid = data.uuid;\n\n        if (data.name !== undefined) object.name = data.name;\n\n        if (data.matrix !== undefined) {\n\n            object.matrix.fromArray(data.matrix);\n\n            if (data.matrixAutoUpdate !== undefined) object.matrixAutoUpdate = data.matrixAutoUpdate;\n            if (object.matrixAutoUpdate) object.matrix.decompose(object.position, object.quaternion, object.scale);\n\n        } else {\n\n            if (data.position !== undefined) object.position.fromArray(data.position);\n            if (data.rotation !== undefined) object.rotation.fromArray(data.rotation);\n            if (data.quaternion !== undefined) object.quaternion.fromArray(data.quaternion);\n            if (data.scale !== undefined) object.scale.fromArray(data.scale);\n\n        }\n\n        if (data.castShadow !== undefined) object.castShadow = data.castShadow;\n        if (data.receiveShadow !== undefined) object.receiveShadow = data.receiveShadow;\n\n        if (data.shadow) {\n\n            if (data.shadow.bias !== undefined) object.shadow.bias = data.shadow.bias;\n            if (data.shadow.normalBias !== undefined) object.shadow.normalBias = data.shadow.normalBias;\n            if (data.shadow.radius !== undefined) object.shadow.radius = data.shadow.radius;\n            if (data.shadow.mapSize !== undefined) object.shadow.mapSize.fromArray(data.shadow.mapSize);\n            if (data.shadow.camera !== undefined) object.shadow.camera = this.parseObject(data.shadow.camera);\n\n        }\n\n        if (data.visible !== undefined) object.visible = data.visible;\n        if (data.frustumCulled !== undefined) object.frustumCulled = data.frustumCulled;\n        if (data.renderOrder !== undefined) object.renderOrder = data.renderOrder;\n        if (data.userData !== undefined) object.userData = data.userData;\n        if (data.layers !== undefined) object.layers.mask = data.layers;\n\n        if (data.children !== undefined) {\n\n            const children = data.children;\n\n            for (let i = 0; i < children.length; i++) {\n\n                object.add(this.parseObject(children[i], geometries, materials));\n\n            }\n\n        }\n\n        if (data.type === 'LOD') {\n\n            if (data.autoUpdate !== undefined) object.autoUpdate = data.autoUpdate;\n\n            const levels = data.levels;\n\n            for (let l = 0; l < levels.length; l++) {\n\n                const level = levels[l];\n                const child = object.getObjectByProperty('uuid', level.object);\n\n                if (child !== undefined) {\n\n                    object.addLevel(child, level.distance);\n\n                }\n\n            }\n\n        }\n\n        return object;\n\n    }\n\n    /* DEPRECATED */\n\n    setTexturePath(value) {\n\n        console.warn('THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath().');\n        return this.setResourcePath(value);\n\n    }\n\n}\n\nconst TEXTURE_MAPPING = {\n    UVMapping: UVMapping,\n    CubeReflectionMapping: CubeReflectionMapping,\n    CubeRefractionMapping: CubeRefractionMapping,\n    EquirectangularReflectionMapping: EquirectangularReflectionMapping,\n    EquirectangularRefractionMapping: EquirectangularRefractionMapping,\n    CubeUVReflectionMapping: CubeUVReflectionMapping,\n    CubeUVRefractionMapping: CubeUVRefractionMapping\n};\n\nconst TEXTURE_WRAPPING = {\n    RepeatWrapping: RepeatWrapping,\n    ClampToEdgeWrapping: ClampToEdgeWrapping,\n    MirroredRepeatWrapping: MirroredRepeatWrapping\n};\n\nconst TEXTURE_FILTER = {\n    NearestFilter: NearestFilter,\n    NearestMipmapNearestFilter: NearestMipmapNearestFilter,\n    NearestMipmapLinearFilter: NearestMipmapLinearFilter,\n    LinearFilter: LinearFilter,\n    LinearMipmapNearestFilter: LinearMipmapNearestFilter,\n    LinearMipmapLinearFilter: LinearMipmapLinearFilter\n};\n\nfunction ImageBitmapLoader(manager) {\n\n    if (typeof createImageBitmap === 'undefined') {\n\n        console.warn('THREE.ImageBitmapLoader: createImageBitmap() not supported.');\n\n    }\n\n    if (typeof fetch === 'undefined') {\n\n        console.warn('THREE.ImageBitmapLoader: fetch() not supported.');\n\n    }\n\n    Loader.call(this, manager);\n\n    this.options = {\n        premultiplyAlpha: 'none'\n    };\n\n}\n\nImageBitmapLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n\n    constructor: ImageBitmapLoader,\n\n    isImageBitmapLoader: true,\n\n    setOptions: function setOptions(options) {\n\n        this.options = options;\n\n        return this;\n\n    },\n\n    load: function(url, onLoad, onProgress, onError) {\n\n        if (url === undefined) url = '';\n\n        if (this.path !== undefined) url = this.path + url;\n\n        url = this.manager.resolveURL(url);\n\n        const scope = this;\n\n        const cached = Cache.get(url);\n\n        if (cached !== undefined) {\n\n            scope.manager.itemStart(url);\n\n            setTimeout(function() {\n\n                if (onLoad) onLoad(cached);\n\n                scope.manager.itemEnd(url);\n\n            }, 0);\n\n            return cached;\n\n        }\n\n        const fetchOptions = {};\n        fetchOptions.credentials = (this.crossOrigin === 'anonymous') ? 'same-origin' : 'include';\n\n        fetch(url, fetchOptions).then(function(res) {\n\n            return res.blob();\n\n        }).then(function(blob) {\n\n            return createImageBitmap(blob, scope.options);\n\n        }).then(function(imageBitmap) {\n\n            Cache.add(url, imageBitmap);\n\n            if (onLoad) onLoad(imageBitmap);\n\n            scope.manager.itemEnd(url);\n\n        }).catch(function(e) {\n\n            if (onError) onError(e);\n\n            scope.manager.itemError(url);\n            scope.manager.itemEnd(url);\n\n        });\n\n        scope.manager.itemStart(url);\n\n    }\n\n});\n\nfunction ShapePath() {\n\n    this.type = 'ShapePath';\n\n    this.color = new Color();\n\n    this.subPaths = [];\n    this.currentPath = null;\n\n}\n\nObject.assign(ShapePath.prototype, {\n\n    moveTo: function(x, y) {\n\n        this.currentPath = new Path();\n        this.subPaths.push(this.currentPath);\n        this.currentPath.moveTo(x, y);\n\n        return this;\n\n    },\n\n    lineTo: function(x, y) {\n\n        this.currentPath.lineTo(x, y);\n\n        return this;\n\n    },\n\n    quadraticCurveTo: function(aCPx, aCPy, aX, aY) {\n\n        this.currentPath.quadraticCurveTo(aCPx, aCPy, aX, aY);\n\n        return this;\n\n    },\n\n    bezierCurveTo: function(aCP1x, aCP1y, aCP2x, aCP2y, aX, aY) {\n\n        this.currentPath.bezierCurveTo(aCP1x, aCP1y, aCP2x, aCP2y, aX, aY);\n\n        return this;\n\n    },\n\n    splineThru: function(pts) {\n\n        this.currentPath.splineThru(pts);\n\n        return this;\n\n    },\n\n    toShapes: function(isCCW, noHoles) {\n\n        function toShapesNoHoles(inSubpaths) {\n\n            const shapes = [];\n\n            for (let i = 0, l = inSubpaths.length; i < l; i++) {\n\n                const tmpPath = inSubpaths[i];\n\n                const tmpShape = new Shape();\n                tmpShape.curves = tmpPath.curves;\n\n                shapes.push(tmpShape);\n\n            }\n\n            return shapes;\n\n        }\n\n        function isPointInsidePolygon(inPt, inPolygon) {\n\n            const polyLen = inPolygon.length;\n\n            // inPt on polygon contour => immediate success    or\n            // toggling of inside/outside at every single! intersection point of an edge\n            //  with the horizontal line through inPt, left of inPt\n            //  not counting lowerY endpoints of edges and whole edges on that line\n            let inside = false;\n            for (let p = polyLen - 1, q = 0; q < polyLen; p = q++) {\n\n                let edgeLowPt = inPolygon[p];\n                let edgeHighPt = inPolygon[q];\n\n                let edgeDx = edgeHighPt.x - edgeLowPt.x;\n                let edgeDy = edgeHighPt.y - edgeLowPt.y;\n\n                if (Math.abs(edgeDy) > Number.EPSILON) {\n\n                    // not parallel\n                    if (edgeDy < 0) {\n\n                        edgeLowPt = inPolygon[q];\n                        edgeDx = -edgeDx;\n                        edgeHighPt = inPolygon[p];\n                        edgeDy = -edgeDy;\n\n                    }\n\n                    if ((inPt.y < edgeLowPt.y) || (inPt.y > edgeHighPt.y)) continue;\n\n                    if (inPt.y === edgeLowPt.y) {\n\n                        if (inPt.x === edgeLowPt.x) return true; // inPt is on contour ?\n                        // continue;\t\t\t\t// no intersection or edgeLowPt => doesn't count !!!\n\n                    } else {\n\n                        const perpEdge = edgeDy * (inPt.x - edgeLowPt.x) - edgeDx * (inPt.y - edgeLowPt.y);\n                        if (perpEdge === 0) return true; // inPt is on contour ?\n                        if (perpEdge < 0) continue;\n                        inside = !inside; // true intersection left of inPt\n\n                    }\n\n                } else {\n\n                    // parallel or collinear\n                    if (inPt.y !== edgeLowPt.y) continue; // parallel\n                    // edge lies on the same horizontal line as inPt\n                    if (((edgeHighPt.x <= inPt.x) && (inPt.x <= edgeLowPt.x)) ||\n                        ((edgeLowPt.x <= inPt.x) && (inPt.x <= edgeHighPt.x))) return true; // inPt: Point on contour !\n                    // continue;\n\n                }\n\n            }\n\n            return inside;\n\n        }\n\n        const isClockWise = ShapeUtils.isClockWise;\n\n        const subPaths = this.subPaths;\n        if (subPaths.length === 0) return [];\n\n        if (noHoles === true) return toShapesNoHoles(subPaths);\n\n\n        let solid, tmpPath, tmpShape;\n        const shapes = [];\n\n        if (subPaths.length === 1) {\n\n            tmpPath = subPaths[0];\n            tmpShape = new Shape();\n            tmpShape.curves = tmpPath.curves;\n            shapes.push(tmpShape);\n            return shapes;\n\n        }\n\n        let holesFirst = !isClockWise(subPaths[0].getPoints());\n        holesFirst = isCCW ? !holesFirst : holesFirst;\n\n        // console.log(\"Holes first\", holesFirst);\n\n        const betterShapeHoles = [];\n        const newShapes = [];\n        let newShapeHoles = [];\n        let mainIdx = 0;\n        let tmpPoints;\n\n        newShapes[mainIdx] = undefined;\n        newShapeHoles[mainIdx] = [];\n\n        for (let i = 0, l = subPaths.length; i < l; i++) {\n\n            tmpPath = subPaths[i];\n            tmpPoints = tmpPath.getPoints();\n            solid = isClockWise(tmpPoints);\n            solid = isCCW ? !solid : solid;\n\n            if (solid) {\n\n                if ((!holesFirst) && (newShapes[mainIdx])) mainIdx++;\n\n                newShapes[mainIdx] = {\n                    s: new Shape(),\n                    p: tmpPoints\n                };\n                newShapes[mainIdx].s.curves = tmpPath.curves;\n\n                if (holesFirst) mainIdx++;\n                newShapeHoles[mainIdx] = [];\n\n                //console.log('cw', i);\n\n            } else {\n\n                newShapeHoles[mainIdx].push({\n                    h: tmpPath,\n                    p: tmpPoints[0]\n                });\n\n                //console.log('ccw', i);\n\n            }\n\n        }\n\n        // only Holes? -> probably all Shapes with wrong orientation\n        if (!newShapes[0]) return toShapesNoHoles(subPaths);\n\n\n        if (newShapes.length > 1) {\n\n            let ambiguous = false;\n            const toChange = [];\n\n            for (let sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx++) {\n\n                betterShapeHoles[sIdx] = [];\n\n            }\n\n            for (let sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx++) {\n\n                const sho = newShapeHoles[sIdx];\n\n                for (let hIdx = 0; hIdx < sho.length; hIdx++) {\n\n                    const ho = sho[hIdx];\n                    let hole_unassigned = true;\n\n                    for (let s2Idx = 0; s2Idx < newShapes.length; s2Idx++) {\n\n                        if (isPointInsidePolygon(ho.p, newShapes[s2Idx].p)) {\n\n                            if (sIdx !== s2Idx) toChange.push({\n                                froms: sIdx,\n                                tos: s2Idx,\n                                hole: hIdx\n                            });\n                            if (hole_unassigned) {\n\n                                hole_unassigned = false;\n                                betterShapeHoles[s2Idx].push(ho);\n\n                            } else {\n\n                                ambiguous = true;\n\n                            }\n\n                        }\n\n                    }\n\n                    if (hole_unassigned) {\n\n                        betterShapeHoles[sIdx].push(ho);\n\n                    }\n\n                }\n\n            }\n            // console.log(\"ambiguous: \", ambiguous);\n\n            if (toChange.length > 0) {\n\n                // console.log(\"to change: \", toChange);\n                if (!ambiguous) newShapeHoles = betterShapeHoles;\n\n            }\n\n        }\n\n        let tmpHoles;\n\n        for (let i = 0, il = newShapes.length; i < il; i++) {\n\n            tmpShape = newShapes[i].s;\n            shapes.push(tmpShape);\n            tmpHoles = newShapeHoles[i];\n\n            for (let j = 0, jl = tmpHoles.length; j < jl; j++) {\n\n                tmpShape.holes.push(tmpHoles[j].h);\n\n            }\n\n        }\n\n        //console.log(\"shape\", shapes);\n\n        return shapes;\n\n    }\n\n});\n\nfunction Font(data) {\n\n    this.type = 'Font';\n\n    this.data = data;\n\n}\n\nObject.assign(Font.prototype, {\n\n    isFont: true,\n\n    generateShapes: function(text, size) {\n\n        if (size === undefined) size = 100;\n\n        const shapes = [];\n        const paths = createPaths(text, size, this.data);\n\n        for (let p = 0, pl = paths.length; p < pl; p++) {\n\n            Array.prototype.push.apply(shapes, paths[p].toShapes());\n\n        }\n\n        return shapes;\n\n    }\n\n});\n\nfunction createPaths(text, size, data) {\n\n    const chars = Array.from ? Array.from(text) : String(text).split(''); // workaround for IE11, see #13988\n    const scale = size / data.resolution;\n    const line_height = (data.boundingBox.yMax - data.boundingBox.yMin + data.underlineThickness) * scale;\n\n    const paths = [];\n\n    let offsetX = 0,\n        offsetY = 0;\n\n    for (let i = 0; i < chars.length; i++) {\n\n        const char = chars[i];\n\n        if (char === '\\n') {\n\n            offsetX = 0;\n            offsetY -= line_height;\n\n        } else {\n\n            const ret = createPath(char, scale, offsetX, offsetY, data);\n            offsetX += ret.offsetX;\n            paths.push(ret.path);\n\n        }\n\n    }\n\n    return paths;\n\n}\n\nfunction createPath(char, scale, offsetX, offsetY, data) {\n\n    const glyph = data.glyphs[char] || data.glyphs['?'];\n\n    if (!glyph) {\n\n        console.error('THREE.Font: character \"' + char + '\" does not exists in font family ' + data.familyName + '.');\n\n        return;\n\n    }\n\n    const path = new ShapePath();\n\n    let x, y, cpx, cpy, cpx1, cpy1, cpx2, cpy2;\n\n    if (glyph.o) {\n\n        const outline = glyph._cachedOutline || (glyph._cachedOutline = glyph.o.split(' '));\n\n        for (let i = 0, l = outline.length; i < l;) {\n\n            const action = outline[i++];\n\n            switch (action) {\n\n                case 'm': // moveTo\n\n                    x = outline[i++] * scale + offsetX;\n                    y = outline[i++] * scale + offsetY;\n\n                    path.moveTo(x, y);\n\n                    break;\n\n                case 'l': // lineTo\n\n                    x = outline[i++] * scale + offsetX;\n                    y = outline[i++] * scale + offsetY;\n\n                    path.lineTo(x, y);\n\n                    break;\n\n                case 'q': // quadraticCurveTo\n\n                    cpx = outline[i++] * scale + offsetX;\n                    cpy = outline[i++] * scale + offsetY;\n                    cpx1 = outline[i++] * scale + offsetX;\n                    cpy1 = outline[i++] * scale + offsetY;\n\n                    path.quadraticCurveTo(cpx1, cpy1, cpx, cpy);\n\n                    break;\n\n                case 'b': // bezierCurveTo\n\n                    cpx = outline[i++] * scale + offsetX;\n                    cpy = outline[i++] * scale + offsetY;\n                    cpx1 = outline[i++] * scale + offsetX;\n                    cpy1 = outline[i++] * scale + offsetY;\n                    cpx2 = outline[i++] * scale + offsetX;\n                    cpy2 = outline[i++] * scale + offsetY;\n\n                    path.bezierCurveTo(cpx1, cpy1, cpx2, cpy2, cpx, cpy);\n\n                    break;\n\n            }\n\n        }\n\n    }\n\n    return {\n        offsetX: glyph.ha * scale,\n        path: path\n    };\n\n}\n\nfunction FontLoader(manager) {\n\n    Loader.call(this, manager);\n\n}\n\nFontLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n\n    constructor: FontLoader,\n\n    load: function(url, onLoad, onProgress, onError) {\n\n        const scope = this;\n\n        const loader = new FileLoader(this.manager);\n        loader.setPath(this.path);\n        loader.setRequestHeader(this.requestHeader);\n        loader.setWithCredentials(scope.withCredentials);\n        loader.load(url, function(text) {\n\n            let json;\n\n            try {\n\n                json = JSON.parse(text);\n\n            } catch (e) {\n\n                console.warn('THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.');\n                json = JSON.parse(text.substring(65, text.length - 2));\n\n            }\n\n            const font = scope.parse(json);\n\n            if (onLoad) onLoad(font);\n\n        }, onProgress, onError);\n\n    },\n\n    parse: function(json) {\n\n        return new Font(json);\n\n    }\n\n});\n\nlet _context;\n\nconst AudioContext = {\n\n    getContext: function() {\n\n        if (_context === undefined) {\n\n            _context = new(window.AudioContext || window.webkitAudioContext)();\n\n        }\n\n        return _context;\n\n    },\n\n    setContext: function(value) {\n\n        _context = value;\n\n    }\n\n};\n\nfunction AudioLoader(manager) {\n\n    Loader.call(this, manager);\n\n}\n\nAudioLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n\n    constructor: AudioLoader,\n\n    load: function(url, onLoad, onProgress, onError) {\n\n        const scope = this;\n\n        const loader = new FileLoader(scope.manager);\n        loader.setResponseType('arraybuffer');\n        loader.setPath(scope.path);\n        loader.setRequestHeader(scope.requestHeader);\n        loader.setWithCredentials(scope.withCredentials);\n        loader.load(url, function(buffer) {\n\n            try {\n\n                // Create a copy of the buffer. The `decodeAudioData` method\n                // detaches the buffer when complete, preventing reuse.\n                const bufferCopy = buffer.slice(0);\n\n                const context = AudioContext.getContext();\n                context.decodeAudioData(bufferCopy, function(audioBuffer) {\n\n                    onLoad(audioBuffer);\n\n                });\n\n            } catch (e) {\n\n                if (onError) {\n\n                    onError(e);\n\n                } else {\n\n                    console.error(e);\n\n                }\n\n                scope.manager.itemError(url);\n\n            }\n\n        }, onProgress, onError);\n\n    }\n\n});\n\nfunction HemisphereLightProbe(skyColor, groundColor, intensity) {\n\n    LightProbe.call(this, undefined, intensity);\n\n    const color1 = new Color().set(skyColor);\n    const color2 = new Color().set(groundColor);\n\n    const sky = new Vector3(color1.r, color1.g, color1.b);\n    const ground = new Vector3(color2.r, color2.g, color2.b);\n\n    // without extra factor of PI in the shader, should = 1 / Math.sqrt( Math.PI );\n    const c0 = Math.sqrt(Math.PI);\n    const c1 = c0 * Math.sqrt(0.75);\n\n    this.sh.coefficients[0].copy(sky).add(ground).multiplyScalar(c0);\n    this.sh.coefficients[1].copy(sky).sub(ground).multiplyScalar(c1);\n\n}\n\nHemisphereLightProbe.prototype = Object.assign(Object.create(LightProbe.prototype), {\n\n    constructor: HemisphereLightProbe,\n\n    isHemisphereLightProbe: true,\n\n    copy: function(source) { // modifying colors not currently supported\n\n        LightProbe.prototype.copy.call(this, source);\n\n        return this;\n\n    },\n\n    toJSON: function(meta) {\n\n        const data = LightProbe.prototype.toJSON.call(this, meta);\n\n        // data.sh = this.sh.toArray(); // todo\n\n        return data;\n\n    }\n\n});\n\nfunction AmbientLightProbe(color, intensity) {\n\n    LightProbe.call(this, undefined, intensity);\n\n    const color1 = new Color().set(color);\n\n    // without extra factor of PI in the shader, would be 2 / Math.sqrt( Math.PI );\n    this.sh.coefficients[0].set(color1.r, color1.g, color1.b).multiplyScalar(2 * Math.sqrt(Math.PI));\n\n}\n\nAmbientLightProbe.prototype = Object.assign(Object.create(LightProbe.prototype), {\n\n    constructor: AmbientLightProbe,\n\n    isAmbientLightProbe: true,\n\n    copy: function(source) { // modifying color not currently supported\n\n        LightProbe.prototype.copy.call(this, source);\n\n        return this;\n\n    },\n\n    toJSON: function(meta) {\n\n        const data = LightProbe.prototype.toJSON.call(this, meta);\n\n        // data.sh = this.sh.toArray(); // todo\n\n        return data;\n\n    }\n\n});\n\nconst _eyeRight = new Matrix4();\nconst _eyeLeft = new Matrix4();\n\nfunction StereoCamera() {\n\n    this.type = 'StereoCamera';\n\n    this.aspect = 1;\n\n    this.eyeSep = 0.064;\n\n    this.cameraL = new PerspectiveCamera();\n    this.cameraL.layers.enable(1);\n    this.cameraL.matrixAutoUpdate = false;\n\n    this.cameraR = new PerspectiveCamera();\n    this.cameraR.layers.enable(2);\n    this.cameraR.matrixAutoUpdate = false;\n\n    this._cache = {\n        focus: null,\n        fov: null,\n        aspect: null,\n        near: null,\n        far: null,\n        zoom: null,\n        eyeSep: null\n    };\n\n}\n\nObject.assign(StereoCamera.prototype, {\n\n    update: function(camera) {\n\n        const cache = this._cache;\n\n        const needsUpdate = cache.focus !== camera.focus || cache.fov !== camera.fov ||\n            cache.aspect !== camera.aspect * this.aspect || cache.near !== camera.near ||\n            cache.far !== camera.far || cache.zoom !== camera.zoom || cache.eyeSep !== this.eyeSep;\n\n        if (needsUpdate) {\n\n            cache.focus = camera.focus;\n            cache.fov = camera.fov;\n            cache.aspect = camera.aspect * this.aspect;\n            cache.near = camera.near;\n            cache.far = camera.far;\n            cache.zoom = camera.zoom;\n            cache.eyeSep = this.eyeSep;\n\n            // Off-axis stereoscopic effect based on\n            // http://paulbourke.net/stereographics/stereorender/\n\n            const projectionMatrix = camera.projectionMatrix.clone();\n            const eyeSepHalf = cache.eyeSep / 2;\n            const eyeSepOnProjection = eyeSepHalf * cache.near / cache.focus;\n            const ymax = (cache.near * Math.tan(MathUtils.DEG2RAD * cache.fov * 0.5)) / cache.zoom;\n            let xmin, xmax;\n\n            // translate xOffset\n\n            _eyeLeft.elements[12] = -eyeSepHalf;\n            _eyeRight.elements[12] = eyeSepHalf;\n\n            // for left eye\n\n            xmin = -ymax * cache.aspect + eyeSepOnProjection;\n            xmax = ymax * cache.aspect + eyeSepOnProjection;\n\n            projectionMatrix.elements[0] = 2 * cache.near / (xmax - xmin);\n            projectionMatrix.elements[8] = (xmax + xmin) / (xmax - xmin);\n\n            this.cameraL.projectionMatrix.copy(projectionMatrix);\n\n            // for right eye\n\n            xmin = -ymax * cache.aspect - eyeSepOnProjection;\n            xmax = ymax * cache.aspect - eyeSepOnProjection;\n\n            projectionMatrix.elements[0] = 2 * cache.near / (xmax - xmin);\n            projectionMatrix.elements[8] = (xmax + xmin) / (xmax - xmin);\n\n            this.cameraR.projectionMatrix.copy(projectionMatrix);\n\n        }\n\n        this.cameraL.matrixWorld.copy(camera.matrixWorld).multiply(_eyeLeft);\n        this.cameraR.matrixWorld.copy(camera.matrixWorld).multiply(_eyeRight);\n\n    }\n\n});\n\nclass Clock {\n\n    constructor(autoStart) {\n\n        this.autoStart = (autoStart !== undefined) ? autoStart : true;\n\n        this.startTime = 0;\n        this.oldTime = 0;\n        this.elapsedTime = 0;\n\n        this.running = false;\n\n    }\n\n    start() {\n\n        this.startTime = (typeof performance === 'undefined' ? Date : performance).now(); // see #10732\n\n        this.oldTime = this.startTime;\n        this.elapsedTime = 0;\n        this.running = true;\n\n    }\n\n    stop() {\n\n        this.getElapsedTime();\n        this.running = false;\n        this.autoStart = false;\n\n    }\n\n    getElapsedTime() {\n\n        this.getDelta();\n        return this.elapsedTime;\n\n    }\n\n    getDelta() {\n\n        let diff = 0;\n\n        if (this.autoStart && !this.running) {\n\n            this.start();\n            return 0;\n\n        }\n\n        if (this.running) {\n\n            const newTime = (typeof performance === 'undefined' ? Date : performance).now();\n\n            diff = (newTime - this.oldTime) / 1000;\n            this.oldTime = newTime;\n\n            this.elapsedTime += diff;\n\n        }\n\n        return diff;\n\n    }\n\n}\n\nconst _position$2 = /*@__PURE__*/ new Vector3();\nconst _quaternion$3 = /*@__PURE__*/ new Quaternion();\nconst _scale$1 = /*@__PURE__*/ new Vector3();\nconst _orientation = /*@__PURE__*/ new Vector3();\n\nclass AudioListener extends Object3D {\n\n    constructor() {\n\n        super();\n\n        this.type = 'AudioListener';\n\n        this.context = AudioContext.getContext();\n\n        this.gain = this.context.createGain();\n        this.gain.connect(this.context.destination);\n\n        this.filter = null;\n\n        this.timeDelta = 0;\n\n        // private\n\n        this._clock = new Clock();\n\n    }\n\n    getInput() {\n\n        return this.gain;\n\n    }\n\n    removeFilter() {\n\n        if (this.filter !== null) {\n\n            this.gain.disconnect(this.filter);\n            this.filter.disconnect(this.context.destination);\n            this.gain.connect(this.context.destination);\n            this.filter = null;\n\n        }\n\n        return this;\n\n    }\n\n    getFilter() {\n\n        return this.filter;\n\n    }\n\n    setFilter(value) {\n\n        if (this.filter !== null) {\n\n            this.gain.disconnect(this.filter);\n            this.filter.disconnect(this.context.destination);\n\n        } else {\n\n            this.gain.disconnect(this.context.destination);\n\n        }\n\n        this.filter = value;\n        this.gain.connect(this.filter);\n        this.filter.connect(this.context.destination);\n\n        return this;\n\n    }\n\n    getMasterVolume() {\n\n        return this.gain.gain.value;\n\n    }\n\n    setMasterVolume(value) {\n\n        this.gain.gain.setTargetAtTime(value, this.context.currentTime, 0.01);\n\n        return this;\n\n    }\n\n    updateMatrixWorld(force) {\n\n        super.updateMatrixWorld(force);\n\n        const listener = this.context.listener;\n        const up = this.up;\n\n        this.timeDelta = this._clock.getDelta();\n\n        this.matrixWorld.decompose(_position$2, _quaternion$3, _scale$1);\n\n        _orientation.set(0, 0, -1).applyQuaternion(_quaternion$3);\n\n        if (listener.positionX) {\n\n            // code path for Chrome (see #14393)\n\n            const endTime = this.context.currentTime + this.timeDelta;\n\n            listener.positionX.linearRampToValueAtTime(_position$2.x, endTime);\n            listener.positionY.linearRampToValueAtTime(_position$2.y, endTime);\n            listener.positionZ.linearRampToValueAtTime(_position$2.z, endTime);\n            listener.forwardX.linearRampToValueAtTime(_orientation.x, endTime);\n            listener.forwardY.linearRampToValueAtTime(_orientation.y, endTime);\n            listener.forwardZ.linearRampToValueAtTime(_orientation.z, endTime);\n            listener.upX.linearRampToValueAtTime(up.x, endTime);\n            listener.upY.linearRampToValueAtTime(up.y, endTime);\n            listener.upZ.linearRampToValueAtTime(up.z, endTime);\n\n        } else {\n\n            listener.setPosition(_position$2.x, _position$2.y, _position$2.z);\n            listener.setOrientation(_orientation.x, _orientation.y, _orientation.z, up.x, up.y, up.z);\n\n        }\n\n    }\n\n}\n\nclass Audio extends Object3D {\n\n    constructor(listener) {\n\n        super();\n\n        this.type = 'Audio';\n\n        this.listener = listener;\n        this.context = listener.context;\n\n        this.gain = this.context.createGain();\n        this.gain.connect(listener.getInput());\n\n        this.autoplay = false;\n\n        this.buffer = null;\n        this.detune = 0;\n        this.loop = false;\n        this.loopStart = 0;\n        this.loopEnd = 0;\n        this.offset = 0;\n        this.duration = undefined;\n        this.playbackRate = 1;\n        this.isPlaying = false;\n        this.hasPlaybackControl = true;\n        this.source = null;\n        this.sourceType = 'empty';\n\n        this._startedAt = 0;\n        this._progress = 0;\n        this._connected = false;\n\n        this.filters = [];\n\n    }\n\n    getOutput() {\n\n        return this.gain;\n\n    }\n\n    setNodeSource(audioNode) {\n\n        this.hasPlaybackControl = false;\n        this.sourceType = 'audioNode';\n        this.source = audioNode;\n        this.connect();\n\n        return this;\n\n    }\n\n    setMediaElementSource(mediaElement) {\n\n        this.hasPlaybackControl = false;\n        this.sourceType = 'mediaNode';\n        this.source = this.context.createMediaElementSource(mediaElement);\n        this.connect();\n\n        return this;\n\n    }\n\n    setMediaStreamSource(mediaStream) {\n\n        this.hasPlaybackControl = false;\n        this.sourceType = 'mediaStreamNode';\n        this.source = this.context.createMediaStreamSource(mediaStream);\n        this.connect();\n\n        return this;\n\n    }\n\n    setBuffer(audioBuffer) {\n\n        this.buffer = audioBuffer;\n        this.sourceType = 'buffer';\n\n        if (this.autoplay) this.play();\n\n        return this;\n\n    }\n\n    play(delay) {\n\n        if (delay === undefined) delay = 0;\n\n        if (this.isPlaying === true) {\n\n            console.warn('THREE.Audio: Audio is already playing.');\n            return;\n\n        }\n\n        if (this.hasPlaybackControl === false) {\n\n            console.warn('THREE.Audio: this Audio has no playback control.');\n            return;\n\n        }\n\n        this._startedAt = this.context.currentTime + delay;\n\n        const source = this.context.createBufferSource();\n        source.buffer = this.buffer;\n        source.loop = this.loop;\n        source.loopStart = this.loopStart;\n        source.loopEnd = this.loopEnd;\n        source.onended = this.onEnded.bind(this);\n        source.start(this._startedAt, this._progress + this.offset, this.duration);\n\n        this.isPlaying = true;\n\n        this.source = source;\n\n        this.setDetune(this.detune);\n        this.setPlaybackRate(this.playbackRate);\n\n        return this.connect();\n\n    }\n\n    pause() {\n\n        if (this.hasPlaybackControl === false) {\n\n            console.warn('THREE.Audio: this Audio has no playback control.');\n            return;\n\n        }\n\n        if (this.isPlaying === true) {\n\n            // update current progress\n\n            this._progress += Math.max(this.context.currentTime - this._startedAt, 0) * this.playbackRate;\n\n            if (this.loop === true) {\n\n                // ensure _progress does not exceed duration with looped audios\n\n                this._progress = this._progress % (this.duration || this.buffer.duration);\n\n            }\n\n            this.source.stop();\n            this.source.onended = null;\n\n            this.isPlaying = false;\n\n        }\n\n        return this;\n\n    }\n\n    stop() {\n\n        if (this.hasPlaybackControl === false) {\n\n            console.warn('THREE.Audio: this Audio has no playback control.');\n            return;\n\n        }\n\n        this._progress = 0;\n\n        this.source.stop();\n        this.source.onended = null;\n        this.isPlaying = false;\n\n        return this;\n\n    }\n\n    connect() {\n\n        if (this.filters.length > 0) {\n\n            this.source.connect(this.filters[0]);\n\n            for (let i = 1, l = this.filters.length; i < l; i++) {\n\n                this.filters[i - 1].connect(this.filters[i]);\n\n            }\n\n            this.filters[this.filters.length - 1].connect(this.getOutput());\n\n        } else {\n\n            this.source.connect(this.getOutput());\n\n        }\n\n        this._connected = true;\n\n        return this;\n\n    }\n\n    disconnect() {\n\n        if (this.filters.length > 0) {\n\n            this.source.disconnect(this.filters[0]);\n\n            for (let i = 1, l = this.filters.length; i < l; i++) {\n\n                this.filters[i - 1].disconnect(this.filters[i]);\n\n            }\n\n            this.filters[this.filters.length - 1].disconnect(this.getOutput());\n\n        } else {\n\n            this.source.disconnect(this.getOutput());\n\n        }\n\n        this._connected = false;\n\n        return this;\n\n    }\n\n    getFilters() {\n\n        return this.filters;\n\n    }\n\n    setFilters(value) {\n\n        if (!value) value = [];\n\n        if (this._connected === true) {\n\n            this.disconnect();\n            this.filters = value.slice();\n            this.connect();\n\n        } else {\n\n            this.filters = value.slice();\n\n        }\n\n        return this;\n\n    }\n\n    setDetune(value) {\n\n        this.detune = value;\n\n        if (this.source.detune === undefined) return; // only set detune when available\n\n        if (this.isPlaying === true) {\n\n            this.source.detune.setTargetAtTime(this.detune, this.context.currentTime, 0.01);\n\n        }\n\n        return this;\n\n    }\n\n    getDetune() {\n\n        return this.detune;\n\n    }\n\n    getFilter() {\n\n        return this.getFilters()[0];\n\n    }\n\n    setFilter(filter) {\n\n        return this.setFilters(filter ? [filter] : []);\n\n    }\n\n    setPlaybackRate(value) {\n\n        if (this.hasPlaybackControl === false) {\n\n            console.warn('THREE.Audio: this Audio has no playback control.');\n            return;\n\n        }\n\n        this.playbackRate = value;\n\n        if (this.isPlaying === true) {\n\n            this.source.playbackRate.setTargetAtTime(this.playbackRate, this.context.currentTime, 0.01);\n\n        }\n\n        return this;\n\n    }\n\n    getPlaybackRate() {\n\n        return this.playbackRate;\n\n    }\n\n    onEnded() {\n\n        this.isPlaying = false;\n\n    }\n\n    getLoop() {\n\n        if (this.hasPlaybackControl === false) {\n\n            console.warn('THREE.Audio: this Audio has no playback control.');\n            return false;\n\n        }\n\n        return this.loop;\n\n    }\n\n    setLoop(value) {\n\n        if (this.hasPlaybackControl === false) {\n\n            console.warn('THREE.Audio: this Audio has no playback control.');\n            return;\n\n        }\n\n        this.loop = value;\n\n        if (this.isPlaying === true) {\n\n            this.source.loop = this.loop;\n\n        }\n\n        return this;\n\n    }\n\n    setLoopStart(value) {\n\n        this.loopStart = value;\n\n        return this;\n\n    }\n\n    setLoopEnd(value) {\n\n        this.loopEnd = value;\n\n        return this;\n\n    }\n\n    getVolume() {\n\n        return this.gain.gain.value;\n\n    }\n\n    setVolume(value) {\n\n        this.gain.gain.setTargetAtTime(value, this.context.currentTime, 0.01);\n\n        return this;\n\n    }\n\n}\n\nconst _position$3 = /*@__PURE__*/ new Vector3();\nconst _quaternion$4 = /*@__PURE__*/ new Quaternion();\nconst _scale$2 = /*@__PURE__*/ new Vector3();\nconst _orientation$1 = /*@__PURE__*/ new Vector3();\n\nclass PositionalAudio extends Audio {\n\n    constructor(listener) {\n\n        super(listener);\n\n        this.panner = this.context.createPanner();\n        this.panner.panningModel = 'HRTF';\n        this.panner.connect(this.gain);\n\n    }\n\n    getOutput() {\n\n        return this.panner;\n\n    }\n\n    getRefDistance() {\n\n        return this.panner.refDistance;\n\n    }\n\n    setRefDistance(value) {\n\n        this.panner.refDistance = value;\n\n        return this;\n\n    }\n\n    getRolloffFactor() {\n\n        return this.panner.rolloffFactor;\n\n    }\n\n    setRolloffFactor(value) {\n\n        this.panner.rolloffFactor = value;\n\n        return this;\n\n    }\n\n    getDistanceModel() {\n\n        return this.panner.distanceModel;\n\n    }\n\n    setDistanceModel(value) {\n\n        this.panner.distanceModel = value;\n\n        return this;\n\n    }\n\n    getMaxDistance() {\n\n        return this.panner.maxDistance;\n\n    }\n\n    setMaxDistance(value) {\n\n        this.panner.maxDistance = value;\n\n        return this;\n\n    }\n\n    setDirectionalCone(coneInnerAngle, coneOuterAngle, coneOuterGain) {\n\n        this.panner.coneInnerAngle = coneInnerAngle;\n        this.panner.coneOuterAngle = coneOuterAngle;\n        this.panner.coneOuterGain = coneOuterGain;\n\n        return this;\n\n    }\n\n    updateMatrixWorld(force) {\n\n        super.updateMatrixWorld(force);\n\n        if (this.hasPlaybackControl === true && this.isPlaying === false) return;\n\n        this.matrixWorld.decompose(_position$3, _quaternion$4, _scale$2);\n\n        _orientation$1.set(0, 0, 1).applyQuaternion(_quaternion$4);\n\n        const panner = this.panner;\n\n        if (panner.positionX) {\n\n            // code path for Chrome and Firefox (see #14393)\n\n            const endTime = this.context.currentTime + this.listener.timeDelta;\n\n            panner.positionX.linearRampToValueAtTime(_position$3.x, endTime);\n            panner.positionY.linearRampToValueAtTime(_position$3.y, endTime);\n            panner.positionZ.linearRampToValueAtTime(_position$3.z, endTime);\n            panner.orientationX.linearRampToValueAtTime(_orientation$1.x, endTime);\n            panner.orientationY.linearRampToValueAtTime(_orientation$1.y, endTime);\n            panner.orientationZ.linearRampToValueAtTime(_orientation$1.z, endTime);\n\n        } else {\n\n            panner.setPosition(_position$3.x, _position$3.y, _position$3.z);\n            panner.setOrientation(_orientation$1.x, _orientation$1.y, _orientation$1.z);\n\n        }\n\n    }\n\n}\n\nclass AudioAnalyser {\n\n    constructor(audio, fftSize) {\n\n        this.analyser = audio.context.createAnalyser();\n        this.analyser.fftSize = fftSize !== undefined ? fftSize : 2048;\n\n        this.data = new Uint8Array(this.analyser.frequencyBinCount);\n\n        audio.getOutput().connect(this.analyser);\n\n    }\n\n\n    getFrequencyData() {\n\n        this.analyser.getByteFrequencyData(this.data);\n\n        return this.data;\n\n    }\n\n    getAverageFrequency() {\n\n        let value = 0;\n        const data = this.getFrequencyData();\n\n        for (let i = 0; i < data.length; i++) {\n\n            value += data[i];\n\n        }\n\n        return value / data.length;\n\n    }\n\n}\n\nfunction PropertyMixer(binding, typeName, valueSize) {\n\n    this.binding = binding;\n    this.valueSize = valueSize;\n\n    let mixFunction,\n        mixFunctionAdditive,\n        setIdentity;\n\n    // buffer layout: [ incoming | accu0 | accu1 | orig | addAccu | (optional work) ]\n    //\n    // interpolators can use .buffer as their .result\n    // the data then goes to 'incoming'\n    //\n    // 'accu0' and 'accu1' are used frame-interleaved for\n    // the cumulative result and are compared to detect\n    // changes\n    //\n    // 'orig' stores the original state of the property\n    //\n    // 'add' is used for additive cumulative results\n    //\n    // 'work' is optional and is only present for quaternion types. It is used\n    // to store intermediate quaternion multiplication results\n\n    switch (typeName) {\n\n        case 'quaternion':\n            mixFunction = this._slerp;\n            mixFunctionAdditive = this._slerpAdditive;\n            setIdentity = this._setAdditiveIdentityQuaternion;\n\n            this.buffer = new Float64Array(valueSize * 6);\n            this._workIndex = 5;\n            break;\n\n        case 'string':\n        case 'bool':\n            mixFunction = this._select;\n\n            // Use the regular mix function and for additive on these types,\n            // additive is not relevant for non-numeric types\n            mixFunctionAdditive = this._select;\n\n            setIdentity = this._setAdditiveIdentityOther;\n\n            this.buffer = new Array(valueSize * 5);\n            break;\n\n        default:\n            mixFunction = this._lerp;\n            mixFunctionAdditive = this._lerpAdditive;\n            setIdentity = this._setAdditiveIdentityNumeric;\n\n            this.buffer = new Float64Array(valueSize * 5);\n\n    }\n\n    this._mixBufferRegion = mixFunction;\n    this._mixBufferRegionAdditive = mixFunctionAdditive;\n    this._setIdentity = setIdentity;\n    this._origIndex = 3;\n    this._addIndex = 4;\n\n    this.cumulativeWeight = 0;\n    this.cumulativeWeightAdditive = 0;\n\n    this.useCount = 0;\n    this.referenceCount = 0;\n\n}\n\nObject.assign(PropertyMixer.prototype, {\n\n    // accumulate data in the 'incoming' region into 'accu<i>'\n    accumulate: function(accuIndex, weight) {\n\n        // note: happily accumulating nothing when weight = 0, the caller knows\n        // the weight and shouldn't have made the call in the first place\n\n        const buffer = this.buffer,\n            stride = this.valueSize,\n            offset = accuIndex * stride + stride;\n\n        let currentWeight = this.cumulativeWeight;\n\n        if (currentWeight === 0) {\n\n            // accuN := incoming * weight\n\n            for (let i = 0; i !== stride; ++i) {\n\n                buffer[offset + i] = buffer[i];\n\n            }\n\n            currentWeight = weight;\n\n        } else {\n\n            // accuN := accuN + incoming * weight\n\n            currentWeight += weight;\n            const mix = weight / currentWeight;\n            this._mixBufferRegion(buffer, offset, 0, mix, stride);\n\n        }\n\n        this.cumulativeWeight = currentWeight;\n\n    },\n\n    // accumulate data in the 'incoming' region into 'add'\n    accumulateAdditive: function(weight) {\n\n        const buffer = this.buffer,\n            stride = this.valueSize,\n            offset = stride * this._addIndex;\n\n        if (this.cumulativeWeightAdditive === 0) {\n\n            // add = identity\n\n            this._setIdentity();\n\n        }\n\n        // add := add + incoming * weight\n\n        this._mixBufferRegionAdditive(buffer, offset, 0, weight, stride);\n        this.cumulativeWeightAdditive += weight;\n\n    },\n\n    // apply the state of 'accu<i>' to the binding when accus differ\n    apply: function(accuIndex) {\n\n        const stride = this.valueSize,\n            buffer = this.buffer,\n            offset = accuIndex * stride + stride,\n\n            weight = this.cumulativeWeight,\n            weightAdditive = this.cumulativeWeightAdditive,\n\n            binding = this.binding;\n\n        this.cumulativeWeight = 0;\n        this.cumulativeWeightAdditive = 0;\n\n        if (weight < 1) {\n\n            // accuN := accuN + original * ( 1 - cumulativeWeight )\n\n            const originalValueOffset = stride * this._origIndex;\n\n            this._mixBufferRegion(\n                buffer, offset, originalValueOffset, 1 - weight, stride);\n\n        }\n\n        if (weightAdditive > 0) {\n\n            // accuN := accuN + additive accuN\n\n            this._mixBufferRegionAdditive(buffer, offset, this._addIndex * stride, 1, stride);\n\n        }\n\n        for (let i = stride, e = stride + stride; i !== e; ++i) {\n\n            if (buffer[i] !== buffer[i + stride]) {\n\n                // value has changed -> update scene graph\n\n                binding.setValue(buffer, offset);\n                break;\n\n            }\n\n        }\n\n    },\n\n    // remember the state of the bound property and copy it to both accus\n    saveOriginalState: function() {\n\n        const binding = this.binding;\n\n        const buffer = this.buffer,\n            stride = this.valueSize,\n\n            originalValueOffset = stride * this._origIndex;\n\n        binding.getValue(buffer, originalValueOffset);\n\n        // accu[0..1] := orig -- initially detect changes against the original\n        for (let i = stride, e = originalValueOffset; i !== e; ++i) {\n\n            buffer[i] = buffer[originalValueOffset + (i % stride)];\n\n        }\n\n        // Add to identity for additive\n        this._setIdentity();\n\n        this.cumulativeWeight = 0;\n        this.cumulativeWeightAdditive = 0;\n\n    },\n\n    // apply the state previously taken via 'saveOriginalState' to the binding\n    restoreOriginalState: function() {\n\n        const originalValueOffset = this.valueSize * 3;\n        this.binding.setValue(this.buffer, originalValueOffset);\n\n    },\n\n    _setAdditiveIdentityNumeric: function() {\n\n        const startIndex = this._addIndex * this.valueSize;\n        const endIndex = startIndex + this.valueSize;\n\n        for (let i = startIndex; i < endIndex; i++) {\n\n            this.buffer[i] = 0;\n\n        }\n\n    },\n\n    _setAdditiveIdentityQuaternion: function() {\n\n        this._setAdditiveIdentityNumeric();\n        this.buffer[this._addIndex * this.valueSize + 3] = 1;\n\n    },\n\n    _setAdditiveIdentityOther: function() {\n\n        const startIndex = this._origIndex * this.valueSize;\n        const targetIndex = this._addIndex * this.valueSize;\n\n        for (let i = 0; i < this.valueSize; i++) {\n\n            this.buffer[targetIndex + i] = this.buffer[startIndex + i];\n\n        }\n\n    },\n\n\n    // mix functions\n\n    _select: function(buffer, dstOffset, srcOffset, t, stride) {\n\n        if (t >= 0.5) {\n\n            for (let i = 0; i !== stride; ++i) {\n\n                buffer[dstOffset + i] = buffer[srcOffset + i];\n\n            }\n\n        }\n\n    },\n\n    _slerp: function(buffer, dstOffset, srcOffset, t) {\n\n        Quaternion.slerpFlat(buffer, dstOffset, buffer, dstOffset, buffer, srcOffset, t);\n\n    },\n\n    _slerpAdditive: function(buffer, dstOffset, srcOffset, t, stride) {\n\n        const workOffset = this._workIndex * stride;\n\n        // Store result in intermediate buffer offset\n        Quaternion.multiplyQuaternionsFlat(buffer, workOffset, buffer, dstOffset, buffer, srcOffset);\n\n        // Slerp to the intermediate result\n        Quaternion.slerpFlat(buffer, dstOffset, buffer, dstOffset, buffer, workOffset, t);\n\n    },\n\n    _lerp: function(buffer, dstOffset, srcOffset, t, stride) {\n\n        const s = 1 - t;\n\n        for (let i = 0; i !== stride; ++i) {\n\n            const j = dstOffset + i;\n\n            buffer[j] = buffer[j] * s + buffer[srcOffset + i] * t;\n\n        }\n\n    },\n\n    _lerpAdditive: function(buffer, dstOffset, srcOffset, t, stride) {\n\n        for (let i = 0; i !== stride; ++i) {\n\n            const j = dstOffset + i;\n\n            buffer[j] = buffer[j] + buffer[srcOffset + i] * t;\n\n        }\n\n    }\n\n});\n\n// Characters [].:/ are reserved for track binding syntax.\nconst _RESERVED_CHARS_RE = '\\\\[\\\\]\\\\.:\\\\/';\nconst _reservedRe = new RegExp('[' + _RESERVED_CHARS_RE + ']', 'g');\n\n// Attempts to allow node names from any language. ES5's `\\w` regexp matches\n// only latin characters, and the unicode \\p{L} is not yet supported. So\n// instead, we exclude reserved characters and match everything else.\nconst _wordChar = '[^' + _RESERVED_CHARS_RE + ']';\nconst _wordCharOrDot = '[^' + _RESERVED_CHARS_RE.replace('\\\\.', '') + ']';\n\n// Parent directories, delimited by '/' or ':'. Currently unused, but must\n// be matched to parse the rest of the track name.\nconst _directoryRe = /((?:WC+[\\/:])*)/.source.replace('WC', _wordChar);\n\n// Target node. May contain word characters (a-zA-Z0-9_) and '.' or '-'.\nconst _nodeRe = /(WCOD+)?/.source.replace('WCOD', _wordCharOrDot);\n\n// Object on target node, and accessor. May not contain reserved\n// characters. Accessor may contain any character except closing bracket.\nconst _objectRe = /(?:\\.(WC+)(?:\\[(.+)\\])?)?/.source.replace('WC', _wordChar);\n\n// Property and accessor. May not contain reserved characters. Accessor may\n// contain any non-bracket characters.\nconst _propertyRe = /\\.(WC+)(?:\\[(.+)\\])?/.source.replace('WC', _wordChar);\n\nconst _trackRe = new RegExp('' +\n    '^' +\n    _directoryRe +\n    _nodeRe +\n    _objectRe +\n    _propertyRe +\n    '$'\n);\n\nconst _supportedObjectNames = ['material', 'materials', 'bones'];\n\nfunction Composite(targetGroup, path, optionalParsedPath) {\n\n    const parsedPath = optionalParsedPath || PropertyBinding.parseTrackName(path);\n\n    this._targetGroup = targetGroup;\n    this._bindings = targetGroup.subscribe_(path, parsedPath);\n\n}\n\nObject.assign(Composite.prototype, {\n\n    getValue: function(array, offset) {\n\n        this.bind(); // bind all binding\n\n        const firstValidIndex = this._targetGroup.nCachedObjects_,\n            binding = this._bindings[firstValidIndex];\n\n        // and only call .getValue on the first\n        if (binding !== undefined) binding.getValue(array, offset);\n\n    },\n\n    setValue: function(array, offset) {\n\n        const bindings = this._bindings;\n\n        for (let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++i) {\n\n            bindings[i].setValue(array, offset);\n\n        }\n\n    },\n\n    bind: function() {\n\n        const bindings = this._bindings;\n\n        for (let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++i) {\n\n            bindings[i].bind();\n\n        }\n\n    },\n\n    unbind: function() {\n\n        const bindings = this._bindings;\n\n        for (let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++i) {\n\n            bindings[i].unbind();\n\n        }\n\n    }\n\n});\n\n\nfunction PropertyBinding(rootNode, path, parsedPath) {\n\n    this.path = path;\n    this.parsedPath = parsedPath || PropertyBinding.parseTrackName(path);\n\n    this.node = PropertyBinding.findNode(rootNode, this.parsedPath.nodeName) || rootNode;\n\n    this.rootNode = rootNode;\n\n}\n\nObject.assign(PropertyBinding, {\n\n    Composite: Composite,\n\n    create: function(root, path, parsedPath) {\n\n        if (!(root && root.isAnimationObjectGroup)) {\n\n            return new PropertyBinding(root, path, parsedPath);\n\n        } else {\n\n            return new PropertyBinding.Composite(root, path, parsedPath);\n\n        }\n\n    },\n\n    /**\n     * Replaces spaces with underscores and removes unsupported characters from\n     * node names, to ensure compatibility with parseTrackName().\n     *\n     * @param {string} name Node name to be sanitized.\n     * @return {string}\n     */\n    sanitizeNodeName: function(name) {\n\n        return name.replace(/\\s/g, '_').replace(_reservedRe, '');\n\n    },\n\n    parseTrackName: function(trackName) {\n\n        const matches = _trackRe.exec(trackName);\n\n        if (!matches) {\n\n            throw new Error('PropertyBinding: Cannot parse trackName: ' + trackName);\n\n        }\n\n        const results = {\n            // directoryName: matches[ 1 ], // (tschw) currently unused\n            nodeName: matches[2],\n            objectName: matches[3],\n            objectIndex: matches[4],\n            propertyName: matches[5], // required\n            propertyIndex: matches[6]\n        };\n\n        const lastDot = results.nodeName && results.nodeName.lastIndexOf('.');\n\n        if (lastDot !== undefined && lastDot !== -1) {\n\n            const objectName = results.nodeName.substring(lastDot + 1);\n\n            // Object names must be checked against an allowlist. Otherwise, there\n            // is no way to parse 'foo.bar.baz': 'baz' must be a property, but\n            // 'bar' could be the objectName, or part of a nodeName (which can\n            // include '.' characters).\n            if (_supportedObjectNames.indexOf(objectName) !== -1) {\n\n                results.nodeName = results.nodeName.substring(0, lastDot);\n                results.objectName = objectName;\n\n            }\n\n        }\n\n        if (results.propertyName === null || results.propertyName.length === 0) {\n\n            throw new Error('PropertyBinding: can not parse propertyName from trackName: ' + trackName);\n\n        }\n\n        return results;\n\n    },\n\n    findNode: function(root, nodeName) {\n\n        if (!nodeName || nodeName === \"\" || nodeName === \".\" || nodeName === -1 || nodeName === root.name || nodeName === root.uuid) {\n\n            return root;\n\n        }\n\n        // search into skeleton bones.\n        if (root.skeleton) {\n\n            const bone = root.skeleton.getBoneByName(nodeName);\n\n            if (bone !== undefined) {\n\n                return bone;\n\n            }\n\n        }\n\n        // search into node subtree.\n        if (root.children) {\n\n            const searchNodeSubtree = function(children) {\n\n                for (let i = 0; i < children.length; i++) {\n\n                    const childNode = children[i];\n\n                    if (childNode.name === nodeName || childNode.uuid === nodeName) {\n\n                        return childNode;\n\n                    }\n\n                    const result = searchNodeSubtree(childNode.children);\n\n                    if (result) return result;\n\n                }\n\n                return null;\n\n            };\n\n            const subTreeNode = searchNodeSubtree(root.children);\n\n            if (subTreeNode) {\n\n                return subTreeNode;\n\n            }\n\n        }\n\n        return null;\n\n    }\n\n});\n\nObject.assign(PropertyBinding.prototype, { // prototype, continued\n\n    // these are used to \"bind\" a nonexistent property\n    _getValue_unavailable: function() {},\n    _setValue_unavailable: function() {},\n\n    BindingType: {\n        Direct: 0,\n        EntireArray: 1,\n        ArrayElement: 2,\n        HasFromToArray: 3\n    },\n\n    Versioning: {\n        None: 0,\n        NeedsUpdate: 1,\n        MatrixWorldNeedsUpdate: 2\n    },\n\n    GetterByBindingType: [\n\n        function getValue_direct(buffer, offset) {\n\n            buffer[offset] = this.node[this.propertyName];\n\n        },\n\n        function getValue_array(buffer, offset) {\n\n            const source = this.resolvedProperty;\n\n            for (let i = 0, n = source.length; i !== n; ++i) {\n\n                buffer[offset++] = source[i];\n\n            }\n\n        },\n\n        function getValue_arrayElement(buffer, offset) {\n\n            buffer[offset] = this.resolvedProperty[this.propertyIndex];\n\n        },\n\n        function getValue_toArray(buffer, offset) {\n\n            this.resolvedProperty.toArray(buffer, offset);\n\n        }\n\n    ],\n\n    SetterByBindingTypeAndVersioning: [\n\n        [\n            // Direct\n\n            function setValue_direct(buffer, offset) {\n\n                this.targetObject[this.propertyName] = buffer[offset];\n\n            },\n\n            function setValue_direct_setNeedsUpdate(buffer, offset) {\n\n                this.targetObject[this.propertyName] = buffer[offset];\n                this.targetObject.needsUpdate = true;\n\n            },\n\n            function setValue_direct_setMatrixWorldNeedsUpdate(buffer, offset) {\n\n                this.targetObject[this.propertyName] = buffer[offset];\n                this.targetObject.matrixWorldNeedsUpdate = true;\n\n            }\n\n        ],\n        [\n\n            // EntireArray\n\n            function setValue_array(buffer, offset) {\n\n                const dest = this.resolvedProperty;\n\n                for (let i = 0, n = dest.length; i !== n; ++i) {\n\n                    dest[i] = buffer[offset++];\n\n                }\n\n            },\n\n            function setValue_array_setNeedsUpdate(buffer, offset) {\n\n                const dest = this.resolvedProperty;\n\n                for (let i = 0, n = dest.length; i !== n; ++i) {\n\n                    dest[i] = buffer[offset++];\n\n                }\n\n                this.targetObject.needsUpdate = true;\n\n            },\n\n            function setValue_array_setMatrixWorldNeedsUpdate(buffer, offset) {\n\n                const dest = this.resolvedProperty;\n\n                for (let i = 0, n = dest.length; i !== n; ++i) {\n\n                    dest[i] = buffer[offset++];\n\n                }\n\n                this.targetObject.matrixWorldNeedsUpdate = true;\n\n            }\n\n        ],\n        [\n\n            // ArrayElement\n\n            function setValue_arrayElement(buffer, offset) {\n\n                this.resolvedProperty[this.propertyIndex] = buffer[offset];\n\n            },\n\n            function setValue_arrayElement_setNeedsUpdate(buffer, offset) {\n\n                this.resolvedProperty[this.propertyIndex] = buffer[offset];\n                this.targetObject.needsUpdate = true;\n\n            },\n\n            function setValue_arrayElement_setMatrixWorldNeedsUpdate(buffer, offset) {\n\n                this.resolvedProperty[this.propertyIndex] = buffer[offset];\n                this.targetObject.matrixWorldNeedsUpdate = true;\n\n            }\n\n        ],\n        [\n\n            // HasToFromArray\n\n            function setValue_fromArray(buffer, offset) {\n\n                this.resolvedProperty.fromArray(buffer, offset);\n\n            },\n\n            function setValue_fromArray_setNeedsUpdate(buffer, offset) {\n\n                this.resolvedProperty.fromArray(buffer, offset);\n                this.targetObject.needsUpdate = true;\n\n            },\n\n            function setValue_fromArray_setMatrixWorldNeedsUpdate(buffer, offset) {\n\n                this.resolvedProperty.fromArray(buffer, offset);\n                this.targetObject.matrixWorldNeedsUpdate = true;\n\n            }\n\n        ]\n\n    ],\n\n    getValue: function getValue_unbound(targetArray, offset) {\n\n        this.bind();\n        this.getValue(targetArray, offset);\n\n        // Note: This class uses a State pattern on a per-method basis:\n        // 'bind' sets 'this.getValue' / 'setValue' and shadows the\n        // prototype version of these methods with one that represents\n        // the bound state. When the property is not found, the methods\n        // become no-ops.\n\n    },\n\n    setValue: function getValue_unbound(sourceArray, offset) {\n\n        this.bind();\n        this.setValue(sourceArray, offset);\n\n    },\n\n    // create getter / setter pair for a property in the scene graph\n    bind: function() {\n\n        let targetObject = this.node;\n        const parsedPath = this.parsedPath;\n\n        const objectName = parsedPath.objectName;\n        const propertyName = parsedPath.propertyName;\n        let propertyIndex = parsedPath.propertyIndex;\n\n        if (!targetObject) {\n\n            targetObject = PropertyBinding.findNode(this.rootNode, parsedPath.nodeName) || this.rootNode;\n\n            this.node = targetObject;\n\n        }\n\n        // set fail state so we can just 'return' on error\n        this.getValue = this._getValue_unavailable;\n        this.setValue = this._setValue_unavailable;\n\n        // ensure there is a value node\n        if (!targetObject) {\n\n            console.error('THREE.PropertyBinding: Trying to update node for track: ' + this.path + ' but it wasn\\'t found.');\n            return;\n\n        }\n\n        if (objectName) {\n\n            let objectIndex = parsedPath.objectIndex;\n\n            // special cases were we need to reach deeper into the hierarchy to get the face materials....\n            switch (objectName) {\n\n                case 'materials':\n\n                    if (!targetObject.material) {\n\n                        console.error('THREE.PropertyBinding: Can not bind to material as node does not have a material.', this);\n                        return;\n\n                    }\n\n                    if (!targetObject.material.materials) {\n\n                        console.error('THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.', this);\n                        return;\n\n                    }\n\n                    targetObject = targetObject.material.materials;\n\n                    break;\n\n                case 'bones':\n\n                    if (!targetObject.skeleton) {\n\n                        console.error('THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.', this);\n                        return;\n\n                    }\n\n                    // potential future optimization: skip this if propertyIndex is already an integer\n                    // and convert the integer string to a true integer.\n\n                    targetObject = targetObject.skeleton.bones;\n\n                    // support resolving morphTarget names into indices.\n                    for (let i = 0; i < targetObject.length; i++) {\n\n                        if (targetObject[i].name === objectIndex) {\n\n                            objectIndex = i;\n                            break;\n\n                        }\n\n                    }\n\n                    break;\n\n                default:\n\n                    if (targetObject[objectName] === undefined) {\n\n                        console.error('THREE.PropertyBinding: Can not bind to objectName of node undefined.', this);\n                        return;\n\n                    }\n\n                    targetObject = targetObject[objectName];\n\n            }\n\n\n            if (objectIndex !== undefined) {\n\n                if (targetObject[objectIndex] === undefined) {\n\n                    console.error('THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.', this, targetObject);\n                    return;\n\n                }\n\n                targetObject = targetObject[objectIndex];\n\n            }\n\n        }\n\n        // resolve property\n        const nodeProperty = targetObject[propertyName];\n\n        if (nodeProperty === undefined) {\n\n            const nodeName = parsedPath.nodeName;\n\n            console.error('THREE.PropertyBinding: Trying to update property for track: ' + nodeName +\n                '.' + propertyName + ' but it wasn\\'t found.', targetObject);\n            return;\n\n        }\n\n        // determine versioning scheme\n        let versioning = this.Versioning.None;\n\n        this.targetObject = targetObject;\n\n        if (targetObject.needsUpdate !== undefined) { // material\n\n            versioning = this.Versioning.NeedsUpdate;\n\n        } else if (targetObject.matrixWorldNeedsUpdate !== undefined) { // node transform\n\n            versioning = this.Versioning.MatrixWorldNeedsUpdate;\n\n        }\n\n        // determine how the property gets bound\n        let bindingType = this.BindingType.Direct;\n\n        if (propertyIndex !== undefined) {\n\n            // access a sub element of the property array (only primitives are supported right now)\n\n            if (propertyName === \"morphTargetInfluences\") {\n\n                // potential optimization, skip this if propertyIndex is already an integer, and convert the integer string to a true integer.\n\n                // support resolving morphTarget names into indices.\n                if (!targetObject.geometry) {\n\n                    console.error('THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.', this);\n                    return;\n\n                }\n\n                if (targetObject.geometry.isBufferGeometry) {\n\n                    if (!targetObject.geometry.morphAttributes) {\n\n                        console.error('THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.', this);\n                        return;\n\n                    }\n\n                    if (targetObject.morphTargetDictionary[propertyIndex] !== undefined) {\n\n                        propertyIndex = targetObject.morphTargetDictionary[propertyIndex];\n\n                    }\n\n\n                } else {\n\n                    console.error('THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.', this);\n                    return;\n\n                }\n\n            }\n\n            bindingType = this.BindingType.ArrayElement;\n\n            this.resolvedProperty = nodeProperty;\n            this.propertyIndex = propertyIndex;\n\n        } else if (nodeProperty.fromArray !== undefined && nodeProperty.toArray !== undefined) {\n\n            // must use copy for Object3D.Euler/Quaternion\n\n            bindingType = this.BindingType.HasFromToArray;\n\n            this.resolvedProperty = nodeProperty;\n\n        } else if (Array.isArray(nodeProperty)) {\n\n            bindingType = this.BindingType.EntireArray;\n\n            this.resolvedProperty = nodeProperty;\n\n        } else {\n\n            this.propertyName = propertyName;\n\n        }\n\n        // select getter / setter\n        this.getValue = this.GetterByBindingType[bindingType];\n        this.setValue = this.SetterByBindingTypeAndVersioning[bindingType][versioning];\n\n    },\n\n    unbind: function() {\n\n        this.node = null;\n\n        // back to the prototype version of getValue / setValue\n        // note: avoiding to mutate the shape of 'this' via 'delete'\n        this.getValue = this._getValue_unbound;\n        this.setValue = this._setValue_unbound;\n\n    }\n\n});\n\n// DECLARE ALIAS AFTER assign prototype\nObject.assign(PropertyBinding.prototype, {\n\n    // initial state of these methods that calls 'bind'\n    _getValue_unbound: PropertyBinding.prototype.getValue,\n    _setValue_unbound: PropertyBinding.prototype.setValue,\n\n});\n\n/**\n *\n * A group of objects that receives a shared animation state.\n *\n * Usage:\n *\n *  - Add objects you would otherwise pass as 'root' to the\n *    constructor or the .clipAction method of AnimationMixer.\n *\n *  - Instead pass this object as 'root'.\n *\n *  - You can also add and remove objects later when the mixer\n *    is running.\n *\n * Note:\n *\n *    Objects of this class appear as one object to the mixer,\n *    so cache control of the individual objects must be done\n *    on the group.\n *\n * Limitation:\n *\n *  - The animated properties must be compatible among the\n *    all objects in the group.\n *\n *  - A single property can either be controlled through a\n *    target group or directly, but not both.\n */\n\nfunction AnimationObjectGroup() {\n\n    this.uuid = MathUtils.generateUUID();\n\n    // cached objects followed by the active ones\n    this._objects = Array.prototype.slice.call(arguments);\n\n    this.nCachedObjects_ = 0; // threshold\n    // note: read by PropertyBinding.Composite\n\n    const indices = {};\n    this._indicesByUUID = indices; // for bookkeeping\n\n    for (let i = 0, n = arguments.length; i !== n; ++i) {\n\n        indices[arguments[i].uuid] = i;\n\n    }\n\n    this._paths = []; // inside: string\n    this._parsedPaths = []; // inside: { we don't care, here }\n    this._bindings = []; // inside: Array< PropertyBinding >\n    this._bindingsIndicesByPath = {}; // inside: indices in these arrays\n\n    const scope = this;\n\n    this.stats = {\n\n        objects: {\n            get total() {\n\n                return scope._objects.length;\n\n            },\n            get inUse() {\n\n                return this.total - scope.nCachedObjects_;\n\n            }\n        },\n        get bindingsPerObject() {\n\n            return scope._bindings.length;\n\n        }\n\n    };\n\n}\n\nObject.assign(AnimationObjectGroup.prototype, {\n\n    isAnimationObjectGroup: true,\n\n    add: function() {\n\n        const objects = this._objects,\n            indicesByUUID = this._indicesByUUID,\n            paths = this._paths,\n            parsedPaths = this._parsedPaths,\n            bindings = this._bindings,\n            nBindings = bindings.length;\n\n        let knownObject = undefined,\n            nObjects = objects.length,\n            nCachedObjects = this.nCachedObjects_;\n\n        for (let i = 0, n = arguments.length; i !== n; ++i) {\n\n            const object = arguments[i],\n                uuid = object.uuid;\n            let index = indicesByUUID[uuid];\n\n            if (index === undefined) {\n\n                // unknown object -> add it to the ACTIVE region\n\n                index = nObjects++;\n                indicesByUUID[uuid] = index;\n                objects.push(object);\n\n                // accounting is done, now do the same for all bindings\n\n                for (let j = 0, m = nBindings; j !== m; ++j) {\n\n                    bindings[j].push(new PropertyBinding(object, paths[j], parsedPaths[j]));\n\n                }\n\n            } else if (index < nCachedObjects) {\n\n                knownObject = objects[index];\n\n                // move existing object to the ACTIVE region\n\n                const firstActiveIndex = --nCachedObjects,\n                    lastCachedObject = objects[firstActiveIndex];\n\n                indicesByUUID[lastCachedObject.uuid] = index;\n                objects[index] = lastCachedObject;\n\n                indicesByUUID[uuid] = firstActiveIndex;\n                objects[firstActiveIndex] = object;\n\n                // accounting is done, now do the same for all bindings\n\n                for (let j = 0, m = nBindings; j !== m; ++j) {\n\n                    const bindingsForPath = bindings[j],\n                        lastCached = bindingsForPath[firstActiveIndex];\n\n                    let binding = bindingsForPath[index];\n\n                    bindingsForPath[index] = lastCached;\n\n                    if (binding === undefined) {\n\n                        // since we do not bother to create new bindings\n                        // for objects that are cached, the binding may\n                        // or may not exist\n\n                        binding = new PropertyBinding(object, paths[j], parsedPaths[j]);\n\n                    }\n\n                    bindingsForPath[firstActiveIndex] = binding;\n\n                }\n\n            } else if (objects[index] !== knownObject) {\n\n                console.error('THREE.AnimationObjectGroup: Different objects with the same UUID ' +\n                    'detected. Clean the caches or recreate your infrastructure when reloading scenes.');\n\n            } // else the object is already where we want it to be\n\n        } // for arguments\n\n        this.nCachedObjects_ = nCachedObjects;\n\n    },\n\n    remove: function() {\n\n        const objects = this._objects,\n            indicesByUUID = this._indicesByUUID,\n            bindings = this._bindings,\n            nBindings = bindings.length;\n\n        let nCachedObjects = this.nCachedObjects_;\n\n        for (let i = 0, n = arguments.length; i !== n; ++i) {\n\n            const object = arguments[i],\n                uuid = object.uuid,\n                index = indicesByUUID[uuid];\n\n            if (index !== undefined && index >= nCachedObjects) {\n\n                // move existing object into the CACHED region\n\n                const lastCachedIndex = nCachedObjects++,\n                    firstActiveObject = objects[lastCachedIndex];\n\n                indicesByUUID[firstActiveObject.uuid] = index;\n                objects[index] = firstActiveObject;\n\n                indicesByUUID[uuid] = lastCachedIndex;\n                objects[lastCachedIndex] = object;\n\n                // accounting is done, now do the same for all bindings\n\n                for (let j = 0, m = nBindings; j !== m; ++j) {\n\n                    const bindingsForPath = bindings[j],\n                        firstActive = bindingsForPath[lastCachedIndex],\n                        binding = bindingsForPath[index];\n\n                    bindingsForPath[index] = firstActive;\n                    bindingsForPath[lastCachedIndex] = binding;\n\n                }\n\n            }\n\n        } // for arguments\n\n        this.nCachedObjects_ = nCachedObjects;\n\n    },\n\n    // remove & forget\n    uncache: function() {\n\n        const objects = this._objects,\n            indicesByUUID = this._indicesByUUID,\n            bindings = this._bindings,\n            nBindings = bindings.length;\n\n        let nCachedObjects = this.nCachedObjects_,\n            nObjects = objects.length;\n\n        for (let i = 0, n = arguments.length; i !== n; ++i) {\n\n            const object = arguments[i],\n                uuid = object.uuid,\n                index = indicesByUUID[uuid];\n\n            if (index !== undefined) {\n\n                delete indicesByUUID[uuid];\n\n                if (index < nCachedObjects) {\n\n                    // object is cached, shrink the CACHED region\n\n                    const firstActiveIndex = --nCachedObjects,\n                        lastCachedObject = objects[firstActiveIndex],\n                        lastIndex = --nObjects,\n                        lastObject = objects[lastIndex];\n\n                    // last cached object takes this object's place\n                    indicesByUUID[lastCachedObject.uuid] = index;\n                    objects[index] = lastCachedObject;\n\n                    // last object goes to the activated slot and pop\n                    indicesByUUID[lastObject.uuid] = firstActiveIndex;\n                    objects[firstActiveIndex] = lastObject;\n                    objects.pop();\n\n                    // accounting is done, now do the same for all bindings\n\n                    for (let j = 0, m = nBindings; j !== m; ++j) {\n\n                        const bindingsForPath = bindings[j],\n                            lastCached = bindingsForPath[firstActiveIndex],\n                            last = bindingsForPath[lastIndex];\n\n                        bindingsForPath[index] = lastCached;\n                        bindingsForPath[firstActiveIndex] = last;\n                        bindingsForPath.pop();\n\n                    }\n\n                } else {\n\n                    // object is active, just swap with the last and pop\n\n                    const lastIndex = --nObjects,\n                        lastObject = objects[lastIndex];\n\n                    if (lastIndex > 0) {\n\n                        indicesByUUID[lastObject.uuid] = index;\n\n                    }\n\n                    objects[index] = lastObject;\n                    objects.pop();\n\n                    // accounting is done, now do the same for all bindings\n\n                    for (let j = 0, m = nBindings; j !== m; ++j) {\n\n                        const bindingsForPath = bindings[j];\n\n                        bindingsForPath[index] = bindingsForPath[lastIndex];\n                        bindingsForPath.pop();\n\n                    }\n\n                } // cached or active\n\n            } // if object is known\n\n        } // for arguments\n\n        this.nCachedObjects_ = nCachedObjects;\n\n    },\n\n    // Internal interface used by befriended PropertyBinding.Composite:\n\n    subscribe_: function(path, parsedPath) {\n\n        // returns an array of bindings for the given path that is changed\n        // according to the contained objects in the group\n\n        const indicesByPath = this._bindingsIndicesByPath;\n        let index = indicesByPath[path];\n        const bindings = this._bindings;\n\n        if (index !== undefined) return bindings[index];\n\n        const paths = this._paths,\n            parsedPaths = this._parsedPaths,\n            objects = this._objects,\n            nObjects = objects.length,\n            nCachedObjects = this.nCachedObjects_,\n            bindingsForPath = new Array(nObjects);\n\n        index = bindings.length;\n\n        indicesByPath[path] = index;\n\n        paths.push(path);\n        parsedPaths.push(parsedPath);\n        bindings.push(bindingsForPath);\n\n        for (let i = nCachedObjects, n = objects.length; i !== n; ++i) {\n\n            const object = objects[i];\n            bindingsForPath[i] = new PropertyBinding(object, path, parsedPath);\n\n        }\n\n        return bindingsForPath;\n\n    },\n\n    unsubscribe_: function(path) {\n\n        // tells the group to forget about a property path and no longer\n        // update the array previously obtained with 'subscribe_'\n\n        const indicesByPath = this._bindingsIndicesByPath,\n            index = indicesByPath[path];\n\n        if (index !== undefined) {\n\n            const paths = this._paths,\n                parsedPaths = this._parsedPaths,\n                bindings = this._bindings,\n                lastBindingsIndex = bindings.length - 1,\n                lastBindings = bindings[lastBindingsIndex],\n                lastBindingsPath = path[lastBindingsIndex];\n\n            indicesByPath[lastBindingsPath] = index;\n\n            bindings[index] = lastBindings;\n            bindings.pop();\n\n            parsedPaths[index] = parsedPaths[lastBindingsIndex];\n            parsedPaths.pop();\n\n            paths[index] = paths[lastBindingsIndex];\n            paths.pop();\n\n        }\n\n    }\n\n});\n\nclass AnimationAction {\n\n    constructor(mixer, clip, localRoot, blendMode) {\n\n        this._mixer = mixer;\n        this._clip = clip;\n        this._localRoot = localRoot || null;\n        this.blendMode = blendMode || clip.blendMode;\n\n        const tracks = clip.tracks,\n            nTracks = tracks.length,\n            interpolants = new Array(nTracks);\n\n        const interpolantSettings = {\n            endingStart: ZeroCurvatureEnding,\n            endingEnd: ZeroCurvatureEnding\n        };\n\n        for (let i = 0; i !== nTracks; ++i) {\n\n            const interpolant = tracks[i].createInterpolant(null);\n            interpolants[i] = interpolant;\n            interpolant.settings = interpolantSettings;\n\n        }\n\n        this._interpolantSettings = interpolantSettings;\n\n        this._interpolants = interpolants; // bound by the mixer\n\n        // inside: PropertyMixer (managed by the mixer)\n        this._propertyBindings = new Array(nTracks);\n\n        this._cacheIndex = null; // for the memory manager\n        this._byClipCacheIndex = null; // for the memory manager\n\n        this._timeScaleInterpolant = null;\n        this._weightInterpolant = null;\n\n        this.loop = LoopRepeat;\n        this._loopCount = -1;\n\n        // global mixer time when the action is to be started\n        // it's set back to 'null' upon start of the action\n        this._startTime = null;\n\n        // scaled local time of the action\n        // gets clamped or wrapped to 0..clip.duration according to loop\n        this.time = 0;\n\n        this.timeScale = 1;\n        this._effectiveTimeScale = 1;\n\n        this.weight = 1;\n        this._effectiveWeight = 1;\n\n        this.repetitions = Infinity; // no. of repetitions when looping\n\n        this.paused = false; // true -> zero effective time scale\n        this.enabled = true; // false -> zero effective weight\n\n        this.clampWhenFinished = false; // keep feeding the last frame?\n\n        this.zeroSlopeAtStart = true; // for smooth interpolation w/o separate\n        this.zeroSlopeAtEnd = true; // clips for start, loop and end\n\n    }\n\n    // State & Scheduling\n\n    play() {\n\n        this._mixer._activateAction(this);\n\n        return this;\n\n    }\n\n    stop() {\n\n        this._mixer._deactivateAction(this);\n\n        return this.reset();\n\n    }\n\n    reset() {\n\n        this.paused = false;\n        this.enabled = true;\n\n        this.time = 0; // restart clip\n        this._loopCount = -1; // forget previous loops\n        this._startTime = null; // forget scheduling\n\n        return this.stopFading().stopWarping();\n\n    }\n\n    isRunning() {\n\n        return this.enabled && !this.paused && this.timeScale !== 0 &&\n            this._startTime === null && this._mixer._isActiveAction(this);\n\n    }\n\n    // return true when play has been called\n    isScheduled() {\n\n        return this._mixer._isActiveAction(this);\n\n    }\n\n    startAt(time) {\n\n        this._startTime = time;\n\n        return this;\n\n    }\n\n    setLoop(mode, repetitions) {\n\n        this.loop = mode;\n        this.repetitions = repetitions;\n\n        return this;\n\n    }\n\n    // Weight\n\n    // set the weight stopping any scheduled fading\n    // although .enabled = false yields an effective weight of zero, this\n    // method does *not* change .enabled, because it would be confusing\n    setEffectiveWeight(weight) {\n\n        this.weight = weight;\n\n        // note: same logic as when updated at runtime\n        this._effectiveWeight = this.enabled ? weight : 0;\n\n        return this.stopFading();\n\n    }\n\n    // return the weight considering fading and .enabled\n    getEffectiveWeight() {\n\n        return this._effectiveWeight;\n\n    }\n\n    fadeIn(duration) {\n\n        return this._scheduleFading(duration, 0, 1);\n\n    }\n\n    fadeOut(duration) {\n\n        return this._scheduleFading(duration, 1, 0);\n\n    }\n\n    crossFadeFrom(fadeOutAction, duration, warp) {\n\n        fadeOutAction.fadeOut(duration);\n        this.fadeIn(duration);\n\n        if (warp) {\n\n            const fadeInDuration = this._clip.duration,\n                fadeOutDuration = fadeOutAction._clip.duration,\n\n                startEndRatio = fadeOutDuration / fadeInDuration,\n                endStartRatio = fadeInDuration / fadeOutDuration;\n\n            fadeOutAction.warp(1.0, startEndRatio, duration);\n            this.warp(endStartRatio, 1.0, duration);\n\n        }\n\n        return this;\n\n    }\n\n    crossFadeTo(fadeInAction, duration, warp) {\n\n        return fadeInAction.crossFadeFrom(this, duration, warp);\n\n    }\n\n    stopFading() {\n\n        const weightInterpolant = this._weightInterpolant;\n\n        if (weightInterpolant !== null) {\n\n            this._weightInterpolant = null;\n            this._mixer._takeBackControlInterpolant(weightInterpolant);\n\n        }\n\n        return this;\n\n    }\n\n    // Time Scale Control\n\n    // set the time scale stopping any scheduled warping\n    // although .paused = true yields an effective time scale of zero, this\n    // method does *not* change .paused, because it would be confusing\n    setEffectiveTimeScale(timeScale) {\n\n        this.timeScale = timeScale;\n        this._effectiveTimeScale = this.paused ? 0 : timeScale;\n\n        return this.stopWarping();\n\n    }\n\n    // return the time scale considering warping and .paused\n    getEffectiveTimeScale() {\n\n        return this._effectiveTimeScale;\n\n    }\n\n    setDuration(duration) {\n\n        this.timeScale = this._clip.duration / duration;\n\n        return this.stopWarping();\n\n    }\n\n    syncWith(action) {\n\n        this.time = action.time;\n        this.timeScale = action.timeScale;\n\n        return this.stopWarping();\n\n    }\n\n    halt(duration) {\n\n        return this.warp(this._effectiveTimeScale, 0, duration);\n\n    }\n\n    warp(startTimeScale, endTimeScale, duration) {\n\n        const mixer = this._mixer,\n            now = mixer.time,\n            timeScale = this.timeScale;\n\n        let interpolant = this._timeScaleInterpolant;\n\n        if (interpolant === null) {\n\n            interpolant = mixer._lendControlInterpolant();\n            this._timeScaleInterpolant = interpolant;\n\n        }\n\n        const times = interpolant.parameterPositions,\n            values = interpolant.sampleValues;\n\n        times[0] = now;\n        times[1] = now + duration;\n\n        values[0] = startTimeScale / timeScale;\n        values[1] = endTimeScale / timeScale;\n\n        return this;\n\n    }\n\n    stopWarping() {\n\n        const timeScaleInterpolant = this._timeScaleInterpolant;\n\n        if (timeScaleInterpolant !== null) {\n\n            this._timeScaleInterpolant = null;\n            this._mixer._takeBackControlInterpolant(timeScaleInterpolant);\n\n        }\n\n        return this;\n\n    }\n\n    // Object Accessors\n\n    getMixer() {\n\n        return this._mixer;\n\n    }\n\n    getClip() {\n\n        return this._clip;\n\n    }\n\n    getRoot() {\n\n        return this._localRoot || this._mixer._root;\n\n    }\n\n    // Interna\n\n    _update(time, deltaTime, timeDirection, accuIndex) {\n\n        // called by the mixer\n\n        if (!this.enabled) {\n\n            // call ._updateWeight() to update ._effectiveWeight\n\n            this._updateWeight(time);\n            return;\n\n        }\n\n        const startTime = this._startTime;\n\n        if (startTime !== null) {\n\n            // check for scheduled start of action\n\n            const timeRunning = (time - startTime) * timeDirection;\n            if (timeRunning < 0 || timeDirection === 0) {\n\n                return; // yet to come / don't decide when delta = 0\n\n            }\n\n            // start\n\n            this._startTime = null; // unschedule\n            deltaTime = timeDirection * timeRunning;\n\n        }\n\n        // apply time scale and advance time\n\n        deltaTime *= this._updateTimeScale(time);\n        const clipTime = this._updateTime(deltaTime);\n\n        // note: _updateTime may disable the action resulting in\n        // an effective weight of 0\n\n        const weight = this._updateWeight(time);\n\n        if (weight > 0) {\n\n            const interpolants = this._interpolants;\n            const propertyMixers = this._propertyBindings;\n\n            switch (this.blendMode) {\n\n                case AdditiveAnimationBlendMode:\n\n                    for (let j = 0, m = interpolants.length; j !== m; ++j) {\n\n                        interpolants[j].evaluate(clipTime);\n                        propertyMixers[j].accumulateAdditive(weight);\n\n                    }\n\n                    break;\n\n                case NormalAnimationBlendMode:\n                default:\n\n                    for (let j = 0, m = interpolants.length; j !== m; ++j) {\n\n                        interpolants[j].evaluate(clipTime);\n                        propertyMixers[j].accumulate(accuIndex, weight);\n\n                    }\n\n            }\n\n        }\n\n    }\n\n    _updateWeight(time) {\n\n        let weight = 0;\n\n        if (this.enabled) {\n\n            weight = this.weight;\n            const interpolant = this._weightInterpolant;\n\n            if (interpolant !== null) {\n\n                const interpolantValue = interpolant.evaluate(time)[0];\n\n                weight *= interpolantValue;\n\n                if (time > interpolant.parameterPositions[1]) {\n\n                    this.stopFading();\n\n                    if (interpolantValue === 0) {\n\n                        // faded out, disable\n                        this.enabled = false;\n\n                    }\n\n                }\n\n            }\n\n        }\n\n        this._effectiveWeight = weight;\n        return weight;\n\n    }\n\n    _updateTimeScale(time) {\n\n        let timeScale = 0;\n\n        if (!this.paused) {\n\n            timeScale = this.timeScale;\n\n            const interpolant = this._timeScaleInterpolant;\n\n            if (interpolant !== null) {\n\n                const interpolantValue = interpolant.evaluate(time)[0];\n\n                timeScale *= interpolantValue;\n\n                if (time > interpolant.parameterPositions[1]) {\n\n                    this.stopWarping();\n\n                    if (timeScale === 0) {\n\n                        // motion has halted, pause\n                        this.paused = true;\n\n                    } else {\n\n                        // warp done - apply final time scale\n                        this.timeScale = timeScale;\n\n                    }\n\n                }\n\n            }\n\n        }\n\n        this._effectiveTimeScale = timeScale;\n        return timeScale;\n\n    }\n\n    _updateTime(deltaTime) {\n\n        const duration = this._clip.duration;\n        const loop = this.loop;\n\n        let time = this.time + deltaTime;\n        let loopCount = this._loopCount;\n\n        const pingPong = (loop === LoopPingPong);\n\n        if (deltaTime === 0) {\n\n            if (loopCount === -1) return time;\n\n            return (pingPong && (loopCount & 1) === 1) ? duration - time : time;\n\n        }\n\n        if (loop === LoopOnce) {\n\n            if (loopCount === -1) {\n\n                // just started\n\n                this._loopCount = 0;\n                this._setEndings(true, true, false);\n\n            }\n\n            handle_stop: {\n\n                if (time >= duration) {\n\n                    time = duration;\n\n                } else if (time < 0) {\n\n                    time = 0;\n\n                } else {\n\n                    this.time = time;\n\n                    break handle_stop;\n\n                }\n\n                if (this.clampWhenFinished) this.paused = true;\n                else this.enabled = false;\n\n                this.time = time;\n\n                this._mixer.dispatchEvent({\n                    type: 'finished',\n                    action: this,\n                    direction: deltaTime < 0 ? -1 : 1\n                });\n\n            }\n\n        } else { // repetitive Repeat or PingPong\n\n            if (loopCount === -1) {\n\n                // just started\n\n                if (deltaTime >= 0) {\n\n                    loopCount = 0;\n\n                    this._setEndings(true, this.repetitions === 0, pingPong);\n\n                } else {\n\n                    // when looping in reverse direction, the initial\n                    // transition through zero counts as a repetition,\n                    // so leave loopCount at -1\n\n                    this._setEndings(this.repetitions === 0, true, pingPong);\n\n                }\n\n            }\n\n            if (time >= duration || time < 0) {\n\n                // wrap around\n\n                const loopDelta = Math.floor(time / duration); // signed\n                time -= duration * loopDelta;\n\n                loopCount += Math.abs(loopDelta);\n\n                const pending = this.repetitions - loopCount;\n\n                if (pending <= 0) {\n\n                    // have to stop (switch state, clamp time, fire event)\n\n                    if (this.clampWhenFinished) this.paused = true;\n                    else this.enabled = false;\n\n                    time = deltaTime > 0 ? duration : 0;\n\n                    this.time = time;\n\n                    this._mixer.dispatchEvent({\n                        type: 'finished',\n                        action: this,\n                        direction: deltaTime > 0 ? 1 : -1\n                    });\n\n                } else {\n\n                    // keep running\n\n                    if (pending === 1) {\n\n                        // entering the last round\n\n                        const atStart = deltaTime < 0;\n                        this._setEndings(atStart, !atStart, pingPong);\n\n                    } else {\n\n                        this._setEndings(false, false, pingPong);\n\n                    }\n\n                    this._loopCount = loopCount;\n\n                    this.time = time;\n\n                    this._mixer.dispatchEvent({\n                        type: 'loop',\n                        action: this,\n                        loopDelta: loopDelta\n                    });\n\n                }\n\n            } else {\n\n                this.time = time;\n\n            }\n\n            if (pingPong && (loopCount & 1) === 1) {\n\n                // invert time for the \"pong round\"\n\n                return duration - time;\n\n            }\n\n        }\n\n        return time;\n\n    }\n\n    _setEndings(atStart, atEnd, pingPong) {\n\n        const settings = this._interpolantSettings;\n\n        if (pingPong) {\n\n            settings.endingStart = ZeroSlopeEnding;\n            settings.endingEnd = ZeroSlopeEnding;\n\n        } else {\n\n            // assuming for LoopOnce atStart == atEnd == true\n\n            if (atStart) {\n\n                settings.endingStart = this.zeroSlopeAtStart ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n            } else {\n\n                settings.endingStart = WrapAroundEnding;\n\n            }\n\n            if (atEnd) {\n\n                settings.endingEnd = this.zeroSlopeAtEnd ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n            } else {\n\n                settings.endingEnd = WrapAroundEnding;\n\n            }\n\n        }\n\n    }\n\n    _scheduleFading(duration, weightNow, weightThen) {\n\n        const mixer = this._mixer,\n            now = mixer.time;\n        let interpolant = this._weightInterpolant;\n\n        if (interpolant === null) {\n\n            interpolant = mixer._lendControlInterpolant();\n            this._weightInterpolant = interpolant;\n\n        }\n\n        const times = interpolant.parameterPositions,\n            values = interpolant.sampleValues;\n\n        times[0] = now;\n        values[0] = weightNow;\n        times[1] = now + duration;\n        values[1] = weightThen;\n\n        return this;\n\n    }\n\n}\n\nfunction AnimationMixer(root) {\n\n    this._root = root;\n    this._initMemoryManager();\n    this._accuIndex = 0;\n\n    this.time = 0;\n\n    this.timeScale = 1.0;\n\n}\n\nAnimationMixer.prototype = Object.assign(Object.create(EventDispatcher.prototype), {\n\n    constructor: AnimationMixer,\n\n    _bindAction: function(action, prototypeAction) {\n\n        const root = action._localRoot || this._root,\n            tracks = action._clip.tracks,\n            nTracks = tracks.length,\n            bindings = action._propertyBindings,\n            interpolants = action._interpolants,\n            rootUuid = root.uuid,\n            bindingsByRoot = this._bindingsByRootAndName;\n\n        let bindingsByName = bindingsByRoot[rootUuid];\n\n        if (bindingsByName === undefined) {\n\n            bindingsByName = {};\n            bindingsByRoot[rootUuid] = bindingsByName;\n\n        }\n\n        for (let i = 0; i !== nTracks; ++i) {\n\n            const track = tracks[i],\n                trackName = track.name;\n\n            let binding = bindingsByName[trackName];\n\n            if (binding !== undefined) {\n\n                bindings[i] = binding;\n\n            } else {\n\n                binding = bindings[i];\n\n                if (binding !== undefined) {\n\n                    // existing binding, make sure the cache knows\n\n                    if (binding._cacheIndex === null) {\n\n                        ++binding.referenceCount;\n                        this._addInactiveBinding(binding, rootUuid, trackName);\n\n                    }\n\n                    continue;\n\n                }\n\n                const path = prototypeAction && prototypeAction.\n                _propertyBindings[i].binding.parsedPath;\n\n                binding = new PropertyMixer(\n                    PropertyBinding.create(root, trackName, path),\n                    track.ValueTypeName, track.getValueSize());\n\n                ++binding.referenceCount;\n                this._addInactiveBinding(binding, rootUuid, trackName);\n\n                bindings[i] = binding;\n\n            }\n\n            interpolants[i].resultBuffer = binding.buffer;\n\n        }\n\n    },\n\n    _activateAction: function(action) {\n\n        if (!this._isActiveAction(action)) {\n\n            if (action._cacheIndex === null) {\n\n                // this action has been forgotten by the cache, but the user\n                // appears to be still using it -> rebind\n\n                const rootUuid = (action._localRoot || this._root).uuid,\n                    clipUuid = action._clip.uuid,\n                    actionsForClip = this._actionsByClip[clipUuid];\n\n                this._bindAction(action,\n                    actionsForClip && actionsForClip.knownActions[0]);\n\n                this._addInactiveAction(action, clipUuid, rootUuid);\n\n            }\n\n            const bindings = action._propertyBindings;\n\n            // increment reference counts / sort out state\n            for (let i = 0, n = bindings.length; i !== n; ++i) {\n\n                const binding = bindings[i];\n\n                if (binding.useCount++ === 0) {\n\n                    this._lendBinding(binding);\n                    binding.saveOriginalState();\n\n                }\n\n            }\n\n            this._lendAction(action);\n\n        }\n\n    },\n\n    _deactivateAction: function(action) {\n\n        if (this._isActiveAction(action)) {\n\n            const bindings = action._propertyBindings;\n\n            // decrement reference counts / sort out state\n            for (let i = 0, n = bindings.length; i !== n; ++i) {\n\n                const binding = bindings[i];\n\n                if (--binding.useCount === 0) {\n\n                    binding.restoreOriginalState();\n                    this._takeBackBinding(binding);\n\n                }\n\n            }\n\n            this._takeBackAction(action);\n\n        }\n\n    },\n\n    // Memory manager\n\n    _initMemoryManager: function() {\n\n        this._actions = []; // 'nActiveActions' followed by inactive ones\n        this._nActiveActions = 0;\n\n        this._actionsByClip = {};\n        // inside:\n        // {\n        // \tknownActions: Array< AnimationAction > - used as prototypes\n        // \tactionByRoot: AnimationAction - lookup\n        // }\n\n\n        this._bindings = []; // 'nActiveBindings' followed by inactive ones\n        this._nActiveBindings = 0;\n\n        this._bindingsByRootAndName = {}; // inside: Map< name, PropertyMixer >\n\n\n        this._controlInterpolants = []; // same game as above\n        this._nActiveControlInterpolants = 0;\n\n        const scope = this;\n\n        this.stats = {\n\n            actions: {\n                get total() {\n\n                    return scope._actions.length;\n\n                },\n                get inUse() {\n\n                    return scope._nActiveActions;\n\n                }\n            },\n            bindings: {\n                get total() {\n\n                    return scope._bindings.length;\n\n                },\n                get inUse() {\n\n                    return scope._nActiveBindings;\n\n                }\n            },\n            controlInterpolants: {\n                get total() {\n\n                    return scope._controlInterpolants.length;\n\n                },\n                get inUse() {\n\n                    return scope._nActiveControlInterpolants;\n\n                }\n            }\n\n        };\n\n    },\n\n    // Memory management for AnimationAction objects\n\n    _isActiveAction: function(action) {\n\n        const index = action._cacheIndex;\n        return index !== null && index < this._nActiveActions;\n\n    },\n\n    _addInactiveAction: function(action, clipUuid, rootUuid) {\n\n        const actions = this._actions,\n            actionsByClip = this._actionsByClip;\n\n        let actionsForClip = actionsByClip[clipUuid];\n\n        if (actionsForClip === undefined) {\n\n            actionsForClip = {\n\n                knownActions: [action],\n                actionByRoot: {}\n\n            };\n\n            action._byClipCacheIndex = 0;\n\n            actionsByClip[clipUuid] = actionsForClip;\n\n        } else {\n\n            const knownActions = actionsForClip.knownActions;\n\n            action._byClipCacheIndex = knownActions.length;\n            knownActions.push(action);\n\n        }\n\n        action._cacheIndex = actions.length;\n        actions.push(action);\n\n        actionsForClip.actionByRoot[rootUuid] = action;\n\n    },\n\n    _removeInactiveAction: function(action) {\n\n        const actions = this._actions,\n            lastInactiveAction = actions[actions.length - 1],\n            cacheIndex = action._cacheIndex;\n\n        lastInactiveAction._cacheIndex = cacheIndex;\n        actions[cacheIndex] = lastInactiveAction;\n        actions.pop();\n\n        action._cacheIndex = null;\n\n\n        const clipUuid = action._clip.uuid,\n            actionsByClip = this._actionsByClip,\n            actionsForClip = actionsByClip[clipUuid],\n            knownActionsForClip = actionsForClip.knownActions,\n\n            lastKnownAction =\n            knownActionsForClip[knownActionsForClip.length - 1],\n\n            byClipCacheIndex = action._byClipCacheIndex;\n\n        lastKnownAction._byClipCacheIndex = byClipCacheIndex;\n        knownActionsForClip[byClipCacheIndex] = lastKnownAction;\n        knownActionsForClip.pop();\n\n        action._byClipCacheIndex = null;\n\n\n        const actionByRoot = actionsForClip.actionByRoot,\n            rootUuid = (action._localRoot || this._root).uuid;\n\n        delete actionByRoot[rootUuid];\n\n        if (knownActionsForClip.length === 0) {\n\n            delete actionsByClip[clipUuid];\n\n        }\n\n        this._removeInactiveBindingsForAction(action);\n\n    },\n\n    _removeInactiveBindingsForAction: function(action) {\n\n        const bindings = action._propertyBindings;\n\n        for (let i = 0, n = bindings.length; i !== n; ++i) {\n\n            const binding = bindings[i];\n\n            if (--binding.referenceCount === 0) {\n\n                this._removeInactiveBinding(binding);\n\n            }\n\n        }\n\n    },\n\n    _lendAction: function(action) {\n\n        // [ active actions |  inactive actions  ]\n        // [  active actions >| inactive actions ]\n        //                 s        a\n        //                  <-swap->\n        //                 a        s\n\n        const actions = this._actions,\n            prevIndex = action._cacheIndex,\n\n            lastActiveIndex = this._nActiveActions++,\n\n            firstInactiveAction = actions[lastActiveIndex];\n\n        action._cacheIndex = lastActiveIndex;\n        actions[lastActiveIndex] = action;\n\n        firstInactiveAction._cacheIndex = prevIndex;\n        actions[prevIndex] = firstInactiveAction;\n\n    },\n\n    _takeBackAction: function(action) {\n\n        // [  active actions  | inactive actions ]\n        // [ active actions |< inactive actions  ]\n        //        a        s\n        //         <-swap->\n        //        s        a\n\n        const actions = this._actions,\n            prevIndex = action._cacheIndex,\n\n            firstInactiveIndex = --this._nActiveActions,\n\n            lastActiveAction = actions[firstInactiveIndex];\n\n        action._cacheIndex = firstInactiveIndex;\n        actions[firstInactiveIndex] = action;\n\n        lastActiveAction._cacheIndex = prevIndex;\n        actions[prevIndex] = lastActiveAction;\n\n    },\n\n    // Memory management for PropertyMixer objects\n\n    _addInactiveBinding: function(binding, rootUuid, trackName) {\n\n        const bindingsByRoot = this._bindingsByRootAndName,\n            bindings = this._bindings;\n\n        let bindingByName = bindingsByRoot[rootUuid];\n\n        if (bindingByName === undefined) {\n\n            bindingByName = {};\n            bindingsByRoot[rootUuid] = bindingByName;\n\n        }\n\n        bindingByName[trackName] = binding;\n\n        binding._cacheIndex = bindings.length;\n        bindings.push(binding);\n\n    },\n\n    _removeInactiveBinding: function(binding) {\n\n        const bindings = this._bindings,\n            propBinding = binding.binding,\n            rootUuid = propBinding.rootNode.uuid,\n            trackName = propBinding.path,\n            bindingsByRoot = this._bindingsByRootAndName,\n            bindingByName = bindingsByRoot[rootUuid],\n\n            lastInactiveBinding = bindings[bindings.length - 1],\n            cacheIndex = binding._cacheIndex;\n\n        lastInactiveBinding._cacheIndex = cacheIndex;\n        bindings[cacheIndex] = lastInactiveBinding;\n        bindings.pop();\n\n        delete bindingByName[trackName];\n\n        if (Object.keys(bindingByName).length === 0) {\n\n            delete bindingsByRoot[rootUuid];\n\n        }\n\n    },\n\n    _lendBinding: function(binding) {\n\n        const bindings = this._bindings,\n            prevIndex = binding._cacheIndex,\n\n            lastActiveIndex = this._nActiveBindings++,\n\n            firstInactiveBinding = bindings[lastActiveIndex];\n\n        binding._cacheIndex = lastActiveIndex;\n        bindings[lastActiveIndex] = binding;\n\n        firstInactiveBinding._cacheIndex = prevIndex;\n        bindings[prevIndex] = firstInactiveBinding;\n\n    },\n\n    _takeBackBinding: function(binding) {\n\n        const bindings = this._bindings,\n            prevIndex = binding._cacheIndex,\n\n            firstInactiveIndex = --this._nActiveBindings,\n\n            lastActiveBinding = bindings[firstInactiveIndex];\n\n        binding._cacheIndex = firstInactiveIndex;\n        bindings[firstInactiveIndex] = binding;\n\n        lastActiveBinding._cacheIndex = prevIndex;\n        bindings[prevIndex] = lastActiveBinding;\n\n    },\n\n\n    // Memory management of Interpolants for weight and time scale\n\n    _lendControlInterpolant: function() {\n\n        const interpolants = this._controlInterpolants,\n            lastActiveIndex = this._nActiveControlInterpolants++;\n\n        let interpolant = interpolants[lastActiveIndex];\n\n        if (interpolant === undefined) {\n\n            interpolant = new LinearInterpolant(\n                new Float32Array(2), new Float32Array(2),\n                1, this._controlInterpolantsResultBuffer);\n\n            interpolant.__cacheIndex = lastActiveIndex;\n            interpolants[lastActiveIndex] = interpolant;\n\n        }\n\n        return interpolant;\n\n    },\n\n    _takeBackControlInterpolant: function(interpolant) {\n\n        const interpolants = this._controlInterpolants,\n            prevIndex = interpolant.__cacheIndex,\n\n            firstInactiveIndex = --this._nActiveControlInterpolants,\n\n            lastActiveInterpolant = interpolants[firstInactiveIndex];\n\n        interpolant.__cacheIndex = firstInactiveIndex;\n        interpolants[firstInactiveIndex] = interpolant;\n\n        lastActiveInterpolant.__cacheIndex = prevIndex;\n        interpolants[prevIndex] = lastActiveInterpolant;\n\n    },\n\n    _controlInterpolantsResultBuffer: new Float32Array(1),\n\n    // return an action for a clip optionally using a custom root target\n    // object (this method allocates a lot of dynamic memory in case a\n    // previously unknown clip/root combination is specified)\n    clipAction: function(clip, optionalRoot, blendMode) {\n\n        const root = optionalRoot || this._root,\n            rootUuid = root.uuid;\n\n        let clipObject = typeof clip === 'string' ? AnimationClip.findByName(root, clip) : clip;\n\n        const clipUuid = clipObject !== null ? clipObject.uuid : clip;\n\n        const actionsForClip = this._actionsByClip[clipUuid];\n        let prototypeAction = null;\n\n        if (blendMode === undefined) {\n\n            if (clipObject !== null) {\n\n                blendMode = clipObject.blendMode;\n\n            } else {\n\n                blendMode = NormalAnimationBlendMode;\n\n            }\n\n        }\n\n        if (actionsForClip !== undefined) {\n\n            const existingAction = actionsForClip.actionByRoot[rootUuid];\n\n            if (existingAction !== undefined && existingAction.blendMode === blendMode) {\n\n                return existingAction;\n\n            }\n\n            // we know the clip, so we don't have to parse all\n            // the bindings again but can just copy\n            prototypeAction = actionsForClip.knownActions[0];\n\n            // also, take the clip from the prototype action\n            if (clipObject === null)\n                clipObject = prototypeAction._clip;\n\n        }\n\n        // clip must be known when specified via string\n        if (clipObject === null) return null;\n\n        // allocate all resources required to run it\n        const newAction = new AnimationAction(this, clipObject, optionalRoot, blendMode);\n\n        this._bindAction(newAction, prototypeAction);\n\n        // and make the action known to the memory manager\n        this._addInactiveAction(newAction, clipUuid, rootUuid);\n\n        return newAction;\n\n    },\n\n    // get an existing action\n    existingAction: function(clip, optionalRoot) {\n\n        const root = optionalRoot || this._root,\n            rootUuid = root.uuid,\n\n            clipObject = typeof clip === 'string' ?\n            AnimationClip.findByName(root, clip) : clip,\n\n            clipUuid = clipObject ? clipObject.uuid : clip,\n\n            actionsForClip = this._actionsByClip[clipUuid];\n\n        if (actionsForClip !== undefined) {\n\n            return actionsForClip.actionByRoot[rootUuid] || null;\n\n        }\n\n        return null;\n\n    },\n\n    // deactivates all previously scheduled actions\n    stopAllAction: function() {\n\n        const actions = this._actions,\n            nActions = this._nActiveActions;\n\n        for (let i = nActions - 1; i >= 0; --i) {\n\n            actions[i].stop();\n\n        }\n\n        return this;\n\n    },\n\n    // advance the time and update apply the animation\n    update: function(deltaTime) {\n\n        deltaTime *= this.timeScale;\n\n        const actions = this._actions,\n            nActions = this._nActiveActions,\n\n            time = this.time += deltaTime,\n            timeDirection = Math.sign(deltaTime),\n\n            accuIndex = this._accuIndex ^= 1;\n\n        // run active actions\n\n        for (let i = 0; i !== nActions; ++i) {\n\n            const action = actions[i];\n\n            action._update(time, deltaTime, timeDirection, accuIndex);\n\n        }\n\n        // update scene graph\n\n        const bindings = this._bindings,\n            nBindings = this._nActiveBindings;\n\n        for (let i = 0; i !== nBindings; ++i) {\n\n            bindings[i].apply(accuIndex);\n\n        }\n\n        return this;\n\n    },\n\n    // Allows you to seek to a specific time in an animation.\n    setTime: function(timeInSeconds) {\n\n        this.time = 0; // Zero out time attribute for AnimationMixer object;\n        for (let i = 0; i < this._actions.length; i++) {\n\n            this._actions[i].time = 0; // Zero out time attribute for all associated AnimationAction objects.\n\n        }\n\n        return this.update(timeInSeconds); // Update used to set exact time. Returns \"this\" AnimationMixer object.\n\n    },\n\n    // return this mixer's root target object\n    getRoot: function() {\n\n        return this._root;\n\n    },\n\n    // free all resources specific to a particular clip\n    uncacheClip: function(clip) {\n\n        const actions = this._actions,\n            clipUuid = clip.uuid,\n            actionsByClip = this._actionsByClip,\n            actionsForClip = actionsByClip[clipUuid];\n\n        if (actionsForClip !== undefined) {\n\n            // note: just calling _removeInactiveAction would mess up the\n            // iteration state and also require updating the state we can\n            // just throw away\n\n            const actionsToRemove = actionsForClip.knownActions;\n\n            for (let i = 0, n = actionsToRemove.length; i !== n; ++i) {\n\n                const action = actionsToRemove[i];\n\n                this._deactivateAction(action);\n\n                const cacheIndex = action._cacheIndex,\n                    lastInactiveAction = actions[actions.length - 1];\n\n                action._cacheIndex = null;\n                action._byClipCacheIndex = null;\n\n                lastInactiveAction._cacheIndex = cacheIndex;\n                actions[cacheIndex] = lastInactiveAction;\n                actions.pop();\n\n                this._removeInactiveBindingsForAction(action);\n\n            }\n\n            delete actionsByClip[clipUuid];\n\n        }\n\n    },\n\n    // free all resources specific to a particular root target object\n    uncacheRoot: function(root) {\n\n        const rootUuid = root.uuid,\n            actionsByClip = this._actionsByClip;\n\n        for (const clipUuid in actionsByClip) {\n\n            const actionByRoot = actionsByClip[clipUuid].actionByRoot,\n                action = actionByRoot[rootUuid];\n\n            if (action !== undefined) {\n\n                this._deactivateAction(action);\n                this._removeInactiveAction(action);\n\n            }\n\n        }\n\n        const bindingsByRoot = this._bindingsByRootAndName,\n            bindingByName = bindingsByRoot[rootUuid];\n\n        if (bindingByName !== undefined) {\n\n            for (const trackName in bindingByName) {\n\n                const binding = bindingByName[trackName];\n                binding.restoreOriginalState();\n                this._removeInactiveBinding(binding);\n\n            }\n\n        }\n\n    },\n\n    // remove a targeted clip from the cache\n    uncacheAction: function(clip, optionalRoot) {\n\n        const action = this.existingAction(clip, optionalRoot);\n\n        if (action !== null) {\n\n            this._deactivateAction(action);\n            this._removeInactiveAction(action);\n\n        }\n\n    }\n\n});\n\nclass Uniform {\n\n    constructor(value) {\n\n        if (typeof value === 'string') {\n\n            console.warn('THREE.Uniform: Type parameter is no longer needed.');\n            value = arguments[1];\n\n        }\n\n        this.value = value;\n\n    }\n\n    clone() {\n\n        return new Uniform(this.value.clone === undefined ? this.value : this.value.clone());\n\n    }\n\n}\n\nfunction InstancedInterleavedBuffer(array, stride, meshPerAttribute) {\n\n    InterleavedBuffer.call(this, array, stride);\n\n    this.meshPerAttribute = meshPerAttribute || 1;\n\n}\n\nInstancedInterleavedBuffer.prototype = Object.assign(Object.create(InterleavedBuffer.prototype), {\n\n    constructor: InstancedInterleavedBuffer,\n\n    isInstancedInterleavedBuffer: true,\n\n    copy: function(source) {\n\n        InterleavedBuffer.prototype.copy.call(this, source);\n\n        this.meshPerAttribute = source.meshPerAttribute;\n\n        return this;\n\n    },\n\n    clone: function(data) {\n\n        const ib = InterleavedBuffer.prototype.clone.call(this, data);\n\n        ib.meshPerAttribute = this.meshPerAttribute;\n\n        return ib;\n\n    },\n\n    toJSON: function(data) {\n\n        const json = InterleavedBuffer.prototype.toJSON.call(this, data);\n\n        json.isInstancedInterleavedBuffer = true;\n        json.meshPerAttribute = this.meshPerAttribute;\n\n        return json;\n\n    }\n\n});\n\nfunction GLBufferAttribute(buffer, type, itemSize, elementSize, count) {\n\n    this.buffer = buffer;\n    this.type = type;\n    this.itemSize = itemSize;\n    this.elementSize = elementSize;\n    this.count = count;\n\n    this.version = 0;\n\n}\n\nObject.defineProperty(GLBufferAttribute.prototype, 'needsUpdate', {\n\n    set: function(value) {\n\n        if (value === true) this.version++;\n\n    }\n\n});\n\nObject.assign(GLBufferAttribute.prototype, {\n\n    isGLBufferAttribute: true,\n\n    setBuffer: function(buffer) {\n\n        this.buffer = buffer;\n\n        return this;\n\n    },\n\n    setType: function(type, elementSize) {\n\n        this.type = type;\n        this.elementSize = elementSize;\n\n        return this;\n\n    },\n\n    setItemSize: function(itemSize) {\n\n        this.itemSize = itemSize;\n\n        return this;\n\n    },\n\n    setCount: function(count) {\n\n        this.count = count;\n\n        return this;\n\n    },\n\n});\n\nfunction Raycaster(origin, direction, near, far) {\n\n    this.ray = new Ray(origin, direction);\n    // direction is assumed to be normalized (for accurate distance calculations)\n\n    this.near = near || 0;\n    this.far = far || Infinity;\n    this.camera = null;\n    this.layers = new Layers();\n\n    this.params = {\n        Mesh: {},\n        Line: {\n            threshold: 1\n        },\n        LOD: {},\n        Points: {\n            threshold: 1\n        },\n        Sprite: {}\n    };\n\n    Object.defineProperties(this.params, {\n        PointCloud: {\n            get: function() {\n\n                console.warn('THREE.Raycaster: params.PointCloud has been renamed to params.Points.');\n                return this.Points;\n\n            }\n        }\n    });\n\n}\n\nfunction ascSort(a, b) {\n\n    return a.distance - b.distance;\n\n}\n\nfunction intersectObject(object, raycaster, intersects, recursive) {\n\n    if (object.layers.test(raycaster.layers)) {\n\n        object.raycast(raycaster, intersects);\n\n    }\n\n    if (recursive === true) {\n\n        const children = object.children;\n\n        for (let i = 0, l = children.length; i < l; i++) {\n\n            intersectObject(children[i], raycaster, intersects, true);\n\n        }\n\n    }\n\n}\n\nObject.assign(Raycaster.prototype, {\n\n    set: function(origin, direction) {\n\n        // direction is assumed to be normalized (for accurate distance calculations)\n\n        this.ray.set(origin, direction);\n\n    },\n\n    setFromCamera: function(coords, camera) {\n\n        if ((camera && camera.isPerspectiveCamera)) {\n\n            this.ray.origin.setFromMatrixPosition(camera.matrixWorld);\n            this.ray.direction.set(coords.x, coords.y, 0.5).unproject(camera).sub(this.ray.origin).normalize();\n            this.camera = camera;\n\n        } else if ((camera && camera.isOrthographicCamera)) {\n\n            this.ray.origin.set(coords.x, coords.y, (camera.near + camera.far) / (camera.near - camera.far)).unproject(camera); // set origin in plane of camera\n            this.ray.direction.set(0, 0, -1).transformDirection(camera.matrixWorld);\n            this.camera = camera;\n\n        } else {\n\n            console.error('THREE.Raycaster: Unsupported camera type.');\n\n        }\n\n    },\n\n    intersectObject: function(object, recursive, optionalTarget) {\n\n        const intersects = optionalTarget || [];\n\n        intersectObject(object, this, intersects, recursive);\n\n        intersects.sort(ascSort);\n\n        return intersects;\n\n    },\n\n    intersectObjects: function(objects, recursive, optionalTarget) {\n\n        const intersects = optionalTarget || [];\n\n        if (Array.isArray(objects) === false) {\n\n            console.warn('THREE.Raycaster.intersectObjects: objects is not an Array.');\n            return intersects;\n\n        }\n\n        for (let i = 0, l = objects.length; i < l; i++) {\n\n            intersectObject(objects[i], this, intersects, recursive);\n\n        }\n\n        intersects.sort(ascSort);\n\n        return intersects;\n\n    }\n\n});\n\n/**\n * Ref: https://en.wikipedia.org/wiki/Spherical_coordinate_system\n *\n * The polar angle (phi) is measured from the positive y-axis. The positive y-axis is up.\n * The azimuthal angle (theta) is measured from the positive z-axis.\n */\n\nclass Spherical {\n\n    constructor(radius = 1, phi = 0, theta = 0) {\n\n        this.radius = radius;\n        this.phi = phi; // polar angle\n        this.theta = theta; // azimuthal angle\n\n        return this;\n\n    }\n\n    set(radius, phi, theta) {\n\n        this.radius = radius;\n        this.phi = phi;\n        this.theta = theta;\n\n        return this;\n\n    }\n\n    clone() {\n\n        return new this.constructor().copy(this);\n\n    }\n\n    copy(other) {\n\n        this.radius = other.radius;\n        this.phi = other.phi;\n        this.theta = other.theta;\n\n        return this;\n\n    }\n\n    // restrict phi to be betwee EPS and PI-EPS\n    makeSafe() {\n\n        const EPS = 0.000001;\n        this.phi = Math.max(EPS, Math.min(Math.PI - EPS, this.phi));\n\n        return this;\n\n    }\n\n    setFromVector3(v) {\n\n        return this.setFromCartesianCoords(v.x, v.y, v.z);\n\n    }\n\n    setFromCartesianCoords(x, y, z) {\n\n        this.radius = Math.sqrt(x * x + y * y + z * z);\n\n        if (this.radius === 0) {\n\n            this.theta = 0;\n            this.phi = 0;\n\n        } else {\n\n            this.theta = Math.atan2(x, z);\n            this.phi = Math.acos(MathUtils.clamp(y / this.radius, -1, 1));\n\n        }\n\n        return this;\n\n    }\n\n}\n\n/**\n * Ref: https://en.wikipedia.org/wiki/Cylindrical_coordinate_system\n */\n\nclass Cylindrical {\n\n    constructor(radius, theta, y) {\n\n        this.radius = (radius !== undefined) ? radius : 1.0; // distance from the origin to a point in the x-z plane\n        this.theta = (theta !== undefined) ? theta : 0; // counterclockwise angle in the x-z plane measured in radians from the positive z-axis\n        this.y = (y !== undefined) ? y : 0; // height above the x-z plane\n\n        return this;\n\n    }\n\n    set(radius, theta, y) {\n\n        this.radius = radius;\n        this.theta = theta;\n        this.y = y;\n\n        return this;\n\n    }\n\n    clone() {\n\n        return new this.constructor().copy(this);\n\n    }\n\n    copy(other) {\n\n        this.radius = other.radius;\n        this.theta = other.theta;\n        this.y = other.y;\n\n        return this;\n\n    }\n\n    setFromVector3(v) {\n\n        return this.setFromCartesianCoords(v.x, v.y, v.z);\n\n    }\n\n    setFromCartesianCoords(x, y, z) {\n\n        this.radius = Math.sqrt(x * x + z * z);\n        this.theta = Math.atan2(x, z);\n        this.y = y;\n\n        return this;\n\n    }\n\n}\n\nconst _vector$7 = /*@__PURE__*/ new Vector2();\n\nclass Box2 {\n\n    constructor(min, max) {\n\n        Object.defineProperty(this, 'isBox2', {\n            value: true\n        });\n\n        this.min = (min !== undefined) ? min : new Vector2(+Infinity, +Infinity);\n        this.max = (max !== undefined) ? max : new Vector2(-Infinity, -Infinity);\n\n    }\n\n    set(min, max) {\n\n        this.min.copy(min);\n        this.max.copy(max);\n\n        return this;\n\n    }\n\n    setFromPoints(points) {\n\n        this.makeEmpty();\n\n        for (let i = 0, il = points.length; i < il; i++) {\n\n            this.expandByPoint(points[i]);\n\n        }\n\n        return this;\n\n    }\n\n    setFromCenterAndSize(center, size) {\n\n        const halfSize = _vector$7.copy(size).multiplyScalar(0.5);\n        this.min.copy(center).sub(halfSize);\n        this.max.copy(center).add(halfSize);\n\n        return this;\n\n    }\n\n    clone() {\n\n        return new this.constructor().copy(this);\n\n    }\n\n    copy(box) {\n\n        this.min.copy(box.min);\n        this.max.copy(box.max);\n\n        return this;\n\n    }\n\n    makeEmpty() {\n\n        this.min.x = this.min.y = +Infinity;\n        this.max.x = this.max.y = -Infinity;\n\n        return this;\n\n    }\n\n    isEmpty() {\n\n        // this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n        return (this.max.x < this.min.x) || (this.max.y < this.min.y);\n\n    }\n\n    getCenter(target) {\n\n        if (target === undefined) {\n\n            console.warn('THREE.Box2: .getCenter() target is now required');\n            target = new Vector2();\n\n        }\n\n        return this.isEmpty() ? target.set(0, 0) : target.addVectors(this.min, this.max).multiplyScalar(0.5);\n\n    }\n\n    getSize(target) {\n\n        if (target === undefined) {\n\n            console.warn('THREE.Box2: .getSize() target is now required');\n            target = new Vector2();\n\n        }\n\n        return this.isEmpty() ? target.set(0, 0) : target.subVectors(this.max, this.min);\n\n    }\n\n    expandByPoint(point) {\n\n        this.min.min(point);\n        this.max.max(point);\n\n        return this;\n\n    }\n\n    expandByVector(vector) {\n\n        this.min.sub(vector);\n        this.max.add(vector);\n\n        return this;\n\n    }\n\n    expandByScalar(scalar) {\n\n        this.min.addScalar(-scalar);\n        this.max.addScalar(scalar);\n\n        return this;\n\n    }\n\n    containsPoint(point) {\n\n        return point.x < this.min.x || point.x > this.max.x ||\n            point.y < this.min.y || point.y > this.max.y ? false : true;\n\n    }\n\n    containsBox(box) {\n\n        return this.min.x <= box.min.x && box.max.x <= this.max.x &&\n            this.min.y <= box.min.y && box.max.y <= this.max.y;\n\n    }\n\n    getParameter(point, target) {\n\n        // This can potentially have a divide by zero if the box\n        // has a size dimension of 0.\n\n        if (target === undefined) {\n\n            console.warn('THREE.Box2: .getParameter() target is now required');\n            target = new Vector2();\n\n        }\n\n        return target.set(\n            (point.x - this.min.x) / (this.max.x - this.min.x),\n            (point.y - this.min.y) / (this.max.y - this.min.y)\n        );\n\n    }\n\n    intersectsBox(box) {\n\n        // using 4 splitting planes to rule out intersections\n\n        return box.max.x < this.min.x || box.min.x > this.max.x ||\n            box.max.y < this.min.y || box.min.y > this.max.y ? false : true;\n\n    }\n\n    clampPoint(point, target) {\n\n        if (target === undefined) {\n\n            console.warn('THREE.Box2: .clampPoint() target is now required');\n            target = new Vector2();\n\n        }\n\n        return target.copy(point).clamp(this.min, this.max);\n\n    }\n\n    distanceToPoint(point) {\n\n        const clampedPoint = _vector$7.copy(point).clamp(this.min, this.max);\n        return clampedPoint.sub(point).length();\n\n    }\n\n    intersect(box) {\n\n        this.min.max(box.min);\n        this.max.min(box.max);\n\n        return this;\n\n    }\n\n    union(box) {\n\n        this.min.min(box.min);\n        this.max.max(box.max);\n\n        return this;\n\n    }\n\n    translate(offset) {\n\n        this.min.add(offset);\n        this.max.add(offset);\n\n        return this;\n\n    }\n\n    equals(box) {\n\n        return box.min.equals(this.min) && box.max.equals(this.max);\n\n    }\n\n}\n\nconst _startP = /*@__PURE__*/ new Vector3();\nconst _startEnd = /*@__PURE__*/ new Vector3();\n\nclass Line3 {\n\n    constructor(start, end) {\n\n        this.start = (start !== undefined) ? start : new Vector3();\n        this.end = (end !== undefined) ? end : new Vector3();\n\n    }\n\n    set(start, end) {\n\n        this.start.copy(start);\n        this.end.copy(end);\n\n        return this;\n\n    }\n\n    clone() {\n\n        return new this.constructor().copy(this);\n\n    }\n\n    copy(line) {\n\n        this.start.copy(line.start);\n        this.end.copy(line.end);\n\n        return this;\n\n    }\n\n    getCenter(target) {\n\n        if (target === undefined) {\n\n            console.warn('THREE.Line3: .getCenter() target is now required');\n            target = new Vector3();\n\n        }\n\n        return target.addVectors(this.start, this.end).multiplyScalar(0.5);\n\n    }\n\n    delta(target) {\n\n        if (target === undefined) {\n\n            console.warn('THREE.Line3: .delta() target is now required');\n            target = new Vector3();\n\n        }\n\n        return target.subVectors(this.end, this.start);\n\n    }\n\n    distanceSq() {\n\n        return this.start.distanceToSquared(this.end);\n\n    }\n\n    distance() {\n\n        return this.start.distanceTo(this.end);\n\n    }\n\n    at(t, target) {\n\n        if (target === undefined) {\n\n            console.warn('THREE.Line3: .at() target is now required');\n            target = new Vector3();\n\n        }\n\n        return this.delta(target).multiplyScalar(t).add(this.start);\n\n    }\n\n    closestPointToPointParameter(point, clampToLine) {\n\n        _startP.subVectors(point, this.start);\n        _startEnd.subVectors(this.end, this.start);\n\n        const startEnd2 = _startEnd.dot(_startEnd);\n        const startEnd_startP = _startEnd.dot(_startP);\n\n        let t = startEnd_startP / startEnd2;\n\n        if (clampToLine) {\n\n            t = MathUtils.clamp(t, 0, 1);\n\n        }\n\n        return t;\n\n    }\n\n    closestPointToPoint(point, clampToLine, target) {\n\n        const t = this.closestPointToPointParameter(point, clampToLine);\n\n        if (target === undefined) {\n\n            console.warn('THREE.Line3: .closestPointToPoint() target is now required');\n            target = new Vector3();\n\n        }\n\n        return this.delta(target).multiplyScalar(t).add(this.start);\n\n    }\n\n    applyMatrix4(matrix) {\n\n        this.start.applyMatrix4(matrix);\n        this.end.applyMatrix4(matrix);\n\n        return this;\n\n    }\n\n    equals(line) {\n\n        return line.start.equals(this.start) && line.end.equals(this.end);\n\n    }\n\n}\n\nfunction ImmediateRenderObject(material) {\n\n    Object3D.call(this);\n\n    this.material = material;\n    this.render = function( /* renderCallback */ ) {};\n\n    this.hasPositions = false;\n    this.hasNormals = false;\n    this.hasColors = false;\n    this.hasUvs = false;\n\n    this.positionArray = null;\n    this.normalArray = null;\n    this.colorArray = null;\n    this.uvArray = null;\n\n    this.count = 0;\n\n}\n\nImmediateRenderObject.prototype = Object.create(Object3D.prototype);\nImmediateRenderObject.prototype.constructor = ImmediateRenderObject;\n\nImmediateRenderObject.prototype.isImmediateRenderObject = true;\n\nconst _vector$8 = /*@__PURE__*/ new Vector3();\n\nclass SpotLightHelper extends Object3D {\n\n    constructor(light, color) {\n\n        super();\n        this.light = light;\n        this.light.updateMatrixWorld();\n\n        this.matrix = light.matrixWorld;\n        this.matrixAutoUpdate = false;\n\n        this.color = color;\n\n        const geometry = new BufferGeometry();\n\n        const positions = [\n            0, 0, 0, 0, 0, 1,\n            0, 0, 0, 1, 0, 1,\n            0, 0, 0, -1, 0, 1,\n            0, 0, 0, 0, 1, 1,\n            0, 0, 0, 0, -1, 1\n        ];\n\n        for (let i = 0, j = 1, l = 32; i < l; i++, j++) {\n\n            const p1 = (i / l) * Math.PI * 2;\n            const p2 = (j / l) * Math.PI * 2;\n\n            positions.push(\n                Math.cos(p1), Math.sin(p1), 1,\n                Math.cos(p2), Math.sin(p2), 1\n            );\n\n        }\n\n        geometry.setAttribute('position', new Float32BufferAttribute(positions, 3));\n\n        const material = new LineBasicMaterial({\n            fog: false,\n            toneMapped: false\n        });\n\n        this.cone = new LineSegments(geometry, material);\n        this.add(this.cone);\n\n        this.update();\n\n    }\n\n    dispose() {\n\n        this.cone.geometry.dispose();\n        this.cone.material.dispose();\n\n    }\n\n    update() {\n\n        this.light.updateMatrixWorld();\n\n        const coneLength = this.light.distance ? this.light.distance : 1000;\n        const coneWidth = coneLength * Math.tan(this.light.angle);\n\n        this.cone.scale.set(coneWidth, coneWidth, coneLength);\n\n        _vector$8.setFromMatrixPosition(this.light.target.matrixWorld);\n\n        this.cone.lookAt(_vector$8);\n\n        if (this.color !== undefined) {\n\n            this.cone.material.color.set(this.color);\n\n        } else {\n\n            this.cone.material.color.copy(this.light.color);\n\n        }\n\n    }\n\n}\n\nconst _vector$9 = /*@__PURE__*/ new Vector3();\nconst _boneMatrix = /*@__PURE__*/ new Matrix4();\nconst _matrixWorldInv = /*@__PURE__*/ new Matrix4();\n\n\nclass SkeletonHelper extends LineSegments {\n\n    constructor(object) {\n\n        const bones = getBoneList(object);\n\n        const geometry = new BufferGeometry();\n\n        const vertices = [];\n        const colors = [];\n\n        const color1 = new Color(0, 0, 1);\n        const color2 = new Color(0, 1, 0);\n\n        for (let i = 0; i < bones.length; i++) {\n\n            const bone = bones[i];\n\n            if (bone.parent && bone.parent.isBone) {\n\n                vertices.push(0, 0, 0);\n                vertices.push(0, 0, 0);\n                colors.push(color1.r, color1.g, color1.b);\n                colors.push(color2.r, color2.g, color2.b);\n\n            }\n\n        }\n\n        geometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n        geometry.setAttribute('color', new Float32BufferAttribute(colors, 3));\n\n        const material = new LineBasicMaterial({\n            vertexColors: true,\n            depthTest: false,\n            depthWrite: false,\n            toneMapped: false,\n            transparent: true\n        });\n\n        super(geometry, material);\n\n        this.type = 'SkeletonHelper';\n        this.isSkeletonHelper = true;\n\n        this.root = object;\n        this.bones = bones;\n\n        this.matrix = object.matrixWorld;\n        this.matrixAutoUpdate = false;\n\n    }\n\n    updateMatrixWorld(force) {\n\n        const bones = this.bones;\n\n        const geometry = this.geometry;\n        const position = geometry.getAttribute('position');\n\n        _matrixWorldInv.getInverse(this.root.matrixWorld);\n\n        for (let i = 0, j = 0; i < bones.length; i++) {\n\n            const bone = bones[i];\n\n            if (bone.parent && bone.parent.isBone) {\n\n                _boneMatrix.multiplyMatrices(_matrixWorldInv, bone.matrixWorld);\n                _vector$9.setFromMatrixPosition(_boneMatrix);\n                position.setXYZ(j, _vector$9.x, _vector$9.y, _vector$9.z);\n\n                _boneMatrix.multiplyMatrices(_matrixWorldInv, bone.parent.matrixWorld);\n                _vector$9.setFromMatrixPosition(_boneMatrix);\n                position.setXYZ(j + 1, _vector$9.x, _vector$9.y, _vector$9.z);\n\n                j += 2;\n\n            }\n\n        }\n\n        geometry.getAttribute('position').needsUpdate = true;\n\n        super.updateMatrixWorld(force);\n\n    }\n\n}\n\n\nfunction getBoneList(object) {\n\n    const boneList = [];\n\n    if (object && object.isBone) {\n\n        boneList.push(object);\n\n    }\n\n    for (let i = 0; i < object.children.length; i++) {\n\n        boneList.push.apply(boneList, getBoneList(object.children[i]));\n\n    }\n\n    return boneList;\n\n}\n\nclass PointLightHelper extends Mesh {\n\n    constructor(light, sphereSize, color) {\n\n        const geometry = new SphereBufferGeometry(sphereSize, 4, 2);\n        const material = new MeshBasicMaterial({\n            wireframe: true,\n            fog: false,\n            toneMapped: false\n        });\n\n        super(geometry, material);\n\n        this.light = light;\n        this.light.updateMatrixWorld();\n\n        this.color = color;\n\n        this.type = 'PointLightHelper';\n\n        this.matrix = this.light.matrixWorld;\n        this.matrixAutoUpdate = false;\n\n        this.update();\n\n\n        /*\n\t// TODO: delete this comment?\n\tconst distanceGeometry = new THREE.IcosahedronBufferGeometry( 1, 2 );\n\tconst distanceMaterial = new THREE.MeshBasicMaterial( { color: hexColor, fog: false, wireframe: true, opacity: 0.1, transparent: true } );\n\n\tthis.lightSphere = new THREE.Mesh( bulbGeometry, bulbMaterial );\n\tthis.lightDistance = new THREE.Mesh( distanceGeometry, distanceMaterial );\n\n\tconst d = light.distance;\n\n\tif ( d === 0.0 ) {\n\n\t\tthis.lightDistance.visible = false;\n\n\t} else {\n\n\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t}\n\n\tthis.add( this.lightDistance );\n\t*/\n\n    }\n\n    dispose() {\n\n        this.geometry.dispose();\n        this.material.dispose();\n\n    }\n\n    update() {\n\n        if (this.color !== undefined) {\n\n            this.material.color.set(this.color);\n\n        } else {\n\n            this.material.color.copy(this.light.color);\n\n        }\n\n        /*\n        const d = this.light.distance;\n\n        if ( d === 0.0 ) {\n\n        \tthis.lightDistance.visible = false;\n\n        } else {\n\n        \tthis.lightDistance.visible = true;\n        \tthis.lightDistance.scale.set( d, d, d );\n\n        }\n        */\n\n    }\n\n}\n\nconst _vector$a = /*@__PURE__*/ new Vector3();\nconst _color1 = /*@__PURE__*/ new Color();\nconst _color2 = /*@__PURE__*/ new Color();\n\nclass HemisphereLightHelper extends Object3D {\n\n    constructor(light, size, color) {\n\n        super();\n        this.light = light;\n        this.light.updateMatrixWorld();\n\n        this.matrix = light.matrixWorld;\n        this.matrixAutoUpdate = false;\n\n        this.color = color;\n\n        const geometry = new OctahedronBufferGeometry(size);\n        geometry.rotateY(Math.PI * 0.5);\n\n        this.material = new MeshBasicMaterial({\n            wireframe: true,\n            fog: false,\n            toneMapped: false\n        });\n        if (this.color === undefined) this.material.vertexColors = true;\n\n        const position = geometry.getAttribute('position');\n        const colors = new Float32Array(position.count * 3);\n\n        geometry.setAttribute('color', new BufferAttribute(colors, 3));\n\n        this.add(new Mesh(geometry, this.material));\n\n        this.update();\n\n    }\n\n    dispose() {\n\n        this.children[0].geometry.dispose();\n        this.children[0].material.dispose();\n\n    }\n\n    update() {\n\n        const mesh = this.children[0];\n\n        if (this.color !== undefined) {\n\n            this.material.color.set(this.color);\n\n        } else {\n\n            const colors = mesh.geometry.getAttribute('color');\n\n            _color1.copy(this.light.color);\n            _color2.copy(this.light.groundColor);\n\n            for (let i = 0, l = colors.count; i < l; i++) {\n\n                const color = (i < (l / 2)) ? _color1 : _color2;\n\n                colors.setXYZ(i, color.r, color.g, color.b);\n\n            }\n\n            colors.needsUpdate = true;\n\n        }\n\n        mesh.lookAt(_vector$a.setFromMatrixPosition(this.light.matrixWorld).negate());\n\n    }\n\n}\n\nclass GridHelper extends LineSegments {\n\n    constructor(size, divisions, color1, color2) {\n\n        size = size || 10;\n        divisions = divisions || 10;\n        color1 = new Color(color1 !== undefined ? color1 : 0x444444);\n        color2 = new Color(color2 !== undefined ? color2 : 0x888888);\n\n        const center = divisions / 2;\n        const step = size / divisions;\n        const halfSize = size / 2;\n\n        const vertices = [],\n            colors = [];\n\n        for (let i = 0, j = 0, k = -halfSize; i <= divisions; i++, k += step) {\n\n            vertices.push(-halfSize, 0, k, halfSize, 0, k);\n            vertices.push(k, 0, -halfSize, k, 0, halfSize);\n\n            const color = i === center ? color1 : color2;\n\n            color.toArray(colors, j);\n            j += 3;\n            color.toArray(colors, j);\n            j += 3;\n            color.toArray(colors, j);\n            j += 3;\n            color.toArray(colors, j);\n            j += 3;\n\n        }\n\n        const geometry = new BufferGeometry();\n        geometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n        geometry.setAttribute('color', new Float32BufferAttribute(colors, 3));\n\n        const material = new LineBasicMaterial({\n            vertexColors: true,\n            toneMapped: false\n        });\n\n        super(geometry, material);\n\n        this.type = 'GridHelper';\n\n    }\n\n}\n\nclass PolarGridHelper extends LineSegments {\n\n    constructor(radius, radials, circles, divisions, color1, color2) {\n\n        radius = radius || 10;\n        radials = radials || 16;\n        circles = circles || 8;\n        divisions = divisions || 64;\n        color1 = new Color(color1 !== undefined ? color1 : 0x444444);\n        color2 = new Color(color2 !== undefined ? color2 : 0x888888);\n\n        const vertices = [];\n        const colors = [];\n\n        // create the radials\n\n        for (let i = 0; i <= radials; i++) {\n\n            const v = (i / radials) * (Math.PI * 2);\n\n            const x = Math.sin(v) * radius;\n            const z = Math.cos(v) * radius;\n\n            vertices.push(0, 0, 0);\n            vertices.push(x, 0, z);\n\n            const color = (i & 1) ? color1 : color2;\n\n            colors.push(color.r, color.g, color.b);\n            colors.push(color.r, color.g, color.b);\n\n        }\n\n        // create the circles\n\n        for (let i = 0; i <= circles; i++) {\n\n            const color = (i & 1) ? color1 : color2;\n\n            const r = radius - (radius / circles * i);\n\n            for (let j = 0; j < divisions; j++) {\n\n                // first vertex\n\n                let v = (j / divisions) * (Math.PI * 2);\n\n                let x = Math.sin(v) * r;\n                let z = Math.cos(v) * r;\n\n                vertices.push(x, 0, z);\n                colors.push(color.r, color.g, color.b);\n\n                // second vertex\n\n                v = ((j + 1) / divisions) * (Math.PI * 2);\n\n                x = Math.sin(v) * r;\n                z = Math.cos(v) * r;\n\n                vertices.push(x, 0, z);\n                colors.push(color.r, color.g, color.b);\n\n            }\n\n        }\n\n        const geometry = new BufferGeometry();\n        geometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n        geometry.setAttribute('color', new Float32BufferAttribute(colors, 3));\n\n        const material = new LineBasicMaterial({\n            vertexColors: true,\n            toneMapped: false\n        });\n\n        super(geometry, material);\n\n        this.type = 'PolarGridHelper';\n\n    }\n\n}\n\nconst _v1$6 = /*@__PURE__*/ new Vector3();\nconst _v2$3 = /*@__PURE__*/ new Vector3();\nconst _v3$1 = /*@__PURE__*/ new Vector3();\n\nclass DirectionalLightHelper extends Object3D {\n\n    constructor(light, size, color) {\n\n        super();\n        this.light = light;\n        this.light.updateMatrixWorld();\n\n        this.matrix = light.matrixWorld;\n        this.matrixAutoUpdate = false;\n\n        this.color = color;\n\n        if (size === undefined) size = 1;\n\n        let geometry = new BufferGeometry();\n        geometry.setAttribute('position', new Float32BufferAttribute([-size, size, 0,\n            size, size, 0,\n            size, -size, 0, -size, -size, 0, -size, size, 0\n        ], 3));\n\n        const material = new LineBasicMaterial({\n            fog: false,\n            toneMapped: false\n        });\n\n        this.lightPlane = new Line(geometry, material);\n        this.add(this.lightPlane);\n\n        geometry = new BufferGeometry();\n        geometry.setAttribute('position', new Float32BufferAttribute([0, 0, 0, 0, 0, 1], 3));\n\n        this.targetLine = new Line(geometry, material);\n        this.add(this.targetLine);\n\n        this.update();\n\n    }\n\n    dispose() {\n\n        this.lightPlane.geometry.dispose();\n        this.lightPlane.material.dispose();\n        this.targetLine.geometry.dispose();\n        this.targetLine.material.dispose();\n\n    }\n\n    update() {\n\n        _v1$6.setFromMatrixPosition(this.light.matrixWorld);\n        _v2$3.setFromMatrixPosition(this.light.target.matrixWorld);\n        _v3$1.subVectors(_v2$3, _v1$6);\n\n        this.lightPlane.lookAt(_v2$3);\n\n        if (this.color !== undefined) {\n\n            this.lightPlane.material.color.set(this.color);\n            this.targetLine.material.color.set(this.color);\n\n        } else {\n\n            this.lightPlane.material.color.copy(this.light.color);\n            this.targetLine.material.color.copy(this.light.color);\n\n        }\n\n        this.targetLine.lookAt(_v2$3);\n        this.targetLine.scale.z = _v3$1.length();\n\n    }\n\n}\n\nconst _vector$b = /*@__PURE__*/ new Vector3();\nconst _camera = /*@__PURE__*/ new Camera();\n\n/**\n *\t- shows frustum, line of sight and up of the camera\n *\t- suitable for fast updates\n * \t- based on frustum visualization in lightgl.js shadowmap example\n *\t\thttp://evanw.github.com/lightgl.js/tests/shadowmap.html\n */\n\nclass CameraHelper extends LineSegments {\n\n    constructor(camera) {\n\n        const geometry = new BufferGeometry();\n        const material = new LineBasicMaterial({\n            color: 0xffffff,\n            vertexColors: true,\n            toneMapped: false\n        });\n\n        const vertices = [];\n        const colors = [];\n\n        const pointMap = {};\n\n        // colors\n\n        const colorFrustum = new Color(0xffaa00);\n        const colorCone = new Color(0xff0000);\n        const colorUp = new Color(0x00aaff);\n        const colorTarget = new Color(0xffffff);\n        const colorCross = new Color(0x333333);\n\n        // near\n\n        addLine('n1', 'n2', colorFrustum);\n        addLine('n2', 'n4', colorFrustum);\n        addLine('n4', 'n3', colorFrustum);\n        addLine('n3', 'n1', colorFrustum);\n\n        // far\n\n        addLine('f1', 'f2', colorFrustum);\n        addLine('f2', 'f4', colorFrustum);\n        addLine('f4', 'f3', colorFrustum);\n        addLine('f3', 'f1', colorFrustum);\n\n        // sides\n\n        addLine('n1', 'f1', colorFrustum);\n        addLine('n2', 'f2', colorFrustum);\n        addLine('n3', 'f3', colorFrustum);\n        addLine('n4', 'f4', colorFrustum);\n\n        // cone\n\n        addLine('p', 'n1', colorCone);\n        addLine('p', 'n2', colorCone);\n        addLine('p', 'n3', colorCone);\n        addLine('p', 'n4', colorCone);\n\n        // up\n\n        addLine('u1', 'u2', colorUp);\n        addLine('u2', 'u3', colorUp);\n        addLine('u3', 'u1', colorUp);\n\n        // target\n\n        addLine('c', 't', colorTarget);\n        addLine('p', 'c', colorCross);\n\n        // cross\n\n        addLine('cn1', 'cn2', colorCross);\n        addLine('cn3', 'cn4', colorCross);\n\n        addLine('cf1', 'cf2', colorCross);\n        addLine('cf3', 'cf4', colorCross);\n\n        function addLine(a, b, color) {\n\n            addPoint(a, color);\n            addPoint(b, color);\n\n        }\n\n        function addPoint(id, color) {\n\n            vertices.push(0, 0, 0);\n            colors.push(color.r, color.g, color.b);\n\n            if (pointMap[id] === undefined) {\n\n                pointMap[id] = [];\n\n            }\n\n            pointMap[id].push((vertices.length / 3) - 1);\n\n        }\n\n        geometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n        geometry.setAttribute('color', new Float32BufferAttribute(colors, 3));\n\n        super(geometry, material);\n\n        this.type = 'CameraHelper';\n\n        this.camera = camera;\n        if (this.camera.updateProjectionMatrix) this.camera.updateProjectionMatrix();\n\n        this.matrix = camera.matrixWorld;\n        this.matrixAutoUpdate = false;\n\n        this.pointMap = pointMap;\n\n        this.update();\n\n    }\n\n    update() {\n\n        const geometry = this.geometry;\n        const pointMap = this.pointMap;\n\n        const w = 1,\n            h = 1;\n\n        // we need just camera projection matrix inverse\n        // world matrix must be identity\n\n        _camera.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);\n\n        // center / target\n\n        setPoint('c', pointMap, geometry, _camera, 0, 0, -1);\n        setPoint('t', pointMap, geometry, _camera, 0, 0, 1);\n\n        // near\n\n        setPoint('n1', pointMap, geometry, _camera, -w, -h, -1);\n        setPoint('n2', pointMap, geometry, _camera, w, -h, -1);\n        setPoint('n3', pointMap, geometry, _camera, -w, h, -1);\n        setPoint('n4', pointMap, geometry, _camera, w, h, -1);\n\n        // far\n\n        setPoint('f1', pointMap, geometry, _camera, -w, -h, 1);\n        setPoint('f2', pointMap, geometry, _camera, w, -h, 1);\n        setPoint('f3', pointMap, geometry, _camera, -w, h, 1);\n        setPoint('f4', pointMap, geometry, _camera, w, h, 1);\n\n        // up\n\n        setPoint('u1', pointMap, geometry, _camera, w * 0.7, h * 1.1, -1);\n        setPoint('u2', pointMap, geometry, _camera, -w * 0.7, h * 1.1, -1);\n        setPoint('u3', pointMap, geometry, _camera, 0, h * 2, -1);\n\n        // cross\n\n        setPoint('cf1', pointMap, geometry, _camera, -w, 0, 1);\n        setPoint('cf2', pointMap, geometry, _camera, w, 0, 1);\n        setPoint('cf3', pointMap, geometry, _camera, 0, -h, 1);\n        setPoint('cf4', pointMap, geometry, _camera, 0, h, 1);\n\n        setPoint('cn1', pointMap, geometry, _camera, -w, 0, -1);\n        setPoint('cn2', pointMap, geometry, _camera, w, 0, -1);\n        setPoint('cn3', pointMap, geometry, _camera, 0, -h, -1);\n        setPoint('cn4', pointMap, geometry, _camera, 0, h, -1);\n\n        geometry.getAttribute('position').needsUpdate = true;\n\n    }\n\n}\n\n\nfunction setPoint(point, pointMap, geometry, camera, x, y, z) {\n\n    _vector$b.set(x, y, z).unproject(camera);\n\n    const points = pointMap[point];\n\n    if (points !== undefined) {\n\n        const position = geometry.getAttribute('position');\n\n        for (let i = 0, l = points.length; i < l; i++) {\n\n            position.setXYZ(points[i], _vector$b.x, _vector$b.y, _vector$b.z);\n\n        }\n\n    }\n\n}\n\nconst _box$3 = /*@__PURE__*/ new Box3();\n\nclass BoxHelper extends LineSegments {\n\n    constructor(object, color = 0xffff00) {\n\n        const indices = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7]);\n        const positions = new Float32Array(8 * 3);\n\n        const geometry = new BufferGeometry();\n        geometry.setIndex(new BufferAttribute(indices, 1));\n        geometry.setAttribute('position', new BufferAttribute(positions, 3));\n\n        super(geometry, new LineBasicMaterial({\n            color: color,\n            toneMapped: false\n        }));\n\n        this.object = object;\n        this.type = 'BoxHelper';\n\n        this.matrixAutoUpdate = false;\n\n        this.update();\n\n    }\n\n    update(object) {\n\n        if (object !== undefined) {\n\n            console.warn('THREE.BoxHelper: .update() has no longer arguments.');\n\n        }\n\n        if (this.object !== undefined) {\n\n            _box$3.setFromObject(this.object);\n\n        }\n\n        if (_box$3.isEmpty()) return;\n\n        const min = _box$3.min;\n        const max = _box$3.max;\n\n        /*\n        \t5____4\n        1/___0/|\n        | 6__|_7\n        2/___3/\n\n        0: max.x, max.y, max.z\n        1: min.x, max.y, max.z\n        2: min.x, min.y, max.z\n        3: max.x, min.y, max.z\n        4: max.x, max.y, min.z\n        5: min.x, max.y, min.z\n        6: min.x, min.y, min.z\n        7: max.x, min.y, min.z\n        */\n\n        const position = this.geometry.attributes.position;\n        const array = position.array;\n\n        array[0] = max.x;\n        array[1] = max.y;\n        array[2] = max.z;\n        array[3] = min.x;\n        array[4] = max.y;\n        array[5] = max.z;\n        array[6] = min.x;\n        array[7] = min.y;\n        array[8] = max.z;\n        array[9] = max.x;\n        array[10] = min.y;\n        array[11] = max.z;\n        array[12] = max.x;\n        array[13] = max.y;\n        array[14] = min.z;\n        array[15] = min.x;\n        array[16] = max.y;\n        array[17] = min.z;\n        array[18] = min.x;\n        array[19] = min.y;\n        array[20] = min.z;\n        array[21] = max.x;\n        array[22] = min.y;\n        array[23] = min.z;\n\n        position.needsUpdate = true;\n\n        this.geometry.computeBoundingSphere();\n\n\n    }\n\n    setFromObject(object) {\n\n        this.object = object;\n        this.update();\n\n        return this;\n\n    }\n\n    copy(source) {\n\n        LineSegments.prototype.copy.call(this, source);\n\n        this.object = source.object;\n\n        return this;\n\n    }\n\n}\n\nclass Box3Helper extends LineSegments {\n\n    constructor(box, color = 0xffff00) {\n\n        const indices = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7]);\n\n        const positions = [1, 1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, 1, 1, -1, -1, 1, -1, -1, -1, -1, 1, -1, -1];\n\n        const geometry = new BufferGeometry();\n\n        geometry.setIndex(new BufferAttribute(indices, 1));\n\n        geometry.setAttribute('position', new Float32BufferAttribute(positions, 3));\n\n        super(geometry, new LineBasicMaterial({\n            color: color,\n            toneMapped: false\n        }));\n\n        this.box = box;\n\n        this.type = 'Box3Helper';\n\n        this.geometry.computeBoundingSphere();\n\n    }\n\n    updateMatrixWorld(force) {\n\n        const box = this.box;\n\n        if (box.isEmpty()) return;\n\n        box.getCenter(this.position);\n\n        box.getSize(this.scale);\n\n        this.scale.multiplyScalar(0.5);\n\n        super.updateMatrixWorld(force);\n\n    }\n\n}\n\nclass PlaneHelper extends Line {\n\n    constructor(plane, size, hex) {\n\n        const color = (hex !== undefined) ? hex : 0xffff00;\n\n        const positions = [1, -1, 1, -1, 1, 1, -1, -1, 1, 1, 1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0];\n\n        const geometry = new BufferGeometry();\n        geometry.setAttribute('position', new Float32BufferAttribute(positions, 3));\n        geometry.computeBoundingSphere();\n\n        super(geometry, new LineBasicMaterial({\n            color: color,\n            toneMapped: false\n        }));\n\n        this.type = 'PlaneHelper';\n\n        this.plane = plane;\n\n        this.size = (size === undefined) ? 1 : size;\n\n        const positions2 = [1, 1, 1, -1, 1, 1, -1, -1, 1, 1, 1, 1, -1, -1, 1, 1, -1, 1];\n\n        const geometry2 = new BufferGeometry();\n        geometry2.setAttribute('position', new Float32BufferAttribute(positions2, 3));\n        geometry2.computeBoundingSphere();\n\n        this.add(new Mesh(geometry2, new MeshBasicMaterial({\n            color: color,\n            opacity: 0.2,\n            transparent: true,\n            depthWrite: false,\n            toneMapped: false\n        })));\n\n    }\n\n    updateMatrixWorld(force) {\n\n        let scale = -this.plane.constant;\n\n        if (Math.abs(scale) < 1e-8) scale = 1e-8; // sign does not matter\n\n        this.scale.set(0.5 * this.size, 0.5 * this.size, scale);\n\n        this.children[0].material.side = (scale < 0) ? BackSide : FrontSide; // renderer flips side when determinant < 0; flipping not wanted here\n\n        this.lookAt(this.plane.normal);\n\n        super.updateMatrixWorld(force);\n\n    }\n\n}\n\nconst _axis = /*@__PURE__*/ new Vector3();\nlet _lineGeometry, _coneGeometry;\n\nclass ArrowHelper extends Object3D {\n\n    constructor(dir, origin, length, color, headLength, headWidth) {\n\n        super();\n        // dir is assumed to be normalized\n\n        this.type = 'ArrowHelper';\n\n        if (dir === undefined) dir = new Vector3(0, 0, 1);\n        if (origin === undefined) origin = new Vector3(0, 0, 0);\n        if (length === undefined) length = 1;\n        if (color === undefined) color = 0xffff00;\n        if (headLength === undefined) headLength = 0.2 * length;\n        if (headWidth === undefined) headWidth = 0.2 * headLength;\n\n        if (_lineGeometry === undefined) {\n\n            _lineGeometry = new BufferGeometry();\n            _lineGeometry.setAttribute('position', new Float32BufferAttribute([0, 0, 0, 0, 1, 0], 3));\n\n            _coneGeometry = new CylinderBufferGeometry(0, 0.5, 1, 5, 1);\n            _coneGeometry.translate(0, -0.5, 0);\n\n        }\n\n        this.position.copy(origin);\n\n        this.line = new Line(_lineGeometry, new LineBasicMaterial({\n            color: color,\n            toneMapped: false\n        }));\n        this.line.matrixAutoUpdate = false;\n        this.add(this.line);\n\n        this.cone = new Mesh(_coneGeometry, new MeshBasicMaterial({\n            color: color,\n            toneMapped: false\n        }));\n        this.cone.matrixAutoUpdate = false;\n        this.add(this.cone);\n\n        this.setDirection(dir);\n        this.setLength(length, headLength, headWidth);\n\n    }\n\n    setDirection(dir) {\n\n        // dir is assumed to be normalized\n\n        if (dir.y > 0.99999) {\n\n            this.quaternion.set(0, 0, 0, 1);\n\n        } else if (dir.y < -0.99999) {\n\n            this.quaternion.set(1, 0, 0, 0);\n\n        } else {\n\n            _axis.set(dir.z, 0, -dir.x).normalize();\n\n            const radians = Math.acos(dir.y);\n\n            this.quaternion.setFromAxisAngle(_axis, radians);\n\n        }\n\n    }\n\n    setLength(length, headLength, headWidth) {\n\n        if (headLength === undefined) headLength = 0.2 * length;\n        if (headWidth === undefined) headWidth = 0.2 * headLength;\n\n        this.line.scale.set(1, Math.max(0.0001, length - headLength), 1); // see #17458\n        this.line.updateMatrix();\n\n        this.cone.scale.set(headWidth, headLength, headWidth);\n        this.cone.position.y = length;\n        this.cone.updateMatrix();\n\n    }\n\n    setColor(color) {\n\n        this.line.material.color.set(color);\n        this.cone.material.color.set(color);\n\n    }\n\n    copy(source) {\n\n        super.copy(source, false);\n\n        this.line.copy(source.line);\n        this.cone.copy(source.cone);\n\n        return this;\n\n    }\n\n}\n\nclass AxesHelper extends LineSegments {\n\n    constructor(size = 1) {\n\n        const vertices = [\n            0, 0, 0, size, 0, 0,\n            0, 0, 0, 0, size, 0,\n            0, 0, 0, 0, 0, size\n        ];\n\n        const colors = [\n            1, 0, 0, 1, 0.6, 0,\n            0, 1, 0, 0.6, 1, 0,\n            0, 0, 1, 0, 0.6, 1\n        ];\n\n        const geometry = new BufferGeometry();\n        geometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n        geometry.setAttribute('color', new Float32BufferAttribute(colors, 3));\n\n        const material = new LineBasicMaterial({\n            vertexColors: true,\n            toneMapped: false\n        });\n\n        super(geometry, material);\n\n        this.type = 'AxesHelper';\n\n    }\n\n}\n\nconst LOD_MIN = 4;\nconst LOD_MAX = 8;\nconst SIZE_MAX = Math.pow(2, LOD_MAX);\n\n// The standard deviations (radians) associated with the extra mips. These are\n// chosen to approximate a Trowbridge-Reitz distribution function times the\n// geometric shadowing function. These sigma values squared must match the\n// variance #defines in cube_uv_reflection_fragment.glsl.js.\nconst EXTRA_LOD_SIGMA = [0.125, 0.215, 0.35, 0.446, 0.526, 0.582];\n\nconst TOTAL_LODS = LOD_MAX - LOD_MIN + 1 + EXTRA_LOD_SIGMA.length;\n\n// The maximum length of the blur for loop. Smaller sigmas will use fewer\n// samples and exit early, but not recompile the shader.\nconst MAX_SAMPLES = 20;\n\nconst ENCODINGS = {\n    [LinearEncoding]: 0,\n    [sRGBEncoding]: 1,\n    [RGBEEncoding]: 2,\n    [RGBM7Encoding]: 3,\n    [RGBM16Encoding]: 4,\n    [RGBDEncoding]: 5,\n    [GammaEncoding]: 6\n};\n\nconst _flatCamera = /*@__PURE__*/ new OrthographicCamera();\nconst {\n    _lodPlanes,\n    _sizeLods,\n    _sigmas\n} = /*@__PURE__*/ _createPlanes();\nlet _oldTarget = null;\n\n// Golden Ratio\nconst PHI = (1 + Math.sqrt(5)) / 2;\nconst INV_PHI = 1 / PHI;\n\n// Vertices of a dodecahedron (except the opposites, which represent the\n// same axis), used as axis directions evenly spread on a sphere.\nconst _axisDirections = [\n    /*@__PURE__*/\n    new Vector3(1, 1, 1),\n    /*@__PURE__*/\n    new Vector3(-1, 1, 1),\n    /*@__PURE__*/\n    new Vector3(1, 1, -1),\n    /*@__PURE__*/\n    new Vector3(-1, 1, -1),\n    /*@__PURE__*/\n    new Vector3(0, PHI, INV_PHI),\n    /*@__PURE__*/\n    new Vector3(0, PHI, -INV_PHI),\n    /*@__PURE__*/\n    new Vector3(INV_PHI, 0, PHI),\n    /*@__PURE__*/\n    new Vector3(-INV_PHI, 0, PHI),\n    /*@__PURE__*/\n    new Vector3(PHI, INV_PHI, 0),\n    /*@__PURE__*/\n    new Vector3(-PHI, INV_PHI, 0)\n];\n\n/**\n * This class generates a Prefiltered, Mipmapped Radiance Environment Map\n * (PMREM) from a cubeMap environment texture. This allows different levels of\n * blur to be quickly accessed based on material roughness. It is packed into a\n * special CubeUV format that allows us to perform custom interpolation so that\n * we can support nonlinear formats such as RGBE. Unlike a traditional mipmap\n * chain, it only goes down to the LOD_MIN level (above), and then creates extra\n * even more filtered 'mips' at the same LOD_MIN resolution, associated with\n * higher roughness levels. In this way we maintain resolution to smoothly\n * interpolate diffuse lighting while limiting sampling computation.\n */\n\nclass PMREMGenerator {\n\n    constructor(renderer) {\n\n        this._renderer = renderer;\n        this._pingPongRenderTarget = null;\n\n        this._blurMaterial = _getBlurShader(MAX_SAMPLES);\n        this._equirectShader = null;\n        this._cubemapShader = null;\n\n        this._compileMaterial(this._blurMaterial);\n\n    }\n\n    /**\n     * Generates a PMREM from a supplied Scene, which can be faster than using an\n     * image if networking bandwidth is low. Optional sigma specifies a blur radius\n     * in radians to be applied to the scene before PMREM generation. Optional near\n     * and far planes ensure the scene is rendered in its entirety (the cubeCamera\n     * is placed at the origin).\n     */\n    fromScene(scene, sigma = 0, near = 0.1, far = 100) {\n\n        _oldTarget = this._renderer.getRenderTarget();\n        const cubeUVRenderTarget = this._allocateTargets();\n\n        this._sceneToCubeUV(scene, near, far, cubeUVRenderTarget);\n        if (sigma > 0) {\n\n            this._blur(cubeUVRenderTarget, 0, 0, sigma);\n\n        }\n\n        this._applyPMREM(cubeUVRenderTarget);\n        this._cleanup(cubeUVRenderTarget);\n\n        return cubeUVRenderTarget;\n\n    }\n\n    /**\n     * Generates a PMREM from an equirectangular texture, which can be either LDR\n     * (RGBFormat) or HDR (RGBEFormat). The ideal input image size is 1k (1024 x 512),\n     * as this matches best with the 256 x 256 cubemap output.\n     */\n    fromEquirectangular(equirectangular) {\n\n        return this._fromTexture(equirectangular);\n\n    }\n\n    /**\n     * Generates a PMREM from an cubemap texture, which can be either LDR\n     * (RGBFormat) or HDR (RGBEFormat). The ideal input cube size is 256 x 256,\n     * as this matches best with the 256 x 256 cubemap output.\n     */\n    fromCubemap(cubemap) {\n\n        return this._fromTexture(cubemap);\n\n    }\n\n    /**\n     * Pre-compiles the cubemap shader. You can get faster start-up by invoking this method during\n     * your texture's network fetch for increased concurrency.\n     */\n    compileCubemapShader() {\n\n        if (this._cubemapShader === null) {\n\n            this._cubemapShader = _getCubemapShader();\n            this._compileMaterial(this._cubemapShader);\n\n        }\n\n    }\n\n    /**\n     * Pre-compiles the equirectangular shader. You can get faster start-up by invoking this method during\n     * your texture's network fetch for increased concurrency.\n     */\n    compileEquirectangularShader() {\n\n        if (this._equirectShader === null) {\n\n            this._equirectShader = _getEquirectShader();\n            this._compileMaterial(this._equirectShader);\n\n        }\n\n    }\n\n    /**\n     * Disposes of the PMREMGenerator's internal memory. Note that PMREMGenerator is a static class,\n     * so you should not need more than one PMREMGenerator object. If you do, calling dispose() on\n     * one of them will cause any others to also become unusable.\n     */\n    dispose() {\n\n        this._blurMaterial.dispose();\n\n        if (this._cubemapShader !== null) this._cubemapShader.dispose();\n        if (this._equirectShader !== null) this._equirectShader.dispose();\n\n        for (let i = 0; i < _lodPlanes.length; i++) {\n\n            _lodPlanes[i].dispose();\n\n        }\n\n    }\n\n    // private interface\n\n    _cleanup(outputTarget) {\n\n        this._pingPongRenderTarget.dispose();\n        this._renderer.setRenderTarget(_oldTarget);\n        outputTarget.scissorTest = false;\n        _setViewport(outputTarget, 0, 0, outputTarget.width, outputTarget.height);\n\n    }\n\n    _fromTexture(texture) {\n\n        _oldTarget = this._renderer.getRenderTarget();\n        const cubeUVRenderTarget = this._allocateTargets(texture);\n        this._textureToCubeUV(texture, cubeUVRenderTarget);\n        this._applyPMREM(cubeUVRenderTarget);\n        this._cleanup(cubeUVRenderTarget);\n\n        return cubeUVRenderTarget;\n\n    }\n\n    _allocateTargets(texture) { // warning: null texture is valid\n\n        const params = {\n            magFilter: NearestFilter,\n            minFilter: NearestFilter,\n            generateMipmaps: false,\n            type: UnsignedByteType,\n            format: RGBEFormat,\n            encoding: _isLDR(texture) ? texture.encoding : RGBEEncoding,\n            depthBuffer: false\n        };\n\n        const cubeUVRenderTarget = _createRenderTarget(params);\n        cubeUVRenderTarget.depthBuffer = texture ? false : true;\n        this._pingPongRenderTarget = _createRenderTarget(params);\n        return cubeUVRenderTarget;\n\n    }\n\n    _compileMaterial(material) {\n\n        const tmpMesh = new Mesh(_lodPlanes[0], material);\n        this._renderer.compile(tmpMesh, _flatCamera);\n\n    }\n\n    _sceneToCubeUV(scene, near, far, cubeUVRenderTarget) {\n\n        const fov = 90;\n        const aspect = 1;\n        const cubeCamera = new PerspectiveCamera(fov, aspect, near, far);\n        const upSign = [1, -1, 1, 1, 1, 1];\n        const forwardSign = [1, 1, 1, -1, -1, -1];\n        const renderer = this._renderer;\n\n        const outputEncoding = renderer.outputEncoding;\n        const toneMapping = renderer.toneMapping;\n        const clearColor = renderer.getClearColor();\n        const clearAlpha = renderer.getClearAlpha();\n\n        renderer.toneMapping = NoToneMapping;\n        renderer.outputEncoding = LinearEncoding;\n\n        let background = scene.background;\n        if (background && background.isColor) {\n\n            background.convertSRGBToLinear();\n            // Convert linear to RGBE\n            const maxComponent = Math.max(background.r, background.g, background.b);\n            const fExp = Math.min(Math.max(Math.ceil(Math.log2(maxComponent)), -128.0), 127.0);\n            background = background.multiplyScalar(Math.pow(2.0, -fExp));\n            const alpha = (fExp + 128.0) / 255.0;\n            renderer.setClearColor(background, alpha);\n            scene.background = null;\n\n        }\n\n        for (let i = 0; i < 6; i++) {\n\n            const col = i % 3;\n            if (col == 0) {\n\n                cubeCamera.up.set(0, upSign[i], 0);\n                cubeCamera.lookAt(forwardSign[i], 0, 0);\n\n            } else if (col == 1) {\n\n                cubeCamera.up.set(0, 0, upSign[i]);\n                cubeCamera.lookAt(0, forwardSign[i], 0);\n\n            } else {\n\n                cubeCamera.up.set(0, upSign[i], 0);\n                cubeCamera.lookAt(0, 0, forwardSign[i]);\n\n            }\n\n            _setViewport(cubeUVRenderTarget,\n                col * SIZE_MAX, i > 2 ? SIZE_MAX : 0, SIZE_MAX, SIZE_MAX);\n            renderer.setRenderTarget(cubeUVRenderTarget);\n            renderer.render(scene, cubeCamera);\n\n        }\n\n        renderer.toneMapping = toneMapping;\n        renderer.outputEncoding = outputEncoding;\n        renderer.setClearColor(clearColor, clearAlpha);\n\n    }\n\n    _textureToCubeUV(texture, cubeUVRenderTarget) {\n\n        const renderer = this._renderer;\n\n        if (texture.isCubeTexture) {\n\n            if (this._cubemapShader == null) {\n\n                this._cubemapShader = _getCubemapShader();\n\n            }\n\n        } else {\n\n            if (this._equirectShader == null) {\n\n                this._equirectShader = _getEquirectShader();\n\n            }\n\n        }\n\n        const material = texture.isCubeTexture ? this._cubemapShader : this._equirectShader;\n        const mesh = new Mesh(_lodPlanes[0], material);\n\n        const uniforms = material.uniforms;\n\n        uniforms['envMap'].value = texture;\n\n        if (!texture.isCubeTexture) {\n\n            uniforms['texelSize'].value.set(1.0 / texture.image.width, 1.0 / texture.image.height);\n\n        }\n\n        uniforms['inputEncoding'].value = ENCODINGS[texture.encoding];\n        uniforms['outputEncoding'].value = ENCODINGS[cubeUVRenderTarget.texture.encoding];\n\n        _setViewport(cubeUVRenderTarget, 0, 0, 3 * SIZE_MAX, 2 * SIZE_MAX);\n\n        renderer.setRenderTarget(cubeUVRenderTarget);\n        renderer.render(mesh, _flatCamera);\n\n    }\n\n    _applyPMREM(cubeUVRenderTarget) {\n\n        const renderer = this._renderer;\n        const autoClear = renderer.autoClear;\n        renderer.autoClear = false;\n\n        for (let i = 1; i < TOTAL_LODS; i++) {\n\n            const sigma = Math.sqrt(_sigmas[i] * _sigmas[i] - _sigmas[i - 1] * _sigmas[i - 1]);\n\n            const poleAxis = _axisDirections[(i - 1) % _axisDirections.length];\n\n            this._blur(cubeUVRenderTarget, i - 1, i, sigma, poleAxis);\n\n        }\n\n        renderer.autoClear = autoClear;\n\n    }\n\n    /**\n     * This is a two-pass Gaussian blur for a cubemap. Normally this is done\n     * vertically and horizontally, but this breaks down on a cube. Here we apply\n     * the blur latitudinally (around the poles), and then longitudinally (towards\n     * the poles) to approximate the orthogonally-separable blur. It is least\n     * accurate at the poles, but still does a decent job.\n     */\n    _blur(cubeUVRenderTarget, lodIn, lodOut, sigma, poleAxis) {\n\n        const pingPongRenderTarget = this._pingPongRenderTarget;\n\n        this._halfBlur(\n            cubeUVRenderTarget,\n            pingPongRenderTarget,\n            lodIn,\n            lodOut,\n            sigma,\n            'latitudinal',\n            poleAxis);\n\n        this._halfBlur(\n            pingPongRenderTarget,\n            cubeUVRenderTarget,\n            lodOut,\n            lodOut,\n            sigma,\n            'longitudinal',\n            poleAxis);\n\n    }\n\n    _halfBlur(targetIn, targetOut, lodIn, lodOut, sigmaRadians, direction, poleAxis) {\n\n        const renderer = this._renderer;\n        const blurMaterial = this._blurMaterial;\n\n        if (direction !== 'latitudinal' && direction !== 'longitudinal') {\n\n            console.error(\n                'blur direction must be either latitudinal or longitudinal!');\n\n        }\n\n        // Number of standard deviations at which to cut off the discrete approximation.\n        const STANDARD_DEVIATIONS = 3;\n\n        const blurMesh = new Mesh(_lodPlanes[lodOut], blurMaterial);\n        const blurUniforms = blurMaterial.uniforms;\n\n        const pixels = _sizeLods[lodIn] - 1;\n        const radiansPerPixel = isFinite(sigmaRadians) ? Math.PI / (2 * pixels) : 2 * Math.PI / (2 * MAX_SAMPLES - 1);\n        const sigmaPixels = sigmaRadians / radiansPerPixel;\n        const samples = isFinite(sigmaRadians) ? 1 + Math.floor(STANDARD_DEVIATIONS * sigmaPixels) : MAX_SAMPLES;\n\n        if (samples > MAX_SAMPLES) {\n\n            console.warn(`sigmaRadians, ${\n\t\t\t\tsigmaRadians}, is too large and will clip, as it requested ${\n\t\t\t\tsamples} samples when the maximum is set to ${MAX_SAMPLES}`);\n\n        }\n\n        const weights = [];\n        let sum = 0;\n\n        for (let i = 0; i < MAX_SAMPLES; ++i) {\n\n            const x = i / sigmaPixels;\n            const weight = Math.exp(-x * x / 2);\n            weights.push(weight);\n\n            if (i == 0) {\n\n                sum += weight;\n\n            } else if (i < samples) {\n\n                sum += 2 * weight;\n\n            }\n\n        }\n\n        for (let i = 0; i < weights.length; i++) {\n\n            weights[i] = weights[i] / sum;\n\n        }\n\n        blurUniforms['envMap'].value = targetIn.texture;\n        blurUniforms['samples'].value = samples;\n        blurUniforms['weights'].value = weights;\n        blurUniforms['latitudinal'].value = direction === 'latitudinal';\n\n        if (poleAxis) {\n\n            blurUniforms['poleAxis'].value = poleAxis;\n\n        }\n\n        blurUniforms['dTheta'].value = radiansPerPixel;\n        blurUniforms['mipInt'].value = LOD_MAX - lodIn;\n        blurUniforms['inputEncoding'].value = ENCODINGS[targetIn.texture.encoding];\n        blurUniforms['outputEncoding'].value = ENCODINGS[targetIn.texture.encoding];\n\n        const outputSize = _sizeLods[lodOut];\n        const x = 3 * Math.max(0, SIZE_MAX - 2 * outputSize);\n        const y = (lodOut === 0 ? 0 : 2 * SIZE_MAX) + 2 * outputSize * (lodOut > LOD_MAX - LOD_MIN ? lodOut - LOD_MAX + LOD_MIN : 0);\n\n        _setViewport(targetOut, x, y, 3 * outputSize, 2 * outputSize);\n        renderer.setRenderTarget(targetOut);\n        renderer.render(blurMesh, _flatCamera);\n\n    }\n\n}\n\nfunction _isLDR(texture) {\n\n    if (texture === undefined || texture.type !== UnsignedByteType) return false;\n\n    return texture.encoding === LinearEncoding || texture.encoding === sRGBEncoding || texture.encoding === GammaEncoding;\n\n}\n\nfunction _createPlanes() {\n\n    const _lodPlanes = [];\n    const _sizeLods = [];\n    const _sigmas = [];\n\n    let lod = LOD_MAX;\n\n    for (let i = 0; i < TOTAL_LODS; i++) {\n\n        const sizeLod = Math.pow(2, lod);\n        _sizeLods.push(sizeLod);\n        let sigma = 1.0 / sizeLod;\n\n        if (i > LOD_MAX - LOD_MIN) {\n\n            sigma = EXTRA_LOD_SIGMA[i - LOD_MAX + LOD_MIN - 1];\n\n        } else if (i == 0) {\n\n            sigma = 0;\n\n        }\n\n        _sigmas.push(sigma);\n\n        const texelSize = 1.0 / (sizeLod - 1);\n        const min = -texelSize / 2;\n        const max = 1 + texelSize / 2;\n        const uv1 = [min, min, max, min, max, max, min, min, max, max, min, max];\n\n        const cubeFaces = 6;\n        const vertices = 6;\n        const positionSize = 3;\n        const uvSize = 2;\n        const faceIndexSize = 1;\n\n        const position = new Float32Array(positionSize * vertices * cubeFaces);\n        const uv = new Float32Array(uvSize * vertices * cubeFaces);\n        const faceIndex = new Float32Array(faceIndexSize * vertices * cubeFaces);\n\n        for (let face = 0; face < cubeFaces; face++) {\n\n            const x = (face % 3) * 2 / 3 - 1;\n            const y = face > 2 ? 0 : -1;\n            const coordinates = [\n                x, y, 0,\n                x + 2 / 3, y, 0,\n                x + 2 / 3, y + 1, 0,\n                x, y, 0,\n                x + 2 / 3, y + 1, 0,\n                x, y + 1, 0\n            ];\n            position.set(coordinates, positionSize * vertices * face);\n            uv.set(uv1, uvSize * vertices * face);\n            const fill = [face, face, face, face, face, face];\n            faceIndex.set(fill, faceIndexSize * vertices * face);\n\n        }\n\n        const planes = new BufferGeometry();\n        planes.setAttribute('position', new BufferAttribute(position, positionSize));\n        planes.setAttribute('uv', new BufferAttribute(uv, uvSize));\n        planes.setAttribute('faceIndex', new BufferAttribute(faceIndex, faceIndexSize));\n        _lodPlanes.push(planes);\n\n        if (lod > LOD_MIN) {\n\n            lod--;\n\n        }\n\n    }\n\n    return {\n        _lodPlanes,\n        _sizeLods,\n        _sigmas\n    };\n\n}\n\nfunction _createRenderTarget(params) {\n\n    const cubeUVRenderTarget = new WebGLRenderTarget(3 * SIZE_MAX, 3 * SIZE_MAX, params);\n    cubeUVRenderTarget.texture.mapping = CubeUVReflectionMapping;\n    cubeUVRenderTarget.texture.name = 'PMREM.cubeUv';\n    cubeUVRenderTarget.scissorTest = true;\n    return cubeUVRenderTarget;\n\n}\n\nfunction _setViewport(target, x, y, width, height) {\n\n    target.viewport.set(x, y, width, height);\n    target.scissor.set(x, y, width, height);\n\n}\n\nfunction _getBlurShader(maxSamples) {\n\n    const weights = new Float32Array(maxSamples);\n    const poleAxis = new Vector3(0, 1, 0);\n    const shaderMaterial = new RawShaderMaterial({\n\n        name: 'SphericalGaussianBlur',\n\n        defines: {\n            'n': maxSamples\n        },\n\n        uniforms: {\n            'envMap': {\n                value: null\n            },\n            'samples': {\n                value: 1\n            },\n            'weights': {\n                value: weights\n            },\n            'latitudinal': {\n                value: false\n            },\n            'dTheta': {\n                value: 0\n            },\n            'mipInt': {\n                value: 0\n            },\n            'poleAxis': {\n                value: poleAxis\n            },\n            'inputEncoding': {\n                value: ENCODINGS[LinearEncoding]\n            },\n            'outputEncoding': {\n                value: ENCODINGS[LinearEncoding]\n            }\n        },\n\n        vertexShader: _getCommonVertexShader(),\n\n        fragmentShader: /* glsl */ `\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t${ _getEncodings() }\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t`,\n\n        blending: NoBlending,\n        depthTest: false,\n        depthWrite: false\n\n    });\n\n    return shaderMaterial;\n\n}\n\nfunction _getEquirectShader() {\n\n    const texelSize = new Vector2(1, 1);\n    const shaderMaterial = new RawShaderMaterial({\n\n        name: 'EquirectangularToCubeUV',\n\n        uniforms: {\n            'envMap': {\n                value: null\n            },\n            'texelSize': {\n                value: texelSize\n            },\n            'inputEncoding': {\n                value: ENCODINGS[LinearEncoding]\n            },\n            'outputEncoding': {\n                value: ENCODINGS[LinearEncoding]\n            }\n        },\n\n        vertexShader: _getCommonVertexShader(),\n\n        fragmentShader: /* glsl */ `\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t${ _getEncodings() }\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t`,\n\n        blending: NoBlending,\n        depthTest: false,\n        depthWrite: false\n\n    });\n\n    return shaderMaterial;\n\n}\n\nfunction _getCubemapShader() {\n\n    const shaderMaterial = new RawShaderMaterial({\n\n        name: 'CubemapToCubeUV',\n\n        uniforms: {\n            'envMap': {\n                value: null\n            },\n            'inputEncoding': {\n                value: ENCODINGS[LinearEncoding]\n            },\n            'outputEncoding': {\n                value: ENCODINGS[LinearEncoding]\n            }\n        },\n\n        vertexShader: _getCommonVertexShader(),\n\n        fragmentShader: /* glsl */ `\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t${ _getEncodings() }\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t`,\n\n        blending: NoBlending,\n        depthTest: false,\n        depthWrite: false\n\n    });\n\n    return shaderMaterial;\n\n}\n\nfunction _getCommonVertexShader() {\n\n    return /* glsl */ `\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t`;\n\n}\n\nfunction _getEncodings() {\n\n    return /* glsl */ `\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t`;\n\n}\n\nfunction Face4(a, b, c, d, normal, color, materialIndex) {\n\n    console.warn('THREE.Face4 has been removed. A THREE.Face3 will be created instead.');\n    return new Face3(a, b, c, normal, color, materialIndex);\n\n}\n\nconst LineStrip = 0;\nconst LinePieces = 1;\nconst NoColors = 0;\nconst FaceColors = 1;\nconst VertexColors = 2;\n\nfunction MeshFaceMaterial(materials) {\n\n    console.warn('THREE.MeshFaceMaterial has been removed. Use an Array instead.');\n    return materials;\n\n}\n\nfunction MultiMaterial(materials) {\n\n    if (materials === undefined) materials = [];\n\n    console.warn('THREE.MultiMaterial has been removed. Use an Array instead.');\n    materials.isMultiMaterial = true;\n    materials.materials = materials;\n    materials.clone = function() {\n\n        return materials.slice();\n\n    };\n\n    return materials;\n\n}\n\nfunction PointCloud(geometry, material) {\n\n    console.warn('THREE.PointCloud has been renamed to THREE.Points.');\n    return new Points(geometry, material);\n\n}\n\nfunction Particle(material) {\n\n    console.warn('THREE.Particle has been renamed to THREE.Sprite.');\n    return new Sprite(material);\n\n}\n\nfunction ParticleSystem(geometry, material) {\n\n    console.warn('THREE.ParticleSystem has been renamed to THREE.Points.');\n    return new Points(geometry, material);\n\n}\n\nfunction PointCloudMaterial(parameters) {\n\n    console.warn('THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.');\n    return new PointsMaterial(parameters);\n\n}\n\nfunction ParticleBasicMaterial(parameters) {\n\n    console.warn('THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.');\n    return new PointsMaterial(parameters);\n\n}\n\nfunction ParticleSystemMaterial(parameters) {\n\n    console.warn('THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.');\n    return new PointsMaterial(parameters);\n\n}\n\nfunction Vertex(x, y, z) {\n\n    console.warn('THREE.Vertex has been removed. Use THREE.Vector3 instead.');\n    return new Vector3(x, y, z);\n\n}\n\n//\n\nfunction DynamicBufferAttribute(array, itemSize) {\n\n    console.warn('THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead.');\n    return new BufferAttribute(array, itemSize).setUsage(DynamicDrawUsage);\n\n}\n\nfunction Int8Attribute(array, itemSize) {\n\n    console.warn('THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.');\n    return new Int8BufferAttribute(array, itemSize);\n\n}\n\nfunction Uint8Attribute(array, itemSize) {\n\n    console.warn('THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.');\n    return new Uint8BufferAttribute(array, itemSize);\n\n}\n\nfunction Uint8ClampedAttribute(array, itemSize) {\n\n    console.warn('THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.');\n    return new Uint8ClampedBufferAttribute(array, itemSize);\n\n}\n\nfunction Int16Attribute(array, itemSize) {\n\n    console.warn('THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.');\n    return new Int16BufferAttribute(array, itemSize);\n\n}\n\nfunction Uint16Attribute(array, itemSize) {\n\n    console.warn('THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.');\n    return new Uint16BufferAttribute(array, itemSize);\n\n}\n\nfunction Int32Attribute(array, itemSize) {\n\n    console.warn('THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.');\n    return new Int32BufferAttribute(array, itemSize);\n\n}\n\nfunction Uint32Attribute(array, itemSize) {\n\n    console.warn('THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.');\n    return new Uint32BufferAttribute(array, itemSize);\n\n}\n\nfunction Float32Attribute(array, itemSize) {\n\n    console.warn('THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.');\n    return new Float32BufferAttribute(array, itemSize);\n\n}\n\nfunction Float64Attribute(array, itemSize) {\n\n    console.warn('THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.');\n    return new Float64BufferAttribute(array, itemSize);\n\n}\n\n//\n\nCurve.create = function(construct, getPoint) {\n\n    console.log('THREE.Curve.create() has been deprecated');\n\n    construct.prototype = Object.create(Curve.prototype);\n    construct.prototype.constructor = construct;\n    construct.prototype.getPoint = getPoint;\n\n    return construct;\n\n};\n\n//\n\nObject.assign(CurvePath.prototype, {\n\n    createPointsGeometry: function(divisions) {\n\n        console.warn('THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.');\n\n        // generate geometry from path points (for Line or Points objects)\n\n        const pts = this.getPoints(divisions);\n        return this.createGeometry(pts);\n\n    },\n\n    createSpacedPointsGeometry: function(divisions) {\n\n        console.warn('THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.');\n\n        // generate geometry from equidistant sampling along the path\n\n        const pts = this.getSpacedPoints(divisions);\n        return this.createGeometry(pts);\n\n    },\n\n    createGeometry: function(points) {\n\n        console.warn('THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.');\n\n        const geometry = new Geometry();\n\n        for (let i = 0, l = points.length; i < l; i++) {\n\n            const point = points[i];\n            geometry.vertices.push(new Vector3(point.x, point.y, point.z || 0));\n\n        }\n\n        return geometry;\n\n    }\n\n});\n\n//\n\nObject.assign(Path.prototype, {\n\n    fromPoints: function(points) {\n\n        console.warn('THREE.Path: .fromPoints() has been renamed to .setFromPoints().');\n        return this.setFromPoints(points);\n\n    }\n\n});\n\n//\n\nfunction ClosedSplineCurve3(points) {\n\n    console.warn('THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.');\n\n    CatmullRomCurve3.call(this, points);\n    this.type = 'catmullrom';\n    this.closed = true;\n\n}\n\nClosedSplineCurve3.prototype = Object.create(CatmullRomCurve3.prototype);\n\n//\n\nfunction SplineCurve3(points) {\n\n    console.warn('THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.');\n\n    CatmullRomCurve3.call(this, points);\n    this.type = 'catmullrom';\n\n}\n\nSplineCurve3.prototype = Object.create(CatmullRomCurve3.prototype);\n\n//\n\nfunction Spline(points) {\n\n    console.warn('THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.');\n\n    CatmullRomCurve3.call(this, points);\n    this.type = 'catmullrom';\n\n}\n\nSpline.prototype = Object.create(CatmullRomCurve3.prototype);\n\nObject.assign(Spline.prototype, {\n\n    initFromArray: function( /* a */ ) {\n\n        console.error('THREE.Spline: .initFromArray() has been removed.');\n\n    },\n    getControlPointsArray: function( /* optionalTarget */ ) {\n\n        console.error('THREE.Spline: .getControlPointsArray() has been removed.');\n\n    },\n    reparametrizeByArcLength: function( /* samplingCoef */ ) {\n\n        console.error('THREE.Spline: .reparametrizeByArcLength() has been removed.');\n\n    }\n\n});\n\n//\n\nfunction AxisHelper(size) {\n\n    console.warn('THREE.AxisHelper has been renamed to THREE.AxesHelper.');\n    return new AxesHelper(size);\n\n}\n\nfunction BoundingBoxHelper(object, color) {\n\n    console.warn('THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.');\n    return new BoxHelper(object, color);\n\n}\n\nfunction EdgesHelper(object, hex) {\n\n    console.warn('THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.');\n    return new LineSegments(new EdgesGeometry(object.geometry), new LineBasicMaterial({\n        color: hex !== undefined ? hex : 0xffffff\n    }));\n\n}\n\nGridHelper.prototype.setColors = function() {\n\n    console.error('THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.');\n\n};\n\nSkeletonHelper.prototype.update = function() {\n\n    console.error('THREE.SkeletonHelper: update() no longer needs to be called.');\n\n};\n\nfunction WireframeHelper(object, hex) {\n\n    console.warn('THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.');\n    return new LineSegments(new WireframeGeometry(object.geometry), new LineBasicMaterial({\n        color: hex !== undefined ? hex : 0xffffff\n    }));\n\n}\n\n//\n\nObject.assign(Loader.prototype, {\n\n    extractUrlBase: function(url) {\n\n        console.warn('THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.');\n        return LoaderUtils.extractUrlBase(url);\n\n    }\n\n});\n\nLoader.Handlers = {\n\n    add: function( /* regex, loader */ ) {\n\n        console.error('THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.');\n\n    },\n\n    get: function( /* file */ ) {\n\n        console.error('THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.');\n\n    }\n\n};\n\nfunction XHRLoader(manager) {\n\n    console.warn('THREE.XHRLoader has been renamed to THREE.FileLoader.');\n    return new FileLoader(manager);\n\n}\n\nfunction BinaryTextureLoader(manager) {\n\n    console.warn('THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.');\n    return new DataTextureLoader(manager);\n\n}\n\n//\n\nObject.assign(Box2.prototype, {\n\n    center: function(optionalTarget) {\n\n        console.warn('THREE.Box2: .center() has been renamed to .getCenter().');\n        return this.getCenter(optionalTarget);\n\n    },\n    empty: function() {\n\n        console.warn('THREE.Box2: .empty() has been renamed to .isEmpty().');\n        return this.isEmpty();\n\n    },\n    isIntersectionBox: function(box) {\n\n        console.warn('THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().');\n        return this.intersectsBox(box);\n\n    },\n    size: function(optionalTarget) {\n\n        console.warn('THREE.Box2: .size() has been renamed to .getSize().');\n        return this.getSize(optionalTarget);\n\n    }\n});\n\nObject.assign(Box3.prototype, {\n\n    center: function(optionalTarget) {\n\n        console.warn('THREE.Box3: .center() has been renamed to .getCenter().');\n        return this.getCenter(optionalTarget);\n\n    },\n    empty: function() {\n\n        console.warn('THREE.Box3: .empty() has been renamed to .isEmpty().');\n        return this.isEmpty();\n\n    },\n    isIntersectionBox: function(box) {\n\n        console.warn('THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().');\n        return this.intersectsBox(box);\n\n    },\n    isIntersectionSphere: function(sphere) {\n\n        console.warn('THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().');\n        return this.intersectsSphere(sphere);\n\n    },\n    size: function(optionalTarget) {\n\n        console.warn('THREE.Box3: .size() has been renamed to .getSize().');\n        return this.getSize(optionalTarget);\n\n    }\n});\n\nObject.assign(Sphere.prototype, {\n\n    empty: function() {\n\n        console.warn('THREE.Sphere: .empty() has been renamed to .isEmpty().');\n        return this.isEmpty();\n\n    },\n\n});\n\nFrustum.prototype.setFromMatrix = function(m) {\n\n    console.warn('THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix().');\n    return this.setFromProjectionMatrix(m);\n\n};\n\nLine3.prototype.center = function(optionalTarget) {\n\n    console.warn('THREE.Line3: .center() has been renamed to .getCenter().');\n    return this.getCenter(optionalTarget);\n\n};\n\nObject.assign(MathUtils, {\n\n    random16: function() {\n\n        console.warn('THREE.Math: .random16() has been deprecated. Use Math.random() instead.');\n        return Math.random();\n\n    },\n\n    nearestPowerOfTwo: function(value) {\n\n        console.warn('THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo().');\n        return MathUtils.floorPowerOfTwo(value);\n\n    },\n\n    nextPowerOfTwo: function(value) {\n\n        console.warn('THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo().');\n        return MathUtils.ceilPowerOfTwo(value);\n\n    }\n\n});\n\nObject.assign(Matrix3.prototype, {\n\n    flattenToArrayOffset: function(array, offset) {\n\n        console.warn(\"THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\");\n        return this.toArray(array, offset);\n\n    },\n    multiplyVector3: function(vector) {\n\n        console.warn('THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.');\n        return vector.applyMatrix3(this);\n\n    },\n    multiplyVector3Array: function( /* a */ ) {\n\n        console.error('THREE.Matrix3: .multiplyVector3Array() has been removed.');\n\n    },\n    applyToBufferAttribute: function(attribute) {\n\n        console.warn('THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead.');\n        return attribute.applyMatrix3(this);\n\n    },\n    applyToVector3Array: function( /* array, offset, length */ ) {\n\n        console.error('THREE.Matrix3: .applyToVector3Array() has been removed.');\n\n    }\n\n});\n\nObject.assign(Matrix4.prototype, {\n\n    extractPosition: function(m) {\n\n        console.warn('THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().');\n        return this.copyPosition(m);\n\n    },\n    flattenToArrayOffset: function(array, offset) {\n\n        console.warn(\"THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\");\n        return this.toArray(array, offset);\n\n    },\n    getPosition: function() {\n\n        console.warn('THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.');\n        return new Vector3().setFromMatrixColumn(this, 3);\n\n    },\n    setRotationFromQuaternion: function(q) {\n\n        console.warn('THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().');\n        return this.makeRotationFromQuaternion(q);\n\n    },\n    multiplyToArray: function() {\n\n        console.warn('THREE.Matrix4: .multiplyToArray() has been removed.');\n\n    },\n    multiplyVector3: function(vector) {\n\n        console.warn('THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.');\n        return vector.applyMatrix4(this);\n\n    },\n    multiplyVector4: function(vector) {\n\n        console.warn('THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.');\n        return vector.applyMatrix4(this);\n\n    },\n    multiplyVector3Array: function( /* a */ ) {\n\n        console.error('THREE.Matrix4: .multiplyVector3Array() has been removed.');\n\n    },\n    rotateAxis: function(v) {\n\n        console.warn('THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.');\n        v.transformDirection(this);\n\n    },\n    crossVector: function(vector) {\n\n        console.warn('THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.');\n        return vector.applyMatrix4(this);\n\n    },\n    translate: function() {\n\n        console.error('THREE.Matrix4: .translate() has been removed.');\n\n    },\n    rotateX: function() {\n\n        console.error('THREE.Matrix4: .rotateX() has been removed.');\n\n    },\n    rotateY: function() {\n\n        console.error('THREE.Matrix4: .rotateY() has been removed.');\n\n    },\n    rotateZ: function() {\n\n        console.error('THREE.Matrix4: .rotateZ() has been removed.');\n\n    },\n    rotateByAxis: function() {\n\n        console.error('THREE.Matrix4: .rotateByAxis() has been removed.');\n\n    },\n    applyToBufferAttribute: function(attribute) {\n\n        console.warn('THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead.');\n        return attribute.applyMatrix4(this);\n\n    },\n    applyToVector3Array: function( /* array, offset, length */ ) {\n\n        console.error('THREE.Matrix4: .applyToVector3Array() has been removed.');\n\n    },\n    makeFrustum: function(left, right, bottom, top, near, far) {\n\n        console.warn('THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.');\n        return this.makePerspective(left, right, top, bottom, near, far);\n\n    }\n\n});\n\nPlane.prototype.isIntersectionLine = function(line) {\n\n    console.warn('THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().');\n    return this.intersectsLine(line);\n\n};\n\nQuaternion.prototype.multiplyVector3 = function(vector) {\n\n    console.warn('THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.');\n    return vector.applyQuaternion(this);\n\n};\n\nObject.assign(Ray.prototype, {\n\n    isIntersectionBox: function(box) {\n\n        console.warn('THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().');\n        return this.intersectsBox(box);\n\n    },\n    isIntersectionPlane: function(plane) {\n\n        console.warn('THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().');\n        return this.intersectsPlane(plane);\n\n    },\n    isIntersectionSphere: function(sphere) {\n\n        console.warn('THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().');\n        return this.intersectsSphere(sphere);\n\n    }\n\n});\n\nObject.assign(Triangle.prototype, {\n\n    area: function() {\n\n        console.warn('THREE.Triangle: .area() has been renamed to .getArea().');\n        return this.getArea();\n\n    },\n    barycoordFromPoint: function(point, target) {\n\n        console.warn('THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().');\n        return this.getBarycoord(point, target);\n\n    },\n    midpoint: function(target) {\n\n        console.warn('THREE.Triangle: .midpoint() has been renamed to .getMidpoint().');\n        return this.getMidpoint(target);\n\n    },\n    normal: function(target) {\n\n        console.warn('THREE.Triangle: .normal() has been renamed to .getNormal().');\n        return this.getNormal(target);\n\n    },\n    plane: function(target) {\n\n        console.warn('THREE.Triangle: .plane() has been renamed to .getPlane().');\n        return this.getPlane(target);\n\n    }\n\n});\n\nObject.assign(Triangle, {\n\n    barycoordFromPoint: function(point, a, b, c, target) {\n\n        console.warn('THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().');\n        return Triangle.getBarycoord(point, a, b, c, target);\n\n    },\n    normal: function(a, b, c, target) {\n\n        console.warn('THREE.Triangle: .normal() has been renamed to .getNormal().');\n        return Triangle.getNormal(a, b, c, target);\n\n    }\n\n});\n\nObject.assign(Shape.prototype, {\n\n    extractAllPoints: function(divisions) {\n\n        console.warn('THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.');\n        return this.extractPoints(divisions);\n\n    },\n    extrude: function(options) {\n\n        console.warn('THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.');\n        return new ExtrudeGeometry(this, options);\n\n    },\n    makeGeometry: function(options) {\n\n        console.warn('THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.');\n        return new ShapeGeometry(this, options);\n\n    }\n\n});\n\nObject.assign(Vector2.prototype, {\n\n    fromAttribute: function(attribute, index, offset) {\n\n        console.warn('THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().');\n        return this.fromBufferAttribute(attribute, index, offset);\n\n    },\n    distanceToManhattan: function(v) {\n\n        console.warn('THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().');\n        return this.manhattanDistanceTo(v);\n\n    },\n    lengthManhattan: function() {\n\n        console.warn('THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().');\n        return this.manhattanLength();\n\n    }\n\n});\n\nObject.assign(Vector3.prototype, {\n\n    setEulerFromRotationMatrix: function() {\n\n        console.error('THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.');\n\n    },\n    setEulerFromQuaternion: function() {\n\n        console.error('THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.');\n\n    },\n    getPositionFromMatrix: function(m) {\n\n        console.warn('THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().');\n        return this.setFromMatrixPosition(m);\n\n    },\n    getScaleFromMatrix: function(m) {\n\n        console.warn('THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().');\n        return this.setFromMatrixScale(m);\n\n    },\n    getColumnFromMatrix: function(index, matrix) {\n\n        console.warn('THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().');\n        return this.setFromMatrixColumn(matrix, index);\n\n    },\n    applyProjection: function(m) {\n\n        console.warn('THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.');\n        return this.applyMatrix4(m);\n\n    },\n    fromAttribute: function(attribute, index, offset) {\n\n        console.warn('THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().');\n        return this.fromBufferAttribute(attribute, index, offset);\n\n    },\n    distanceToManhattan: function(v) {\n\n        console.warn('THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().');\n        return this.manhattanDistanceTo(v);\n\n    },\n    lengthManhattan: function() {\n\n        console.warn('THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().');\n        return this.manhattanLength();\n\n    }\n\n});\n\nObject.assign(Vector4.prototype, {\n\n    fromAttribute: function(attribute, index, offset) {\n\n        console.warn('THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().');\n        return this.fromBufferAttribute(attribute, index, offset);\n\n    },\n    lengthManhattan: function() {\n\n        console.warn('THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().');\n        return this.manhattanLength();\n\n    }\n\n});\n\n//\n\nObject.assign(Geometry.prototype, {\n\n    computeTangents: function() {\n\n        console.error('THREE.Geometry: .computeTangents() has been removed.');\n\n    },\n    computeLineDistances: function() {\n\n        console.error('THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.');\n\n    },\n    applyMatrix: function(matrix) {\n\n        console.warn('THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4().');\n        return this.applyMatrix4(matrix);\n\n    }\n\n});\n\nObject.assign(Object3D.prototype, {\n\n    getChildByName: function(name) {\n\n        console.warn('THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().');\n        return this.getObjectByName(name);\n\n    },\n    renderDepth: function() {\n\n        console.warn('THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.');\n\n    },\n    translate: function(distance, axis) {\n\n        console.warn('THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.');\n        return this.translateOnAxis(axis, distance);\n\n    },\n    getWorldRotation: function() {\n\n        console.error('THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.');\n\n    },\n    applyMatrix: function(matrix) {\n\n        console.warn('THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4().');\n        return this.applyMatrix4(matrix);\n\n    }\n\n});\n\nObject.defineProperties(Object3D.prototype, {\n\n    eulerOrder: {\n        get: function() {\n\n            console.warn('THREE.Object3D: .eulerOrder is now .rotation.order.');\n            return this.rotation.order;\n\n        },\n        set: function(value) {\n\n            console.warn('THREE.Object3D: .eulerOrder is now .rotation.order.');\n            this.rotation.order = value;\n\n        }\n    },\n    useQuaternion: {\n        get: function() {\n\n            console.warn('THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.');\n\n        },\n        set: function() {\n\n            console.warn('THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.');\n\n        }\n    }\n\n});\n\nObject.assign(Mesh.prototype, {\n\n    setDrawMode: function() {\n\n        console.error('THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.');\n\n    },\n\n});\n\nObject.defineProperties(Mesh.prototype, {\n\n    drawMode: {\n        get: function() {\n\n            console.error('THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode.');\n            return TrianglesDrawMode;\n\n        },\n        set: function() {\n\n            console.error('THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.');\n\n        }\n    }\n\n});\n\nObject.defineProperties(LOD.prototype, {\n\n    objects: {\n        get: function() {\n\n            console.warn('THREE.LOD: .objects has been renamed to .levels.');\n            return this.levels;\n\n        }\n    }\n\n});\n\nObject.defineProperty(Skeleton.prototype, 'useVertexTexture', {\n\n    get: function() {\n\n        console.warn('THREE.Skeleton: useVertexTexture has been removed.');\n\n    },\n    set: function() {\n\n        console.warn('THREE.Skeleton: useVertexTexture has been removed.');\n\n    }\n\n});\n\nSkinnedMesh.prototype.initBones = function() {\n\n    console.error('THREE.SkinnedMesh: initBones() has been removed.');\n\n};\n\nObject.defineProperty(Curve.prototype, '__arcLengthDivisions', {\n\n    get: function() {\n\n        console.warn('THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.');\n        return this.arcLengthDivisions;\n\n    },\n    set: function(value) {\n\n        console.warn('THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.');\n        this.arcLengthDivisions = value;\n\n    }\n\n});\n\n//\n\nPerspectiveCamera.prototype.setLens = function(focalLength, filmGauge) {\n\n    console.warn(\"THREE.PerspectiveCamera.setLens is deprecated. \" +\n        \"Use .setFocalLength and .filmGauge for a photographic setup.\");\n\n    if (filmGauge !== undefined) this.filmGauge = filmGauge;\n    this.setFocalLength(focalLength);\n\n};\n\n//\n\nObject.defineProperties(Light.prototype, {\n    onlyShadow: {\n        set: function() {\n\n            console.warn('THREE.Light: .onlyShadow has been removed.');\n\n        }\n    },\n    shadowCameraFov: {\n        set: function(value) {\n\n            console.warn('THREE.Light: .shadowCameraFov is now .shadow.camera.fov.');\n            this.shadow.camera.fov = value;\n\n        }\n    },\n    shadowCameraLeft: {\n        set: function(value) {\n\n            console.warn('THREE.Light: .shadowCameraLeft is now .shadow.camera.left.');\n            this.shadow.camera.left = value;\n\n        }\n    },\n    shadowCameraRight: {\n        set: function(value) {\n\n            console.warn('THREE.Light: .shadowCameraRight is now .shadow.camera.right.');\n            this.shadow.camera.right = value;\n\n        }\n    },\n    shadowCameraTop: {\n        set: function(value) {\n\n            console.warn('THREE.Light: .shadowCameraTop is now .shadow.camera.top.');\n            this.shadow.camera.top = value;\n\n        }\n    },\n    shadowCameraBottom: {\n        set: function(value) {\n\n            console.warn('THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.');\n            this.shadow.camera.bottom = value;\n\n        }\n    },\n    shadowCameraNear: {\n        set: function(value) {\n\n            console.warn('THREE.Light: .shadowCameraNear is now .shadow.camera.near.');\n            this.shadow.camera.near = value;\n\n        }\n    },\n    shadowCameraFar: {\n        set: function(value) {\n\n            console.warn('THREE.Light: .shadowCameraFar is now .shadow.camera.far.');\n            this.shadow.camera.far = value;\n\n        }\n    },\n    shadowCameraVisible: {\n        set: function() {\n\n            console.warn('THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.');\n\n        }\n    },\n    shadowBias: {\n        set: function(value) {\n\n            console.warn('THREE.Light: .shadowBias is now .shadow.bias.');\n            this.shadow.bias = value;\n\n        }\n    },\n    shadowDarkness: {\n        set: function() {\n\n            console.warn('THREE.Light: .shadowDarkness has been removed.');\n\n        }\n    },\n    shadowMapWidth: {\n        set: function(value) {\n\n            console.warn('THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.');\n            this.shadow.mapSize.width = value;\n\n        }\n    },\n    shadowMapHeight: {\n        set: function(value) {\n\n            console.warn('THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.');\n            this.shadow.mapSize.height = value;\n\n        }\n    }\n});\n\n//\n\nObject.defineProperties(BufferAttribute.prototype, {\n\n    length: {\n        get: function() {\n\n            console.warn('THREE.BufferAttribute: .length has been deprecated. Use .count instead.');\n            return this.array.length;\n\n        }\n    },\n    dynamic: {\n        get: function() {\n\n            console.warn('THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.');\n            return this.usage === DynamicDrawUsage;\n\n        },\n        set: function( /* value */ ) {\n\n            console.warn('THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.');\n            this.setUsage(DynamicDrawUsage);\n\n        }\n    }\n\n});\n\nObject.assign(BufferAttribute.prototype, {\n    setDynamic: function(value) {\n\n        console.warn('THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead.');\n        this.setUsage(value === true ? DynamicDrawUsage : StaticDrawUsage);\n        return this;\n\n    },\n    copyIndicesArray: function( /* indices */ ) {\n\n        console.error('THREE.BufferAttribute: .copyIndicesArray() has been removed.');\n\n    },\n    setArray: function( /* array */ ) {\n\n        console.error('THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers');\n\n    }\n});\n\nObject.assign(BufferGeometry.prototype, {\n\n    addIndex: function(index) {\n\n        console.warn('THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().');\n        this.setIndex(index);\n\n    },\n    addAttribute: function(name, attribute) {\n\n        console.warn('THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute().');\n\n        if (!(attribute && attribute.isBufferAttribute) && !(attribute && attribute.isInterleavedBufferAttribute)) {\n\n            console.warn('THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).');\n\n            return this.setAttribute(name, new BufferAttribute(arguments[1], arguments[2]));\n\n        }\n\n        if (name === 'index') {\n\n            console.warn('THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.');\n            this.setIndex(attribute);\n\n            return this;\n\n        }\n\n        return this.setAttribute(name, attribute);\n\n    },\n    addDrawCall: function(start, count, indexOffset) {\n\n        if (indexOffset !== undefined) {\n\n            console.warn('THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.');\n\n        }\n\n        console.warn('THREE.BufferGeometry: .addDrawCall() is now .addGroup().');\n        this.addGroup(start, count);\n\n    },\n    clearDrawCalls: function() {\n\n        console.warn('THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().');\n        this.clearGroups();\n\n    },\n    computeTangents: function() {\n\n        console.warn('THREE.BufferGeometry: .computeTangents() has been removed.');\n\n    },\n    computeOffsets: function() {\n\n        console.warn('THREE.BufferGeometry: .computeOffsets() has been removed.');\n\n    },\n    removeAttribute: function(name) {\n\n        console.warn('THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute().');\n\n        return this.deleteAttribute(name);\n\n    },\n    applyMatrix: function(matrix) {\n\n        console.warn('THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4().');\n        return this.applyMatrix4(matrix);\n\n    }\n\n});\n\nObject.defineProperties(BufferGeometry.prototype, {\n\n    drawcalls: {\n        get: function() {\n\n            console.error('THREE.BufferGeometry: .drawcalls has been renamed to .groups.');\n            return this.groups;\n\n        }\n    },\n    offsets: {\n        get: function() {\n\n            console.warn('THREE.BufferGeometry: .offsets has been renamed to .groups.');\n            return this.groups;\n\n        }\n    }\n\n});\n\nObject.defineProperties(InstancedBufferGeometry.prototype, {\n\n    maxInstancedCount: {\n        get: function() {\n\n            console.warn('THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount.');\n            return this.instanceCount;\n\n        },\n        set: function(value) {\n\n            console.warn('THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount.');\n            this.instanceCount = value;\n\n        }\n    }\n\n});\n\nObject.defineProperties(Raycaster.prototype, {\n\n    linePrecision: {\n        get: function() {\n\n            console.warn('THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead.');\n            return this.params.Line.threshold;\n\n        },\n        set: function(value) {\n\n            console.warn('THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead.');\n            this.params.Line.threshold = value;\n\n        }\n    }\n\n});\n\nObject.defineProperties(InterleavedBuffer.prototype, {\n\n    dynamic: {\n        get: function() {\n\n            console.warn('THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead.');\n            return this.usage === DynamicDrawUsage;\n\n        },\n        set: function(value) {\n\n            console.warn('THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead.');\n            this.setUsage(value);\n\n        }\n    }\n\n});\n\nObject.assign(InterleavedBuffer.prototype, {\n    setDynamic: function(value) {\n\n        console.warn('THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead.');\n        this.setUsage(value === true ? DynamicDrawUsage : StaticDrawUsage);\n        return this;\n\n    },\n    setArray: function( /* array */ ) {\n\n        console.error('THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers');\n\n    }\n});\n\n//\n\nObject.assign(ExtrudeBufferGeometry.prototype, {\n\n    getArrays: function() {\n\n        console.error('THREE.ExtrudeBufferGeometry: .getArrays() has been removed.');\n\n    },\n\n    addShapeList: function() {\n\n        console.error('THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.');\n\n    },\n\n    addShape: function() {\n\n        console.error('THREE.ExtrudeBufferGeometry: .addShape() has been removed.');\n\n    }\n\n});\n\n//\n\nObject.assign(Scene.prototype, {\n\n    dispose: function() {\n\n        console.error('THREE.Scene: .dispose() has been removed.');\n\n    }\n\n});\n\n//\n\nObject.defineProperties(Uniform.prototype, {\n\n    dynamic: {\n        set: function() {\n\n            console.warn('THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.');\n\n        }\n    },\n    onUpdate: {\n        value: function() {\n\n            console.warn('THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.');\n            return this;\n\n        }\n    }\n\n});\n\n//\n\nObject.defineProperties(Material.prototype, {\n\n    wrapAround: {\n        get: function() {\n\n            console.warn('THREE.Material: .wrapAround has been removed.');\n\n        },\n        set: function() {\n\n            console.warn('THREE.Material: .wrapAround has been removed.');\n\n        }\n    },\n\n    overdraw: {\n        get: function() {\n\n            console.warn('THREE.Material: .overdraw has been removed.');\n\n        },\n        set: function() {\n\n            console.warn('THREE.Material: .overdraw has been removed.');\n\n        }\n    },\n\n    wrapRGB: {\n        get: function() {\n\n            console.warn('THREE.Material: .wrapRGB has been removed.');\n            return new Color();\n\n        }\n    },\n\n    shading: {\n        get: function() {\n\n            console.error('THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.');\n\n        },\n        set: function(value) {\n\n            console.warn('THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.');\n            this.flatShading = (value === FlatShading);\n\n        }\n    },\n\n    stencilMask: {\n        get: function() {\n\n            console.warn('THREE.' + this.type + ': .stencilMask has been removed. Use .stencilFuncMask instead.');\n            return this.stencilFuncMask;\n\n        },\n        set: function(value) {\n\n            console.warn('THREE.' + this.type + ': .stencilMask has been removed. Use .stencilFuncMask instead.');\n            this.stencilFuncMask = value;\n\n        }\n    }\n\n});\n\nObject.defineProperties(MeshPhongMaterial.prototype, {\n\n    metal: {\n        get: function() {\n\n            console.warn('THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.');\n            return false;\n\n        },\n        set: function() {\n\n            console.warn('THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead');\n\n        }\n    }\n\n});\n\nObject.defineProperties(MeshPhysicalMaterial.prototype, {\n\n    transparency: {\n        get: function() {\n\n            console.warn('THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission.');\n            return this.transmission;\n\n        },\n        set: function(value) {\n\n            console.warn('THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission.');\n            this.transmission = value;\n\n        }\n    }\n\n});\n\nObject.defineProperties(ShaderMaterial.prototype, {\n\n    derivatives: {\n        get: function() {\n\n            console.warn('THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.');\n            return this.extensions.derivatives;\n\n        },\n        set: function(value) {\n\n            console.warn('THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.');\n            this.extensions.derivatives = value;\n\n        }\n    }\n\n});\n\n//\n\nObject.assign(WebGLRenderer.prototype, {\n\n    clearTarget: function(renderTarget, color, depth, stencil) {\n\n        console.warn('THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead.');\n        this.setRenderTarget(renderTarget);\n        this.clear(color, depth, stencil);\n\n    },\n    animate: function(callback) {\n\n        console.warn('THREE.WebGLRenderer: .animate() is now .setAnimationLoop().');\n        this.setAnimationLoop(callback);\n\n    },\n    getCurrentRenderTarget: function() {\n\n        console.warn('THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().');\n        return this.getRenderTarget();\n\n    },\n    getMaxAnisotropy: function() {\n\n        console.warn('THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().');\n        return this.capabilities.getMaxAnisotropy();\n\n    },\n    getPrecision: function() {\n\n        console.warn('THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.');\n        return this.capabilities.precision;\n\n    },\n    resetGLState: function() {\n\n        console.warn('THREE.WebGLRenderer: .resetGLState() is now .state.reset().');\n        return this.state.reset();\n\n    },\n    supportsFloatTextures: function() {\n\n        console.warn('THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( \\'OES_texture_float\\' ).');\n        return this.extensions.get('OES_texture_float');\n\n    },\n    supportsHalfFloatTextures: function() {\n\n        console.warn('THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( \\'OES_texture_half_float\\' ).');\n        return this.extensions.get('OES_texture_half_float');\n\n    },\n    supportsStandardDerivatives: function() {\n\n        console.warn('THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( \\'OES_standard_derivatives\\' ).');\n        return this.extensions.get('OES_standard_derivatives');\n\n    },\n    supportsCompressedTextureS3TC: function() {\n\n        console.warn('THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( \\'WEBGL_compressed_texture_s3tc\\' ).');\n        return this.extensions.get('WEBGL_compressed_texture_s3tc');\n\n    },\n    supportsCompressedTexturePVRTC: function() {\n\n        console.warn('THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( \\'WEBGL_compressed_texture_pvrtc\\' ).');\n        return this.extensions.get('WEBGL_compressed_texture_pvrtc');\n\n    },\n    supportsBlendMinMax: function() {\n\n        console.warn('THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( \\'EXT_blend_minmax\\' ).');\n        return this.extensions.get('EXT_blend_minmax');\n\n    },\n    supportsVertexTextures: function() {\n\n        console.warn('THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.');\n        return this.capabilities.vertexTextures;\n\n    },\n    supportsInstancedArrays: function() {\n\n        console.warn('THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( \\'ANGLE_instanced_arrays\\' ).');\n        return this.extensions.get('ANGLE_instanced_arrays');\n\n    },\n    enableScissorTest: function(boolean) {\n\n        console.warn('THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().');\n        this.setScissorTest(boolean);\n\n    },\n    initMaterial: function() {\n\n        console.warn('THREE.WebGLRenderer: .initMaterial() has been removed.');\n\n    },\n    addPrePlugin: function() {\n\n        console.warn('THREE.WebGLRenderer: .addPrePlugin() has been removed.');\n\n    },\n    addPostPlugin: function() {\n\n        console.warn('THREE.WebGLRenderer: .addPostPlugin() has been removed.');\n\n    },\n    updateShadowMap: function() {\n\n        console.warn('THREE.WebGLRenderer: .updateShadowMap() has been removed.');\n\n    },\n    setFaceCulling: function() {\n\n        console.warn('THREE.WebGLRenderer: .setFaceCulling() has been removed.');\n\n    },\n    allocTextureUnit: function() {\n\n        console.warn('THREE.WebGLRenderer: .allocTextureUnit() has been removed.');\n\n    },\n    setTexture: function() {\n\n        console.warn('THREE.WebGLRenderer: .setTexture() has been removed.');\n\n    },\n    setTexture2D: function() {\n\n        console.warn('THREE.WebGLRenderer: .setTexture2D() has been removed.');\n\n    },\n    setTextureCube: function() {\n\n        console.warn('THREE.WebGLRenderer: .setTextureCube() has been removed.');\n\n    },\n    getActiveMipMapLevel: function() {\n\n        console.warn('THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel().');\n        return this.getActiveMipmapLevel();\n\n    }\n\n});\n\nObject.defineProperties(WebGLRenderer.prototype, {\n\n    shadowMapEnabled: {\n        get: function() {\n\n            return this.shadowMap.enabled;\n\n        },\n        set: function(value) {\n\n            console.warn('THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.');\n            this.shadowMap.enabled = value;\n\n        }\n    },\n    shadowMapType: {\n        get: function() {\n\n            return this.shadowMap.type;\n\n        },\n        set: function(value) {\n\n            console.warn('THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.');\n            this.shadowMap.type = value;\n\n        }\n    },\n    shadowMapCullFace: {\n        get: function() {\n\n            console.warn('THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.');\n            return undefined;\n\n        },\n        set: function( /* value */ ) {\n\n            console.warn('THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.');\n\n        }\n    },\n    context: {\n        get: function() {\n\n            console.warn('THREE.WebGLRenderer: .context has been removed. Use .getContext() instead.');\n            return this.getContext();\n\n        }\n    },\n    vr: {\n        get: function() {\n\n            console.warn('THREE.WebGLRenderer: .vr has been renamed to .xr');\n            return this.xr;\n\n        }\n    },\n    gammaInput: {\n        get: function() {\n\n            console.warn('THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.');\n            return false;\n\n        },\n        set: function() {\n\n            console.warn('THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.');\n\n        }\n    },\n    gammaOutput: {\n        get: function() {\n\n            console.warn('THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.');\n            return false;\n\n        },\n        set: function(value) {\n\n            console.warn('THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.');\n            this.outputEncoding = (value === true) ? sRGBEncoding : LinearEncoding;\n\n        }\n    },\n    toneMappingWhitePoint: {\n        get: function() {\n\n            console.warn('THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.');\n            return 1.0;\n\n        },\n        set: function() {\n\n            console.warn('THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.');\n\n        }\n    },\n\n});\n\nObject.defineProperties(WebGLShadowMap.prototype, {\n\n    cullFace: {\n        get: function() {\n\n            console.warn('THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.');\n            return undefined;\n\n        },\n        set: function( /* cullFace */ ) {\n\n            console.warn('THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.');\n\n        }\n    },\n    renderReverseSided: {\n        get: function() {\n\n            console.warn('THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.');\n            return undefined;\n\n        },\n        set: function() {\n\n            console.warn('THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.');\n\n        }\n    },\n    renderSingleSided: {\n        get: function() {\n\n            console.warn('THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.');\n            return undefined;\n\n        },\n        set: function() {\n\n            console.warn('THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.');\n\n        }\n    }\n\n});\n\nfunction WebGLRenderTargetCube(width, height, options) {\n\n    console.warn('THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options ).');\n    return new WebGLCubeRenderTarget(width, options);\n\n}\n\n//\n\nObject.defineProperties(WebGLRenderTarget.prototype, {\n\n    wrapS: {\n        get: function() {\n\n            console.warn('THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.');\n            return this.texture.wrapS;\n\n        },\n        set: function(value) {\n\n            console.warn('THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.');\n            this.texture.wrapS = value;\n\n        }\n    },\n    wrapT: {\n        get: function() {\n\n            console.warn('THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.');\n            return this.texture.wrapT;\n\n        },\n        set: function(value) {\n\n            console.warn('THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.');\n            this.texture.wrapT = value;\n\n        }\n    },\n    magFilter: {\n        get: function() {\n\n            console.warn('THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.');\n            return this.texture.magFilter;\n\n        },\n        set: function(value) {\n\n            console.warn('THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.');\n            this.texture.magFilter = value;\n\n        }\n    },\n    minFilter: {\n        get: function() {\n\n            console.warn('THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.');\n            return this.texture.minFilter;\n\n        },\n        set: function(value) {\n\n            console.warn('THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.');\n            this.texture.minFilter = value;\n\n        }\n    },\n    anisotropy: {\n        get: function() {\n\n            console.warn('THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.');\n            return this.texture.anisotropy;\n\n        },\n        set: function(value) {\n\n            console.warn('THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.');\n            this.texture.anisotropy = value;\n\n        }\n    },\n    offset: {\n        get: function() {\n\n            console.warn('THREE.WebGLRenderTarget: .offset is now .texture.offset.');\n            return this.texture.offset;\n\n        },\n        set: function(value) {\n\n            console.warn('THREE.WebGLRenderTarget: .offset is now .texture.offset.');\n            this.texture.offset = value;\n\n        }\n    },\n    repeat: {\n        get: function() {\n\n            console.warn('THREE.WebGLRenderTarget: .repeat is now .texture.repeat.');\n            return this.texture.repeat;\n\n        },\n        set: function(value) {\n\n            console.warn('THREE.WebGLRenderTarget: .repeat is now .texture.repeat.');\n            this.texture.repeat = value;\n\n        }\n    },\n    format: {\n        get: function() {\n\n            console.warn('THREE.WebGLRenderTarget: .format is now .texture.format.');\n            return this.texture.format;\n\n        },\n        set: function(value) {\n\n            console.warn('THREE.WebGLRenderTarget: .format is now .texture.format.');\n            this.texture.format = value;\n\n        }\n    },\n    type: {\n        get: function() {\n\n            console.warn('THREE.WebGLRenderTarget: .type is now .texture.type.');\n            return this.texture.type;\n\n        },\n        set: function(value) {\n\n            console.warn('THREE.WebGLRenderTarget: .type is now .texture.type.');\n            this.texture.type = value;\n\n        }\n    },\n    generateMipmaps: {\n        get: function() {\n\n            console.warn('THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.');\n            return this.texture.generateMipmaps;\n\n        },\n        set: function(value) {\n\n            console.warn('THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.');\n            this.texture.generateMipmaps = value;\n\n        }\n    }\n\n});\n\n//\n\nObject.defineProperties(Audio.prototype, {\n\n    load: {\n        value: function(file) {\n\n            console.warn('THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.');\n            const scope = this;\n            const audioLoader = new AudioLoader();\n            audioLoader.load(file, function(buffer) {\n\n                scope.setBuffer(buffer);\n\n            });\n            return this;\n\n        }\n    },\n    startTime: {\n        set: function() {\n\n            console.warn('THREE.Audio: .startTime is now .play( delay ).');\n\n        }\n    }\n\n});\n\nAudioAnalyser.prototype.getData = function() {\n\n    console.warn('THREE.AudioAnalyser: .getData() is now .getFrequencyData().');\n    return this.getFrequencyData();\n\n};\n\n//\n\nCubeCamera.prototype.updateCubeMap = function(renderer, scene) {\n\n    console.warn('THREE.CubeCamera: .updateCubeMap() is now .update().');\n    return this.update(renderer, scene);\n\n};\n\nCubeCamera.prototype.clear = function(renderer, color, depth, stencil) {\n\n    console.warn('THREE.CubeCamera: .clear() is now .renderTarget.clear().');\n    return this.renderTarget.clear(renderer, color, depth, stencil);\n\n};\n\n//\n\nconst GeometryUtils = {\n\n    merge: function(geometry1, geometry2, materialIndexOffset) {\n\n        console.warn('THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.');\n        let matrix;\n\n        if (geometry2.isMesh) {\n\n            geometry2.matrixAutoUpdate && geometry2.updateMatrix();\n\n            matrix = geometry2.matrix;\n            geometry2 = geometry2.geometry;\n\n        }\n\n        geometry1.merge(geometry2, matrix, materialIndexOffset);\n\n    },\n\n    center: function(geometry) {\n\n        console.warn('THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.');\n        return geometry.center();\n\n    }\n\n};\n\nImageUtils.crossOrigin = undefined;\n\nImageUtils.loadTexture = function(url, mapping, onLoad, onError) {\n\n    console.warn('THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.');\n\n    const loader = new TextureLoader();\n    loader.setCrossOrigin(this.crossOrigin);\n\n    const texture = loader.load(url, onLoad, undefined, onError);\n\n    if (mapping) texture.mapping = mapping;\n\n    return texture;\n\n};\n\nImageUtils.loadTextureCube = function(urls, mapping, onLoad, onError) {\n\n    console.warn('THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.');\n\n    const loader = new CubeTextureLoader();\n    loader.setCrossOrigin(this.crossOrigin);\n\n    const texture = loader.load(urls, onLoad, undefined, onError);\n\n    if (mapping) texture.mapping = mapping;\n\n    return texture;\n\n};\n\nImageUtils.loadCompressedTexture = function() {\n\n    console.error('THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.');\n\n};\n\nImageUtils.loadCompressedTextureCube = function() {\n\n    console.error('THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.');\n\n};\n\n//\n\nfunction CanvasRenderer() {\n\n    console.error('THREE.CanvasRenderer has been removed');\n\n}\n\n//\n\nfunction JSONLoader() {\n\n    console.error('THREE.JSONLoader has been removed.');\n\n}\n\n//\n\nconst SceneUtils = {\n\n    createMultiMaterialObject: function( /* geometry, materials */ ) {\n\n        console.error('THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js');\n\n    },\n\n    detach: function( /* child, parent, scene */ ) {\n\n        console.error('THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js');\n\n    },\n\n    attach: function( /* child, scene, parent */ ) {\n\n        console.error('THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js');\n\n    }\n\n};\n\n//\n\nfunction LensFlare() {\n\n    console.error('THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js');\n\n}\n\nif (typeof __THREE_DEVTOOLS__ !== 'undefined') {\n\n    /* eslint-disable no-undef */\n    __THREE_DEVTOOLS__.dispatchEvent(new CustomEvent('register', {\n        detail: {\n            revision: REVISION,\n        }\n    }));\n    /* eslint-enable no-undef */\n\n}\n\nexport {\n    ACESFilmicToneMapping,\n    AddEquation,\n    AddOperation,\n    AdditiveAnimationBlendMode,\n    AdditiveBlending,\n    AlphaFormat,\n    AlwaysDepth,\n    AlwaysStencilFunc,\n    AmbientLight,\n    AmbientLightProbe,\n    AnimationClip,\n    AnimationLoader,\n    AnimationMixer,\n    AnimationObjectGroup,\n    AnimationUtils,\n    ArcCurve,\n    ArrayCamera,\n    ArrowHelper,\n    Audio,\n    AudioAnalyser,\n    AudioContext,\n    AudioListener,\n    AudioLoader,\n    AxesHelper,\n    AxisHelper,\n    BackSide,\n    BasicDepthPacking,\n    BasicShadowMap,\n    BinaryTextureLoader,\n    Bone,\n    BooleanKeyframeTrack,\n    BoundingBoxHelper,\n    Box2,\n    Box3,\n    Box3Helper,\n    BoxBufferGeometry,\n    BoxGeometry,\n    BoxHelper,\n    BufferAttribute,\n    BufferGeometry,\n    BufferGeometryLoader,\n    ByteType,\n    Cache,\n    Camera,\n    CameraHelper,\n    CanvasRenderer,\n    CanvasTexture,\n    CatmullRomCurve3,\n    CineonToneMapping,\n    CircleBufferGeometry,\n    CircleGeometry,\n    ClampToEdgeWrapping,\n    Clock,\n    ClosedSplineCurve3,\n    Color,\n    ColorKeyframeTrack,\n    CompressedTexture,\n    CompressedTextureLoader,\n    ConeBufferGeometry,\n    ConeGeometry,\n    CubeCamera,\n    BoxGeometry as CubeGeometry,\n    CubeReflectionMapping,\n    CubeRefractionMapping,\n    CubeTexture,\n    CubeTextureLoader,\n    CubeUVReflectionMapping,\n    CubeUVRefractionMapping,\n    CubicBezierCurve,\n    CubicBezierCurve3,\n    CubicInterpolant,\n    CullFaceBack,\n    CullFaceFront,\n    CullFaceFrontBack,\n    CullFaceNone,\n    Curve,\n    CurvePath,\n    CustomBlending,\n    CustomToneMapping,\n    CylinderBufferGeometry,\n    CylinderGeometry,\n    Cylindrical,\n    DataTexture,\n    DataTexture2DArray,\n    DataTexture3D,\n    DataTextureLoader,\n    DecrementStencilOp,\n    DecrementWrapStencilOp,\n    DefaultLoadingManager,\n    DepthFormat,\n    DepthStencilFormat,\n    DepthTexture,\n    DirectionalLight,\n    DirectionalLightHelper,\n    DiscreteInterpolant,\n    DodecahedronBufferGeometry,\n    DodecahedronGeometry,\n    DoubleSide,\n    DstAlphaFactor,\n    DstColorFactor,\n    DynamicBufferAttribute,\n    DynamicCopyUsage,\n    DynamicDrawUsage,\n    DynamicReadUsage,\n    EdgesGeometry,\n    EdgesHelper,\n    EllipseCurve,\n    EqualDepth,\n    EqualStencilFunc,\n    EquirectangularReflectionMapping,\n    EquirectangularRefractionMapping,\n    Euler,\n    EventDispatcher,\n    ExtrudeBufferGeometry,\n    ExtrudeGeometry,\n    Face3,\n    Face4,\n    FaceColors,\n    FileLoader,\n    FlatShading,\n    Float32Attribute,\n    Float32BufferAttribute,\n    Float64Attribute,\n    Float64BufferAttribute,\n    FloatType,\n    Fog,\n    FogExp2,\n    Font,\n    FontLoader,\n    FrontSide,\n    Frustum,\n    GLBufferAttribute,\n    GLSL1,\n    GLSL3,\n    GammaEncoding,\n    Geometry,\n    GeometryUtils,\n    GreaterDepth,\n    GreaterEqualDepth,\n    GreaterEqualStencilFunc,\n    GreaterStencilFunc,\n    GridHelper,\n    Group,\n    HalfFloatType,\n    HemisphereLight,\n    HemisphereLightHelper,\n    HemisphereLightProbe,\n    IcosahedronBufferGeometry,\n    IcosahedronGeometry,\n    ImageBitmapLoader,\n    ImageLoader,\n    ImageUtils,\n    ImmediateRenderObject,\n    IncrementStencilOp,\n    IncrementWrapStencilOp,\n    InstancedBufferAttribute,\n    InstancedBufferGeometry,\n    InstancedInterleavedBuffer,\n    InstancedMesh,\n    Int16Attribute,\n    Int16BufferAttribute,\n    Int32Attribute,\n    Int32BufferAttribute,\n    Int8Attribute,\n    Int8BufferAttribute,\n    IntType,\n    InterleavedBuffer,\n    InterleavedBufferAttribute,\n    Interpolant,\n    InterpolateDiscrete,\n    InterpolateLinear,\n    InterpolateSmooth,\n    InvertStencilOp,\n    JSONLoader,\n    KeepStencilOp,\n    KeyframeTrack,\n    LOD,\n    LatheBufferGeometry,\n    LatheGeometry,\n    Layers,\n    LensFlare,\n    LessDepth,\n    LessEqualDepth,\n    LessEqualStencilFunc,\n    LessStencilFunc,\n    Light,\n    LightProbe,\n    Line,\n    Line3,\n    LineBasicMaterial,\n    LineCurve,\n    LineCurve3,\n    LineDashedMaterial,\n    LineLoop,\n    LinePieces,\n    LineSegments,\n    LineStrip,\n    LinearEncoding,\n    LinearFilter,\n    LinearInterpolant,\n    LinearMipMapLinearFilter,\n    LinearMipMapNearestFilter,\n    LinearMipmapLinearFilter,\n    LinearMipmapNearestFilter,\n    LinearToneMapping,\n    Loader,\n    LoaderUtils,\n    LoadingManager,\n    LogLuvEncoding,\n    LoopOnce,\n    LoopPingPong,\n    LoopRepeat,\n    LuminanceAlphaFormat,\n    LuminanceFormat,\n    MOUSE,\n    Material,\n    MaterialLoader,\n    MathUtils as Math,\n    MathUtils,\n    Matrix3,\n    Matrix4,\n    MaxEquation,\n    Mesh,\n    MeshBasicMaterial,\n    MeshDepthMaterial,\n    MeshDistanceMaterial,\n    MeshFaceMaterial,\n    MeshLambertMaterial,\n    MeshMatcapMaterial,\n    MeshNormalMaterial,\n    MeshPhongMaterial,\n    MeshPhysicalMaterial,\n    MeshStandardMaterial,\n    MeshToonMaterial,\n    MinEquation,\n    MirroredRepeatWrapping,\n    MixOperation,\n    MultiMaterial,\n    MultiplyBlending,\n    MultiplyOperation,\n    NearestFilter,\n    NearestMipMapLinearFilter,\n    NearestMipMapNearestFilter,\n    NearestMipmapLinearFilter,\n    NearestMipmapNearestFilter,\n    NeverDepth,\n    NeverStencilFunc,\n    NoBlending,\n    NoColors,\n    NoToneMapping,\n    NormalAnimationBlendMode,\n    NormalBlending,\n    NotEqualDepth,\n    NotEqualStencilFunc,\n    NumberKeyframeTrack,\n    Object3D,\n    ObjectLoader,\n    ObjectSpaceNormalMap,\n    OctahedronBufferGeometry,\n    OctahedronGeometry,\n    OneFactor,\n    OneMinusDstAlphaFactor,\n    OneMinusDstColorFactor,\n    OneMinusSrcAlphaFactor,\n    OneMinusSrcColorFactor,\n    OrthographicCamera,\n    PCFShadowMap,\n    PCFSoftShadowMap,\n    PMREMGenerator,\n    ParametricBufferGeometry,\n    ParametricGeometry,\n    Particle,\n    ParticleBasicMaterial,\n    ParticleSystem,\n    ParticleSystemMaterial,\n    Path,\n    PerspectiveCamera,\n    Plane,\n    PlaneBufferGeometry,\n    PlaneGeometry,\n    PlaneHelper,\n    PointCloud,\n    PointCloudMaterial,\n    PointLight,\n    PointLightHelper,\n    Points,\n    PointsMaterial,\n    PolarGridHelper,\n    PolyhedronBufferGeometry,\n    PolyhedronGeometry,\n    PositionalAudio,\n    PropertyBinding,\n    PropertyMixer,\n    QuadraticBezierCurve,\n    QuadraticBezierCurve3,\n    Quaternion,\n    QuaternionKeyframeTrack,\n    QuaternionLinearInterpolant,\n    REVISION,\n    RGBADepthPacking,\n    RGBAFormat,\n    RGBAIntegerFormat,\n    RGBA_ASTC_10x10_Format,\n    RGBA_ASTC_10x5_Format,\n    RGBA_ASTC_10x6_Format,\n    RGBA_ASTC_10x8_Format,\n    RGBA_ASTC_12x10_Format,\n    RGBA_ASTC_12x12_Format,\n    RGBA_ASTC_4x4_Format,\n    RGBA_ASTC_5x4_Format,\n    RGBA_ASTC_5x5_Format,\n    RGBA_ASTC_6x5_Format,\n    RGBA_ASTC_6x6_Format,\n    RGBA_ASTC_8x5_Format,\n    RGBA_ASTC_8x6_Format,\n    RGBA_ASTC_8x8_Format,\n    RGBA_BPTC_Format,\n    RGBA_ETC2_EAC_Format,\n    RGBA_PVRTC_2BPPV1_Format,\n    RGBA_PVRTC_4BPPV1_Format,\n    RGBA_S3TC_DXT1_Format,\n    RGBA_S3TC_DXT3_Format,\n    RGBA_S3TC_DXT5_Format,\n    RGBDEncoding,\n    RGBEEncoding,\n    RGBEFormat,\n    RGBFormat,\n    RGBIntegerFormat,\n    RGBM16Encoding,\n    RGBM7Encoding,\n    RGB_ETC1_Format,\n    RGB_ETC2_Format,\n    RGB_PVRTC_2BPPV1_Format,\n    RGB_PVRTC_4BPPV1_Format,\n    RGB_S3TC_DXT1_Format,\n    RGFormat,\n    RGIntegerFormat,\n    RawShaderMaterial,\n    Ray,\n    Raycaster,\n    RectAreaLight,\n    RedFormat,\n    RedIntegerFormat,\n    ReinhardToneMapping,\n    RepeatWrapping,\n    ReplaceStencilOp,\n    ReverseSubtractEquation,\n    RingBufferGeometry,\n    RingGeometry,\n    SRGB8_ALPHA8_ASTC_10x10_Format,\n    SRGB8_ALPHA8_ASTC_10x5_Format,\n    SRGB8_ALPHA8_ASTC_10x6_Format,\n    SRGB8_ALPHA8_ASTC_10x8_Format,\n    SRGB8_ALPHA8_ASTC_12x10_Format,\n    SRGB8_ALPHA8_ASTC_12x12_Format,\n    SRGB8_ALPHA8_ASTC_4x4_Format,\n    SRGB8_ALPHA8_ASTC_5x4_Format,\n    SRGB8_ALPHA8_ASTC_5x5_Format,\n    SRGB8_ALPHA8_ASTC_6x5_Format,\n    SRGB8_ALPHA8_ASTC_6x6_Format,\n    SRGB8_ALPHA8_ASTC_8x5_Format,\n    SRGB8_ALPHA8_ASTC_8x6_Format,\n    SRGB8_ALPHA8_ASTC_8x8_Format,\n    Scene,\n    SceneUtils,\n    ShaderChunk,\n    ShaderLib,\n    ShaderMaterial,\n    ShadowMaterial,\n    Shape,\n    ShapeBufferGeometry,\n    ShapeGeometry,\n    ShapePath,\n    ShapeUtils,\n    ShortType,\n    Skeleton,\n    SkeletonHelper,\n    SkinnedMesh,\n    SmoothShading,\n    Sphere,\n    SphereBufferGeometry,\n    SphereGeometry,\n    Spherical,\n    SphericalHarmonics3,\n    Spline,\n    SplineCurve,\n    SplineCurve3,\n    SpotLight,\n    SpotLightHelper,\n    Sprite,\n    SpriteMaterial,\n    SrcAlphaFactor,\n    SrcAlphaSaturateFactor,\n    SrcColorFactor,\n    StaticCopyUsage,\n    StaticDrawUsage,\n    StaticReadUsage,\n    StereoCamera,\n    StreamCopyUsage,\n    StreamDrawUsage,\n    StreamReadUsage,\n    StringKeyframeTrack,\n    SubtractEquation,\n    SubtractiveBlending,\n    TOUCH,\n    TangentSpaceNormalMap,\n    TetrahedronBufferGeometry,\n    TetrahedronGeometry,\n    TextBufferGeometry,\n    TextGeometry,\n    Texture,\n    TextureLoader,\n    TorusBufferGeometry,\n    TorusGeometry,\n    TorusKnotBufferGeometry,\n    TorusKnotGeometry,\n    Triangle,\n    TriangleFanDrawMode,\n    TriangleStripDrawMode,\n    TrianglesDrawMode,\n    TubeBufferGeometry,\n    TubeGeometry,\n    UVMapping,\n    Uint16Attribute,\n    Uint16BufferAttribute,\n    Uint32Attribute,\n    Uint32BufferAttribute,\n    Uint8Attribute,\n    Uint8BufferAttribute,\n    Uint8ClampedAttribute,\n    Uint8ClampedBufferAttribute,\n    Uniform,\n    UniformsLib,\n    UniformsUtils,\n    UnsignedByteType,\n    UnsignedInt248Type,\n    UnsignedIntType,\n    UnsignedShort4444Type,\n    UnsignedShort5551Type,\n    UnsignedShort565Type,\n    UnsignedShortType,\n    VSMShadowMap,\n    Vector2,\n    Vector3,\n    Vector4,\n    VectorKeyframeTrack,\n    Vertex,\n    VertexColors,\n    VideoTexture,\n    WebGL1Renderer,\n    WebGLCubeRenderTarget,\n    WebGLMultisampleRenderTarget,\n    WebGLRenderTarget,\n    WebGLRenderTargetCube,\n    WebGLRenderer,\n    WebGLUtils,\n    WireframeGeometry,\n    WireframeHelper,\n    WrapAroundEnding,\n    XHRLoader,\n    ZeroCurvatureEnding,\n    ZeroFactor,\n    ZeroSlopeEnding,\n    ZeroStencilOp,\n    sRGBEncoding\n};","import {\n\tAnimationClip,\n\tBone,\n\tBox3,\n\tBufferAttribute,\n\tBufferGeometry,\n\tClampToEdgeWrapping,\n\tColor,\n\tDirectionalLight,\n\tDoubleSide,\n\tFileLoader,\n\tFrontSide,\n\tGroup,\n\tImageBitmapLoader,\n\tInterleavedBuffer,\n\tInterleavedBufferAttribute,\n\tInterpolant,\n\tInterpolateDiscrete,\n\tInterpolateLinear,\n\tLine,\n\tLineBasicMaterial,\n\tLineLoop,\n\tLineSegments,\n\tLinearFilter,\n\tLinearMipmapLinearFilter,\n\tLinearMipmapNearestFilter,\n\tLoader,\n\tLoaderUtils,\n\tMaterial,\n\tMathUtils,\n\tMatrix4,\n\tMesh,\n\tMeshBasicMaterial,\n\tMeshPhysicalMaterial,\n\tMeshStandardMaterial,\n\tMirroredRepeatWrapping,\n\tNearestFilter,\n\tNearestMipmapLinearFilter,\n\tNearestMipmapNearestFilter,\n\tNumberKeyframeTrack,\n\tObject3D,\n\tOrthographicCamera,\n\tPerspectiveCamera,\n\tPointLight,\n\tPoints,\n\tPointsMaterial,\n\tPropertyBinding,\n\tQuaternionKeyframeTrack,\n\tRGBFormat,\n\tRepeatWrapping,\n\tSkeleton,\n\tSkinnedMesh,\n\tSphere,\n\tSpotLight,\n\tTangentSpaceNormalMap,\n\tTexture,\n\tTextureLoader,\n\tTriangleFanDrawMode,\n\tTriangleStripDrawMode,\n\tVector2,\n\tVector3,\n\tVectorKeyframeTrack,\n\tsRGBEncoding\n} from 'three';\n\nclass GLTFLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t\tthis.dracoLoader = null;\n\t\tthis.ktx2Loader = null;\n\t\tthis.meshoptDecoder = null;\n\n\t\tthis.pluginCallbacks = [];\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsClearcoatExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFTextureBasisUExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFTextureWebPExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsTransmissionExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFLightsExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMeshoptCompression( parser );\n\n\t\t} );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tlet resourcePath;\n\n\t\tif ( this.resourcePath !== '' ) {\n\n\t\t\tresourcePath = this.resourcePath;\n\n\t\t} else if ( this.path !== '' ) {\n\n\t\t\tresourcePath = this.path;\n\n\t\t} else {\n\n\t\t\tresourcePath = LoaderUtils.extractUrlBase( url );\n\n\t\t}\n\n\t\t// Tells the LoadingManager to track an extra item, which resolves after\n\t\t// the model is fully loaded. This means the count of items loaded will\n\t\t// be incorrect, but ensures manager.onLoad() does not fire early.\n\t\tthis.manager.itemStart( url );\n\n\t\tconst _onError = function ( e ) {\n\n\t\t\tif ( onError ) {\n\n\t\t\t\tonError( e );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.error( e );\n\n\t\t\t}\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t};\n\n\t\tconst loader = new FileLoader( this.manager );\n\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\n\t\tloader.load( url, function ( data ) {\n\n\t\t\ttry {\n\n\t\t\t\tscope.parse( data, resourcePath, function ( gltf ) {\n\n\t\t\t\t\tonLoad( gltf );\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, _onError );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\t_onError( e );\n\n\t\t\t}\n\n\t\t}, onProgress, _onError );\n\n\t}\n\n\tsetDRACOLoader( dracoLoader ) {\n\n\t\tthis.dracoLoader = dracoLoader;\n\t\treturn this;\n\n\t}\n\n\tsetDDSLoader() {\n\n\t\tthrow new Error(\n\n\t\t\t'THREE.GLTFLoader: \"MSFT_texture_dds\" no longer supported. Please update to \"KHR_texture_basisu\".'\n\n\t\t);\n\n\t}\n\n\tsetKTX2Loader( ktx2Loader ) {\n\n\t\tthis.ktx2Loader = ktx2Loader;\n\t\treturn this;\n\n\t}\n\n\tsetMeshoptDecoder( meshoptDecoder ) {\n\n\t\tthis.meshoptDecoder = meshoptDecoder;\n\t\treturn this;\n\n\t}\n\n\tregister( callback ) {\n\n\t\tif ( this.pluginCallbacks.indexOf( callback ) === - 1 ) {\n\n\t\t\tthis.pluginCallbacks.push( callback );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tunregister( callback ) {\n\n\t\tif ( this.pluginCallbacks.indexOf( callback ) !== - 1 ) {\n\n\t\t\tthis.pluginCallbacks.splice( this.pluginCallbacks.indexOf( callback ), 1 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tparse( data, path, onLoad, onError ) {\n\n\t\tlet content;\n\t\tconst extensions = {};\n\t\tconst plugins = {};\n\n\t\tif ( typeof data === 'string' ) {\n\n\t\t\tcontent = data;\n\n\t\t} else {\n\n\t\t\tconst magic = LoaderUtils.decodeText( new Uint8Array( data, 0, 4 ) );\n\n\t\t\tif ( magic === BINARY_EXTENSION_HEADER_MAGIC ) {\n\n\t\t\t\ttry {\n\n\t\t\t\t\textensions[ EXTENSIONS.KHR_BINARY_GLTF ] = new GLTFBinaryExtension( data );\n\n\t\t\t\t} catch ( error ) {\n\n\t\t\t\t\tif ( onError ) onError( error );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tcontent = extensions[ EXTENSIONS.KHR_BINARY_GLTF ].content;\n\n\t\t\t} else {\n\n\t\t\t\tcontent = LoaderUtils.decodeText( new Uint8Array( data ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst json = JSON.parse( content );\n\n\t\tif ( json.asset === undefined || json.asset.version[ 0 ] < 2 ) {\n\n\t\t\tif ( onError ) onError( new Error( 'THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.' ) );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst parser = new GLTFParser( json, {\n\n\t\t\tpath: path || this.resourcePath || '',\n\t\t\tcrossOrigin: this.crossOrigin,\n\t\t\trequestHeader: this.requestHeader,\n\t\t\tmanager: this.manager,\n\t\t\tktx2Loader: this.ktx2Loader,\n\t\t\tmeshoptDecoder: this.meshoptDecoder\n\n\t\t} );\n\n\t\tparser.fileLoader.setRequestHeader( this.requestHeader );\n\n\t\tfor ( let i = 0; i < this.pluginCallbacks.length; i ++ ) {\n\n\t\t\tconst plugin = this.pluginCallbacks[ i ]( parser );\n\t\t\tplugins[ plugin.name ] = plugin;\n\n\t\t\t// Workaround to avoid determining as unknown extension\n\t\t\t// in addUnknownExtensionsToUserData().\n\t\t\t// Remove this workaround if we move all the existing\n\t\t\t// extension handlers to plugin system\n\t\t\textensions[ plugin.name ] = true;\n\n\t\t}\n\n\t\tif ( json.extensionsUsed ) {\n\n\t\t\tfor ( let i = 0; i < json.extensionsUsed.length; ++ i ) {\n\n\t\t\t\tconst extensionName = json.extensionsUsed[ i ];\n\t\t\t\tconst extensionsRequired = json.extensionsRequired || [];\n\n\t\t\t\tswitch ( extensionName ) {\n\n\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_UNLIT:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFMaterialsUnlitExtension();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFMaterialsPbrSpecularGlossinessExtension();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFDracoMeshCompressionExtension( json, this.dracoLoader );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EXTENSIONS.KHR_TEXTURE_TRANSFORM:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFTextureTransformExtension();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase EXTENSIONS.KHR_MESH_QUANTIZATION:\n\t\t\t\t\t\textensions[ extensionName ] = new GLTFMeshQuantizationExtension();\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tif ( extensionsRequired.indexOf( extensionName ) >= 0 && plugins[ extensionName ] === undefined ) {\n\n\t\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Unknown extension \"' + extensionName + '\".' );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tparser.setExtensions( extensions );\n\t\tparser.setPlugins( plugins );\n\t\tparser.parse( onLoad, onError );\n\n\t}\n\n}\n\n/* GLTFREGISTRY */\n\nfunction GLTFRegistry() {\n\n\tlet objects = {};\n\n\treturn\t{\n\n\t\tget: function ( key ) {\n\n\t\t\treturn objects[ key ];\n\n\t\t},\n\n\t\tadd: function ( key, object ) {\n\n\t\t\tobjects[ key ] = object;\n\n\t\t},\n\n\t\tremove: function ( key ) {\n\n\t\t\tdelete objects[ key ];\n\n\t\t},\n\n\t\tremoveAll: function () {\n\n\t\t\tobjects = {};\n\n\t\t}\n\n\t};\n\n}\n\n/*********************************/\n/********** EXTENSIONS ***********/\n/*********************************/\n\nconst EXTENSIONS = {\n\tKHR_BINARY_GLTF: 'KHR_binary_glTF',\n\tKHR_DRACO_MESH_COMPRESSION: 'KHR_draco_mesh_compression',\n\tKHR_LIGHTS_PUNCTUAL: 'KHR_lights_punctual',\n\tKHR_MATERIALS_CLEARCOAT: 'KHR_materials_clearcoat',\n\tKHR_MATERIALS_PBR_SPECULAR_GLOSSINESS: 'KHR_materials_pbrSpecularGlossiness',\n\tKHR_MATERIALS_TRANSMISSION: 'KHR_materials_transmission',\n\tKHR_MATERIALS_UNLIT: 'KHR_materials_unlit',\n\tKHR_TEXTURE_BASISU: 'KHR_texture_basisu',\n\tKHR_TEXTURE_TRANSFORM: 'KHR_texture_transform',\n\tKHR_MESH_QUANTIZATION: 'KHR_mesh_quantization',\n\tEXT_TEXTURE_WEBP: 'EXT_texture_webp',\n\tEXT_MESHOPT_COMPRESSION: 'EXT_meshopt_compression'\n};\n\n/**\n * Punctual Lights Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_lights_punctual\n */\nclass GLTFLightsExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_LIGHTS_PUNCTUAL;\n\n\t\t// Object3D instance caches\n\t\tthis.cache = { refs: {}, uses: {} };\n\n\t}\n\n\t_markDefs() {\n\n\t\tconst parser = this.parser;\n\t\tconst nodeDefs = this.parser.json.nodes || [];\n\n\t\tfor ( let nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex ++ ) {\n\n\t\t\tconst nodeDef = nodeDefs[ nodeIndex ];\n\n\t\t\tif ( nodeDef.extensions\n\t\t\t\t\t&& nodeDef.extensions[ this.name ]\n\t\t\t\t\t&& nodeDef.extensions[ this.name ].light !== undefined ) {\n\n\t\t\t\tparser._addNodeRef( this.cache, nodeDef.extensions[ this.name ].light );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_loadLight( lightIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst cacheKey = 'light:' + lightIndex;\n\t\tlet dependency = parser.cache.get( cacheKey );\n\n\t\tif ( dependency ) return dependency;\n\n\t\tconst json = parser.json;\n\t\tconst extensions = ( json.extensions && json.extensions[ this.name ] ) || {};\n\t\tconst lightDefs = extensions.lights || [];\n\t\tconst lightDef = lightDefs[ lightIndex ];\n\t\tlet lightNode;\n\n\t\tconst color = new Color( 0xffffff );\n\n\t\tif ( lightDef.color !== undefined ) color.fromArray( lightDef.color );\n\n\t\tconst range = lightDef.range !== undefined ? lightDef.range : 0;\n\n\t\tswitch ( lightDef.type ) {\n\n\t\t\tcase 'directional':\n\t\t\t\tlightNode = new DirectionalLight( color );\n\t\t\t\tlightNode.target.position.set( 0, 0, - 1 );\n\t\t\t\tlightNode.add( lightNode.target );\n\t\t\t\tbreak;\n\n\t\t\tcase 'point':\n\t\t\t\tlightNode = new PointLight( color );\n\t\t\t\tlightNode.distance = range;\n\t\t\t\tbreak;\n\n\t\t\tcase 'spot':\n\t\t\t\tlightNode = new SpotLight( color );\n\t\t\t\tlightNode.distance = range;\n\t\t\t\t// Handle spotlight properties.\n\t\t\t\tlightDef.spot = lightDef.spot || {};\n\t\t\t\tlightDef.spot.innerConeAngle = lightDef.spot.innerConeAngle !== undefined ? lightDef.spot.innerConeAngle : 0;\n\t\t\t\tlightDef.spot.outerConeAngle = lightDef.spot.outerConeAngle !== undefined ? lightDef.spot.outerConeAngle : Math.PI / 4.0;\n\t\t\t\tlightNode.angle = lightDef.spot.outerConeAngle;\n\t\t\t\tlightNode.penumbra = 1.0 - lightDef.spot.innerConeAngle / lightDef.spot.outerConeAngle;\n\t\t\t\tlightNode.target.position.set( 0, 0, - 1 );\n\t\t\t\tlightNode.add( lightNode.target );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Unexpected light type: ' + lightDef.type );\n\n\t\t}\n\n\t\t// Some lights (e.g. spot) default to a position other than the origin. Reset the position\n\t\t// here, because node-level parsing will only override position if explicitly specified.\n\t\tlightNode.position.set( 0, 0, 0 );\n\n\t\tlightNode.decay = 2;\n\n\t\tif ( lightDef.intensity !== undefined ) lightNode.intensity = lightDef.intensity;\n\n\t\tlightNode.name = parser.createUniqueName( lightDef.name || ( 'light_' + lightIndex ) );\n\n\t\tdependency = Promise.resolve( lightNode );\n\n\t\tparser.cache.add( cacheKey, dependency );\n\n\t\treturn dependency;\n\n\t}\n\n\tcreateNodeAttachment( nodeIndex ) {\n\n\t\tconst self = this;\n\t\tconst parser = this.parser;\n\t\tconst json = parser.json;\n\t\tconst nodeDef = json.nodes[ nodeIndex ];\n\t\tconst lightDef = ( nodeDef.extensions && nodeDef.extensions[ this.name ] ) || {};\n\t\tconst lightIndex = lightDef.light;\n\n\t\tif ( lightIndex === undefined ) return null;\n\n\t\treturn this._loadLight( lightIndex ).then( function ( light ) {\n\n\t\t\treturn parser._getNodeRef( self.cache, lightIndex, light );\n\n\t\t} );\n\n\t}\n\n}\n\n/**\n * Unlit Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_unlit\n */\nclass GLTFMaterialsUnlitExtension {\n\n\tconstructor() {\n\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_UNLIT;\n\n\t}\n\n\tgetMaterialType() {\n\n\t\treturn MeshBasicMaterial;\n\n\t}\n\n\textendParams( materialParams, materialDef, parser ) {\n\n\t\tconst pending = [];\n\n\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\tmaterialParams.opacity = 1.0;\n\n\t\tconst metallicRoughness = materialDef.pbrMetallicRoughness;\n\n\t\tif ( metallicRoughness ) {\n\n\t\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\n\n\t\t\t\tconst array = metallicRoughness.baseColorFactor;\n\n\t\t\t\tmaterialParams.color.fromArray( array );\n\t\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t\t}\n\n\t\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Clearcoat Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_clearcoat\n */\nclass GLTFMaterialsClearcoatExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_CLEARCOAT;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tif ( extension.clearcoatFactor !== undefined ) {\n\n\t\t\tmaterialParams.clearcoat = extension.clearcoatFactor;\n\n\t\t}\n\n\t\tif ( extension.clearcoatTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatMap', extension.clearcoatTexture ) );\n\n\t\t}\n\n\t\tif ( extension.clearcoatRoughnessFactor !== undefined ) {\n\n\t\t\tmaterialParams.clearcoatRoughness = extension.clearcoatRoughnessFactor;\n\n\t\t}\n\n\t\tif ( extension.clearcoatRoughnessTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatRoughnessMap', extension.clearcoatRoughnessTexture ) );\n\n\t\t}\n\n\t\tif ( extension.clearcoatNormalTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatNormalMap', extension.clearcoatNormalTexture ) );\n\n\t\t\tif ( extension.clearcoatNormalTexture.scale !== undefined ) {\n\n\t\t\t\tconst scale = extension.clearcoatNormalTexture.scale;\n\n\t\t\t\t// https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\n\t\t\t\tmaterialParams.clearcoatNormalScale = new Vector2( scale, - scale );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * Transmission Materials Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_transmission\n * Draft: https://github.com/KhronosGroup/glTF/pull/1698\n */\nclass GLTFMaterialsTransmissionExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_TRANSMISSION;\n\n\t}\n\n\tgetMaterialType( materialIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t}\n\n\textendMaterialParams( materialIndex, materialParams ) {\n\n\t\tconst parser = this.parser;\n\t\tconst materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tconst extension = materialDef.extensions[ this.name ];\n\n\t\tif ( extension.transmissionFactor !== undefined ) {\n\n\t\t\tmaterialParams.transmission = extension.transmissionFactor;\n\n\t\t}\n\n\t\tif ( extension.transmissionTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'transmissionMap', extension.transmissionTexture ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n}\n\n/**\n * BasisU Texture Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_basisu\n */\nclass GLTFTextureBasisUExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_TEXTURE_BASISU;\n\n\t}\n\n\tloadTexture( textureIndex ) {\n\n\t\tconst parser = this.parser;\n\t\tconst json = parser.json;\n\n\t\tconst textureDef = json.textures[ textureIndex ];\n\n\t\tif ( ! textureDef.extensions || ! textureDef.extensions[ this.name ] ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst extension = textureDef.extensions[ this.name ];\n\t\tconst source = json.images[ extension.source ];\n\t\tconst loader = parser.options.ktx2Loader;\n\n\t\tif ( ! loader ) {\n\n\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( this.name ) >= 0 ) {\n\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures' );\n\n\t\t\t} else {\n\n\t\t\t\t// Assumes that the extension is optional and that a fallback texture is present\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn parser.loadTextureImage( textureIndex, source, loader );\n\n\t}\n\n}\n\n/**\n * WebP Texture Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_texture_webp\n */\nclass GLTFTextureWebPExtension {\n\n\tconstructor( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.EXT_TEXTURE_WEBP;\n\t\tthis.isSupported = null;\n\n\t}\n\n\tloadTexture( textureIndex ) {\n\n\t\tconst name = this.name;\n\t\tconst parser = this.parser;\n\t\tconst json = parser.json;\n\n\t\tconst textureDef = json.textures[ textureIndex ];\n\n\t\tif ( ! textureDef.extensions || ! textureDef.extensions[ name ] ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst extension = textureDef.extensions[ name ];\n\t\tconst source = json.images[ extension.source ];\n\n\t\tlet loader = parser.textureLoader;\n\t\tif ( source.uri ) {\n\n\t\t\tconst handler = parser.options.manager.getHandler( source.uri );\n\t\t\tif ( handler !== null ) loader = handler;\n\n\t\t}\n\n\t\treturn this.detectSupport().then( function ( isSupported ) {\n\n\t\t\tif ( isSupported ) return parser.loadTextureImage( textureIndex, source, loader );\n\n\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( name ) >= 0 ) {\n\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: WebP required by asset but unsupported.' );\n\n\t\t\t}\n\n\t\t\t// Fall back to PNG or JPEG.\n\t\t\treturn parser.loadTexture( textureIndex );\n\n\t\t} );\n\n\t}\n\n\tdetectSupport() {\n\n\t\tif ( ! this.isSupported ) {\n\n\t\t\tthis.isSupported = new Promise( function ( resolve ) {\n\n\t\t\t\tconst image = new Image();\n\n\t\t\t\t// Lossy test image. Support for lossy images doesn't guarantee support for all\n\t\t\t\t// WebP images, unfortunately.\n\t\t\t\timage.src = 'data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA';\n\n\t\t\t\timage.onload = image.onerror = function () {\n\n\t\t\t\t\tresolve( image.height === 1 );\n\n\t\t\t\t};\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn this.isSupported;\n\n\t}\n\n}\n\n/**\n * meshopt BufferView Compression Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_meshopt_compression\n */\nclass GLTFMeshoptCompression {\n\n\tconstructor( parser ) {\n\n\t\tthis.name = EXTENSIONS.EXT_MESHOPT_COMPRESSION;\n\t\tthis.parser = parser;\n\n\t}\n\n\tloadBufferView( index ) {\n\n\t\tconst json = this.parser.json;\n\t\tconst bufferView = json.bufferViews[ index ];\n\n\t\tif ( bufferView.extensions && bufferView.extensions[ this.name ] ) {\n\n\t\t\tconst extensionDef = bufferView.extensions[ this.name ];\n\n\t\t\tconst buffer = this.parser.getDependency( 'buffer', extensionDef.buffer );\n\t\t\tconst decoder = this.parser.options.meshoptDecoder;\n\n\t\t\tif ( ! decoder || ! decoder.supported ) {\n\n\t\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( this.name ) >= 0 ) {\n\n\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files' );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Assumes that the extension is optional and that fallback buffer data is present\n\t\t\t\t\treturn null;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn Promise.all( [ buffer, decoder.ready ] ).then( function ( res ) {\n\n\t\t\t\tconst byteOffset = extensionDef.byteOffset || 0;\n\t\t\t\tconst byteLength = extensionDef.byteLength || 0;\n\n\t\t\t\tconst count = extensionDef.count;\n\t\t\t\tconst stride = extensionDef.byteStride;\n\n\t\t\t\tconst result = new ArrayBuffer( count * stride );\n\t\t\t\tconst source = new Uint8Array( res[ 0 ], byteOffset, byteLength );\n\n\t\t\t\tdecoder.decodeGltfBuffer( new Uint8Array( result ), count, stride, source, extensionDef.mode, extensionDef.filter );\n\t\t\t\treturn result;\n\n\t\t\t} );\n\n\t\t} else {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t}\n\n}\n\n/* BINARY EXTENSION */\nconst BINARY_EXTENSION_HEADER_MAGIC = 'glTF';\nconst BINARY_EXTENSION_HEADER_LENGTH = 12;\nconst BINARY_EXTENSION_CHUNK_TYPES = { JSON: 0x4E4F534A, BIN: 0x004E4942 };\n\nclass GLTFBinaryExtension {\n\n\tconstructor( data ) {\n\n\t\tthis.name = EXTENSIONS.KHR_BINARY_GLTF;\n\t\tthis.content = null;\n\t\tthis.body = null;\n\n\t\tconst headerView = new DataView( data, 0, BINARY_EXTENSION_HEADER_LENGTH );\n\n\t\tthis.header = {\n\t\t\tmagic: LoaderUtils.decodeText( new Uint8Array( data.slice( 0, 4 ) ) ),\n\t\t\tversion: headerView.getUint32( 4, true ),\n\t\t\tlength: headerView.getUint32( 8, true )\n\t\t};\n\n\t\tif ( this.header.magic !== BINARY_EXTENSION_HEADER_MAGIC ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Unsupported glTF-Binary header.' );\n\n\t\t} else if ( this.header.version < 2.0 ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Legacy binary file detected.' );\n\n\t\t}\n\n\t\tconst chunkContentsLength = this.header.length - BINARY_EXTENSION_HEADER_LENGTH;\n\t\tconst chunkView = new DataView( data, BINARY_EXTENSION_HEADER_LENGTH );\n\t\tlet chunkIndex = 0;\n\n\t\twhile ( chunkIndex < chunkContentsLength ) {\n\n\t\t\tconst chunkLength = chunkView.getUint32( chunkIndex, true );\n\t\t\tchunkIndex += 4;\n\n\t\t\tconst chunkType = chunkView.getUint32( chunkIndex, true );\n\t\t\tchunkIndex += 4;\n\n\t\t\tif ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.JSON ) {\n\n\t\t\t\tconst contentArray = new Uint8Array( data, BINARY_EXTENSION_HEADER_LENGTH + chunkIndex, chunkLength );\n\t\t\t\tthis.content = LoaderUtils.decodeText( contentArray );\n\n\t\t\t} else if ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.BIN ) {\n\n\t\t\t\tconst byteOffset = BINARY_EXTENSION_HEADER_LENGTH + chunkIndex;\n\t\t\t\tthis.body = data.slice( byteOffset, byteOffset + chunkLength );\n\n\t\t\t}\n\n\t\t\t// Clients must ignore chunks with unknown types.\n\n\t\t\tchunkIndex += chunkLength;\n\n\t\t}\n\n\t\tif ( this.content === null ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: JSON content not found.' );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * DRACO Mesh Compression Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_draco_mesh_compression\n */\nclass GLTFDracoMeshCompressionExtension {\n\n\tconstructor( json, dracoLoader ) {\n\n\t\tif ( ! dracoLoader ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: No DRACOLoader instance provided.' );\n\n\t\t}\n\n\t\tthis.name = EXTENSIONS.KHR_DRACO_MESH_COMPRESSION;\n\t\tthis.json = json;\n\t\tthis.dracoLoader = dracoLoader;\n\t\tthis.dracoLoader.preload();\n\n\t}\n\n\tdecodePrimitive( primitive, parser ) {\n\n\t\tconst json = this.json;\n\t\tconst dracoLoader = this.dracoLoader;\n\t\tconst bufferViewIndex = primitive.extensions[ this.name ].bufferView;\n\t\tconst gltfAttributeMap = primitive.extensions[ this.name ].attributes;\n\t\tconst threeAttributeMap = {};\n\t\tconst attributeNormalizedMap = {};\n\t\tconst attributeTypeMap = {};\n\n\t\tfor ( const attributeName in gltfAttributeMap ) {\n\n\t\t\tconst threeAttributeName = ATTRIBUTES[ attributeName ] || attributeName.toLowerCase();\n\n\t\t\tthreeAttributeMap[ threeAttributeName ] = gltfAttributeMap[ attributeName ];\n\n\t\t}\n\n\t\tfor ( const attributeName in primitive.attributes ) {\n\n\t\t\tconst threeAttributeName = ATTRIBUTES[ attributeName ] || attributeName.toLowerCase();\n\n\t\t\tif ( gltfAttributeMap[ attributeName ] !== undefined ) {\n\n\t\t\t\tconst accessorDef = json.accessors[ primitive.attributes[ attributeName ] ];\n\t\t\t\tconst componentType = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\n\n\t\t\t\tattributeTypeMap[ threeAttributeName ] = componentType;\n\t\t\t\tattributeNormalizedMap[ threeAttributeName ] = accessorDef.normalized === true;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn parser.getDependency( 'bufferView', bufferViewIndex ).then( function ( bufferView ) {\n\n\t\t\treturn new Promise( function ( resolve ) {\n\n\t\t\t\tdracoLoader.decodeDracoFile( bufferView, function ( geometry ) {\n\n\t\t\t\t\tfor ( const attributeName in geometry.attributes ) {\n\n\t\t\t\t\t\tconst attribute = geometry.attributes[ attributeName ];\n\t\t\t\t\t\tconst normalized = attributeNormalizedMap[ attributeName ];\n\n\t\t\t\t\t\tif ( normalized !== undefined ) attribute.normalized = normalized;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tresolve( geometry );\n\n\t\t\t\t}, threeAttributeMap, attributeTypeMap );\n\n\t\t\t} );\n\n\t\t} );\n\n\t}\n\n}\n\n/**\n * Texture Transform Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_transform\n */\nclass GLTFTextureTransformExtension {\n\n\tconstructor() {\n\n\t\tthis.name = EXTENSIONS.KHR_TEXTURE_TRANSFORM;\n\n\t}\n\n\textendTexture( texture, transform ) {\n\n\t\tif ( transform.texCoord !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Custom UV sets in \"' + this.name + '\" extension not yet supported.' );\n\n\t\t}\n\n\t\tif ( transform.offset === undefined && transform.rotation === undefined && transform.scale === undefined ) {\n\n\t\t\t// See https://github.com/mrdoob/three.js/issues/21819.\n\t\t\treturn texture;\n\n\t\t}\n\n\t\ttexture = texture.clone();\n\n\t\tif ( transform.offset !== undefined ) {\n\n\t\t\ttexture.offset.fromArray( transform.offset );\n\n\t\t}\n\n\t\tif ( transform.rotation !== undefined ) {\n\n\t\t\ttexture.rotation = transform.rotation;\n\n\t\t}\n\n\t\tif ( transform.scale !== undefined ) {\n\n\t\t\ttexture.repeat.fromArray( transform.scale );\n\n\t\t}\n\n\t\ttexture.needsUpdate = true;\n\n\t\treturn texture;\n\n\t}\n\n}\n\n/**\n * Specular-Glossiness Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_pbrSpecularGlossiness\n */\n\n/**\n * A sub class of StandardMaterial with some of the functionality\n * changed via the `onBeforeCompile` callback\n * @pailhead\n */\nclass GLTFMeshStandardSGMaterial extends MeshStandardMaterial {\n\n\tconstructor( params ) {\n\n\t\tsuper();\n\n\t\tthis.isGLTFSpecularGlossinessMaterial = true;\n\n\t\t//various chunks that need replacing\n\t\tconst specularMapParsFragmentChunk = [\n\t\t\t'#ifdef USE_SPECULARMAP',\n\t\t\t'\tuniform sampler2D specularMap;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tconst glossinessMapParsFragmentChunk = [\n\t\t\t'#ifdef USE_GLOSSINESSMAP',\n\t\t\t'\tuniform sampler2D glossinessMap;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tconst specularMapFragmentChunk = [\n\t\t\t'vec3 specularFactor = specular;',\n\t\t\t'#ifdef USE_SPECULARMAP',\n\t\t\t'\tvec4 texelSpecular = texture2D( specularMap, vUv );',\n\t\t\t'\ttexelSpecular = sRGBToLinear( texelSpecular );',\n\t\t\t'\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture',\n\t\t\t'\tspecularFactor *= texelSpecular.rgb;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tconst glossinessMapFragmentChunk = [\n\t\t\t'float glossinessFactor = glossiness;',\n\t\t\t'#ifdef USE_GLOSSINESSMAP',\n\t\t\t'\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );',\n\t\t\t'\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture',\n\t\t\t'\tglossinessFactor *= texelGlossiness.a;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tconst lightPhysicalFragmentChunk = [\n\t\t\t'PhysicalMaterial material;',\n\t\t\t'material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );',\n\t\t\t'vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );',\n\t\t\t'float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );',\n\t\t\t'material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.',\n\t\t\t'material.specularRoughness += geometryRoughness;',\n\t\t\t'material.specularRoughness = min( material.specularRoughness, 1.0 );',\n\t\t\t'material.specularColor = specularFactor;',\n\t\t].join( '\\n' );\n\n\t\tconst uniforms = {\n\t\t\tspecular: { value: new Color().setHex( 0xffffff ) },\n\t\t\tglossiness: { value: 1 },\n\t\t\tspecularMap: { value: null },\n\t\t\tglossinessMap: { value: null }\n\t\t};\n\n\t\tthis._extraUniforms = uniforms;\n\n\t\tthis.onBeforeCompile = function ( shader ) {\n\n\t\t\tfor ( const uniformName in uniforms ) {\n\n\t\t\t\tshader.uniforms[ uniformName ] = uniforms[ uniformName ];\n\n\t\t\t}\n\n\t\t\tshader.fragmentShader = shader.fragmentShader\n\t\t\t\t.replace( 'uniform float roughness;', 'uniform vec3 specular;' )\n\t\t\t\t.replace( 'uniform float metalness;', 'uniform float glossiness;' )\n\t\t\t\t.replace( '#include <roughnessmap_pars_fragment>', specularMapParsFragmentChunk )\n\t\t\t\t.replace( '#include <metalnessmap_pars_fragment>', glossinessMapParsFragmentChunk )\n\t\t\t\t.replace( '#include <roughnessmap_fragment>', specularMapFragmentChunk )\n\t\t\t\t.replace( '#include <metalnessmap_fragment>', glossinessMapFragmentChunk )\n\t\t\t\t.replace( '#include <lights_physical_fragment>', lightPhysicalFragmentChunk );\n\n\t\t};\n\n\t\tObject.defineProperties( this, {\n\n\t\t\tspecular: {\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn uniforms.specular.value;\n\n\t\t\t\t},\n\t\t\t\tset: function ( v ) {\n\n\t\t\t\t\tuniforms.specular.value = v;\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tspecularMap: {\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn uniforms.specularMap.value;\n\n\t\t\t\t},\n\t\t\t\tset: function ( v ) {\n\n\t\t\t\t\tuniforms.specularMap.value = v;\n\n\t\t\t\t\tif ( v ) {\n\n\t\t\t\t\t\tthis.defines.USE_SPECULARMAP = ''; // USE_UV is set by the renderer for specular maps\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdelete this.defines.USE_SPECULARMAP;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tglossiness: {\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn uniforms.glossiness.value;\n\n\t\t\t\t},\n\t\t\t\tset: function ( v ) {\n\n\t\t\t\t\tuniforms.glossiness.value = v;\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tglossinessMap: {\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn uniforms.glossinessMap.value;\n\n\t\t\t\t},\n\t\t\t\tset: function ( v ) {\n\n\t\t\t\t\tuniforms.glossinessMap.value = v;\n\n\t\t\t\t\tif ( v ) {\n\n\t\t\t\t\t\tthis.defines.USE_GLOSSINESSMAP = '';\n\t\t\t\t\t\tthis.defines.USE_UV = '';\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdelete this.defines.USE_GLOSSINESSMAP;\n\t\t\t\t\t\tdelete this.defines.USE_UV;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t} );\n\n\t\tdelete this.metalness;\n\t\tdelete this.roughness;\n\t\tdelete this.metalnessMap;\n\t\tdelete this.roughnessMap;\n\n\t\tthis.setValues( params );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.specularMap = source.specularMap;\n\t\tthis.specular.copy( source.specular );\n\t\tthis.glossinessMap = source.glossinessMap;\n\t\tthis.glossiness = source.glossiness;\n\t\tdelete this.metalness;\n\t\tdelete this.roughness;\n\t\tdelete this.metalnessMap;\n\t\tdelete this.roughnessMap;\n\t\treturn this;\n\n\t}\n\n}\n\n\nclass GLTFMaterialsPbrSpecularGlossinessExtension {\n\n\tconstructor() {\n\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS;\n\n\t\tthis.specularGlossinessParams = [\n\t\t\t'color',\n\t\t\t'map',\n\t\t\t'lightMap',\n\t\t\t'lightMapIntensity',\n\t\t\t'aoMap',\n\t\t\t'aoMapIntensity',\n\t\t\t'emissive',\n\t\t\t'emissiveIntensity',\n\t\t\t'emissiveMap',\n\t\t\t'bumpMap',\n\t\t\t'bumpScale',\n\t\t\t'normalMap',\n\t\t\t'normalMapType',\n\t\t\t'displacementMap',\n\t\t\t'displacementScale',\n\t\t\t'displacementBias',\n\t\t\t'specularMap',\n\t\t\t'specular',\n\t\t\t'glossinessMap',\n\t\t\t'glossiness',\n\t\t\t'alphaMap',\n\t\t\t'envMap',\n\t\t\t'envMapIntensity',\n\t\t\t'refractionRatio',\n\t\t];\n\n\t}\n\n\tgetMaterialType() {\n\n\t\treturn GLTFMeshStandardSGMaterial;\n\n\t}\n\n\textendParams( materialParams, materialDef, parser ) {\n\n\t\tconst pbrSpecularGlossiness = materialDef.extensions[ this.name ];\n\n\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\tmaterialParams.opacity = 1.0;\n\n\t\tconst pending = [];\n\n\t\tif ( Array.isArray( pbrSpecularGlossiness.diffuseFactor ) ) {\n\n\t\t\tconst array = pbrSpecularGlossiness.diffuseFactor;\n\n\t\t\tmaterialParams.color.fromArray( array );\n\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t}\n\n\t\tif ( pbrSpecularGlossiness.diffuseTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'map', pbrSpecularGlossiness.diffuseTexture ) );\n\n\t\t}\n\n\t\tmaterialParams.emissive = new Color( 0.0, 0.0, 0.0 );\n\t\tmaterialParams.glossiness = pbrSpecularGlossiness.glossinessFactor !== undefined ? pbrSpecularGlossiness.glossinessFactor : 1.0;\n\t\tmaterialParams.specular = new Color( 1.0, 1.0, 1.0 );\n\n\t\tif ( Array.isArray( pbrSpecularGlossiness.specularFactor ) ) {\n\n\t\t\tmaterialParams.specular.fromArray( pbrSpecularGlossiness.specularFactor );\n\n\t\t}\n\n\t\tif ( pbrSpecularGlossiness.specularGlossinessTexture !== undefined ) {\n\n\t\t\tconst specGlossMapDef = pbrSpecularGlossiness.specularGlossinessTexture;\n\t\t\tpending.push( parser.assignTexture( materialParams, 'glossinessMap', specGlossMapDef ) );\n\t\t\tpending.push( parser.assignTexture( materialParams, 'specularMap', specGlossMapDef ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n\tcreateMaterial( materialParams ) {\n\n\t\tconst material = new GLTFMeshStandardSGMaterial( materialParams );\n\t\tmaterial.fog = true;\n\n\t\tmaterial.color = materialParams.color;\n\n\t\tmaterial.map = materialParams.map === undefined ? null : materialParams.map;\n\n\t\tmaterial.lightMap = null;\n\t\tmaterial.lightMapIntensity = 1.0;\n\n\t\tmaterial.aoMap = materialParams.aoMap === undefined ? null : materialParams.aoMap;\n\t\tmaterial.aoMapIntensity = 1.0;\n\n\t\tmaterial.emissive = materialParams.emissive;\n\t\tmaterial.emissiveIntensity = 1.0;\n\t\tmaterial.emissiveMap = materialParams.emissiveMap === undefined ? null : materialParams.emissiveMap;\n\n\t\tmaterial.bumpMap = materialParams.bumpMap === undefined ? null : materialParams.bumpMap;\n\t\tmaterial.bumpScale = 1;\n\n\t\tmaterial.normalMap = materialParams.normalMap === undefined ? null : materialParams.normalMap;\n\t\tmaterial.normalMapType = TangentSpaceNormalMap;\n\n\t\tif ( materialParams.normalScale ) material.normalScale = materialParams.normalScale;\n\n\t\tmaterial.displacementMap = null;\n\t\tmaterial.displacementScale = 1;\n\t\tmaterial.displacementBias = 0;\n\n\t\tmaterial.specularMap = materialParams.specularMap === undefined ? null : materialParams.specularMap;\n\t\tmaterial.specular = materialParams.specular;\n\n\t\tmaterial.glossinessMap = materialParams.glossinessMap === undefined ? null : materialParams.glossinessMap;\n\t\tmaterial.glossiness = materialParams.glossiness;\n\n\t\tmaterial.alphaMap = null;\n\n\t\tmaterial.envMap = materialParams.envMap === undefined ? null : materialParams.envMap;\n\t\tmaterial.envMapIntensity = 1.0;\n\n\t\tmaterial.refractionRatio = 0.98;\n\n\t\treturn material;\n\n\t}\n\n}\n\n/**\n * Mesh Quantization Extension\n *\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization\n */\nclass GLTFMeshQuantizationExtension {\n\n\tconstructor() {\n\n\t\tthis.name = EXTENSIONS.KHR_MESH_QUANTIZATION;\n\n\t}\n\n}\n\n/*********************************/\n/********** INTERPOLATION ********/\n/*********************************/\n\n// Spline Interpolation\n// Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#appendix-c-spline-interpolation\nclass GLTFCubicSplineInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tcopySampleValue_( index ) {\n\n\t\t// Copies a sample value to the result buffer. See description of glTF\n\t\t// CUBICSPLINE values layout in interpolate_() function below.\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tvalueSize = this.valueSize,\n\t\t\toffset = index * valueSize * 3 + valueSize;\n\n\t\tfor ( let i = 0; i !== valueSize; i ++ ) {\n\n\t\t\tresult[ i ] = values[ offset + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n}\n\nGLTFCubicSplineInterpolant.prototype.beforeStart_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\n\nGLTFCubicSplineInterpolant.prototype.afterEnd_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\n\nGLTFCubicSplineInterpolant.prototype.interpolate_ = function ( i1, t0, t, t1 ) {\n\n\tconst result = this.resultBuffer;\n\tconst values = this.sampleValues;\n\tconst stride = this.valueSize;\n\n\tconst stride2 = stride * 2;\n\tconst stride3 = stride * 3;\n\n\tconst td = t1 - t0;\n\n\tconst p = ( t - t0 ) / td;\n\tconst pp = p * p;\n\tconst ppp = pp * p;\n\n\tconst offset1 = i1 * stride3;\n\tconst offset0 = offset1 - stride3;\n\n\tconst s2 = - 2 * ppp + 3 * pp;\n\tconst s3 = ppp - pp;\n\tconst s0 = 1 - s2;\n\tconst s1 = s3 - pp + p;\n\n\t// Layout of keyframe output values for CUBICSPLINE animations:\n\t//   [ inTangent_1, splineVertex_1, outTangent_1, inTangent_2, splineVertex_2, ... ]\n\tfor ( let i = 0; i !== stride; i ++ ) {\n\n\t\tconst p0 = values[ offset0 + i + stride ]; // splineVertex_k\n\t\tconst m0 = values[ offset0 + i + stride2 ] * td; // outTangent_k * (t_k+1 - t_k)\n\t\tconst p1 = values[ offset1 + i + stride ]; // splineVertex_k+1\n\t\tconst m1 = values[ offset1 + i ] * td; // inTangent_k+1 * (t_k+1 - t_k)\n\n\t\tresult[ i ] = s0 * p0 + s1 * m0 + s2 * p1 + s3 * m1;\n\n\t}\n\n\treturn result;\n\n};\n\n/*********************************/\n/********** INTERNALS ************/\n/*********************************/\n\n/* CONSTANTS */\n\nconst WEBGL_CONSTANTS = {\n\tFLOAT: 5126,\n\t//FLOAT_MAT2: 35674,\n\tFLOAT_MAT3: 35675,\n\tFLOAT_MAT4: 35676,\n\tFLOAT_VEC2: 35664,\n\tFLOAT_VEC3: 35665,\n\tFLOAT_VEC4: 35666,\n\tLINEAR: 9729,\n\tREPEAT: 10497,\n\tSAMPLER_2D: 35678,\n\tPOINTS: 0,\n\tLINES: 1,\n\tLINE_LOOP: 2,\n\tLINE_STRIP: 3,\n\tTRIANGLES: 4,\n\tTRIANGLE_STRIP: 5,\n\tTRIANGLE_FAN: 6,\n\tUNSIGNED_BYTE: 5121,\n\tUNSIGNED_SHORT: 5123\n};\n\nconst WEBGL_COMPONENT_TYPES = {\n\t5120: Int8Array,\n\t5121: Uint8Array,\n\t5122: Int16Array,\n\t5123: Uint16Array,\n\t5125: Uint32Array,\n\t5126: Float32Array\n};\n\nconst WEBGL_FILTERS = {\n\t9728: NearestFilter,\n\t9729: LinearFilter,\n\t9984: NearestMipmapNearestFilter,\n\t9985: LinearMipmapNearestFilter,\n\t9986: NearestMipmapLinearFilter,\n\t9987: LinearMipmapLinearFilter\n};\n\nconst WEBGL_WRAPPINGS = {\n\t33071: ClampToEdgeWrapping,\n\t33648: MirroredRepeatWrapping,\n\t10497: RepeatWrapping\n};\n\nconst WEBGL_TYPE_SIZES = {\n\t'SCALAR': 1,\n\t'VEC2': 2,\n\t'VEC3': 3,\n\t'VEC4': 4,\n\t'MAT2': 4,\n\t'MAT3': 9,\n\t'MAT4': 16\n};\n\nconst ATTRIBUTES = {\n\tPOSITION: 'position',\n\tNORMAL: 'normal',\n\tTANGENT: 'tangent',\n\tTEXCOORD_0: 'uv',\n\tTEXCOORD_1: 'uv2',\n\tCOLOR_0: 'color',\n\tWEIGHTS_0: 'skinWeight',\n\tJOINTS_0: 'skinIndex',\n};\n\nconst PATH_PROPERTIES = {\n\tscale: 'scale',\n\ttranslation: 'position',\n\trotation: 'quaternion',\n\tweights: 'morphTargetInfluences'\n};\n\nconst INTERPOLATION = {\n\tCUBICSPLINE: undefined, // We use a custom interpolant (GLTFCubicSplineInterpolation) for CUBICSPLINE tracks. Each\n\t\t                        // keyframe track will be initialized with a default interpolation type, then modified.\n\tLINEAR: InterpolateLinear,\n\tSTEP: InterpolateDiscrete\n};\n\nconst ALPHA_MODES = {\n\tOPAQUE: 'OPAQUE',\n\tMASK: 'MASK',\n\tBLEND: 'BLEND'\n};\n\n/* UTILITY FUNCTIONS */\n\nfunction resolveURL( url, path ) {\n\n\t// Invalid URL\n\tif ( typeof url !== 'string' || url === '' ) return '';\n\n\t// Host Relative URL\n\tif ( /^https?:\\/\\//i.test( path ) && /^\\//.test( url ) ) {\n\n\t\tpath = path.replace( /(^https?:\\/\\/[^\\/]+).*/i, '$1' );\n\n\t}\n\n\t// Absolute URL http://,https://,//\n\tif ( /^(https?:)?\\/\\//i.test( url ) ) return url;\n\n\t// Data URI\n\tif ( /^data:.*,.*$/i.test( url ) ) return url;\n\n\t// Blob URL\n\tif ( /^blob:.*$/i.test( url ) ) return url;\n\n\t// Relative URL\n\treturn path + url;\n\n}\n\n/**\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#default-material\n */\nfunction createDefaultMaterial( cache ) {\n\n\tif ( cache[ 'DefaultMaterial' ] === undefined ) {\n\n\t\tcache[ 'DefaultMaterial' ] = new MeshStandardMaterial( {\n\t\t\tcolor: 0xFFFFFF,\n\t\t\temissive: 0x000000,\n\t\t\tmetalness: 1,\n\t\t\troughness: 1,\n\t\t\ttransparent: false,\n\t\t\tdepthTest: true,\n\t\t\tside: FrontSide\n\t\t} );\n\n\t}\n\n\treturn cache[ 'DefaultMaterial' ];\n\n}\n\nfunction addUnknownExtensionsToUserData( knownExtensions, object, objectDef ) {\n\n\t// Add unknown glTF extensions to an object's userData.\n\n\tfor ( const name in objectDef.extensions ) {\n\n\t\tif ( knownExtensions[ name ] === undefined ) {\n\n\t\t\tobject.userData.gltfExtensions = object.userData.gltfExtensions || {};\n\t\t\tobject.userData.gltfExtensions[ name ] = objectDef.extensions[ name ];\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * @param {Object3D|Material|BufferGeometry} object\n * @param {GLTF.definition} gltfDef\n */\nfunction assignExtrasToUserData( object, gltfDef ) {\n\n\tif ( gltfDef.extras !== undefined ) {\n\n\t\tif ( typeof gltfDef.extras === 'object' ) {\n\n\t\t\tObject.assign( object.userData, gltfDef.extras );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Ignoring primitive type .extras, ' + gltfDef.extras );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#morph-targets\n *\n * @param {BufferGeometry} geometry\n * @param {Array<GLTF.Target>} targets\n * @param {GLTFParser} parser\n * @return {Promise<BufferGeometry>}\n */\nfunction addMorphTargets( geometry, targets, parser ) {\n\n\tlet hasMorphPosition = false;\n\tlet hasMorphNormal = false;\n\n\tfor ( let i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\tconst target = targets[ i ];\n\n\t\tif ( target.POSITION !== undefined ) hasMorphPosition = true;\n\t\tif ( target.NORMAL !== undefined ) hasMorphNormal = true;\n\n\t\tif ( hasMorphPosition && hasMorphNormal ) break;\n\n\t}\n\n\tif ( ! hasMorphPosition && ! hasMorphNormal ) return Promise.resolve( geometry );\n\n\tconst pendingPositionAccessors = [];\n\tconst pendingNormalAccessors = [];\n\n\tfor ( let i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\tconst target = targets[ i ];\n\n\t\tif ( hasMorphPosition ) {\n\n\t\t\tconst pendingAccessor = target.POSITION !== undefined\n\t\t\t\t? parser.getDependency( 'accessor', target.POSITION )\n\t\t\t\t: geometry.attributes.position;\n\n\t\t\tpendingPositionAccessors.push( pendingAccessor );\n\n\t\t}\n\n\t\tif ( hasMorphNormal ) {\n\n\t\t\tconst pendingAccessor = target.NORMAL !== undefined\n\t\t\t\t? parser.getDependency( 'accessor', target.NORMAL )\n\t\t\t\t: geometry.attributes.normal;\n\n\t\t\tpendingNormalAccessors.push( pendingAccessor );\n\n\t\t}\n\n\t}\n\n\treturn Promise.all( [\n\t\tPromise.all( pendingPositionAccessors ),\n\t\tPromise.all( pendingNormalAccessors )\n\t] ).then( function ( accessors ) {\n\n\t\tconst morphPositions = accessors[ 0 ];\n\t\tconst morphNormals = accessors[ 1 ];\n\n\t\tif ( hasMorphPosition ) geometry.morphAttributes.position = morphPositions;\n\t\tif ( hasMorphNormal ) geometry.morphAttributes.normal = morphNormals;\n\t\tgeometry.morphTargetsRelative = true;\n\n\t\treturn geometry;\n\n\t} );\n\n}\n\n/**\n * @param {Mesh} mesh\n * @param {GLTF.Mesh} meshDef\n */\nfunction updateMorphTargets( mesh, meshDef ) {\n\n\tmesh.updateMorphTargets();\n\n\tif ( meshDef.weights !== undefined ) {\n\n\t\tfor ( let i = 0, il = meshDef.weights.length; i < il; i ++ ) {\n\n\t\t\tmesh.morphTargetInfluences[ i ] = meshDef.weights[ i ];\n\n\t\t}\n\n\t}\n\n\t// .extras has user-defined data, so check that .extras.targetNames is an array.\n\tif ( meshDef.extras && Array.isArray( meshDef.extras.targetNames ) ) {\n\n\t\tconst targetNames = meshDef.extras.targetNames;\n\n\t\tif ( mesh.morphTargetInfluences.length === targetNames.length ) {\n\n\t\t\tmesh.morphTargetDictionary = {};\n\n\t\t\tfor ( let i = 0, il = targetNames.length; i < il; i ++ ) {\n\n\t\t\t\tmesh.morphTargetDictionary[ targetNames[ i ] ] = i;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.' );\n\n\t\t}\n\n\t}\n\n}\n\nfunction createPrimitiveKey( primitiveDef ) {\n\n\tconst dracoExtension = primitiveDef.extensions && primitiveDef.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ];\n\tlet geometryKey;\n\n\tif ( dracoExtension ) {\n\n\t\tgeometryKey = 'draco:' + dracoExtension.bufferView\n\t\t\t\t+ ':' + dracoExtension.indices\n\t\t\t\t+ ':' + createAttributesKey( dracoExtension.attributes );\n\n\t} else {\n\n\t\tgeometryKey = primitiveDef.indices + ':' + createAttributesKey( primitiveDef.attributes ) + ':' + primitiveDef.mode;\n\n\t}\n\n\treturn geometryKey;\n\n}\n\nfunction createAttributesKey( attributes ) {\n\n\tlet attributesKey = '';\n\n\tconst keys = Object.keys( attributes ).sort();\n\n\tfor ( let i = 0, il = keys.length; i < il; i ++ ) {\n\n\t\tattributesKey += keys[ i ] + ':' + attributes[ keys[ i ] ] + ';';\n\n\t}\n\n\treturn attributesKey;\n\n}\n\nfunction getNormalizedComponentScale( constructor ) {\n\n\t// Reference:\n\t// https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization#encoding-quantized-data\n\n\tswitch ( constructor ) {\n\n\t\tcase Int8Array:\n\t\t\treturn 1 / 127;\n\n\t\tcase Uint8Array:\n\t\t\treturn 1 / 255;\n\n\t\tcase Int16Array:\n\t\t\treturn 1 / 32767;\n\n\t\tcase Uint16Array:\n\t\t\treturn 1 / 65535;\n\n\t\tdefault:\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Unsupported normalized accessor component type.' );\n\n\t}\n\n}\n\n/* GLTF PARSER */\n\nclass GLTFParser {\n\n\tconstructor( json = {}, options = {} ) {\n\n\t\tthis.json = json;\n\t\tthis.extensions = {};\n\t\tthis.plugins = {};\n\t\tthis.options = options;\n\n\t\t// loader object cache\n\t\tthis.cache = new GLTFRegistry();\n\n\t\t// associations between Three.js objects and glTF elements\n\t\tthis.associations = new Map();\n\n\t\t// BufferGeometry caching\n\t\tthis.primitiveCache = {};\n\n\t\t// Object3D instance caches\n\t\tthis.meshCache = { refs: {}, uses: {} };\n\t\tthis.cameraCache = { refs: {}, uses: {} };\n\t\tthis.lightCache = { refs: {}, uses: {} };\n\n\t\tthis.textureCache = {};\n\n\t\t// Track node names, to ensure no duplicates\n\t\tthis.nodeNamesUsed = {};\n\n\t\t// Use an ImageBitmapLoader if imageBitmaps are supported. Moves much of the\n\t\t// expensive work of uploading a texture to the GPU off the main thread.\n\t\tif ( typeof createImageBitmap !== 'undefined' && /Firefox/.test( navigator.userAgent ) === false ) {\n\n\t\t\tthis.textureLoader = new ImageBitmapLoader( this.options.manager );\n\n\t\t} else {\n\n\t\t\tthis.textureLoader = new TextureLoader( this.options.manager );\n\n\t\t}\n\n\t\tthis.textureLoader.setCrossOrigin( this.options.crossOrigin );\n\t\tthis.textureLoader.setRequestHeader( this.options.requestHeader );\n\n\t\tthis.fileLoader = new FileLoader( this.options.manager );\n\t\tthis.fileLoader.setResponseType( 'arraybuffer' );\n\n\t\tif ( this.options.crossOrigin === 'use-credentials' ) {\n\n\t\t\tthis.fileLoader.setWithCredentials( true );\n\n\t\t}\n\n\t}\n\n\tsetExtensions( extensions ) {\n\n\t\tthis.extensions = extensions;\n\n\t}\n\n\tsetPlugins( plugins ) {\n\n\t\tthis.plugins = plugins;\n\n\t}\n\n\tparse( onLoad, onError ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\n\t\t// Clear the loader cache\n\t\tthis.cache.removeAll();\n\n\t\t// Mark the special nodes/meshes in json for efficient parse\n\t\tthis._invokeAll( function ( ext ) {\n\n\t\t\treturn ext._markDefs && ext._markDefs();\n\n\t\t} );\n\n\t\tPromise.all( this._invokeAll( function ( ext ) {\n\n\t\t\treturn ext.beforeRoot && ext.beforeRoot();\n\n\t\t} ) ).then( function () {\n\n\t\t\treturn Promise.all( [\n\n\t\t\t\tparser.getDependencies( 'scene' ),\n\t\t\t\tparser.getDependencies( 'animation' ),\n\t\t\t\tparser.getDependencies( 'camera' ),\n\n\t\t\t] );\n\n\t\t} ).then( function ( dependencies ) {\n\n\t\t\tconst result = {\n\t\t\t\tscene: dependencies[ 0 ][ json.scene || 0 ],\n\t\t\t\tscenes: dependencies[ 0 ],\n\t\t\t\tanimations: dependencies[ 1 ],\n\t\t\t\tcameras: dependencies[ 2 ],\n\t\t\t\tasset: json.asset,\n\t\t\t\tparser: parser,\n\t\t\t\tuserData: {}\n\t\t\t};\n\n\t\t\taddUnknownExtensionsToUserData( extensions, result, json );\n\n\t\t\tassignExtrasToUserData( result, json );\n\n\t\t\tPromise.all( parser._invokeAll( function ( ext ) {\n\n\t\t\t\treturn ext.afterRoot && ext.afterRoot( result );\n\n\t\t\t} ) ).then( function () {\n\n\t\t\t\tonLoad( result );\n\n\t\t\t} );\n\n\t\t} ).catch( onError );\n\n\t}\n\n\t/**\n\t * Marks the special nodes/meshes in json for efficient parse.\n\t */\n\t_markDefs() {\n\n\t\tconst nodeDefs = this.json.nodes || [];\n\t\tconst skinDefs = this.json.skins || [];\n\t\tconst meshDefs = this.json.meshes || [];\n\n\t\t// Nothing in the node definition indicates whether it is a Bone or an\n\t\t// Object3D. Use the skins' joint references to mark bones.\n\t\tfor ( let skinIndex = 0, skinLength = skinDefs.length; skinIndex < skinLength; skinIndex ++ ) {\n\n\t\t\tconst joints = skinDefs[ skinIndex ].joints;\n\n\t\t\tfor ( let i = 0, il = joints.length; i < il; i ++ ) {\n\n\t\t\t\tnodeDefs[ joints[ i ] ].isBone = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Iterate over all nodes, marking references to shared resources,\n\t\t// as well as skeleton joints.\n\t\tfor ( let nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex ++ ) {\n\n\t\t\tconst nodeDef = nodeDefs[ nodeIndex ];\n\n\t\t\tif ( nodeDef.mesh !== undefined ) {\n\n\t\t\t\tthis._addNodeRef( this.meshCache, nodeDef.mesh );\n\n\t\t\t\t// Nothing in the mesh definition indicates whether it is\n\t\t\t\t// a SkinnedMesh or Mesh. Use the node's mesh reference\n\t\t\t\t// to mark SkinnedMesh if node has skin.\n\t\t\t\tif ( nodeDef.skin !== undefined ) {\n\n\t\t\t\t\tmeshDefs[ nodeDef.mesh ].isSkinnedMesh = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.camera !== undefined ) {\n\n\t\t\t\tthis._addNodeRef( this.cameraCache, nodeDef.camera );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Counts references to shared node / Object3D resources. These resources\n\t * can be reused, or \"instantiated\", at multiple nodes in the scene\n\t * hierarchy. Mesh, Camera, and Light instances are instantiated and must\n\t * be marked. Non-scenegraph resources (like Materials, Geometries, and\n\t * Textures) can be reused directly and are not marked here.\n\t *\n\t * Example: CesiumMilkTruck sample model reuses \"Wheel\" meshes.\n\t */\n\t_addNodeRef( cache, index ) {\n\n\t\tif ( index === undefined ) return;\n\n\t\tif ( cache.refs[ index ] === undefined ) {\n\n\t\t\tcache.refs[ index ] = cache.uses[ index ] = 0;\n\n\t\t}\n\n\t\tcache.refs[ index ] ++;\n\n\t}\n\n\t/** Returns a reference to a shared resource, cloning it if necessary. */\n\t_getNodeRef( cache, index, object ) {\n\n\t\tif ( cache.refs[ index ] <= 1 ) return object;\n\n\t\tconst ref = object.clone();\n\n\t\tref.name += '_instance_' + ( cache.uses[ index ] ++ );\n\n\t\treturn ref;\n\n\t}\n\n\t_invokeOne( func ) {\n\n\t\tconst extensions = Object.values( this.plugins );\n\t\textensions.push( this );\n\n\t\tfor ( let i = 0; i < extensions.length; i ++ ) {\n\n\t\t\tconst result = func( extensions[ i ] );\n\n\t\t\tif ( result ) return result;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\t_invokeAll( func ) {\n\n\t\tconst extensions = Object.values( this.plugins );\n\t\textensions.unshift( this );\n\n\t\tconst pending = [];\n\n\t\tfor ( let i = 0; i < extensions.length; i ++ ) {\n\n\t\t\tconst result = func( extensions[ i ] );\n\n\t\t\tif ( result ) pending.push( result );\n\n\t\t}\n\n\t\treturn pending;\n\n\t}\n\n\t/**\n\t * Requests the specified dependency asynchronously, with caching.\n\t * @param {string} type\n\t * @param {number} index\n\t * @return {Promise<Object3D|Material|THREE.Texture|AnimationClip|ArrayBuffer|Object>}\n\t */\n\tgetDependency( type, index ) {\n\n\t\tconst cacheKey = type + ':' + index;\n\t\tlet dependency = this.cache.get( cacheKey );\n\n\t\tif ( ! dependency ) {\n\n\t\t\tswitch ( type ) {\n\n\t\t\t\tcase 'scene':\n\t\t\t\t\tdependency = this.loadScene( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'node':\n\t\t\t\t\tdependency = this.loadNode( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'mesh':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadMesh && ext.loadMesh( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'accessor':\n\t\t\t\t\tdependency = this.loadAccessor( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'bufferView':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadBufferView && ext.loadBufferView( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'buffer':\n\t\t\t\t\tdependency = this.loadBuffer( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'material':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadMaterial && ext.loadMaterial( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'texture':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadTexture && ext.loadTexture( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'skin':\n\t\t\t\t\tdependency = this.loadSkin( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'animation':\n\t\t\t\t\tdependency = this.loadAnimation( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'camera':\n\t\t\t\t\tdependency = this.loadCamera( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error( 'Unknown type: ' + type );\n\n\t\t\t}\n\n\t\t\tthis.cache.add( cacheKey, dependency );\n\n\t\t}\n\n\t\treturn dependency;\n\n\t}\n\n\t/**\n\t * Requests all dependencies of the specified type asynchronously, with caching.\n\t * @param {string} type\n\t * @return {Promise<Array<Object>>}\n\t */\n\tgetDependencies( type ) {\n\n\t\tlet dependencies = this.cache.get( type );\n\n\t\tif ( ! dependencies ) {\n\n\t\t\tconst parser = this;\n\t\t\tconst defs = this.json[ type + ( type === 'mesh' ? 'es' : 's' ) ] || [];\n\n\t\t\tdependencies = Promise.all( defs.map( function ( def, index ) {\n\n\t\t\t\treturn parser.getDependency( type, index );\n\n\t\t\t} ) );\n\n\t\t\tthis.cache.add( type, dependencies );\n\n\t\t}\n\n\t\treturn dependencies;\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n\t * @param {number} bufferIndex\n\t * @return {Promise<ArrayBuffer>}\n\t */\n\tloadBuffer( bufferIndex ) {\n\n\t\tconst bufferDef = this.json.buffers[ bufferIndex ];\n\t\tconst loader = this.fileLoader;\n\n\t\tif ( bufferDef.type && bufferDef.type !== 'arraybuffer' ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: ' + bufferDef.type + ' buffer type is not supported.' );\n\n\t\t}\n\n\t\t// If present, GLB container is required to be the first buffer.\n\t\tif ( bufferDef.uri === undefined && bufferIndex === 0 ) {\n\n\t\t\treturn Promise.resolve( this.extensions[ EXTENSIONS.KHR_BINARY_GLTF ].body );\n\n\t\t}\n\n\t\tconst options = this.options;\n\n\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\tloader.load( resolveURL( bufferDef.uri, options.path ), resolve, undefined, function () {\n\n\t\t\t\treject( new Error( 'THREE.GLTFLoader: Failed to load buffer \"' + bufferDef.uri + '\".' ) );\n\n\t\t\t} );\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n\t * @param {number} bufferViewIndex\n\t * @return {Promise<ArrayBuffer>}\n\t */\n\tloadBufferView( bufferViewIndex ) {\n\n\t\tconst bufferViewDef = this.json.bufferViews[ bufferViewIndex ];\n\n\t\treturn this.getDependency( 'buffer', bufferViewDef.buffer ).then( function ( buffer ) {\n\n\t\t\tconst byteLength = bufferViewDef.byteLength || 0;\n\t\t\tconst byteOffset = bufferViewDef.byteOffset || 0;\n\t\t\treturn buffer.slice( byteOffset, byteOffset + byteLength );\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#accessors\n\t * @param {number} accessorIndex\n\t * @return {Promise<BufferAttribute|InterleavedBufferAttribute>}\n\t */\n\tloadAccessor( accessorIndex ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\n\t\tconst accessorDef = this.json.accessors[ accessorIndex ];\n\n\t\tif ( accessorDef.bufferView === undefined && accessorDef.sparse === undefined ) {\n\n\t\t\t// Ignore empty accessors, which may be used to declare runtime\n\t\t\t// information about attributes coming from another source (e.g. Draco\n\t\t\t// compression extension).\n\t\t\treturn Promise.resolve( null );\n\n\t\t}\n\n\t\tconst pendingBufferViews = [];\n\n\t\tif ( accessorDef.bufferView !== undefined ) {\n\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.bufferView ) );\n\n\t\t} else {\n\n\t\t\tpendingBufferViews.push( null );\n\n\t\t}\n\n\t\tif ( accessorDef.sparse !== undefined ) {\n\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.indices.bufferView ) );\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.values.bufferView ) );\n\n\t\t}\n\n\t\treturn Promise.all( pendingBufferViews ).then( function ( bufferViews ) {\n\n\t\t\tconst bufferView = bufferViews[ 0 ];\n\n\t\t\tconst itemSize = WEBGL_TYPE_SIZES[ accessorDef.type ];\n\t\t\tconst TypedArray = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\n\n\t\t\t// For VEC3: itemSize is 3, elementBytes is 4, itemBytes is 12.\n\t\t\tconst elementBytes = TypedArray.BYTES_PER_ELEMENT;\n\t\t\tconst itemBytes = elementBytes * itemSize;\n\t\t\tconst byteOffset = accessorDef.byteOffset || 0;\n\t\t\tconst byteStride = accessorDef.bufferView !== undefined ? json.bufferViews[ accessorDef.bufferView ].byteStride : undefined;\n\t\t\tconst normalized = accessorDef.normalized === true;\n\t\t\tlet array, bufferAttribute;\n\n\t\t\t// The buffer is not interleaved if the stride is the item size in bytes.\n\t\t\tif ( byteStride && byteStride !== itemBytes ) {\n\n\t\t\t\t// Each \"slice\" of the buffer, as defined by 'count' elements of 'byteStride' bytes, gets its own InterleavedBuffer\n\t\t\t\t// This makes sure that IBA.count reflects accessor.count properly\n\t\t\t\tconst ibSlice = Math.floor( byteOffset / byteStride );\n\t\t\t\tconst ibCacheKey = 'InterleavedBuffer:' + accessorDef.bufferView + ':' + accessorDef.componentType + ':' + ibSlice + ':' + accessorDef.count;\n\t\t\t\tlet ib = parser.cache.get( ibCacheKey );\n\n\t\t\t\tif ( ! ib ) {\n\n\t\t\t\t\tarray = new TypedArray( bufferView, ibSlice * byteStride, accessorDef.count * byteStride / elementBytes );\n\n\t\t\t\t\t// Integer parameters to IB/IBA are in array elements, not bytes.\n\t\t\t\t\tib = new InterleavedBuffer( array, byteStride / elementBytes );\n\n\t\t\t\t\tparser.cache.add( ibCacheKey, ib );\n\n\t\t\t\t}\n\n\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( ib, itemSize, ( byteOffset % byteStride ) / elementBytes, normalized );\n\n\t\t\t} else {\n\n\t\t\t\tif ( bufferView === null ) {\n\n\t\t\t\t\tarray = new TypedArray( accessorDef.count * itemSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tarray = new TypedArray( bufferView, byteOffset, accessorDef.count * itemSize );\n\n\t\t\t\t}\n\n\t\t\t\tbufferAttribute = new BufferAttribute( array, itemSize, normalized );\n\n\t\t\t}\n\n\t\t\t// https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#sparse-accessors\n\t\t\tif ( accessorDef.sparse !== undefined ) {\n\n\t\t\t\tconst itemSizeIndices = WEBGL_TYPE_SIZES.SCALAR;\n\t\t\t\tconst TypedArrayIndices = WEBGL_COMPONENT_TYPES[ accessorDef.sparse.indices.componentType ];\n\n\t\t\t\tconst byteOffsetIndices = accessorDef.sparse.indices.byteOffset || 0;\n\t\t\t\tconst byteOffsetValues = accessorDef.sparse.values.byteOffset || 0;\n\n\t\t\t\tconst sparseIndices = new TypedArrayIndices( bufferViews[ 1 ], byteOffsetIndices, accessorDef.sparse.count * itemSizeIndices );\n\t\t\t\tconst sparseValues = new TypedArray( bufferViews[ 2 ], byteOffsetValues, accessorDef.sparse.count * itemSize );\n\n\t\t\t\tif ( bufferView !== null ) {\n\n\t\t\t\t\t// Avoid modifying the original ArrayBuffer, if the bufferView wasn't initialized with zeroes.\n\t\t\t\t\tbufferAttribute = new BufferAttribute( bufferAttribute.array.slice(), bufferAttribute.itemSize, bufferAttribute.normalized );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0, il = sparseIndices.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst index = sparseIndices[ i ];\n\n\t\t\t\t\tbufferAttribute.setX( index, sparseValues[ i * itemSize ] );\n\t\t\t\t\tif ( itemSize >= 2 ) bufferAttribute.setY( index, sparseValues[ i * itemSize + 1 ] );\n\t\t\t\t\tif ( itemSize >= 3 ) bufferAttribute.setZ( index, sparseValues[ i * itemSize + 2 ] );\n\t\t\t\t\tif ( itemSize >= 4 ) bufferAttribute.setW( index, sparseValues[ i * itemSize + 3 ] );\n\t\t\t\t\tif ( itemSize >= 5 ) throw new Error( 'THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn bufferAttribute;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#textures\n\t * @param {number} textureIndex\n\t * @return {Promise<THREE.Texture>}\n\t */\n\tloadTexture( textureIndex ) {\n\n\t\tconst json = this.json;\n\t\tconst options = this.options;\n\t\tconst textureDef = json.textures[ textureIndex ];\n\t\tconst source = json.images[ textureDef.source ];\n\n\t\tlet loader = this.textureLoader;\n\n\t\tif ( source.uri ) {\n\n\t\t\tconst handler = options.manager.getHandler( source.uri );\n\t\t\tif ( handler !== null ) loader = handler;\n\n\t\t}\n\n\t\treturn this.loadTextureImage( textureIndex, source, loader );\n\n\t}\n\n\tloadTextureImage( textureIndex, source, loader ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\t\tconst options = this.options;\n\n\t\tconst textureDef = json.textures[ textureIndex ];\n\n\t\tconst cacheKey = ( source.uri || source.bufferView ) + ':' + textureDef.sampler;\n\n\t\tif ( this.textureCache[ cacheKey ] ) {\n\n\t\t\t// See https://github.com/mrdoob/three.js/issues/21559.\n\t\t\treturn this.textureCache[ cacheKey ];\n\n\t\t}\n\n\t\tconst URL = self.URL || self.webkitURL;\n\n\t\tlet sourceURI = source.uri || '';\n\t\tlet isObjectURL = false;\n\t\tlet hasAlpha = true;\n\n\t\tconst isJPEG = sourceURI.search( /\\.jpe?g($|\\?)/i ) > 0 || sourceURI.search( /^data\\:image\\/jpeg/ ) === 0;\n\n\t\tif ( source.mimeType === 'image/jpeg' || isJPEG ) hasAlpha = false;\n\n\t\tif ( source.bufferView !== undefined ) {\n\n\t\t\t// Load binary image data from bufferView, if provided.\n\n\t\t\tsourceURI = parser.getDependency( 'bufferView', source.bufferView ).then( function ( bufferView ) {\n\n\t\t\t\tif ( source.mimeType === 'image/png' ) {\n\n\t\t\t\t\t// Inspect the PNG 'IHDR' chunk to determine whether the image could have an\n\t\t\t\t\t// alpha channel. This check is conservative — the image could have an alpha\n\t\t\t\t\t// channel with all values == 1, and the indexed type (colorType == 3) only\n\t\t\t\t\t// sometimes contains alpha.\n\t\t\t\t\t//\n\t\t\t\t\t// https://en.wikipedia.org/wiki/Portable_Network_Graphics#File_header\n\t\t\t\t\tconst colorType = new DataView( bufferView, 25, 1 ).getUint8( 0, false );\n\t\t\t\t\thasAlpha = colorType === 6 || colorType === 4 || colorType === 3;\n\n\t\t\t\t}\n\n\t\t\t\tisObjectURL = true;\n\t\t\t\tconst blob = new Blob( [ bufferView ], { type: source.mimeType } );\n\t\t\t\tsourceURI = URL.createObjectURL( blob );\n\t\t\t\treturn sourceURI;\n\n\t\t\t} );\n\n\t\t} else if ( source.uri === undefined ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Image ' + textureIndex + ' is missing URI and bufferView' );\n\n\t\t}\n\n\t\tconst promise = Promise.resolve( sourceURI ).then( function ( sourceURI ) {\n\n\t\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\t\tlet onLoad = resolve;\n\n\t\t\t\tif ( loader.isImageBitmapLoader === true ) {\n\n\t\t\t\t\tonLoad = function ( imageBitmap ) {\n\n\t\t\t\t\t\tconst texture = new Texture( imageBitmap );\n\t\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\t\tresolve( texture );\n\n\t\t\t\t\t};\n\n\t\t\t\t}\n\n\t\t\t\tloader.load( resolveURL( sourceURI, options.path ), onLoad, undefined, reject );\n\n\t\t\t} );\n\n\t\t} ).then( function ( texture ) {\n\n\t\t\t// Clean up resources and configure Texture.\n\n\t\t\tif ( isObjectURL === true ) {\n\n\t\t\t\tURL.revokeObjectURL( sourceURI );\n\n\t\t\t}\n\n\t\t\ttexture.flipY = false;\n\n\t\t\tif ( textureDef.name ) texture.name = textureDef.name;\n\n\t\t\t// When there is definitely no alpha channel in the texture, set RGBFormat to save space.\n\t\t\tif ( ! hasAlpha ) texture.format = RGBFormat;\n\n\t\t\tconst samplers = json.samplers || {};\n\t\t\tconst sampler = samplers[ textureDef.sampler ] || {};\n\n\t\t\ttexture.magFilter = WEBGL_FILTERS[ sampler.magFilter ] || LinearFilter;\n\t\t\ttexture.minFilter = WEBGL_FILTERS[ sampler.minFilter ] || LinearMipmapLinearFilter;\n\t\t\ttexture.wrapS = WEBGL_WRAPPINGS[ sampler.wrapS ] || RepeatWrapping;\n\t\t\ttexture.wrapT = WEBGL_WRAPPINGS[ sampler.wrapT ] || RepeatWrapping;\n\n\t\t\tparser.associations.set( texture, {\n\t\t\t\ttype: 'textures',\n\t\t\t\tindex: textureIndex\n\t\t\t} );\n\n\t\t\treturn texture;\n\n\t\t} ).catch( function () {\n\n\t\t\tconsole.error( 'THREE.GLTFLoader: Couldn\\'t load texture', sourceURI );\n\t\t\treturn null;\n\n\t\t} );\n\n\t\tthis.textureCache[ cacheKey ] = promise;\n\n\t\treturn promise;\n\n\t}\n\n\t/**\n\t * Asynchronously assigns a texture to the given material parameters.\n\t * @param {Object} materialParams\n\t * @param {string} mapName\n\t * @param {Object} mapDef\n\t * @return {Promise}\n\t */\n\tassignTexture( materialParams, mapName, mapDef ) {\n\n\t\tconst parser = this;\n\n\t\treturn this.getDependency( 'texture', mapDef.index ).then( function ( texture ) {\n\n\t\t\t// Materials sample aoMap from UV set 1 and other maps from UV set 0 - this can't be configured\n\t\t\t// However, we will copy UV set 0 to UV set 1 on demand for aoMap\n\t\t\tif ( mapDef.texCoord !== undefined && mapDef.texCoord != 0 && ! ( mapName === 'aoMap' && mapDef.texCoord == 1 ) ) {\n\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Custom UV set ' + mapDef.texCoord + ' for texture ' + mapName + ' not yet supported.' );\n\n\t\t\t}\n\n\t\t\tif ( parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] ) {\n\n\t\t\t\tconst transform = mapDef.extensions !== undefined ? mapDef.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] : undefined;\n\n\t\t\t\tif ( transform ) {\n\n\t\t\t\t\tconst gltfReference = parser.associations.get( texture );\n\t\t\t\t\ttexture = parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ].extendTexture( texture, transform );\n\t\t\t\t\tparser.associations.set( texture, gltfReference );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tmaterialParams[ mapName ] = texture;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Assigns final material to a Mesh, Line, or Points instance. The instance\n\t * already has a material (generated from the glTF material options alone)\n\t * but reuse of the same glTF material may require multiple threejs materials\n\t * to accommodate different primitive types, defines, etc. New materials will\n\t * be created if necessary, and reused from a cache.\n\t * @param  {Object3D} mesh Mesh, Line, or Points instance.\n\t */\n\tassignFinalMaterial( mesh ) {\n\n\t\tconst geometry = mesh.geometry;\n\t\tlet material = mesh.material;\n\n\t\tconst useVertexTangents = geometry.attributes.tangent !== undefined;\n\t\tconst useVertexColors = geometry.attributes.color !== undefined;\n\t\tconst useFlatShading = geometry.attributes.normal === undefined;\n\t\tconst useMorphTargets = Object.keys( geometry.morphAttributes ).length > 0;\n\t\tconst useMorphNormals = useMorphTargets && geometry.morphAttributes.normal !== undefined;\n\n\t\tif ( mesh.isPoints ) {\n\n\t\t\tconst cacheKey = 'PointsMaterial:' + material.uuid;\n\n\t\t\tlet pointsMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! pointsMaterial ) {\n\n\t\t\t\tpointsMaterial = new PointsMaterial();\n\t\t\t\tMaterial.prototype.copy.call( pointsMaterial, material );\n\t\t\t\tpointsMaterial.color.copy( material.color );\n\t\t\t\tpointsMaterial.map = material.map;\n\t\t\t\tpointsMaterial.sizeAttenuation = false; // glTF spec says points should be 1px\n\n\t\t\t\tthis.cache.add( cacheKey, pointsMaterial );\n\n\t\t\t}\n\n\t\t\tmaterial = pointsMaterial;\n\n\t\t} else if ( mesh.isLine ) {\n\n\t\t\tconst cacheKey = 'LineBasicMaterial:' + material.uuid;\n\n\t\t\tlet lineMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! lineMaterial ) {\n\n\t\t\t\tlineMaterial = new LineBasicMaterial();\n\t\t\t\tMaterial.prototype.copy.call( lineMaterial, material );\n\t\t\t\tlineMaterial.color.copy( material.color );\n\n\t\t\t\tthis.cache.add( cacheKey, lineMaterial );\n\n\t\t\t}\n\n\t\t\tmaterial = lineMaterial;\n\n\t\t}\n\n\t\t// Clone the material if it will be modified\n\t\tif ( useVertexTangents || useVertexColors || useFlatShading || useMorphTargets ) {\n\n\t\t\tlet cacheKey = 'ClonedMaterial:' + material.uuid + ':';\n\n\t\t\tif ( material.isGLTFSpecularGlossinessMaterial ) cacheKey += 'specular-glossiness:';\n\t\t\tif ( useVertexTangents ) cacheKey += 'vertex-tangents:';\n\t\t\tif ( useVertexColors ) cacheKey += 'vertex-colors:';\n\t\t\tif ( useFlatShading ) cacheKey += 'flat-shading:';\n\t\t\tif ( useMorphTargets ) cacheKey += 'morph-targets:';\n\t\t\tif ( useMorphNormals ) cacheKey += 'morph-normals:';\n\n\t\t\tlet cachedMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! cachedMaterial ) {\n\n\t\t\t\tcachedMaterial = material.clone();\n\n\t\t\t\tif ( useVertexColors ) cachedMaterial.vertexColors = true;\n\t\t\t\tif ( useFlatShading ) cachedMaterial.flatShading = true;\n\t\t\t\tif ( useMorphTargets ) cachedMaterial.morphTargets = true;\n\t\t\t\tif ( useMorphNormals ) cachedMaterial.morphNormals = true;\n\n\t\t\t\tif ( useVertexTangents ) {\n\n\t\t\t\t\tcachedMaterial.vertexTangents = true;\n\n\t\t\t\t\t// https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\n\t\t\t\t\tif ( cachedMaterial.normalScale ) cachedMaterial.normalScale.y *= - 1;\n\t\t\t\t\tif ( cachedMaterial.clearcoatNormalScale ) cachedMaterial.clearcoatNormalScale.y *= - 1;\n\n\t\t\t\t}\n\n\t\t\t\tthis.cache.add( cacheKey, cachedMaterial );\n\n\t\t\t\tthis.associations.set( cachedMaterial, this.associations.get( material ) );\n\n\t\t\t}\n\n\t\t\tmaterial = cachedMaterial;\n\n\t\t}\n\n\t\t// workarounds for mesh and geometry\n\n\t\tif ( material.aoMap && geometry.attributes.uv2 === undefined && geometry.attributes.uv !== undefined ) {\n\n\t\t\tgeometry.setAttribute( 'uv2', geometry.attributes.uv );\n\n\t\t}\n\n\t\tmesh.material = material;\n\n\t}\n\n\tgetMaterialType( /* materialIndex */ ) {\n\n\t\treturn MeshStandardMaterial;\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#materials\n\t * @param {number} materialIndex\n\t * @return {Promise<Material>}\n\t */\n\tloadMaterial( materialIndex ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\t\tconst materialDef = json.materials[ materialIndex ];\n\n\t\tlet materialType;\n\t\tconst materialParams = {};\n\t\tconst materialExtensions = materialDef.extensions || {};\n\n\t\tconst pending = [];\n\n\t\tif ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ] ) {\n\n\t\t\tconst sgExtension = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ];\n\t\t\tmaterialType = sgExtension.getMaterialType();\n\t\t\tpending.push( sgExtension.extendParams( materialParams, materialDef, parser ) );\n\n\t\t} else if ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ] ) {\n\n\t\t\tconst kmuExtension = extensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ];\n\t\t\tmaterialType = kmuExtension.getMaterialType();\n\t\t\tpending.push( kmuExtension.extendParams( materialParams, materialDef, parser ) );\n\n\t\t} else {\n\n\t\t\t// Specification:\n\t\t\t// https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#metallic-roughness-material\n\n\t\t\tconst metallicRoughness = materialDef.pbrMetallicRoughness || {};\n\n\t\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\t\tmaterialParams.opacity = 1.0;\n\n\t\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\n\n\t\t\t\tconst array = metallicRoughness.baseColorFactor;\n\n\t\t\t\tmaterialParams.color.fromArray( array );\n\t\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t\t}\n\n\t\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture ) );\n\n\t\t\t}\n\n\t\t\tmaterialParams.metalness = metallicRoughness.metallicFactor !== undefined ? metallicRoughness.metallicFactor : 1.0;\n\t\t\tmaterialParams.roughness = metallicRoughness.roughnessFactor !== undefined ? metallicRoughness.roughnessFactor : 1.0;\n\n\t\t\tif ( metallicRoughness.metallicRoughnessTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'metalnessMap', metallicRoughness.metallicRoughnessTexture ) );\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'roughnessMap', metallicRoughness.metallicRoughnessTexture ) );\n\n\t\t\t}\n\n\t\t\tmaterialType = this._invokeOne( function ( ext ) {\n\n\t\t\t\treturn ext.getMaterialType && ext.getMaterialType( materialIndex );\n\n\t\t\t} );\n\n\t\t\tpending.push( Promise.all( this._invokeAll( function ( ext ) {\n\n\t\t\t\treturn ext.extendMaterialParams && ext.extendMaterialParams( materialIndex, materialParams );\n\n\t\t\t} ) ) );\n\n\t\t}\n\n\t\tif ( materialDef.doubleSided === true ) {\n\n\t\t\tmaterialParams.side = DoubleSide;\n\n\t\t}\n\n\t\tconst alphaMode = materialDef.alphaMode || ALPHA_MODES.OPAQUE;\n\n\t\tif ( alphaMode === ALPHA_MODES.BLEND ) {\n\n\t\t\tmaterialParams.transparent = true;\n\n\t\t\t// See: https://github.com/mrdoob/three.js/issues/17706\n\t\t\tmaterialParams.depthWrite = false;\n\n\t\t} else {\n\n\t\t\tmaterialParams.transparent = false;\n\n\t\t\tif ( alphaMode === ALPHA_MODES.MASK ) {\n\n\t\t\t\tmaterialParams.alphaTest = materialDef.alphaCutoff !== undefined ? materialDef.alphaCutoff : 0.5;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.normalTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'normalMap', materialDef.normalTexture ) );\n\n\t\t\t// https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\n\t\t\tmaterialParams.normalScale = new Vector2( 1, - 1 );\n\n\t\t\tif ( materialDef.normalTexture.scale !== undefined ) {\n\n\t\t\t\tmaterialParams.normalScale.set( materialDef.normalTexture.scale, - materialDef.normalTexture.scale );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.occlusionTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'aoMap', materialDef.occlusionTexture ) );\n\n\t\t\tif ( materialDef.occlusionTexture.strength !== undefined ) {\n\n\t\t\t\tmaterialParams.aoMapIntensity = materialDef.occlusionTexture.strength;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.emissiveFactor !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tmaterialParams.emissive = new Color().fromArray( materialDef.emissiveFactor );\n\n\t\t}\n\n\t\tif ( materialDef.emissiveTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'emissiveMap', materialDef.emissiveTexture ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending ).then( function () {\n\n\t\t\tlet material;\n\n\t\t\tif ( materialType === GLTFMeshStandardSGMaterial ) {\n\n\t\t\t\tmaterial = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ].createMaterial( materialParams );\n\n\t\t\t} else {\n\n\t\t\t\tmaterial = new materialType( materialParams );\n\n\t\t\t}\n\n\t\t\tif ( materialDef.name ) material.name = materialDef.name;\n\n\t\t\t// baseColorTexture, emissiveTexture, and specularGlossinessTexture use sRGB encoding.\n\t\t\tif ( material.map ) material.map.encoding = sRGBEncoding;\n\t\t\tif ( material.emissiveMap ) material.emissiveMap.encoding = sRGBEncoding;\n\n\t\t\tassignExtrasToUserData( material, materialDef );\n\n\t\t\tparser.associations.set( material, { type: 'materials', index: materialIndex } );\n\n\t\t\tif ( materialDef.extensions ) addUnknownExtensionsToUserData( extensions, material, materialDef );\n\n\t\t\treturn material;\n\n\t\t} );\n\n\t}\n\n\t/** When Object3D instances are targeted by animation, they need unique names. */\n\tcreateUniqueName( originalName ) {\n\n\t\tconst sanitizedName = PropertyBinding.sanitizeNodeName( originalName || '' );\n\n\t\tlet name = sanitizedName;\n\n\t\tfor ( let i = 1; this.nodeNamesUsed[ name ]; ++ i ) {\n\n\t\t\tname = sanitizedName + '_' + i;\n\n\t\t}\n\n\t\tthis.nodeNamesUsed[ name ] = true;\n\n\t\treturn name;\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#geometry\n\t *\n\t * Creates BufferGeometries from primitives.\n\t *\n\t * @param {Array<GLTF.Primitive>} primitives\n\t * @return {Promise<Array<BufferGeometry>>}\n\t */\n\tloadGeometries( primitives ) {\n\n\t\tconst parser = this;\n\t\tconst extensions = this.extensions;\n\t\tconst cache = this.primitiveCache;\n\n\t\tfunction createDracoPrimitive( primitive ) {\n\n\t\t\treturn extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ]\n\t\t\t\t.decodePrimitive( primitive, parser )\n\t\t\t\t.then( function ( geometry ) {\n\n\t\t\t\t\treturn addPrimitiveAttributes( geometry, primitive, parser );\n\n\t\t\t\t} );\n\n\t\t}\n\n\t\tconst pending = [];\n\n\t\tfor ( let i = 0, il = primitives.length; i < il; i ++ ) {\n\n\t\t\tconst primitive = primitives[ i ];\n\t\t\tconst cacheKey = createPrimitiveKey( primitive );\n\n\t\t\t// See if we've already created this geometry\n\t\t\tconst cached = cache[ cacheKey ];\n\n\t\t\tif ( cached ) {\n\n\t\t\t\t// Use the cached geometry if it exists\n\t\t\t\tpending.push( cached.promise );\n\n\t\t\t} else {\n\n\t\t\t\tlet geometryPromise;\n\n\t\t\t\tif ( primitive.extensions && primitive.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ] ) {\n\n\t\t\t\t\t// Use DRACO geometry if available\n\t\t\t\t\tgeometryPromise = createDracoPrimitive( primitive );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Otherwise create a new geometry\n\t\t\t\t\tgeometryPromise = addPrimitiveAttributes( new BufferGeometry(), primitive, parser );\n\n\t\t\t\t}\n\n\t\t\t\t// Cache this geometry\n\t\t\t\tcache[ cacheKey ] = { primitive: primitive, promise: geometryPromise };\n\n\t\t\t\tpending.push( geometryPromise );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes\n\t * @param {number} meshIndex\n\t * @return {Promise<Group|Mesh|SkinnedMesh>}\n\t */\n\tloadMesh( meshIndex ) {\n\n\t\tconst parser = this;\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\n\t\tconst meshDef = json.meshes[ meshIndex ];\n\t\tconst primitives = meshDef.primitives;\n\n\t\tconst pending = [];\n\n\t\tfor ( let i = 0, il = primitives.length; i < il; i ++ ) {\n\n\t\t\tconst material = primitives[ i ].material === undefined\n\t\t\t\t? createDefaultMaterial( this.cache )\n\t\t\t\t: this.getDependency( 'material', primitives[ i ].material );\n\n\t\t\tpending.push( material );\n\n\t\t}\n\n\t\tpending.push( parser.loadGeometries( primitives ) );\n\n\t\treturn Promise.all( pending ).then( function ( results ) {\n\n\t\t\tconst materials = results.slice( 0, results.length - 1 );\n\t\t\tconst geometries = results[ results.length - 1 ];\n\n\t\t\tconst meshes = [];\n\n\t\t\tfor ( let i = 0, il = geometries.length; i < il; i ++ ) {\n\n\t\t\t\tconst geometry = geometries[ i ];\n\t\t\t\tconst primitive = primitives[ i ];\n\n\t\t\t\t// 1. create Mesh\n\n\t\t\t\tlet mesh;\n\n\t\t\t\tconst material = materials[ i ];\n\n\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLES ||\n\t\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ||\n\t\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ||\n\t\t\t\t\t\tprimitive.mode === undefined ) {\n\n\t\t\t\t\t// .isSkinnedMesh isn't in glTF spec. See ._markDefs()\n\t\t\t\t\tmesh = meshDef.isSkinnedMesh === true\n\t\t\t\t\t\t? new SkinnedMesh( geometry, material )\n\t\t\t\t\t\t: new Mesh( geometry, material );\n\n\t\t\t\t\tif ( mesh.isSkinnedMesh === true && ! mesh.geometry.attributes.skinWeight.normalized ) {\n\n\t\t\t\t\t\t// we normalize floating point skin weight array to fix malformed assets (see #15319)\n\t\t\t\t\t\t// it's important to skip this for non-float32 data since normalizeSkinWeights assumes non-normalized inputs\n\t\t\t\t\t\tmesh.normalizeSkinWeights();\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ) {\n\n\t\t\t\t\t\tmesh.geometry = toTrianglesDrawMode( mesh.geometry, TriangleStripDrawMode );\n\n\t\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ) {\n\n\t\t\t\t\t\tmesh.geometry = toTrianglesDrawMode( mesh.geometry, TriangleFanDrawMode );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINES ) {\n\n\t\t\t\t\tmesh = new LineSegments( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_STRIP ) {\n\n\t\t\t\t\tmesh = new Line( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_LOOP ) {\n\n\t\t\t\t\tmesh = new LineLoop( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.POINTS ) {\n\n\t\t\t\t\tmesh = new Points( geometry, material );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Primitive mode unsupported: ' + primitive.mode );\n\n\t\t\t\t}\n\n\t\t\t\tif ( Object.keys( mesh.geometry.morphAttributes ).length > 0 ) {\n\n\t\t\t\t\tupdateMorphTargets( mesh, meshDef );\n\n\t\t\t\t}\n\n\t\t\t\tmesh.name = parser.createUniqueName( meshDef.name || ( 'mesh_' + meshIndex ) );\n\n\t\t\t\tassignExtrasToUserData( mesh, meshDef );\n\n\t\t\t\tif ( primitive.extensions ) addUnknownExtensionsToUserData( extensions, mesh, primitive );\n\n\t\t\t\tparser.assignFinalMaterial( mesh );\n\n\t\t\t\tmeshes.push( mesh );\n\n\t\t\t}\n\n\t\t\tif ( meshes.length === 1 ) {\n\n\t\t\t\treturn meshes[ 0 ];\n\n\t\t\t}\n\n\t\t\tconst group = new Group();\n\n\t\t\tfor ( let i = 0, il = meshes.length; i < il; i ++ ) {\n\n\t\t\t\tgroup.add( meshes[ i ] );\n\n\t\t\t}\n\n\t\t\treturn group;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras\n\t * @param {number} cameraIndex\n\t * @return {Promise<THREE.Camera>}\n\t */\n\tloadCamera( cameraIndex ) {\n\n\t\tlet camera;\n\t\tconst cameraDef = this.json.cameras[ cameraIndex ];\n\t\tconst params = cameraDef[ cameraDef.type ];\n\n\t\tif ( ! params ) {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing camera parameters.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( cameraDef.type === 'perspective' ) {\n\n\t\t\tcamera = new PerspectiveCamera( MathUtils.radToDeg( params.yfov ), params.aspectRatio || 1, params.znear || 1, params.zfar || 2e6 );\n\n\t\t} else if ( cameraDef.type === 'orthographic' ) {\n\n\t\t\tcamera = new OrthographicCamera( - params.xmag, params.xmag, params.ymag, - params.ymag, params.znear, params.zfar );\n\n\t\t}\n\n\t\tif ( cameraDef.name ) camera.name = this.createUniqueName( cameraDef.name );\n\n\t\tassignExtrasToUserData( camera, cameraDef );\n\n\t\treturn Promise.resolve( camera );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins\n\t * @param {number} skinIndex\n\t * @return {Promise<Object>}\n\t */\n\tloadSkin( skinIndex ) {\n\n\t\tconst skinDef = this.json.skins[ skinIndex ];\n\n\t\tconst skinEntry = { joints: skinDef.joints };\n\n\t\tif ( skinDef.inverseBindMatrices === undefined ) {\n\n\t\t\treturn Promise.resolve( skinEntry );\n\n\t\t}\n\n\t\treturn this.getDependency( 'accessor', skinDef.inverseBindMatrices ).then( function ( accessor ) {\n\n\t\t\tskinEntry.inverseBindMatrices = accessor;\n\n\t\t\treturn skinEntry;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations\n\t * @param {number} animationIndex\n\t * @return {Promise<AnimationClip>}\n\t */\n\tloadAnimation( animationIndex ) {\n\n\t\tconst json = this.json;\n\n\t\tconst animationDef = json.animations[ animationIndex ];\n\n\t\tconst pendingNodes = [];\n\t\tconst pendingInputAccessors = [];\n\t\tconst pendingOutputAccessors = [];\n\t\tconst pendingSamplers = [];\n\t\tconst pendingTargets = [];\n\n\t\tfor ( let i = 0, il = animationDef.channels.length; i < il; i ++ ) {\n\n\t\t\tconst channel = animationDef.channels[ i ];\n\t\t\tconst sampler = animationDef.samplers[ channel.sampler ];\n\t\t\tconst target = channel.target;\n\t\t\tconst name = target.node !== undefined ? target.node : target.id; // NOTE: target.id is deprecated.\n\t\t\tconst input = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.input ] : sampler.input;\n\t\t\tconst output = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.output ] : sampler.output;\n\n\t\t\tpendingNodes.push( this.getDependency( 'node', name ) );\n\t\t\tpendingInputAccessors.push( this.getDependency( 'accessor', input ) );\n\t\t\tpendingOutputAccessors.push( this.getDependency( 'accessor', output ) );\n\t\t\tpendingSamplers.push( sampler );\n\t\t\tpendingTargets.push( target );\n\n\t\t}\n\n\t\treturn Promise.all( [\n\n\t\t\tPromise.all( pendingNodes ),\n\t\t\tPromise.all( pendingInputAccessors ),\n\t\t\tPromise.all( pendingOutputAccessors ),\n\t\t\tPromise.all( pendingSamplers ),\n\t\t\tPromise.all( pendingTargets )\n\n\t\t] ).then( function ( dependencies ) {\n\n\t\t\tconst nodes = dependencies[ 0 ];\n\t\t\tconst inputAccessors = dependencies[ 1 ];\n\t\t\tconst outputAccessors = dependencies[ 2 ];\n\t\t\tconst samplers = dependencies[ 3 ];\n\t\t\tconst targets = dependencies[ 4 ];\n\n\t\t\tconst tracks = [];\n\n\t\t\tfor ( let i = 0, il = nodes.length; i < il; i ++ ) {\n\n\t\t\t\tconst node = nodes[ i ];\n\t\t\t\tconst inputAccessor = inputAccessors[ i ];\n\t\t\t\tconst outputAccessor = outputAccessors[ i ];\n\t\t\t\tconst sampler = samplers[ i ];\n\t\t\t\tconst target = targets[ i ];\n\n\t\t\t\tif ( node === undefined ) continue;\n\n\t\t\t\tnode.updateMatrix();\n\t\t\t\tnode.matrixAutoUpdate = true;\n\n\t\t\t\tlet TypedKeyframeTrack;\n\n\t\t\t\tswitch ( PATH_PROPERTIES[ target.path ] ) {\n\n\t\t\t\t\tcase PATH_PROPERTIES.weights:\n\n\t\t\t\t\t\tTypedKeyframeTrack = NumberKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase PATH_PROPERTIES.rotation:\n\n\t\t\t\t\t\tTypedKeyframeTrack = QuaternionKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase PATH_PROPERTIES.position:\n\t\t\t\t\tcase PATH_PROPERTIES.scale:\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tTypedKeyframeTrack = VectorKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\tconst targetName = node.name ? node.name : node.uuid;\n\n\t\t\t\tconst interpolation = sampler.interpolation !== undefined ? INTERPOLATION[ sampler.interpolation ] : InterpolateLinear;\n\n\t\t\t\tconst targetNames = [];\n\n\t\t\t\tif ( PATH_PROPERTIES[ target.path ] === PATH_PROPERTIES.weights ) {\n\n\t\t\t\t\t// Node may be a Group (glTF mesh with several primitives) or a Mesh.\n\t\t\t\t\tnode.traverse( function ( object ) {\n\n\t\t\t\t\t\tif ( object.isMesh === true && object.morphTargetInfluences ) {\n\n\t\t\t\t\t\t\ttargetNames.push( object.name ? object.name : object.uuid );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttargetNames.push( targetName );\n\n\t\t\t\t}\n\n\t\t\t\tlet outputArray = outputAccessor.array;\n\n\t\t\t\tif ( outputAccessor.normalized ) {\n\n\t\t\t\t\tconst scale = getNormalizedComponentScale( outputArray.constructor );\n\t\t\t\t\tconst scaled = new Float32Array( outputArray.length );\n\n\t\t\t\t\tfor ( let j = 0, jl = outputArray.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tscaled[ j ] = outputArray[ j ] * scale;\n\n\t\t\t\t\t}\n\n\t\t\t\t\toutputArray = scaled;\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let j = 0, jl = targetNames.length; j < jl; j ++ ) {\n\n\t\t\t\t\tconst track = new TypedKeyframeTrack(\n\t\t\t\t\t\ttargetNames[ j ] + '.' + PATH_PROPERTIES[ target.path ],\n\t\t\t\t\t\tinputAccessor.array,\n\t\t\t\t\t\toutputArray,\n\t\t\t\t\t\tinterpolation\n\t\t\t\t\t);\n\n\t\t\t\t\t// Override interpolation with custom factory method.\n\t\t\t\t\tif ( sampler.interpolation === 'CUBICSPLINE' ) {\n\n\t\t\t\t\t\ttrack.createInterpolant = function InterpolantFactoryMethodGLTFCubicSpline( result ) {\n\n\t\t\t\t\t\t\t// A CUBICSPLINE keyframe in glTF has three output values for each input value,\n\t\t\t\t\t\t\t// representing inTangent, splineVertex, and outTangent. As a result, track.getValueSize()\n\t\t\t\t\t\t\t// must be divided by three to get the interpolant's sampleSize argument.\n\n\t\t\t\t\t\t\treturn new GLTFCubicSplineInterpolant( this.times, this.values, this.getValueSize() / 3, result );\n\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// Mark as CUBICSPLINE. `track.getInterpolation()` doesn't support custom interpolants.\n\t\t\t\t\t\ttrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttracks.push( track );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst name = animationDef.name ? animationDef.name : 'animation_' + animationIndex;\n\n\t\t\treturn new AnimationClip( name, undefined, tracks );\n\n\t\t} );\n\n\t}\n\n\tcreateNodeMesh( nodeIndex ) {\n\n\t\tconst json = this.json;\n\t\tconst parser = this;\n\t\tconst nodeDef = json.nodes[ nodeIndex ];\n\n\t\tif ( nodeDef.mesh === undefined ) return null;\n\n\t\treturn parser.getDependency( 'mesh', nodeDef.mesh ).then( function ( mesh ) {\n\n\t\t\tconst node = parser._getNodeRef( parser.meshCache, nodeDef.mesh, mesh );\n\n\t\t\t// if weights are provided on the node, override weights on the mesh.\n\t\t\tif ( nodeDef.weights !== undefined ) {\n\n\t\t\t\tnode.traverse( function ( o ) {\n\n\t\t\t\t\tif ( ! o.isMesh ) return;\n\n\t\t\t\t\tfor ( let i = 0, il = nodeDef.weights.length; i < il; i ++ ) {\n\n\t\t\t\t\t\to.morphTargetInfluences[ i ] = nodeDef.weights[ i ];\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\treturn node;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy\n\t * @param {number} nodeIndex\n\t * @return {Promise<Object3D>}\n\t */\n\tloadNode( nodeIndex ) {\n\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\t\tconst parser = this;\n\n\t\tconst nodeDef = json.nodes[ nodeIndex ];\n\n\t\t// reserve node's name before its dependencies, so the root has the intended name.\n\t\tconst nodeName = nodeDef.name ? parser.createUniqueName( nodeDef.name ) : '';\n\n\t\treturn ( function () {\n\n\t\t\tconst pending = [];\n\n\t\t\tconst meshPromise = parser._invokeOne( function ( ext ) {\n\n\t\t\t\treturn ext.createNodeMesh && ext.createNodeMesh( nodeIndex );\n\n\t\t\t} );\n\n\t\t\tif ( meshPromise ) {\n\n\t\t\t\tpending.push( meshPromise );\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.camera !== undefined ) {\n\n\t\t\t\tpending.push( parser.getDependency( 'camera', nodeDef.camera ).then( function ( camera ) {\n\n\t\t\t\t\treturn parser._getNodeRef( parser.cameraCache, nodeDef.camera, camera );\n\n\t\t\t\t} ) );\n\n\t\t\t}\n\n\t\t\tparser._invokeAll( function ( ext ) {\n\n\t\t\t\treturn ext.createNodeAttachment && ext.createNodeAttachment( nodeIndex );\n\n\t\t\t} ).forEach( function ( promise ) {\n\n\t\t\t\tpending.push( promise );\n\n\t\t\t} );\n\n\t\t\treturn Promise.all( pending );\n\n\t\t}() ).then( function ( objects ) {\n\n\t\t\tlet node;\n\n\t\t\t// .isBone isn't in glTF spec. See ._markDefs\n\t\t\tif ( nodeDef.isBone === true ) {\n\n\t\t\t\tnode = new Bone();\n\n\t\t\t} else if ( objects.length > 1 ) {\n\n\t\t\t\tnode = new Group();\n\n\t\t\t} else if ( objects.length === 1 ) {\n\n\t\t\t\tnode = objects[ 0 ];\n\n\t\t\t} else {\n\n\t\t\t\tnode = new Object3D();\n\n\t\t\t}\n\n\t\t\tif ( node !== objects[ 0 ] ) {\n\n\t\t\t\tfor ( let i = 0, il = objects.length; i < il; i ++ ) {\n\n\t\t\t\t\tnode.add( objects[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.name ) {\n\n\t\t\t\tnode.userData.name = nodeDef.name;\n\t\t\t\tnode.name = nodeName;\n\n\t\t\t}\n\n\t\t\tassignExtrasToUserData( node, nodeDef );\n\n\t\t\tif ( nodeDef.extensions ) addUnknownExtensionsToUserData( extensions, node, nodeDef );\n\n\t\t\tif ( nodeDef.matrix !== undefined ) {\n\n\t\t\t\tconst matrix = new Matrix4();\n\t\t\t\tmatrix.fromArray( nodeDef.matrix );\n\t\t\t\tnode.applyMatrix4( matrix );\n\n\t\t\t} else {\n\n\t\t\t\tif ( nodeDef.translation !== undefined ) {\n\n\t\t\t\t\tnode.position.fromArray( nodeDef.translation );\n\n\t\t\t\t}\n\n\t\t\t\tif ( nodeDef.rotation !== undefined ) {\n\n\t\t\t\t\tnode.quaternion.fromArray( nodeDef.rotation );\n\n\t\t\t\t}\n\n\t\t\t\tif ( nodeDef.scale !== undefined ) {\n\n\t\t\t\t\tnode.scale.fromArray( nodeDef.scale );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tparser.associations.set( node, { type: 'nodes', index: nodeIndex } );\n\n\t\t\treturn node;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes\n\t * @param {number} sceneIndex\n\t * @return {Promise<Group>}\n\t */\n\tloadScene( sceneIndex ) {\n\n\t\tconst json = this.json;\n\t\tconst extensions = this.extensions;\n\t\tconst sceneDef = this.json.scenes[ sceneIndex ];\n\t\tconst parser = this;\n\n\t\t// Loader returns Group, not Scene.\n\t\t// See: https://github.com/mrdoob/three.js/issues/18342#issuecomment-578981172\n\t\tconst scene = new Group();\n\t\tif ( sceneDef.name ) scene.name = parser.createUniqueName( sceneDef.name );\n\n\t\tassignExtrasToUserData( scene, sceneDef );\n\n\t\tif ( sceneDef.extensions ) addUnknownExtensionsToUserData( extensions, scene, sceneDef );\n\n\t\tconst nodeIds = sceneDef.nodes || [];\n\n\t\tconst pending = [];\n\n\t\tfor ( let i = 0, il = nodeIds.length; i < il; i ++ ) {\n\n\t\t\tpending.push( buildNodeHierachy( nodeIds[ i ], scene, json, parser ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending ).then( function () {\n\n\t\t\treturn scene;\n\n\t\t} );\n\n\t}\n\n}\n\nfunction buildNodeHierachy( nodeId, parentObject, json, parser ) {\n\n\tconst nodeDef = json.nodes[ nodeId ];\n\n\treturn parser.getDependency( 'node', nodeId ).then( function ( node ) {\n\n\t\tif ( nodeDef.skin === undefined ) return node;\n\n\t\t// build skeleton here as well\n\n\t\tlet skinEntry;\n\n\t\treturn parser.getDependency( 'skin', nodeDef.skin ).then( function ( skin ) {\n\n\t\t\tskinEntry = skin;\n\n\t\t\tconst pendingJoints = [];\n\n\t\t\tfor ( let i = 0, il = skinEntry.joints.length; i < il; i ++ ) {\n\n\t\t\t\tpendingJoints.push( parser.getDependency( 'node', skinEntry.joints[ i ] ) );\n\n\t\t\t}\n\n\t\t\treturn Promise.all( pendingJoints );\n\n\t\t} ).then( function ( jointNodes ) {\n\n\t\t\tnode.traverse( function ( mesh ) {\n\n\t\t\t\tif ( ! mesh.isMesh ) return;\n\n\t\t\t\tconst bones = [];\n\t\t\t\tconst boneInverses = [];\n\n\t\t\t\tfor ( let j = 0, jl = jointNodes.length; j < jl; j ++ ) {\n\n\t\t\t\t\tconst jointNode = jointNodes[ j ];\n\n\t\t\t\t\tif ( jointNode ) {\n\n\t\t\t\t\t\tbones.push( jointNode );\n\n\t\t\t\t\t\tconst mat = new Matrix4();\n\n\t\t\t\t\t\tif ( skinEntry.inverseBindMatrices !== undefined ) {\n\n\t\t\t\t\t\t\tmat.fromArray( skinEntry.inverseBindMatrices.array, j * 16 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tboneInverses.push( mat );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Joint \"%s\" could not be found.', skinEntry.joints[ j ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tmesh.bind( new Skeleton( bones, boneInverses ), mesh.matrixWorld );\n\n\t\t\t} );\n\n\t\t\treturn node;\n\n\t\t} );\n\n\t} ).then( function ( node ) {\n\n\t\t// build node hierachy\n\n\t\tparentObject.add( node );\n\n\t\tconst pending = [];\n\n\t\tif ( nodeDef.children ) {\n\n\t\t\tconst children = nodeDef.children;\n\n\t\t\tfor ( let i = 0, il = children.length; i < il; i ++ ) {\n\n\t\t\t\tconst child = children[ i ];\n\t\t\t\tpending.push( buildNodeHierachy( child, node, json, parser ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t} );\n\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {GLTF.Primitive} primitiveDef\n * @param {GLTFParser} parser\n */\nfunction computeBounds( geometry, primitiveDef, parser ) {\n\n\tconst attributes = primitiveDef.attributes;\n\n\tconst box = new Box3();\n\n\tif ( attributes.POSITION !== undefined ) {\n\n\t\tconst accessor = parser.json.accessors[ attributes.POSITION ];\n\n\t\tconst min = accessor.min;\n\t\tconst max = accessor.max;\n\n\t\t// glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n\t\tif ( min !== undefined && max !== undefined ) {\n\n\t\t\tbox.set(\n\t\t\t\tnew Vector3( min[ 0 ], min[ 1 ], min[ 2 ] ),\n\t\t\t\tnew Vector3( max[ 0 ], max[ 1 ], max[ 2 ] )\n\t\t\t);\n\n\t\t\tif ( accessor.normalized ) {\n\n\t\t\t\tconst boxScale = getNormalizedComponentScale( WEBGL_COMPONENT_TYPES[ accessor.componentType ] );\n\t\t\t\tbox.min.multiplyScalar( boxScale );\n\t\t\t\tbox.max.multiplyScalar( boxScale );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing min/max properties for accessor POSITION.' );\n\n\t\t\treturn;\n\n\t\t}\n\n\t} else {\n\n\t\treturn;\n\n\t}\n\n\tconst targets = primitiveDef.targets;\n\n\tif ( targets !== undefined ) {\n\n\t\tconst maxDisplacement = new Vector3();\n\t\tconst vector = new Vector3();\n\n\t\tfor ( let i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\t\tconst target = targets[ i ];\n\n\t\t\tif ( target.POSITION !== undefined ) {\n\n\t\t\t\tconst accessor = parser.json.accessors[ target.POSITION ];\n\t\t\t\tconst min = accessor.min;\n\t\t\t\tconst max = accessor.max;\n\n\t\t\t\t// glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n\t\t\t\tif ( min !== undefined && max !== undefined ) {\n\n\t\t\t\t\t// we need to get max of absolute components because target weight is [-1,1]\n\t\t\t\t\tvector.setX( Math.max( Math.abs( min[ 0 ] ), Math.abs( max[ 0 ] ) ) );\n\t\t\t\t\tvector.setY( Math.max( Math.abs( min[ 1 ] ), Math.abs( max[ 1 ] ) ) );\n\t\t\t\t\tvector.setZ( Math.max( Math.abs( min[ 2 ] ), Math.abs( max[ 2 ] ) ) );\n\n\n\t\t\t\t\tif ( accessor.normalized ) {\n\n\t\t\t\t\t\tconst boxScale = getNormalizedComponentScale( WEBGL_COMPONENT_TYPES[ accessor.componentType ] );\n\t\t\t\t\t\tvector.multiplyScalar( boxScale );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Note: this assumes that the sum of all weights is at most 1. This isn't quite correct - it's more conservative\n\t\t\t\t\t// to assume that each target can have a max weight of 1. However, for some use cases - notably, when morph targets\n\t\t\t\t\t// are used to implement key-frame animations and as such only two are active at a time - this results in very large\n\t\t\t\t\t// boxes. So for now we make a box that's sometimes a touch too small but is hopefully mostly of reasonable size.\n\t\t\t\t\tmaxDisplacement.max( vector );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing min/max properties for accessor POSITION.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// As per comment above this box isn't conservative, but has a reasonable size for a very large number of morph targets.\n\t\tbox.expandByVector( maxDisplacement );\n\n\t}\n\n\tgeometry.boundingBox = box;\n\n\tconst sphere = new Sphere();\n\n\tbox.getCenter( sphere.center );\n\tsphere.radius = box.min.distanceTo( box.max ) / 2;\n\n\tgeometry.boundingSphere = sphere;\n\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {GLTF.Primitive} primitiveDef\n * @param {GLTFParser} parser\n * @return {Promise<BufferGeometry>}\n */\nfunction addPrimitiveAttributes( geometry, primitiveDef, parser ) {\n\n\tconst attributes = primitiveDef.attributes;\n\n\tconst pending = [];\n\n\tfunction assignAttributeAccessor( accessorIndex, attributeName ) {\n\n\t\treturn parser.getDependency( 'accessor', accessorIndex )\n\t\t\t.then( function ( accessor ) {\n\n\t\t\t\tgeometry.setAttribute( attributeName, accessor );\n\n\t\t\t} );\n\n\t}\n\n\tfor ( const gltfAttributeName in attributes ) {\n\n\t\tconst threeAttributeName = ATTRIBUTES[ gltfAttributeName ] || gltfAttributeName.toLowerCase();\n\n\t\t// Skip attributes already provided by e.g. Draco extension.\n\t\tif ( threeAttributeName in geometry.attributes ) continue;\n\n\t\tpending.push( assignAttributeAccessor( attributes[ gltfAttributeName ], threeAttributeName ) );\n\n\t}\n\n\tif ( primitiveDef.indices !== undefined && ! geometry.index ) {\n\n\t\tconst accessor = parser.getDependency( 'accessor', primitiveDef.indices ).then( function ( accessor ) {\n\n\t\t\tgeometry.setIndex( accessor );\n\n\t\t} );\n\n\t\tpending.push( accessor );\n\n\t}\n\n\tassignExtrasToUserData( geometry, primitiveDef );\n\n\tcomputeBounds( geometry, primitiveDef, parser );\n\n\treturn Promise.all( pending ).then( function () {\n\n\t\treturn primitiveDef.targets !== undefined\n\t\t\t? addMorphTargets( geometry, primitiveDef.targets, parser )\n\t\t\t: geometry;\n\n\t} );\n\n}\n\n/**\n * @param {BufferGeometry} geometry\n * @param {Number} drawMode\n * @return {BufferGeometry}\n */\nfunction toTrianglesDrawMode( geometry, drawMode ) {\n\n\tlet index = geometry.getIndex();\n\n\t// generate index if not present\n\n\tif ( index === null ) {\n\n\t\tconst indices = [];\n\n\t\tconst position = geometry.getAttribute( 'position' );\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tfor ( let i = 0; i < position.count; i ++ ) {\n\n\t\t\t\tindices.push( i );\n\n\t\t\t}\n\n\t\t\tgeometry.setIndex( indices );\n\t\t\tindex = geometry.getIndex();\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.' );\n\t\t\treturn geometry;\n\n\t\t}\n\n\t}\n\n\t//\n\n\tconst numberOfTriangles = index.count - 2;\n\tconst newIndices = [];\n\n\tif ( drawMode === TriangleFanDrawMode ) {\n\n\t\t// gl.TRIANGLE_FAN\n\n\t\tfor ( let i = 1; i <= numberOfTriangles; i ++ ) {\n\n\t\t\tnewIndices.push( index.getX( 0 ) );\n\t\t\tnewIndices.push( index.getX( i ) );\n\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\n\t\t}\n\n\t} else {\n\n\t\t// gl.TRIANGLE_STRIP\n\n\t\tfor ( let i = 0; i < numberOfTriangles; i ++ ) {\n\n\t\t\tif ( i % 2 === 0 ) {\n\n\t\t\t\tnewIndices.push( index.getX( i ) );\n\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\n\n\n\t\t\t} else {\n\n\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\n\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\t\t\t\tnewIndices.push( index.getX( i ) );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tif ( ( newIndices.length / 3 ) !== numberOfTriangles ) {\n\n\t\tconsole.error( 'THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.' );\n\n\t}\n\n\t// build final geometry\n\n\tconst newGeometry = geometry.clone();\n\tnewGeometry.setIndex( newIndices );\n\n\treturn newGeometry;\n\n}\n\nexport { GLTFLoader };\n","import { Box3, Object3D, PerspectiveCamera, Vector3 } from \"three\";\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\n\nexport function randomInteger(min: number, max: number): number {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nexport function checkWebP(filename: string) {\n  // return filename;\n  return (window as any).Main.WEBP_SUPPORTED\n    ? filename.replace(\".png\", \".webp\").replace(\"/png/\", \"/webp/\")\n    : filename;\n}\nexport function fitCameraToSelection(\n  camera: PerspectiveCamera,\n  selection: Object3D[],\n  fitOffset = 1,\n  controls?: OrbitControls\n) {\n  const box = new Box3();\n\n  for (const object of selection) box.expandByObject(object);\n\n  const size = box.getSize(new Vector3());\n  const center = box.getCenter(new Vector3());\n\n  const maxSize = Math.max(size.x, size.y, size.z);\n  const fitHeightDistance =\n    maxSize / (2 * Math.atan((Math.PI * camera.fov) / 360));\n  const fitWidthDistance = fitHeightDistance / camera.aspect;\n  const distance = fitOffset * Math.max(fitHeightDistance, fitWidthDistance);\n\n  const target = controls ? controls.target : new Vector3(0, 0, 0);\n  const direction = target\n    .clone()\n    .sub(camera.position)\n    .normalize()\n    .multiplyScalar(distance);\n\n  camera.near = distance / 10;\n  camera.far = distance * 10;\n  camera.updateProjectionMatrix();\n\n  camera.position.copy(target).sub(direction);\n  if (controls) {\n    controls.maxDistance = distance * 10;\n    controls.target.copy(center);\n    controls.update();\n  }\n}\n\nexport function getRandomIntsFromRange(count: number, range: number) {\n  let i = 0;\n  let stack = [];\n  let randomImages: number[] = [];\n\n  // Generate stack\n  for (i; i < range; i++) {\n    stack.push(i + 1);\n  }\n\n  // Add random from stack\n  i = 0;\n  let tempTotal = range - 1;\n  let randomInt;\n  for (i; i < count; i++) {\n    randomInt = randomInteger(0, tempTotal);\n    randomImages.push(stack[randomInt]);\n\n    stack.splice(randomInt, 1);\n\n    tempTotal--;\n  }\n\n  return randomImages;\n}\n\nexport function clamp(value: number, min: number, max: number) {\n  return Math.min(max, Math.max(min, value));\n}\n\nexport function degreesToRadians(degrees: number) {\n  return (degrees * Math.PI) / 180;\n}\n\nexport function radiansToDegrees(radians: number) {\n  return (radians * 180) / Math.PI;\n}\n\n/** This method will calculate how big a circle is needed to make the square fit in it */\nexport const squareToCircle = (width: number) => Math.SQRT2 * width;\n\n/** This method will calculate the largest square that can fit in the circle */\nexport const circleToSquare = (radius: number) => Math.SQRT1_2 * radius;\n","import * as THREE from \"three\";\nimport { MeshStandardMaterial, Shader, Texture, WebGLRenderer } from \"three\";\nimport { MeshStandardMaterialParameters } from \"three/src/materials/MeshStandardMaterial\";\n\nimport { checkWebP } from \"../utils/MathUtils\";\n\nexport interface PageData {\n  frames: FrameElement[];\n  meta: Meta;\n}\n\nexport interface FrameElement {\n  filename: string;\n  frame: SpriteSourceSizeClass;\n  rotated: boolean;\n  trimmed: boolean;\n  parallax?: { x: number; y: number };\n  spriteSourceSize: SpriteSourceSizeClass;\n  sourceSize: Size;\n}\n\nexport interface SpriteSourceSizeClass {\n  x: number;\n  y: number;\n  w: number;\n  h: number;\n}\n\nexport interface Size {\n  w: number;\n  h: number;\n}\n\nexport interface Meta {\n  app: string;\n  version: string;\n  image: string;\n  format: string;\n  size: Size;\n  scale: string;\n  smartupdate: string;\n}\n\nexport class MeshStandardMaterialParallax extends MeshStandardMaterial {\n  private textures: Texture[] = [];\n  private anisotropy: number;\n\n  constructor(\n    anisotropy: number,\n    renderer: WebGLRenderer,\n    parameters?: MeshStandardMaterialParameters\n  ) {\n    super(parameters);\n    this.renderer = renderer;\n    this.anisotropy = anisotropy;\n    this.onBeforeCompile = this.beforeCompileModifier;\n  }\n\n  public addPage = (pageData: PageData) => {\n    pageData.frames.reverse().forEach((frame, index) => {\n      let filename = checkWebP(`images/pages/png/${frame.filename}`);\n      let texture = new THREE.TextureLoader().load(filename, () => {\n        this.renderer.initTexture(texture);\n      });\n      texture.flipY = false;\n      texture.premultiplyAlpha = (window as any).Main.PREMULTIPLIEDALPHA;\n      texture.anisotropy = this.anisotropy;\n      this.textures.push(texture);\n    });\n  };\n  private renderer: WebGLRenderer;\n\n  private beforeCompileModifier = (shader: Shader, renderer: WebGLRenderer) => {\n    this.map = this.textures[0];\n  };\n}\n","import { gsap } from \"gsap\";\nimport { Draggable } from \"gsap/Draggable\";\nimport { InertiaPlugin } from \"gsap/InertiaPlugin\";\nimport * as THREE from \"three\";\nimport {\n  AmbientLight,\n  DirectionalLight,\n  Group,\n  MathUtils,\n  Mesh,\n  MeshStandardMaterial,\n  Object3D,\n  PerspectiveCamera,\n  Scene,\n  SpotLight,\n  Texture,\n  Vector2,\n  WebGLRenderer,\n} from \"three\";\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader.js\";\n// @ts-ignore\nimport RoughnessMap2 from \"../assets/models/bump.jpg\";\n\n// @ts-ignore\nimport BookCover from \"../assets/models/cover_blu.glb\";\n// @ts-ignore\nimport BookPage from \"../assets/models/pages_uv_remap.glb\";\n\n// @ts-ignore\nimport NormalMap from \"../assets/models/normal.jpg\";\n// @ts-ignore\nimport RoughnessMap from \"../assets/models/roughness_2.jpg\";\n\nimport {\n  MeshStandardMaterialParallax,\n  PageData,\n} from \"../ui/MeshStandardMaterialParallax\";\nimport { checkWebP, fitCameraToSelection } from \"../utils/MathUtils\";\n\ngsap.registerPlugin(InertiaPlugin, Draggable);\n\n//For webgl1 browsers:\nMathUtils.floorPowerOfTwo = (value) => {\n  if (value === 2100 || value === 1200) {\n    //Regular floorPowersOfTwo:\n    return Math.pow(2, Math.floor(Math.log(value) / Math.LN2));\n  }\n  return MathUtils.ceilPowerOfTwo(value);\n};\n\nconst pages = Array.from({ length: 27 }).map((_, i) => {\n  return {\n    frames: [\n      {\n        filename: `page-${i - 1}.png`,\n        frame: {\n          x: 1,\n          y: 1,\n          w: 4752,\n          h: 3170,\n        },\n        rotated: !1,\n        trimmed: !1,\n        spriteSourceSize: {\n          x: 0,\n          y: 0,\n          w: 4752,\n          h: 3170,\n        },\n        sourceSize: {\n          w: 4752,\n          h: 3170,\n        },\n      },\n    ],\n  };\n});\n\nexport class MaskRevealView {\n  private renderer: WebGLRenderer;\n  private camera: PerspectiveCamera;\n  private cameraWrapper: THREE.Object3D;\n  private _parent: HTMLElement;\n  private scene: Scene;\n\n  private controls: OrbitControls;\n  private groundPlane: THREE.Mesh<THREE.PlaneBufferGeometry, THREE.Material>;\n  private ambLight: AmbientLight;\n\n  private dirLight: DirectionalLight;\n  private spotLight: SpotLight;\n\n  private ambientMove = { x: 0, y: 0 };\n\n  private dim = new Vector2();\n  private _isActive: boolean = false;\n\n  private animationFrame: number;\n  private draggable: Draggable;\n\n  private pageMaterials: MeshStandardMaterialParallax[] = [];\n  private coverMaterial: MeshStandardMaterial;\n  private backCoverMaterial: MeshStandardMaterial;\n  private cover: Mesh;\n  private coverBack: Mesh;\n  private bookWrapper: Object3D;\n  private pagesWrapper: Group;\n\n  private pageDatas: PageData[] = pages;\n  private pageSide: Object3D;\n\n  //For resizing;\n  private cornerMarker = new THREE.Mesh(\n    new THREE.PlaneBufferGeometry(2.2, 1.25)\n  );\n  private flipTimeline = gsap.timeline({ paused: true, ease: \"none\" });\n  private pages: THREE.Object3D[] = [];\n  private coverWrapper: Group;\n\n  private currPageIndex = 0;\n  private draggableElement: Element;\n\n  private modelsLoaded = 0;\n  private texturesLoaded = false;\n\n  private ENTERED = false;\n  private ENTERING = false;\n  private bookPixelWidth: number;\n\n  private cameraLookAtPosition = new THREE.Object3D();\n  private raycaster = new THREE.Raycaster();\n  private mouse = new THREE.Vector2();\n  // private menu: Menu;\n  private lastPageBookMoveTween: gsap.core.Tween;\n  private coverBottomBack: Mesh;\n\n  constructor(parent: HTMLElement) {\n    this._parent = parent;\n\n    this.setupScene();\n    this.setupDraggable();\n  }\n\n  private setupDraggable() {\n    this.draggableElement = document.querySelector(\".draggable\") as HTMLElement;\n    gsap.set(this.draggableElement, {\n      width: (this.pageDatas.length + 2) * 100 + \"%\",\n    });\n\n    this.draggable = Draggable.create(this.draggableElement, {\n      type: \"left\",\n      bounds: this._parent,\n      inertia: true,\n      onDragStart: () => {\n        gsap.killTweensOf(this.flipTimeline);\n      },\n      onClick: (e) => {\n        if (e.srcElement.nodeName === \"A\") {\n          if ((window as any).Main.IS_ANDROID) {\n            e.srcElement.click();\n          }\n        } else {\n          this.clickHandler(e);\n        }\n      },\n      onDrag: this.dragUpdate,\n      onThrowUpdate: this.dragUpdate,\n      allowNativeTouchScrolling: Boolean((window as any).Main.I_OS), //This currently breaks android scrolling / dragging.\n      // allowEventDefault: true,\n      snap: (value) => {\n        let page = gsap.utils.clamp(\n          -this.pageDatas.length - 1,\n          0,\n          Math.round(value / this.dim.width)\n        );\n        return page * this.dim.width;\n      },\n    })[0];\n    this.draggable.disable();\n  }\n\n  private setupScene() {\n    THREE.DefaultLoadingManager.onProgress = (url, itemsLoaded, itemsTotal) => {\n      console.log(\n        \"Loading file: \" +\n          url +\n          \".\\nLoaded \" +\n          itemsLoaded +\n          \" of \" +\n          itemsTotal +\n          \" files.\"\n      );\n      if (itemsLoaded === itemsTotal) {\n        this.texturesLoaded = true;\n        this.modelsLoadedCheck();\n      }\n    };\n\n    this.cameraWrapper = new Object3D();\n    this.camera = new PerspectiveCamera(\n      36,\n      this._parent.clientWidth / this._parent.clientHeight,\n      0.01,\n      15\n    );\n    this.camera.position.z = 2.54;\n    this.cameraWrapper.add(this.camera);\n\n    this.scene = new Scene();\n    this.scene.add(this.cameraWrapper);\n\n    this.renderer = new WebGLRenderer({\n      antialias: true,\n      stencil: false,\n      powerPreference: \"high-performance\",\n      premultipliedAlpha: (window as any).Main.PREMULTIPLIEDALPHA,\n      alpha: true,\n    });\n    this.renderer.setClearColor(0xff0000, 0);\n    this.renderer.setPixelRatio(\n      gsap.utils.clamp(1, 3, window.devicePixelRatio)\n    );\n    this.renderer.setSize(this._parent.clientWidth, this._parent.clientHeight);\n    this._parent.prepend(this.renderer.domElement);\n\n    this.ambLight = new AmbientLight(0xffffff);\n    this.ambLight.name = \"ambLight\";\n    this.ambLight.intensity = 0.72;\n    this.scene.add(this.ambLight);\n\n    this.dirLight = new DirectionalLight(0xffffff);\n    this.dirLight.name = \"dirLight\";\n    this.dirLight.intensity = 0.28;\n    this.dirLight.position.set(0, 5, 0.56);\n\n    this.spotLight = new SpotLight(0xffffff);\n    this.spotLight.name = \"spotLight\";\n    this.spotLight.intensity = 0.12;\n    this.spotLight.position.set(0, 0, 25);\n\n    this.scene.add(this.spotLight);\n    this.scene.add(this.dirLight);\n\n    // let bgTex = new THREE.TextureLoader().load(BgMap);\n    // bgTex.wrapT = THREE.RepeatWrapping;\n    // bgTex.wrapS = THREE.RepeatWrapping;\n    // bgTex.repeat.x = 3 * 10;\n    // bgTex.repeat.y = 3 * 10;\n    // this.groundPlane = new THREE.Mesh(\n    //   new THREE.PlaneBufferGeometry(6 * 10, 6 * 10),\n    //   new THREE.MeshStandardMaterial({\n    //     color: 0xffffff,\n    //     map: bgTex,\n    //     roughness: 0.7,\n    //     metalness: 1,\n    //   })\n    // );\n    // this.groundPlane.position.y = 16;\n    // this.groundPlane.name = \"groundPlane\";\n    // this.scene.add(this.groundPlane);\n    this.cameraLookAtPosition.name = \"cameraLookAtPosition\";\n    this.scene.add(this.cameraLookAtPosition);\n\n    this.loadModel();\n\n    let speed = 8;\n    gsap.fromTo(\n      this.ambientMove,\n      { y: -0.03 },\n      {\n        y: 0.03,\n        ease: \"sine.inOut\",\n        duration: 7.5 * speed,\n        repeat: -1,\n        yoyo: true,\n      }\n    );\n    gsap.fromTo(\n      this.ambientMove,\n      { x: 0.04 },\n      {\n        x: -0.04,\n        ease: \"sine.inOut\",\n        duration: 3.75 * speed,\n        repeat: -1,\n        yoyo: true,\n      }\n    );\n  }\n\n  private loadModel() {\n    this.setupPageMaterials();\n\n    this.bookWrapper = new THREE.Object3D();\n    this.bookWrapper.name = \"bookWrapper\";\n    this.bookWrapper.position.y = -2.88;\n    this.bookWrapper.rotation.z = 0.38;\n    this.cameraLookAtPosition.position.y = -2.88;\n    this.scene.add(this.bookWrapper);\n\n    var loader = new GLTFLoader();\n    loader.load(BookCover, (gltf) => {\n      gltf.scene.rotation.x = Math.PI / 2;\n      gltf.scene.name = \"bookCoverWrapper\";\n      gltf.scene.position.z = 0.02;\n      this.cover = gltf.scene.getObjectByName(\"cover_top\") as THREE.Mesh;\n      this.coverBottomBack = gltf.scene.getObjectByName(\n        \"cover_bottom_back\"\n      ) as THREE.Mesh;\n      this.coverBottomBack.position.y = 0.038;\n      this.coverBottomBack.scale.y = 0.8;\n      this.coverBack = this.cover.clone(true);\n      this.coverBack.name = \"coverBack\";\n      let firstPage = gltf.scene.getObjectByName(\n        \"first_page_top\"\n      ) as THREE.Mesh;\n\n      this.cover.material = this.coverMaterial;\n\n      this.coverBack.material = this.backCoverMaterial;\n      firstPage.position.x = this.cover.position.x;\n      firstPage.material = this.pageMaterials[0];\n      this.coverWrapper = gltf.scene;\n      this.bookWrapper.add(gltf.scene);\n\n      this.flipTimeline.fromTo(\n        firstPage.morphTargetInfluences as number[],\n        { 0: 0, 1: 1 },\n        {\n          duration: 0.5,\n          0: 1,\n          1: 0,\n          ease: \"none\",\n        },\n        0.5\n      );\n      this.flipTimeline.to(\n        firstPage.morphTargetInfluences as number[],\n        { duration: 0.5, 0: 0, 1: 1, ease: \"none\" },\n        1\n      );\n      this.flipTimeline.to(this.cover.rotation, { duration: 1, z: Math.PI }, 0);\n      this.flipTimeline.fromTo(\n        this.bookWrapper.position,\n        { x: -0.5 },\n        { duration: 1, x: 0 },\n        0\n      );\n      this.modelsLoaded++;\n      this.modelsLoadedCheck();\n    });\n    loader.load(BookPage, (gltf) => {\n      this.pagesWrapper = gltf.scene;\n      gltf.scene.rotation.x = Math.PI / 2;\n      gltf.scene.name = \"pagesWrapper\";\n\n      this.pageSide = gltf.scene.getObjectByName(\"wrapper\") as THREE.Object3D;\n      this.pageSide.rotation.z = 0;\n\n      this.bookWrapper.add(gltf.scene);\n\n      this.modelsLoaded++;\n      this.modelsLoadedCheck();\n    });\n  }\n\n  private setupPages() {\n    let page = this.pageSide;\n    this.pageMaterials.forEach((mat, index) => {\n      if (index > 0) {\n        page = this.pageSide.clone(true);\n        this.pagesWrapper.add(page);\n      }\n      page.position.y = 0.075 - index * 0.005;\n      (page.children[0] as THREE.Mesh).material = mat;\n      if (index < this.pageMaterials.length - 1) {\n        (page.children[1] as THREE.Mesh).material =\n          this.pageMaterials[index + 1];\n      }\n      this.pages.push(page);\n    });\n    this.pages.forEach((page, index) => {\n      if (index > 0) {\n        this.flipTimeline.fromTo(\n          (this.pages[index - 1].children[1] as THREE.Mesh)\n            .morphTargetInfluences as number[],\n          {\n            0: 0,\n            1: 1,\n          },\n          { duration: 0.5, 0: 1, 1: 0, ease: \"none\" },\n          index + 0.5\n        );\n        this.flipTimeline.to(\n          (this.pages[index - 1].children[1] as THREE.Mesh)\n            .morphTargetInfluences as number[],\n          {\n            duration: 0.5,\n            0: 0,\n            1: 1,\n            ease: \"none\",\n          },\n          index + 1\n        );\n      }\n      if (index === this.pages.length - 1) {\n        page.add(this.coverBack);\n        this.coverBack.remove(this.coverBack.children[0]);\n        this.coverBack.position.y = 0.0035;\n        page.remove(page.children[1]);\n        this.flipTimeline.to(\n          page.rotation,\n          { duration: 1, z: Math.PI, ease: \"none\" },\n          index + 1\n        );\n\n        this.lastPageBookMoveTween = gsap.to(this.bookWrapper.position, {\n          paused: true,\n          duration: 1,\n          x: () => (this.dim.width < 600 ? -1 : -0.18),\n          ease: \"none\",\n        });\n        let dummyValue = {\n          progress: 0,\n        };\n        this.flipTimeline.fromTo(\n          dummyValue,\n          { progress: 0 },\n          {\n            duration: 1,\n            progress: 1,\n            ease: \"none\",\n            onUpdate: () => {\n              this.lastPageBookMoveTween.progress(dummyValue.progress);\n            },\n          },\n          index + 1\n        );\n\n        this.flipTimeline.to(\n          this.bookWrapper.rotation,\n          { duration: 1, y: 0.14, ease: \"none\" },\n          index + 1\n        );\n        this.flipTimeline.to(\n          this.spotLight.position,\n          { duration: 1, x: 3, ease: \"none\" },\n          index + 1\n        );\n      } else {\n        this.flipTimeline.to(\n          page.rotation,\n          { duration: 1, z: Math.PI, ease: \"none\" },\n          index + 1\n        );\n      }\n      for (let i = index; i < this.pages.length; i++) {\n        this.flipTimeline.to(\n          this.pages[i].position,\n          { duration: 1, y: \"+=0.01\", ease: \"none\" },\n          index\n        );\n      }\n      this.flipTimeline.to(\n        this.pagesWrapper.position,\n        {\n          duration: 1,\n          z: -0.005 - index * 0.005,\n          ease: \"none\",\n        },\n        index\n      );\n      this.flipTimeline.to(\n        this.coverWrapper.position,\n        {\n          duration: 1,\n          z: 0.02 - index * 0.005,\n          ease: \"none\",\n        },\n        index\n      );\n    });\n  }\n\n  private modelsLoadedCheck = () => {\n    if (this.modelsLoaded === 2 && this.texturesLoaded) {\n      this.setupPages();\n      this.setupNav();\n      window.addEventListener(\"resize\", this.resize);\n      this.resize();\n      this.isActive(true);\n      this.enterBook();\n    }\n  };\n\n  private uploadTexture = (texture: Texture) => {\n    this.renderer.initTexture(texture);\n  };\n\n  private setupPageMaterials() {\n    let rough = new THREE.TextureLoader().load(\n      RoughnessMap,\n      this.uploadTexture\n    );\n    let bump = new THREE.TextureLoader().load(\n      RoughnessMap2,\n      this.uploadTexture\n    );\n    let cover = new THREE.TextureLoader().load(\n      checkWebP(`images/pages/png/cover.png`),\n      this.uploadTexture\n    );\n    let coverBack = new THREE.TextureLoader().load(\n      checkWebP(`images/pages/png/back_cover.png`),\n      this.uploadTexture\n    );\n    let useNormalMap = this.renderer.capabilities.maxTextures > 8;\n    if (!useNormalMap) {\n      console.log(\n        \"Disabled normalmap because of maxTextureLimit of 8 on this device\"\n      );\n    }\n    let normalMap = useNormalMap\n      ? new THREE.TextureLoader().load(NormalMap, this.uploadTexture)\n      : null;\n\n    cover.flipY = false;\n    coverBack.flipY = false;\n    let normalScale = new Vector2(0.5, 0.5);\n\n    //@todo: figure this out, might give better performance with a lower amount:\n    let anisotropy = Math.min(this.renderer.capabilities.getMaxAnisotropy(), 8);\n    rough.anisotropy = bump.anisotropy = cover.anisotropy = anisotropy;\n    if (normalMap) {\n      normalMap.anisotropy = anisotropy;\n    }\n\n    this.pageDatas.forEach((page, index) => {\n      let mat = new MeshStandardMaterialParallax(anisotropy, this.renderer, {\n        transparent: false,\n        map: new Texture(),\n        morphTargets: true,\n        morphNormals: true,\n        metalness: 0.07,\n        roughness: 0.45,\n        roughnessMap: rough,\n        metalnessMap: bump,\n        normalMap: normalMap,\n        premultipliedAlpha: (window as any).Main.PREMULTIPLIEDALPHA,\n        normalScale: normalScale,\n      });\n      mat.addPage(page);\n      this.pageMaterials.push(mat);\n    });\n\n    this.coverMaterial = new MeshStandardMaterial({\n      transparent: false,\n      map: cover,\n      metalness: 0.07,\n      roughness: 0.45,\n      roughnessMap: rough,\n      metalnessMap: bump,\n      normalMap: normalMap,\n      normalScale: normalScale,\n    });\n    this.backCoverMaterial = new MeshStandardMaterial({\n      transparent: false,\n      map: coverBack,\n      metalness: 0.07,\n      roughness: 0.45,\n      roughnessMap: rough,\n      metalnessMap: bump,\n      normalMap: normalMap,\n      normalScale: normalScale,\n    });\n  }\n\n  public isActive = (value: boolean) => {\n    if (!this._isActive && value === true) {\n      this.render();\n    } else if (this._isActive && value === false) {\n      cancelAnimationFrame(this.animationFrame);\n    }\n    this._isActive = value;\n  };\n\n  private render = () => {\n    this.animationFrame = requestAnimationFrame(this.render);\n\n    if (this.controls) {\n      this.controls.update();\n    } else {\n      this.camera.lookAt(this.cameraLookAtPosition.position);\n    }\n    this.renderer.render(this.scene, this.camera);\n  };\n\n  private clickHandler = (event: MouseEvent) => {\n    //Raycast:\n    this.mouse.x = (event.clientX / this.dim.width) * 2 - 1;\n    this.mouse.y = -(event.clientY / this.dim.height) * 2 + 1;\n    this.raycaster.setFromCamera(this.mouse, this.camera);\n    // this.menu.clickHandler(this.raycaster);\n  };\n\n  private LANDSCAPE_MODE = false;\n  private resize = () => {\n    //Update renderer:\n    this.dim.x = this._parent.clientWidth;\n    this.dim.y = this._parent.clientHeight;\n    this.renderer.setPixelRatio(\n      gsap.utils.clamp(1, 3, window.devicePixelRatio)\n    );\n    this.renderer.setSize(this.dim.x, this.dim.y);\n\n    this.LANDSCAPE_MODE =\n      this.dim.x > this.dim.y && this.dim.y <= 540 && this.dim.x <= 960;\n    if (this.LANDSCAPE_MODE) {\n      this.cameraWrapper.position.y = 0;\n      this.cameraWrapper.position.x = 0;\n    }\n\n    this.camera.zoom = 1;\n    this.camera.updateProjectionMatrix();\n\n    this.scene.add(this.cornerMarker);\n    this.camera.aspect = this.dim.x / this.dim.y;\n    this.camera.position.y = 0;\n    let fitOffset = this.camera.aspect < 1.25 ? 1 : 0.82;\n    if (this.LANDSCAPE_MODE) {\n      fitOffset = 0.6;\n    }\n    let z = this.camera.position.z;\n    fitCameraToSelection(\n      this.camera,\n      [this.cornerMarker],\n      fitOffset,\n      this.controls\n    );\n    this.camera.userData.positionZ = this.camera.position.z;\n\n    //Calculate pixel width:\n    var vFOV = THREE.MathUtils.degToRad(this.camera.fov);\n    var h = 2 * Math.tan(vFOV / 2) * this.camera.position.z;\n    var w = h * this.camera.aspect;\n    this.bookPixelWidth = (2.22 / w) * this.dim.width;\n\n    if (!this.ENTERED && !this.ENTERING) {\n      this.camera.position.y = -6;\n    }\n    let scale = 1500 / this.bookPixelWidth;\n\n    this.scene.remove(this.cornerMarker);\n\n    let progress = this.lastPageBookMoveTween.progress();\n    this.lastPageBookMoveTween = gsap.fromTo(\n      this.bookWrapper.position,\n      {\n        immediateRender: false,\n        x: 0,\n        overwrite: false,\n      },\n      {\n        paused: true,\n        overwrite: false,\n        immediateRender: false,\n        duration: 1,\n        x: () =>\n          this.dim.width < 600 ? -1.15 * (300 / this.dim.width) : -0.18,\n        ease: \"none\",\n      }\n    );\n    if (progress > 0) {\n      this.lastPageBookMoveTween.progress(progress);\n    }\n\n    //Update mouse\n    this.setPageKill();\n    gsap.set(this.draggableElement, {\n      left: this.currPageIndex * -this.dim.width,\n    });\n    gsap.set(this.flipTimeline, {\n      progress: this.currPageIndex / (this.pageDatas.length + 1),\n    });\n    this.draggable.update(true);\n    document.documentElement.style.setProperty(\n      \"--bookPixelWidth\",\n      `${this.bookPixelWidth}px`\n    );\n\n    if (!this.ENTERED) {\n      this.camera.position.z = z;\n      //Calculate pixel width:\n      var vFOV = THREE.MathUtils.degToRad(this.camera.fov);\n      var h = 2 * Math.tan(vFOV / 2) * this.camera.position.z;\n      var w = h * this.camera.aspect;\n      let bookPixelWidth = (2.22 / w) * this.dim.width * 0.5;\n      if (bookPixelWidth / this.dim.x > 1.27) {\n        let factor = gsap.utils.clamp(0, 2.35, bookPixelWidth / this.dim.x);\n        this.camera.zoom = (1 / factor) * 1.2;\n        this.camera.updateProjectionMatrix();\n      }\n    }\n  };\n\n  private showShare = () => {\n    const shareBox = document.querySelector(\".share-box\");\n    if (shareBox !== null) {\n      shareBox.classList.add(\"visible\");\n    }\n\n    const canvasContainer = document.querySelector(\"#canvasContainer\");\n    if (canvasContainer !== null) {\n      canvasContainer.classList.add(\"no-action\");\n    }\n\n    const draggable = document.querySelector(\".draggable\");\n    if (draggable !== null) {\n      draggable.classList.add(\"no-action\");\n    }\n  };\n\n  private hideShare = () => {\n    const shareBox = document.querySelector(\".share-box\");\n    if (shareBox !== null) {\n      shareBox.classList.remove(\"visible\");\n    }\n\n    const canvasContainer = document.querySelector(\"#canvasContainer\");\n    if (canvasContainer !== null) {\n      canvasContainer.classList.remove(\"no-action\");\n    }\n\n    const draggable = document.querySelector(\".draggable\");\n    if (draggable !== null) {\n      draggable.classList.remove(\"no-action\");\n    }\n  };\n\n  private dragUpdate = () => {\n    let page = (this.draggable.x / this.dim.width) * -1;\n    if (page > this.pages.length + 0.5) {\n      this.showShare();\n    } else {\n      this.hideShare();\n    }\n    if (this.flipTimeline) {\n      let progress = page / (this.pageDatas.length + 1);\n      this.currPageIndex = gsap.utils.clamp(\n        0,\n        this.pageDatas.length + 1,\n        Math.round(page)\n      );\n      this.flipTimeline.progress(progress);\n    }\n  };\n\n  private setCurrentPage = (index: number) => {\n    if (index > this.pages.length) {\n      this.showShare();\n    } else {\n      this.hideShare();\n    }\n\n    if (index < 0) {\n      index = 0;\n    } else if (index > this.pages.length + 1) {\n      index = this.pages.length + 1;\n      this.setPageKill();\n      gsap.to(this.flipTimeline, { progress: 1, duration: 0.5 });\n    }\n    if (index !== this.currPageIndex) {\n      this.currPageIndex = index;\n      this.setPageKill();\n      gsap.to(this.draggableElement, {\n        left: index * -this.dim.width,\n        duration: 1,\n      });\n      gsap.to(this.flipTimeline, {\n        progress: this.currPageIndex / (this.pageDatas.length + 1),\n        duration: 1.5,\n        ease: \"power3.inOut\",\n      });\n    }\n  };\n\n  private setPageKill = () => {\n    gsap.killTweensOf(this.draggableElement);\n    gsap.killTweensOf(this.flipTimeline);\n    this.draggable.tween?.kill();\n  };\n\n  private setupNav() {\n    document.addEventListener(\"keydown\", (event: KeyboardEvent) => {\n      if (this.ENTERED) {\n        if (event.key === \"ArrowRight\") {\n          this.setCurrentPage(this.currPageIndex + 1);\n        } else if (event.key === \"ArrowLeft\") {\n          this.setCurrentPage(this.currPageIndex - 1);\n        }\n      }\n    });\n  }\n\n  private enterBook = () => {\n    this.ON_LANDING_SCREEN = false;\n    document.body.removeEventListener(\"click\", this.enterBook);\n    let timeline = gsap.timeline({\n      onComplete: (args) => {\n        this.currPageIndex = 2;\n        gsap.set(this.draggableElement, {\n          left: this.currPageIndex * -this.dim.width,\n        });\n\n        document.body.addEventListener(\"click\", this.clickHandler);\n        this.draggable.enable();\n        // this.menu.show();\n\n        this.coverBottomBack.visible = false;\n        this.camera.zoom = 1;\n        this.camera.updateProjectionMatrix();\n      },\n    });\n    timeline.to(this, { ambientMoveFactor: 2, duration: 1.5 }, 0);\n    timeline.to(this.cover.rotation, { duration: 0.75, z: 0 }, 0);\n    timeline.to(\n      this.dirLight,\n      { intensity: 0.9, duration: 2, ease: \"sine.out\" },\n      1.5\n    );\n    timeline.to(\n      this.dirLight,\n      { intensity: 2, duration: 2, ease: \"sine.out\" },\n      2\n    );\n    timeline.to(\n      this.dirLight.position,\n      { z: 0, duration: 2, ease: \"sine.out\" },\n      0\n    );\n    timeline.to(\n      this.camera.position,\n      { y: 0, duration: 3, ease: \"power3.inOut\" },\n      0\n    );\n    timeline.to(\n      this.cameraWrapper.position,\n      { z: 0.5, duration: 1.5, ease: \"sine.in\" },\n      0\n    );\n    timeline.to(\n      this.cameraWrapper.position,\n      { z: 0, duration: 1.5, ease: \"back.out\" },\n      1.5\n    );\n    timeline.to(\n      this.flipTimeline,\n      {\n        progress: 2 / (this.pageDatas.length + 1),\n        duration: 4,\n        ease: \"sine.inOut\",\n      },\n      3.15\n    );\n    timeline.to(\n      this.camera.position,\n      {\n        z:\n          this.camera.position.z +\n          (this.camera.userData.positionZ - this.camera.position.z) * 0.33,\n        duration: 2,\n        ease: \"sine.out\",\n      },\n      0\n    );\n    timeline.to(\n      this.camera.position,\n      { z: this.camera.userData.positionZ, duration: 3, ease: \"power3.inOut\" },\n      3\n    );\n    timeline.to(\n      this.cameraLookAtPosition.position,\n      { y: 0, duration: 2.55, ease: \"power3.inOut\" },\n      0\n    );\n    timeline.to(\n      this.bookWrapper.position,\n      { y: 0, duration: 3.1, ease: \"back.out(1.4)\" },\n      0\n    );\n    timeline.to(\n      this.bookWrapper.rotation,\n      { z: 0, duration: 3.1, ease: \"back.out\" },\n      0\n    );\n    timeline.to(this, { xMoveAmount: 0.2, duration: 3 }, 0);\n    // timeline.to(\n    //   this.groundPlane.material,\n    //   { roughness: 0.34, metalness: 0.7, duration: 2, ease: \"sine.out\" },\n    //   0\n    // );\n    timeline.set(this, { ENTERED: true });\n    this.ENTERING = true;\n\n    timeline.progress(0);\n    return false;\n  };\n}\n","import { MaskRevealView } from \"./ui/ThreeView\";\ndeclare class DocumentTouch {}\nclass Main {\n  public WEBP_SUPPORTED = false;\n  public PREMULTIPLIEDALPHA = true;\n  // @ts-ignore\n  private maskRevealView: MaskRevealView;\n  private refCalcHeightDiv = document.getElementById(\n    \"CALC_HEIGHT_DIV\"\n  ) as HTMLDivElement;\n  public I_OS: boolean =\n    (/iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream) ||\n    (navigator.platform === \"MacIntel\" && navigator.maxTouchPoints > 1);\n  public IS_TOUCH_DEVICE: boolean =\n    \"ontouchstart\" in window ||\n    ((window as any).DocumentTouch && document instanceof DocumentTouch); // https://github.com/Modernizr/Modernizr/blob/master/feature-detects/touchevents.js\n  public IS_ANDROID = navigator.userAgent.toLowerCase().indexOf(\"android\") > -1; //&& ua.indexOf(\"mobile\");\n  constructor() {\n    this.supportsWebp((supported: boolean) => {\n      this.WEBP_SUPPORTED = supported;\n      this.PREMULTIPLIEDALPHA =\n        this.I_OS || this.IS_ANDROID || this.WEBP_SUPPORTED ? false : false;\n      console.log(\"webp support\", supported);\n      console.log(\"ios: \", this.I_OS);\n      console.log(\"IS_TOUCH_DEVICE: \", this.IS_TOUCH_DEVICE);\n      this.maskRevealView = new MaskRevealView(\n        document.querySelector(\"#canvasContainer\") as HTMLElement\n      );\n      this.resize();\n      window.addEventListener(\"resize\", this.resize);\n    });\n  }\n\n  supportsWebp(cb: Function) {\n    var image = new Image();\n    image.onerror = () => cb(false);\n    image.onload = (e) => cb(e && e.type === \"load\" && image.width === 1);\n    image.src =\n      \"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=\";\n  }\n\n  resize = () => {\n    document.documentElement.style.setProperty(\n      \"--window-height\",\n      `${window.innerHeight}px`\n    );\n    document.documentElement.style.setProperty(\n      `--window-ui-offset`,\n      this.refCalcHeightDiv.clientHeight - window.innerHeight + \"px\"\n    );\n  };\n}\n\nwindow.onload = () => {\n  // @ts-ignore\n  window.Main = new Main();\n\n  const showCopyBanner = (err?: any) => {\n    const banner = document.getElementById(\"copy-banner\");\n    if (banner !== null) {\n      banner.classList.add(\"visible\");\n      if (err !== undefined) {\n        banner.innerText = \"Error al copiar el link\";\n      } else {\n        banner.innerText = \"Link copiado\";\n      }\n      setTimeout(() => {\n        banner.classList.remove(\"visible\");\n      }, 3000);\n    }\n  };\n\n  const copyToClipboard = () => {\n    navigator.clipboard\n      .writeText(\"https://guau.ar/eureka/leer\")\n      .then(() => {\n        showCopyBanner();\n      })\n      .catch((err) => {\n        showCopyBanner(err);\n        console.log(\"Oops, unable to copy\", err);\n      });\n  };\n\n  const copyLinkBtn = document.getElementById(\"copy-link-btn\");\n  if (copyLinkBtn !== null) {\n    copyLinkBtn.onclick = copyToClipboard;\n  }\n};\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}